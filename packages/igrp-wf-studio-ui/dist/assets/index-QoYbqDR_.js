var rre=Object.defineProperty;var ire=(t,e,n)=>e in t?rre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>ire(t,typeof e!="symbol"?e+"":e,n);import*as _e from"react";import zt,{forwardRef as EE,createElement as $s,useState as Ee,useEffect as bt,createContext as ore,useContext as SE,useRef as on,useLayoutEffect as sre,useImperativeHandle as jz,useCallback as _n,useMemo as are}from"react";import Tf from"react-dom";import ji from"formiojs";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ky={exports:{}},ud={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function lre(){if(yO)return ud;yO=1;var t=zt,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var u,d={},f=null,h=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(u in l)r.call(l,u)&&!o.hasOwnProperty(u)&&(d[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:a,key:f,ref:h,props:d,_owner:i.current}}return ud.Fragment=n,ud.jsx=s,ud.jsxs=s,ud}var bO;function cre(){return bO||(bO=1,Ky.exports=lre()),Ky.exports}var P=cre(),Ap={},_O;function ure(){if(_O)return Ap;_O=1;var t=Tf;return Ap.createRoot=t.createRoot,Ap.hydrateRoot=t.hydrateRoot,Ap}var dre=ure();const fre=pc(dre);var dd={},xO;function hre(){if(xO)return dd;xO=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.parse=s,dd.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function s(f,h){const p=new o,m=f.length;if(m<2)return p;const g=h?.decode||u;let v=0;do{const y=f.indexOf("=",v);if(y===-1)break;const _=f.indexOf(";",v),b=_===-1?m:_;if(y>b){v=f.lastIndexOf(";",y-1)+1;continue}const x=a(f,v,y),w=l(f,y,x),E=f.slice(x,w);if(p[E]===void 0){let S=a(f,y+1,b),k=l(f,b,S);const I=g(f.slice(S,k));p[E]=I}v=b+1}while(v<m);return p}function a(f,h,p){do{const m=f.charCodeAt(h);if(m!==32&&m!==9)return h}while(++h<p);return p}function l(f,h,p){for(;h>p;){const m=f.charCodeAt(--h);if(m!==32&&m!==9)return h+1}return p}function c(f,h,p){const m=p?.encode||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const g=m(h);if(!e.test(g))throw new TypeError(`argument val is invalid: ${h}`);let v=f+"="+g;if(!p)return v;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);v+="; Max-Age="+p.maxAge}if(p.domain){if(!n.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);v+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);v+="; Path="+p.path}if(p.expires){if(!d(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);v+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(v+="; HttpOnly"),p.secure&&(v+="; Secure"),p.partitioned&&(v+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return v}function u(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return dd}hre();var wO="popstate";function pre(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return gx("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:If(i)}return gre(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mre(){return Math.random().toString(36).substring(2,10)}function EO(t,e){return{usr:t.state,key:t.key,idx:e}}function gx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:n,key:e&&e.key||r||mre()}}function If({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gre(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=u(),v=g==null?null:g-c;c=g,l&&l({action:a,location:m.location,delta:v})}function f(g,v){a="PUSH";let y=gx(m.location,g,v);c=u()+1;let _=EO(y,c),b=m.createHref(y);try{s.pushState(_,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(b)}o&&l&&l({action:a,location:m.location,delta:1})}function h(g,v){a="REPLACE";let y=gx(m.location,g,v);c=u();let _=EO(y,c),b=m.createHref(y);s.replaceState(_,"",b),o&&l&&l({action:a,location:m.location,delta:0})}function p(g){return vre(g)}let m={get action(){return a},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wO,d),l=g,()=>{i.removeEventListener(wO,d),l=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return s.go(g)}};return m}function vre(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:If(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Bz(t,e,n="/"){return yre(t,e,n,!1)}function yre(t,e,n,r){let i=typeof e=="string"?mu(e):e,o=Ns(i.pathname||"/",n);if(o==null)return null;let s=Fz(t);bre(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Are(o);a=Rre(s[l],c,r)}return a}function Fz(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Es([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Fz(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:kre(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{if(o.path===""||!o.path?.includes("?"))i(o,s);else for(let a of zz(o.path))i(o,s,a)}),e}function zz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zz(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bre(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ore(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _re=/^:[\w-]+$/,xre=3,wre=2,Ere=1,Sre=10,Cre=-2,SO=t=>t==="*";function kre(t,e){let n=t.split("/"),r=n.length;return n.some(SO)&&(r+=Cre),e&&(r+=wre),n.filter(i=>!SO(i)).reduce((i,o)=>i+(_re.test(o)?xre:o===""?Ere:Sre),r)}function Ore(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Rre(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=fg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=fg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Es([o,d.pathname]),pathnameBase:Mre(Es([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Es([o,d.pathnameBase]))}return s}function fg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Pre(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let p=a[f]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Pre(t,e=!1,n=!0){ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Are(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ao(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tre(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mu(t):t;return{pathname:n?n.startsWith("/")?n:Ire(n,e):e,search:$re(r),hash:Nre(i)}}function Ire(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CE(t){let e=Dre(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kE(t,e,n,r=!1){let i;typeof t=="string"?i=mu(t):(i={...t},tn(!i.pathname||!i.pathname.includes("?"),Xy("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),Xy("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),Xy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Tre(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Es=t=>t.join("/").replace(/\/\/+/g,"/"),Mre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$re=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qz=["POST","PUT","PATCH","DELETE"];new Set(qz);var jre=["GET",...qz];new Set(jre);var gu=_e.createContext(null);gu.displayName="DataRouter";var _v=_e.createContext(null);_v.displayName="DataRouterState";var Vz=_e.createContext({isTransitioning:!1});Vz.displayName="ViewTransition";var Bre=_e.createContext(new Map);Bre.displayName="Fetchers";var Fre=_e.createContext(null);Fre.displayName="Await";var mo=_e.createContext(null);mo.displayName="Navigation";var dh=_e.createContext(null);dh.displayName="Location";var Bi=_e.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var OE=_e.createContext(null);OE.displayName="RouteError";function zre(t,{relative:e}={}){tn(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_e.useContext(mo),{hash:i,pathname:o,search:s}=fh(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Es([n,o])),r.createHref({pathname:a,search:s,hash:i})}function vu(){return _e.useContext(dh)!=null}function Fa(){return tn(vu(),"useLocation() may be used only in the context of a <Router> component."),_e.useContext(dh).location}var Hz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uz(t){_e.useContext(mo).static||_e.useLayoutEffect(t)}function yu(){let{isDataRoute:t}=_e.useContext(Bi);return t?nie():qre()}function qre(){tn(vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_e.useContext(gu),{basename:e,navigator:n}=_e.useContext(mo),{matches:r}=_e.useContext(Bi),{pathname:i}=Fa(),o=JSON.stringify(CE(r)),s=_e.useRef(!1);return Uz(()=>{s.current=!0}),_e.useCallback((l,c={})=>{if(ao(s.current,Hz),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=kE(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Es([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}var Vre=_e.createContext(null);function Hre(t){let e=_e.useContext(Bi).outlet;return e&&_e.createElement(Vre.Provider,{value:t},e)}function Wz(){let{matches:t}=_e.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=_e.useContext(Bi),{pathname:r}=Fa(),i=JSON.stringify(CE(n));return _e.useMemo(()=>kE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Ure(t,e){return Gz(t,e)}function Gz(t,e,n,r){tn(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=_e.useContext(mo),{matches:s}=_e.useContext(Bi),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";Kz(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Fa(),h;if(e){let y=typeof e=="string"?mu(e):e;tn(u==="/"||y.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=f;let p=h.pathname||"/",m=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!o&&n&&n.matches&&n.matches.length>0?n.matches:Bz(t,{pathname:m});ao(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ao(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Yre(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Es([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Es([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&v?_e.createElement(dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function Wre(){let t=tie(),e=Lre(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=_e.createElement(_e.Fragment,null,_e.createElement("p",null,"üíø Hey developer üëã"),_e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_e.createElement("code",{style:o},"ErrorBoundary")," or"," ",_e.createElement("code",{style:o},"errorElement")," prop on your route.")),_e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},e),n?_e.createElement("pre",{style:i},n):null,s)}var Gre=_e.createElement(Wre,null),Kre=class extends _e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_e.createElement(Bi.Provider,{value:this.props.routeContext},_e.createElement(OE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xre({routeContext:t,match:e,children:n}){let r=_e.useContext(gu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_e.createElement(Bi.Provider,{value:t},n)}function Yre(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&o?.[c.route.id]!==void 0);tn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:d}=n,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let d,f=!1,h=null,p=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,h=c.route.errorElement||Gre,s&&(a<0&&u===0?(Kz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,p=null):a===u&&(f=!0,p=c.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,u+1)),g=()=>{let v;return d?v=h:f?v=p:c.route.Component?v=_e.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,_e.createElement(Xre,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?_e.createElement(Kre,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}function RE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qre(t){let e=_e.useContext(gu);return tn(e,RE(t)),e}function Zre(t){let e=_e.useContext(_v);return tn(e,RE(t)),e}function Jre(t){let e=_e.useContext(Bi);return tn(e,RE(t)),e}function PE(t){let e=Jre(t),n=e.matches[e.matches.length-1];return tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function eie(){return PE("useRouteId")}function tie(){let t=_e.useContext(OE),e=Zre("useRouteError"),n=PE("useRouteError");return t!==void 0?t:e.errors?.[n]}function nie(){let{router:t}=Qre("useNavigate"),e=PE("useNavigate"),n=_e.useRef(!1);return Uz(()=>{n.current=!0}),_e.useCallback(async(i,o={})=>{ao(n.current,Hz),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var CO={};function Kz(t,e,n){!e&&!CO[t]&&(CO[t]=!0,ao(!1,n))}_e.memo(rie);function rie({routes:t,future:e,state:n}){return Gz(t,void 0,n,e)}function iie({to:t,replace:e,state:n,relative:r}){tn(vu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_e.useContext(mo);ao(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_e.useContext(Bi),{pathname:s}=Fa(),a=yu(),l=kE(t,CE(o),s,r==="path"),c=JSON.stringify(l);return _e.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function oie(t){return Hre(t.context)}function Cl(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sie({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){tn(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=_e.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=mu(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,h=_e.useMemo(()=>{let p=Ns(l,s);return p==null?null:{location:{pathname:p,search:c,hash:u,state:d,key:f},navigationType:r}},[s,l,c,u,d,f,r]);return ao(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:_e.createElement(mo.Provider,{value:a},_e.createElement(dh.Provider,{children:e,value:h}))}function aie({children:t,location:e}){return Ure(vx(t),e)}function vx(t,e=[]){let n=[];return _e.Children.forEach(t,(r,i)=>{if(!_e.isValidElement(r))return;let o=[...e,i];if(r.type===_e.Fragment){n.push.apply(n,vx(r.props.children,o));return}tn(r.type===Cl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vx(r.props.children,o)),n.push(s)}),n}var xm="get",wm="application/x-www-form-urlencoded";function xv(t){return t!=null&&typeof t.tagName=="string"}function lie(t){return xv(t)&&t.tagName.toLowerCase()==="button"}function cie(t){return xv(t)&&t.tagName.toLowerCase()==="form"}function uie(t){return xv(t)&&t.tagName.toLowerCase()==="input"}function die(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fie(t,e){return t.button===0&&(!e||e==="_self")&&!die(t)}var Tp=null;function hie(){if(Tp===null)try{new FormData(document.createElement("form"),0),Tp=!1}catch{Tp=!0}return Tp}var pie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yy(t){return t!=null&&!pie.has(t)?(ao(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wm}"`),null):t}function mie(t,e){let n,r,i,o,s;if(cie(t)){let a=t.getAttribute("action");r=a?Ns(a,e):null,n=t.getAttribute("method")||xm,i=Yy(t.getAttribute("enctype"))||wm,o=new FormData(t)}else if(lie(t)||uie(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ns(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||xm,i=Yy(t.getAttribute("formenctype"))||Yy(a.getAttribute("enctype"))||wm,o=new FormData(a,t),!hie()){let{name:c,type:u,value:d}=t;if(u==="image"){let f=c?`${c}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else c&&o.append(c,d)}}else{if(xv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xm,r=null,i=wm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function AE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gie(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vie(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yie(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await gie(o,n);return s.links?s.links():[]}return[]}));return wie(r.flat(1).filter(vie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kO(t,e,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function bie(t,e,{includeHydrateFallback:n}={}){return _ie(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function _ie(t){return[...new Set(t)]}function xie(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function wie(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(xie(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Eie=new Set([100,101,204,205]);function Sie(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ns(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Xz(){let t=_e.useContext(gu);return AE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Cie(){let t=_e.useContext(_v);return AE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TE=_e.createContext(void 0);TE.displayName="FrameworkContext";function Yz(){let t=_e.useContext(TE);return AE(t,"You must render this element inside a <HydratedRouter> element"),t}function kie(t,e){let n=_e.useContext(TE),[r,i]=_e.useState(!1),[o,s]=_e.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,f=_e.useRef(null);_e.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let m=v=>{v.forEach(y=>{s(y.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[t]),_e.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,f,{}]:[o,f,{onFocus:fd(a,h),onBlur:fd(l,p),onMouseEnter:fd(c,h),onMouseLeave:fd(u,p),onTouchStart:fd(d,h)}]:[!1,f,{}]}function fd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Oie({page:t,...e}){let{router:n}=Xz(),r=_e.useMemo(()=>Bz(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_e.createElement(Pie,{page:t,matches:r,...e}):null}function Rie(t){let{manifest:e,routeModules:n}=Yz(),[r,i]=_e.useState([]);return _e.useEffect(()=>{let o=!1;return yie(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Pie({page:t,matches:e,...n}){let r=Fa(),{manifest:i,routeModules:o}=Yz(),{basename:s}=Xz(),{loaderData:a,matches:l}=Cie(),c=_e.useMemo(()=>kO(t,e,l,i,r,"data"),[t,e,l,i,r]),u=_e.useMemo(()=>kO(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=_e.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(e.forEach(v=>{let y=i.routes[v.route.id];!y||!y.hasLoader||(!c.some(_=>_.route.id===v.route.id)&&v.route.id in a&&o[v.route.id]?.shouldRevalidate||y.hasClientLoader?m=!0:p.add(v.route.id))}),p.size===0)return[];let g=Sie(t,s);return m&&p.size>0&&g.searchParams.set("_routes",e.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[s,a,r,i,c,e,t,o]),f=_e.useMemo(()=>bie(u,i),[u,i]),h=Rie(u);return _e.createElement(_e.Fragment,null,d.map(p=>_e.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>_e.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>_e.createElement("link",{key:p,...m})))}function Aie(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qz&&(window.__reactRouterVersion="7.6.0")}catch{}function Tie({basename:t,children:e,window:n}){let r=_e.useRef();r.current==null&&(r.current=pre({window:n,v5Compat:!0}));let i=r.current,[o,s]=_e.useState({action:i.action,location:i.location}),a=_e.useCallback(l=>{_e.startTransition(()=>s(l))},[s]);return _e.useLayoutEffect(()=>i.listen(a),[i,a]),_e.createElement(sie,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=_e.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},h){let{basename:p}=_e.useContext(mo),m=typeof c=="string"&&Zz.test(c),g,v=!1;if(typeof c=="string"&&m&&(g=c,Qz))try{let k=new URL(window.location.href),I=c.startsWith("//")?new URL(k.protocol+c):new URL(c),M=Ns(I.pathname,p);I.origin===k.origin&&M!=null?c=M+I.search+I.hash:v=!0}catch{ao(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=zre(c,{relative:i}),[_,b,x]=kie(r,f),w=Mie(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function E(k){e&&e(k),k.defaultPrevented||w(k)}let S=_e.createElement("a",{...f,...x,href:g||y,onClick:v||o?e:E,ref:Aie(h,b),target:l,"data-discover":!m&&n==="render"?"true":void 0});return _&&!m?_e.createElement(_e.Fragment,null,S,_e.createElement(Oie,{page:y})):S});ec.displayName="Link";var yx=_e.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let d=fh(s,{relative:c.relative}),f=Fa(),h=_e.useContext(_v),{navigator:p,basename:m}=_e.useContext(mo),g=h!=null&&Bie(d)&&a===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=f.pathname,_=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&m&&(_=Ns(_,m)||_);const b=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let x=y===v||!i&&y.startsWith(v)&&y.charAt(b)==="/",w=_!=null&&(_===v||!i&&_.startsWith(v)&&_.charAt(v.length)==="/"),E={isActive:x,isPending:w,isTransitioning:g},S=x?e:void 0,k;typeof r=="function"?k=r(E):k=[r,x?"active":null,w?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(E):o;return _e.createElement(ec,{...c,"aria-current":S,className:k,ref:u,style:I,to:s,viewTransition:a},typeof l=="function"?l(E):l)});yx.displayName="NavLink";var Iie=_e.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=xm,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let p=Lie(),m=jie(a,{relative:c}),g=s.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&Zz.test(a),y=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let b=_.nativeEvent.submitter,x=b?.getAttribute("formmethod")||s;p(b||_.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return _e.createElement("form",{ref:h,method:g,action:m,onSubmit:r?l:y,...f,"data-discover":!v&&t==="render"?"true":void 0})});Iie.displayName="Form";function Die(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jz(t){let e=_e.useContext(gu);return tn(e,Die(t)),e}function Mie(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=yu(),l=Fa(),c=fh(t,{relative:o});return _e.useCallback(u=>{if(fie(u,e)){u.preventDefault();let d=n!==void 0?n:If(l)===If(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,e,t,i,o,s])}var $ie=0,Nie=()=>`__${String(++$ie)}__`;function Lie(){let{router:t}=Jz("useSubmit"),{basename:e}=_e.useContext(mo),n=eie();return _e.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=mie(r,e);if(i.navigate===!1){let u=i.fetcherKey||Nie();await t.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function jie(t,{relative:e}={}){let{basename:n}=_e.useContext(mo),r=_e.useContext(Bi);tn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...fh(t||".",{relative:e})},s=Fa();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Es([n,o.pathname])),If(o)}function Bie(t,e={}){let n=_e.useContext(Vz);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jz("useViewTransitionState"),i=fh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fg(i.pathname,s)!=null||fg(i.pathname,o)!=null}[...Eie];let Ip;const Fie=new Uint8Array(16);function zie(){if(!Ip&&(Ip=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ip))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ip(Fie)}const Qn=[];for(let t=0;t<256;++t)Qn.push((t+256).toString(16).slice(1));function qie(t,e=0){return Qn[t[e+0]]+Qn[t[e+1]]+Qn[t[e+2]]+Qn[t[e+3]]+"-"+Qn[t[e+4]]+Qn[t[e+5]]+"-"+Qn[t[e+6]]+Qn[t[e+7]]+"-"+Qn[t[e+8]]+Qn[t[e+9]]+"-"+Qn[t[e+10]]+Qn[t[e+11]]+Qn[t[e+12]]+Qn[t[e+13]]+Qn[t[e+14]]+Qn[t[e+15]]}const Vie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OO={randomUUID:Vie};function Dp(t,e,n){if(OO.randomUUID&&!t)return OO.randomUUID();t=t||{};const r=t.random||(t.rng||zie)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qie(r)}const bu=typeof window<"u";let Ss,eq;bu||(Ss=require("node:fs").promises,eq=require("node:path"));function Hie(){return"./"}async function tq(t){if(bu)return{success:!0,message:"Directory operation simulated in browser",path:t};try{try{return await Ss.access(t),{success:!0,message:"Directory already exists",path:t}}catch{return await Ss.mkdir(t,{recursive:!0}),{success:!0,message:"Directory created successfully",path:t}}}catch(e){return{success:!1,message:`Failed to create directory: ${e.message}`}}}async function zr(t,e){if(bu)try{return localStorage.setItem(t,e),{success:!0,message:"File written successfully (browser storage)",path:t}}catch(n){return{success:!1,message:`Failed to write file in browser storage: ${n.message}`}}try{const n=eq.dirname(t);return await tq(n),await Ss.writeFile(t,e,"utf8"),{success:!0,message:"File written successfully",path:t}}catch(n){return{success:!1,message:`Failed to write file: ${n.message}`}}}async function oi(t){if(bu)try{return localStorage.getItem(t)}catch(e){return console.error(`Failed to read file from browser storage: ${e.message}`),null}try{return await Ss.readFile(t,"utf8")}catch(e){return console.error(`Failed to read file: ${e.message}`),null}}async function Em(t){if(bu)return localStorage.getItem(t)!==null;try{return await Ss.access(t),!0}catch{return!1}}async function Mp(t){if(bu)try{return localStorage.removeItem(t),{success:!0,message:"Item removed successfully (browser storage)",path:t}}catch(e){return{success:!1,message:`Failed to remove item from browser storage: ${e.message}`}}try{return(await Ss.stat(t)).isDirectory()?await Ss.rm(t,{recursive:!0}):await Ss.unlink(t),{success:!0,message:"Item removed successfully",path:t}}catch(e){return{success:!1,message:`Failed to remove item: ${e.message}`}}}function Uie(t){const e={id:t.id,code:t.code,title:t.title,description:t.description||"",status:t.status,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return JSON.stringify(e,null,2)}function nq(t,e){const n=e||t;return`<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
  <bpmn2:process id="Process_${t}" name="${n}" isExecutable="true">
    <bpmn2:startEvent id="StartEvent_1" name="Start">
      <bpmn2:outgoing>Flow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:endEvent id="EndEvent_1" name="End">
      <bpmn2:incoming>Flow_1</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="EndEvent_1" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${n}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="156" y="81" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="160" y="124" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_1" bpmnElement="EndEvent_1">
        <dc:Bounds x="422" y="81" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="430" y="124" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="192" y="99" />
        <di:waypoint x="422" y="99" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>`}function Wie(t,e){const n={project:t,id:e,areas:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return JSON.stringify(n,null,2)}var $p={exports:{}},Qy,RO;function Gie(){if(RO)return Qy;RO=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,o=r*365.25;Qy=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return s(u);if(f==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,f,h){var p=d>=f*1.5;return Math.round(u/f)+" "+h+(p?"s":"")}return Qy}var Zy,PO;function Kie(){if(PO)return Zy;PO=1;function t(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=o,r.enabled=l,r.humanize=Gie(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function n(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=n;function r(d){let f,h=null,p,m;function g(...v){if(!g.enabled)return;const y=g,_=Number(new Date),b=_-(f||_);y.diff=b,y.prev=f,y.curr=_,f=_,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(E,S)=>{if(E==="%%")return"%";x++;const k=r.formatters[S];if(typeof k=="function"){const I=v[x];E=k.call(y,I),v.splice(x,1),x--}return E}),r.formatArgs.call(y,v),(y.log||r.log).apply(y,v)}return g.namespace=d,g.useColors=r.useColors(),g.color=r.selectColor(d),g.extend=i,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(d)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(g),g}function i(d,f){const h=r(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function o(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(d,f){let h=0,p=0,m=-1,g=0;for(;h<d.length;)if(p<f.length&&(f[p]===d[h]||f[p]==="*"))f[p]==="*"?(m=p,g=h,p++):(h++,p++);else if(m!==-1)p=m+1,g++,h=g;else return!1;for(;p<f.length&&f[p]==="*";)p++;return p===f.length}function a(){const d=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),d}function l(d){for(const f of r.skips)if(s(d,f))return!1;for(const f of r.names)if(s(d,f))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return Zy=t,Zy}var AO;function Xie(){return AO||(AO=1,function(t,e){var n={};e.formatArgs=i,e.save=o,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=Kie()(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}($p,$p.exports)),$p.exports}var Yie=Xie();const Jy=pc(Yie),Qie="igrp-wf";function IE(t){const e=`${Qie}:${t}`,n=Jy.default||Jy;if(typeof n!="function"){console.error(`[${e}] igrp-wf-engine: Failed to load debug function. 'debugFn' is type ${typeof n}. Original 'debugModule' was: `,Jy);const i=(...o)=>console.log(`[${e}] (logger fallback)`,...o);return{info:i,warn:i,error:i,debug:i}}const r=n(e);return{info:(i,...o)=>{r(`‚ÑπÔ∏è ${i}`,...o)},warn:(i,...o)=>{r(`‚ö†Ô∏è ${i}`,...o)},error:(i,...o)=>{r(`‚ùå ${i}`,...o)},debug:(i,...o)=>{r(`üîç ${i}`,...o)}}}const Pe=IE("app");IE("process");IE("file");const rq=typeof window<"u",bn=rq?{join:(...t)=>t.join("/"),dirname:t=>{const e=t.split("/");return e.pop(),e.join("/")}}:require("node:path");class Zie{constructor(e=Hie()){this.basePath=e,Pe.info("Initialized WorkflowWorkspaceManager with base path: %s",e)}setBasePath(e){Pe.info("Setting new base path: %s",e),this.basePath=e}async listWorkspaces(){try{if(Pe.debug("Listing workspaces"),rq){const i=[];for(let o=0;o<localStorage.length;o++){const s=localStorage.key(o);if(s?.endsWith("app-options.json")){const a=localStorage.getItem(s);if(a)try{const l=JSON.parse(a);i.push(l)}catch(l){Pe.error("Failed to parse app options: %O",l)}}}return Pe.info("Found %d workspaces in browser storage",i.length),i}const n=await require("node:fs").promises.readdir(this.basePath,{withFileTypes:!0}),r=[];for(const i of n)if(i.isDirectory()){const o=bn.join(this.basePath,i.name,"app-options.json");try{const s=await oi(o);if(s){const a=JSON.parse(s);r.push(a)}}catch(s){Pe.error("Failed to read app options for %s: %O",i.name,s)}}return Pe.info("Found %d workspaces in filesystem",r.length),r}catch(e){return Pe.error("Failed to list workspaces: %O",e),[]}}async loadProjectConfig(e){try{Pe.debug("Loading project config for workspace: %s",e);const n=bn.join(this.basePath,e,"project-config.json"),r=await oi(n);if(!r)return Pe.warn("No config found for workspace: %s",e),null;const i=JSON.parse(r);return Pe.info("Loaded project config for %s with %d areas",e,i.areas.length),i}catch(n){return Pe.error("Failed to load project config: %O",n),null}}async createWorkspace(e,n,r,i="active"){try{if(Pe.info("Creating new workspace: %s",e),!/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return Pe.warn("Invalid workspace code format: %s",e),{success:!1,message:"Workspace code must start with a letter and can only contain letters, numbers, hyphens and underscores"};const o=bn.join(this.basePath,e);if(await Em(o))return Pe.warn("Workspace already exists: %s",e),{success:!1,message:`Workspace '${e}' already exists`};const a=await tq(o);if(!a.success)return a;const l=Dp(),c=bn.join(o,"app-options.json"),u=Uie({id:l,code:e,title:n,description:r,status:i}),d=await zr(c,u);if(!d.success)return d;const f=bn.join(o,"project-config.json"),h=Wie(e,l),p=await zr(f,h);return p.success?(Pe.info("Successfully created workspace: %s",e),{success:!0,message:`Workflow workspace '${e}' created successfully`,path:o}):p}catch(o){return Pe.error("Failed to create workspace: %O",o),{success:!1,message:`Failed to create workflow workspace: ${o.message}`}}}async deleteWorkspace(e){try{Pe.info("Deleting workspace: %s",e);const n=bn.join(this.basePath,e);if(!await Em(n))return Pe.warn("Workspace does not exist: %s",e),{success:!1,message:`Workspace '${e}' does not exist`};const i=await Mp(n);return i.success?(Pe.info("Successfully deleted workspace: %s",e),{success:!0,message:`Workspace '${e}' deleted successfully`}):i}catch(n){return Pe.error("Failed to delete workspace: %O",n),{success:!1,message:`Failed to delete workspace: ${n.message}`}}}async updateWorkspaceOptions(e,n){try{Pe.info("Updating workspace options for: %s",e);const r=bn.join(this.basePath,e),i=bn.join(r,"app-options.json");if(!await Em(i))return Pe.warn("Workspace options file does not exist: %s",i),{success:!1,message:`Workspace options for '${e}' not found.`};const s=await oi(i);if(!s)return Pe.error("Failed to read current workspace options: %s",i),{success:!1,message:`Failed to read options for workspace '${e}'.`};const a=JSON.parse(s),l={...a,...n,code:a.code,id:a.id,updated_at:new Date().toISOString()},c=await zr(i,JSON.stringify(l,null,2));return c.success?(Pe.info("Successfully updated workspace options for: %s",e),{success:!0,message:`Workspace '${e}' options updated successfully.`,path:i}):(Pe.error("Failed to write updated workspace options: %s",i),c)}catch(r){return Pe.error("Failed to update workspace options: %O",r),{success:!1,message:`Failed to update workspace options: ${r.message}`}}}async updateArea(e,n,r,i,o){try{Pe.info("Updating area %s in workspace %s",n,e);const s=bn.join(this.basePath,e,"project-config.json"),a=await oi(s);if(!a)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const l=JSON.parse(a),c=l.areas.findIndex(d=>d.code===n);if(c===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};l.areas[c].title=r,l.areas[c].description=i,l.areas[c].status=o,l.updatedAt=new Date().toISOString();const u=await zr(s,JSON.stringify(l,null,2));return u.success&&Pe.info("Successfully updated area %s",n),u}catch(s){return Pe.error("Failed to update area: %O",s),{success:!1,message:`Failed to update area: ${s.message}`}}}async updateSubArea(e,n,r,i,o,s){try{Pe.info("Updating subarea %s in area %s of workspace %s",r,n,e);const a=bn.join(this.basePath,e,"project-config.json"),l=await oi(a);if(!l)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const c=JSON.parse(l),u=c.areas.findIndex(h=>h.code===n);if(u===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};const d=c.areas[u].subareas.findIndex(h=>h.code===r);if(d===-1)return Pe.warn("SubArea not found: %s",r),{success:!1,message:`SubArea '${r}' not found in area '${n}'`};c.areas[u].subareas[d].title=i,c.areas[u].subareas[d].description=o,c.areas[u].subareas[d].status=s,c.updatedAt=new Date().toISOString();const f=await zr(a,JSON.stringify(c,null,2));return f.success&&Pe.info("Successfully updated subarea %s",r),f}catch(a){return Pe.error("Failed to update subarea: %O",a),{success:!1,message:`Failed to update subarea: ${a.message}`}}}async updateProcess(e,n,r,i,o,s,a){try{Pe.info("Updating process %s in workspace %s",r,e);const l=bn.join(this.basePath,e,"project-config.json"),c=await oi(l);if(!c)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const u=JSON.parse(c),d=u.areas.findIndex(g=>g.code===n);if(d===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};let f=-1,h=-1;if(a){if(h=u.areas[d].subareas.findIndex(g=>g.code===a),h===-1)return Pe.warn("SubArea not found: %s",a),{success:!1,message:`SubArea '${a}' not found in area '${n}'`};f=u.areas[d].subareas[h].processes.findIndex(g=>g.code===r)}else f=u.areas[d].processes.findIndex(g=>g.code===r);if(f===-1)return Pe.warn("Process not found: %s",r),{success:!1,message:`Process '${r}' not found`};const p=a?u.areas[d].subareas[h].processes[f]:u.areas[d].processes[f];p.title=i,p.description=o,p.status=s,u.updatedAt=new Date().toISOString();const m=await zr(l,JSON.stringify(u,null,2));return m.success&&Pe.info("Successfully updated process %s",r),m}catch(l){return Pe.error("Failed to update process: %O",l),{success:!1,message:`Failed to update process: ${l.message}`}}}async addArea(e,n,r,i,o="active"){try{Pe.info("Adding new area %s to workspace %s",n,e);const s=bn.join(this.basePath,e,"project-config.json"),a=await oi(s);if(!a)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const l=JSON.parse(a);if(l.areas.some(u=>u.code===n))return Pe.warn("Area already exists: %s",n),{success:!1,message:`Area '${n}' already exists`};l.areas.push({id:Dp(),code:n,title:r,description:i,status:o,subareas:[],processes:[]}),l.updatedAt=new Date().toISOString();const c=await zr(s,JSON.stringify(l,null,2));return c.success&&Pe.info("Successfully added area %s",n),c}catch(s){return Pe.error("Failed to add area: %O",s),{success:!1,message:`Failed to add area: ${s.message}`}}}async addSubArea(e,n,r,i,o,s="active"){try{Pe.info("Adding new subarea %s to area %s in workspace %s",r,n,e);const a=bn.join(this.basePath,e,"project-config.json"),l=await oi(a);if(!l)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const c=JSON.parse(l),u=c.areas.findIndex(f=>f.code===n);if(u===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};if(c.areas[u].subareas.some(f=>f.code===r))return Pe.warn("SubArea already exists: %s",r),{success:!1,message:`SubArea '${r}' already exists in area '${n}'`};c.areas[u].subareas.push({id:Dp(),code:r,title:i,description:o,status:s,processes:[]}),c.updatedAt=new Date().toISOString();const d=await zr(a,JSON.stringify(c,null,2));return d.success&&Pe.info("Successfully added subarea %s",r),d}catch(a){return Pe.error("Failed to add subarea: %O",a),{success:!1,message:`Failed to add subarea: ${a.message}`}}}async addProcessDefinition(e,n,r,i,o,s,a="active"){try{Pe.info("Adding new process %s to workspace %s",r,e);const l=bn.join(this.basePath,e,"project-config.json"),c=await oi(l);if(!c)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const u=JSON.parse(c),d=u.areas.findIndex(y=>y.code===n);if(d===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};let f;if(s){const y=u.areas[d].subareas.findIndex(_=>_.code===s);if(y===-1)return Pe.warn("SubArea not found: %s",s),{success:!1,message:`SubArea '${s}' not found in area '${n}'`};f=u.areas[d].subareas[y].processes}else f=u.areas[d].processes;if(f.some(y=>y.code===r))return Pe.warn("Process already exists: %s",r),{success:!1,message:`Process '${r}' already exists`};const h=Dp();f.push({id:h,code:r,title:i,description:o,status:a,bpmnPath:`${r}.bpmn`}),u.updatedAt=new Date().toISOString();const p=nq(r,i),m=bn.join(this.basePath,e,n,s||"",`${r}.bpmn`),g=await zr(m,p);if(!g.success)return g;const v=await zr(l,JSON.stringify(u,null,2));return v.success&&Pe.info("Successfully added process %s",r),v}catch(l){return Pe.error("Failed to add process: %O",l),{success:!1,message:`Failed to add process: ${l.message}`}}}async deleteArea(e,n){try{Pe.info("Deleting area %s from workspace %s",n,e);const r=bn.join(this.basePath,e,"project-config.json"),i=await oi(r);if(!i)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const o=JSON.parse(i),s=o.areas.findIndex(u=>u.code===n);if(s===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};const a=bn.join(this.basePath,e,n),l=await Mp(a);if(!l.success)return l;o.areas.splice(s,1),o.updatedAt=new Date().toISOString();const c=await zr(r,JSON.stringify(o,null,2));return c.success&&Pe.info("Successfully deleted area %s",n),c}catch(r){return Pe.error("Failed to delete area: %O",r),{success:!1,message:`Failed to delete area: ${r.message}`}}}async deleteSubArea(e,n,r){try{Pe.info("Deleting subarea %s from area %s in workspace %s",r,n,e);const i=bn.join(this.basePath,e,"project-config.json"),o=await oi(i);if(!o)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const s=JSON.parse(o),a=s.areas.findIndex(f=>f.code===n);if(a===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};const l=s.areas[a].subareas.findIndex(f=>f.code===r);if(l===-1)return Pe.warn("SubArea not found: %s",r),{success:!1,message:`SubArea '${r}' not found in area '${n}'`};const c=bn.join(this.basePath,e,n,r),u=await Mp(c);if(!u.success)return u;s.areas[a].subareas.splice(l,1),s.updatedAt=new Date().toISOString();const d=await zr(i,JSON.stringify(s,null,2));return d.success&&Pe.info("Successfully deleted subarea %s",r),d}catch(i){return Pe.error("Failed to delete subarea: %O",i),{success:!1,message:`Failed to delete subarea: ${i.message}`}}}async deleteProcess(e,n,r,i){try{Pe.info("Deleting process %s from workspace %s",r,e);const o=bn.join(this.basePath,e,"project-config.json"),s=await oi(o);if(!s)return Pe.warn("Project configuration not found for workspace: %s",e),{success:!1,message:`Failed to read project configuration for '${e}'`};const a=JSON.parse(s),l=a.areas.findIndex(p=>p.code===n);if(l===-1)return Pe.warn("Area not found: %s",n),{success:!1,message:`Area '${n}' not found`};let c=-1,u=-1;if(i){if(u=a.areas[l].subareas.findIndex(p=>p.code===i),u===-1)return Pe.warn("SubArea not found: %s",i),{success:!1,message:`SubArea '${i}' not found in area '${n}'`};c=a.areas[l].subareas[u].processes.findIndex(p=>p.code===r)}else c=a.areas[l].processes.findIndex(p=>p.code===r);if(c===-1)return Pe.warn("Process not found: %s",r),{success:!1,message:`Process '${r}' not found`};const d=bn.join(this.basePath,e,n,i||"",`${r}.bpmn`),f=await Mp(d);if(!f.success)return f;i?a.areas[l].subareas[u].processes.splice(c,1):a.areas[l].processes.splice(c,1),a.updatedAt=new Date().toISOString();const h=await zr(o,JSON.stringify(a,null,2));return h.success&&Pe.info("Successfully deleted process %s",r),h}catch(o){return Pe.error("Failed to delete process: %O",o),{success:!1,message:`Failed to delete process: ${o.message}`}}}}const Jie=typeof window<"u",Np=Jie?{join:(...t)=>t.join("/")}:require("node:path");class eoe{constructor(e="./"){this.basePath=e}setBasePath(e){this.basePath=e}async readProcessDefinition(e,n,r,i){try{let o;if(i?o=Np.join(this.basePath,e,n,i,`${n}${r}.bpmn`):o=Np.join(this.basePath,e,n,`${n}${r}.bpmn`),!await Em(o))return null;const a=await oi(o);return a?{id:`${n}_${r}`,code:r,title:r,description:"",status:"active",areaCode:n,subareaCode:i,bpmnXml:a,createdAt:new Date,updatedAt:new Date}:null}catch(o){return console.error(`Failed to read process definition: ${o.message}`),null}}async saveProcessDefinition(e,n,r,i,o){try{let s;return o?s=Np.join(this.basePath,e,n,o,`${n}${r}.bpmn`):s=Np.join(this.basePath,e,n,`${n}${r}.bpmn`),await zr(s,i)}catch(s){return{success:!1,message:`Failed to save process definition: ${s.message}`}}}async updateProcessDefinition(e,n,r,i,o){try{return i.bpmnXml?this.saveProcessDefinition(e,n,r,i.bpmnXml,o):{success:!0,message:"No BPMN content to update"}}catch(s){return{success:!1,message:`Failed to update process definition: ${s.message}`}}}async createEmptyProcessDefinition(e,n,r,i,o){try{const s=nq(r);return this.saveProcessDefinition(e,n,r,s,o)}catch(s){return{success:!1,message:`Failed to create empty process definition: ${s.message}`}}}}class ln{constructor(e="./"){Pe.info("Initializing WorkflowEngineSDK with base path: %s",e),this.basePath=e,this.workspaces=new Zie(e),this.processes=new eoe(e)}setBasePath(e){Pe.info("Setting new base path: %s",e),this.basePath=e,this.workspaces.setBasePath(e),this.processes.setBasePath(e)}}function iq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Df(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iq(t))&&(r&&(r+=" "),r+=e);return r}function toe(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=oq(e))&&(r&&(r+=" "),r+=n);return r}function oq(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=oq(t[r]))&&(n&&(n+=" "),n+=e);return n}var DE="-";function noe(t){var e=ioe(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(DE);return l[0]===""&&l.length!==1&&l.shift(),sq(l,e)||roe(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function sq(t,e){if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?sq(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var o=t.join(DE);return e.validators.find(function(s){var a=s.validator;return a(o)})?.classGroupId}}var TO=/^\[(.+)\]$/;function roe(t){if(TO.test(t)){var e=TO.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function ioe(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=soe(Object.entries(t.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];bx(a,r,s,e)}),r}function bx(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var o=i===""?e:IO(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(ooe(i)){bx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];bx(l,IO(e,a),n,r)})})}function IO(t,e){var n=t;return e.split(DE).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ooe(t){return t.isThemeGetter}function soe(t,e){return e?t.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):s});return[r,o]}):t}function aoe(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var aq="!";function loe(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(s){for(var a=[],l=0,c=0,u,d=0;d<s.length;d++){var f=s[d];if(l===0){if(f===r&&(n||s.slice(d,d+i)===e)){a.push(s.slice(c,d)),c=d+i;continue}if(f==="/"){u=d;continue}}f==="["?l++:f==="]"&&l--}var h=a.length===0?s:s.substring(c),p=h.startsWith(aq),m=p?h.substring(1):h,g=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}}}function coe(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function uoe(t){return{cache:aoe(t.cacheSize),splitModifiers:loe(t),...noe(t)}}var doe=/\s+/;function foe(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(doe).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?u.substring(0,d):u),h=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:s};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:s};h=!1}var p=coe(l).join(":"),m=c?p+aq:p;return{isTailwindClass:!0,modifierId:m,classGroupId:f,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function hoe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,o,s=a;function a(c){var u=e[0],d=e.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=uoe(f),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=foe(c,r);return o(c,d),d}return function(){return s(toe.apply(null,arguments))}}function Ht(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var lq=/^\[(?:([a-z-]+):)?(.+)\]$/i,poe=/^\d+\/\d+$/,moe=new Set(["px","full","screen"]),goe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,voe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yoe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Zi(t){return Dl(t)||moe.has(t)||poe.test(t)||_x(t)}function _x(t){return mc(t,"length",Soe)}function boe(t){return mc(t,"size",cq)}function _oe(t){return mc(t,"position",cq)}function xoe(t){return mc(t,"url",Coe)}function Lp(t){return mc(t,"number",Dl)}function Dl(t){return!Number.isNaN(Number(t))}function woe(t){return t.endsWith("%")&&Dl(t.slice(0,-1))}function hd(t){return DO(t)||mc(t,"number",DO)}function mt(t){return lq.test(t)}function pd(){return!0}function ea(t){return goe.test(t)}function Eoe(t){return mc(t,"",koe)}function mc(t,e,n){var r=lq.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Soe(t){return voe.test(t)}function cq(){return!1}function Coe(t){return t.startsWith("url(")}function DO(t){return Number.isInteger(Number(t))}function koe(t){return yoe.test(t)}function Ooe(){var t=Ht("colors"),e=Ht("spacing"),n=Ht("blur"),r=Ht("brightness"),i=Ht("borderColor"),o=Ht("borderRadius"),s=Ht("borderSpacing"),a=Ht("borderWidth"),l=Ht("contrast"),c=Ht("grayscale"),u=Ht("hueRotate"),d=Ht("invert"),f=Ht("gap"),h=Ht("gradientColorStops"),p=Ht("gradientColorStopPositions"),m=Ht("inset"),g=Ht("margin"),v=Ht("opacity"),y=Ht("padding"),_=Ht("saturate"),b=Ht("scale"),x=Ht("sepia"),w=Ht("skew"),E=Ht("space"),S=Ht("translate"),k=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",mt,e]},R=function(){return[mt,e]},D=function(){return["",Zi]},C=function(){return["auto",Dl,mt]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},J=function(){return["solid","dashed","dotted","double","none"]},Y=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},j=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",mt]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[Dl,Lp]},N=function(){return[Dl,mt]};return{cacheSize:500,theme:{colors:[pd],spacing:[Zi],blur:["none","",ea,mt],brightness:z(),borderColor:[t],borderRadius:["none","","full",ea,mt],borderSpacing:R(),borderWidth:D(),contrast:z(),grayscale:B(),hueRotate:N(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[woe,_x],inset:M(),margin:M(),opacity:z(),padding:R(),saturate:z(),scale:z(),sepia:B(),skew:N(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[ea]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[mt])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hd]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",hd]}],"grid-cols":[{"grid-cols":[pd]}],"col-start-end":[{col:["auto",{span:["full",hd]},mt]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[pd]}],"row-start-end":[{row:["auto",{span:[hd]},mt]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(j())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(j(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(j(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",mt,e]}],"min-w":[{"min-w":["min","max","fit",mt,Zi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ea]},ea,mt]}],h:[{h:[mt,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",mt,Zi]}],"max-h":[{"max-h":[mt,e,"min","max","fit"]}],"font-size":[{text:["base",ea,_x]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lp]}],"font-family":[{font:[pd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",Dl,Lp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mt,Zi]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(J(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi]}],"underline-offset":[{"underline-offset":["auto",mt,Zi]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[_oe])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",boe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xoe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(J(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(J())}],"outline-offset":[{"outline-offset":[mt,Zi]}],"outline-w":[{outline:[Zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ea,Eoe]}],"shadow-color":[{shadow:[pd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":Y()}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ea,mt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[hd,mt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zi,Lp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Roe=hoe(Ooe);function At(...t){return Roe(Df(t))}function Poe(t){return typeof t=="string"&&(t=new Date(t)),new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(t)}var Aoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Toe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rn=(t,e)=>{const n=EE(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>$s("svg",{ref:c,...Aoe,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Toe(t)}`,...l},[...e.map(([u,d])=>$s(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Ioe=rn("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Doe=rn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),hg=rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),pg=rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),MO=rn("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),$O=rn("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Moe=rn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),uq=rn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$oe=rn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),NO=rn("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),df=rn("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Noe=rn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Loe=rn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),gs=rn("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),dq=rn("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ml=rn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),joe=rn("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Boe=rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Foe=rn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),fq=rn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),zoe=rn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vs=rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_a=rn("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),gc=rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Et=zt.forwardRef(({className:t,children:e,variant:n="primary",size:r="md",isLoading:i=!1,icon:o,disabled:s,...a},l)=>{const c={primary:"btn-primary",secondary:"btn-secondary",accent:"btn-accent",danger:"btn-danger",ghost:"text-gray-600 hover:bg-gray-100 hover:text-gray-900"},u={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3"};return P.jsxs("button",{ref:l,disabled:i||s,className:At("btn",c[n],u[r],i&&"opacity-70 cursor-not-allowed",t),...a,children:[i&&P.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[P.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),P.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!i&&o&&P.jsx("span",{className:"mr-2",children:o}),e]})});Et.displayName="Button";const yr=zt.forwardRef(({className:t,type:e="text",label:n,error:r,icon:i,...o},s)=>P.jsxs("div",{className:"w-full",children:[n&&P.jsx("label",{htmlFor:o.id,className:"form-label",children:n}),P.jsxs("div",{className:"relative",children:[i&&P.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500",children:i}),P.jsx("input",{type:e,className:At("input-field",i&&"pl-10",r&&"border-red-500 focus:border-red-500 focus:ring-red-500",t),ref:s,...o})]}),r&&P.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}));yr.displayName="Input";const ME=({onClose:t,onCreated:e})=>{const n=yu(),[r,i]=Ee(!1),[o,s]=Ee({code:"",title:"",description:"",status:"active"}),[a,l]=Ee(null),c=async u=>{u.preventDefault(),i(!0),l(null);try{const f=await new ln("./").workspaces.createWorkspace(o.code,o.title,o.description,o.status);f.success?(e?.(),n(`/workspaces/${o.code}`)):l(f.message)}catch(d){l(d.message)}finally{i(!1)}};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[P.jsx("h2",{className:"text-lg font-semibold",children:"Create New Workspace"}),P.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:P.jsx(gc,{className:"h-5 w-5"})})]}),P.jsxs("form",{onSubmit:c,className:"p-4 space-y-4",children:[P.jsx(yr,{label:"Code",value:o.code,onChange:u=>s({...o,code:u.target.value}),placeholder:"Enter workspace code",required:!0}),P.jsx(yr,{label:"Title",value:o.title,onChange:u=>s({...o,title:u.target.value}),placeholder:"Enter workspace title",required:!0}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Description"}),P.jsx("textarea",{value:o.description,onChange:u=>s({...o,description:u.target.value}),className:"input-field",rows:3,placeholder:"Enter workspace description"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Status"}),P.jsxs("select",{value:o.status,onChange:u=>s({...o,status:u.target.value}),className:"input-field",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),a&&P.jsx("div",{className:"text-red-600 text-sm",children:a}),P.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[P.jsx(Et,{variant:"secondary",onClick:t,disabled:r,children:"Cancel"}),P.jsx(Et,{type:"submit",isLoading:r,children:"Create Workspace"})]})]})]})})},hq=({workspaceCode:t,onClose:e,onCreated:n})=>{const[r,i]=Ee(!1),[o,s]=Ee({code:"",title:"",description:"",status:"active"}),[a,l]=Ee(null),[c,u]=Ee(!0);bt(()=>{d()},[t]);const d=async()=>{u(!0),l(null);try{const m=(await new ln().workspaces.loadProjectConfig(t))?.areas||[];let g=1;const v=m.map(_=>_.code).filter(_=>_.startsWith("area")).map(_=>parseInt(_.replace("area",""),10)).filter(_=>!isNaN(_));v.length>0&&(g=Math.max(...v)+1);const y=`area${g}`;s(_=>({..._,code:y}))}catch(h){l(`Failed to generate area code: ${h.message}`)}finally{u(!1)}},f=async h=>{h.preventDefault(),i(!0),l(null);try{if(!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(o.code)){l("Area code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"),i(!1);return}const m=await new ln().workspaces.addArea(t,o.code,o.title,o.description,o.status);m.success?(n(),e()):l(m.message)}catch(p){l(p.message)}finally{i(!1)}};return P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[P.jsx("h2",{className:"text-lg font-semibold",children:"Create New Area"}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:P.jsx(gc,{className:"h-5 w-5"})})]}),P.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[P.jsx(yr,{label:"Area Code",value:o.code,onChange:h=>s({...o,code:h.target.value}),placeholder:c?"Generating code...":"Enter area code",disabled:c,required:!0,pattern:"^[a-zA-Z][a-zA-Z0-9_.-]*$",title:"Area code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"}),P.jsx(yr,{label:"Title",value:o.title,onChange:h=>s({...o,title:h.target.value}),placeholder:"Enter area title",required:!0}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Description"}),P.jsx("textarea",{value:o.description,onChange:h=>s({...o,description:h.target.value}),className:"input-field",rows:3,placeholder:"Enter area description"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Status"}),P.jsxs("select",{value:o.status,onChange:h=>s({...o,status:h.target.value}),className:"input-field",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),a&&P.jsx("div",{className:"text-red-600 text-sm",children:a}),P.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[P.jsx(Et,{variant:"secondary",onClick:e,disabled:r,children:"Cancel"}),P.jsx(Et,{type:"submit",isLoading:r,children:"Create Area"})]})]})]})})},pq=({workspaceCode:t,areaCode:e,onClose:n,onCreated:r})=>{const[i,o]=Ee(!1),[s,a]=Ee(!0),[l,c]=Ee({code:"",title:"",description:"",status:"active"}),[u,d]=Ee(null),[f,h]=Ee(!0);bt(()=>{p()},[t,e]);const p=async()=>{a(!0),h(!0),d(null);try{const v=await new ln().workspaces.loadProjectConfig(t);if(!v){d(`Workspace '${t}' not found`);return}const y=v.areas.find(E=>E.code===e);if(!y){d(`Area '${e}' does not exist in workspace '${t}'`);return}const _=y.subareas||[];let b=1;const x=_.map(E=>E.code).filter(E=>E.startsWith(`${e}.`)).map(E=>parseInt(E.substring(e.length+1),10)).filter(E=>!isNaN(E));x.length>0&&(b=Math.max(...x)+1);const w=`${e}.${b}`;c(E=>({...E,code:w}))}catch(g){d(`Failed to validate or generate code: ${g.message}`)}finally{a(!1),h(!1)}},m=async g=>{if(g.preventDefault(),!u){o(!0),d(null);try{if(!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(l.code)){d("SubArea code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"),o(!1);return}const y=await new ln().workspaces.addSubArea(t,e,l.code,l.title,l.description,l.status);y.success?(r(),n()):d(y.message)}catch(v){d(v.message)}finally{o(!1)}}};return s?P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:P.jsx("div",{className:"flex items-center justify-center",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[P.jsx("h2",{className:"text-lg font-semibold",children:"Create New SubArea"}),P.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:P.jsx(gc,{className:"h-5 w-5"})})]}),P.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[P.jsxs("div",{className:"mb-4",children:[P.jsx("label",{className:"form-label",children:"Parent Area"}),P.jsx("input",{type:"text",value:e,className:"input-field bg-gray-50",disabled:!0})]}),u?P.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[P.jsx("p",{className:"text-sm text-red-600",children:u}),P.jsx("div",{className:"mt-4",children:P.jsx(Et,{variant:"secondary",onClick:n,children:"Close"})})]}):P.jsxs(P.Fragment,{children:[P.jsx(yr,{label:"SubArea Code",value:l.code,onChange:g=>c({...l,code:g.target.value}),placeholder:f?"Generating code...":"Enter subarea code",disabled:f,required:!0,pattern:"^[a-zA-Z][a-zA-Z0-9_.-]*$",title:"SubArea code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"}),P.jsx(yr,{label:"Title",value:l.title,onChange:g=>c({...l,title:g.target.value}),placeholder:"Enter subarea title",required:!0}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Description"}),P.jsx("textarea",{value:l.description,onChange:g=>c({...l,description:g.target.value}),className:"input-field",rows:3,placeholder:"Enter subarea description"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Status"}),P.jsxs("select",{value:l.status,onChange:g=>c({...l,status:g.target.value}),className:"input-field",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),P.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[P.jsx(Et,{variant:"secondary",onClick:n,disabled:i,children:"Cancel"}),P.jsx(Et,{type:"submit",isLoading:i,children:"Create SubArea"})]})]})]})]})})},mq=({workspaceCode:t,onClose:e,onCreated:n,initialArea:r,initialSubArea:i})=>{const[o,s]=Ee(!1),[a,l]=Ee(!0),[c,u]=Ee([]),[d,f]=Ee({code:"",title:"",description:"",areaCode:r||"",subareaCode:i||"",status:"active"}),[h,p]=Ee(null),[m,g]=Ee(!1);bt(()=>{v()},[t,r,i]),bt(()=>{d.areaCode&&!a&&!h&&y()},[d.areaCode,a,h]);const v=async()=>{try{const w=await new ln().workspaces.loadProjectConfig(t);if(!w){p(`Workspace '${t}' not found`);return}if(r){const E=w.areas.find(S=>S.code===r);if(!E){p(`Area '${r}' does not exist in workspace '${t}'`);return}if(i&&!E.subareas.find(k=>k.code===i)){p(`SubArea '${i}' does not exist in area '${r}'`);return}}u(w.areas)}catch(x){p(x.message)}finally{l(!1)}},y=async()=>{if(d.areaCode){g(!0);try{const w=await new ln().workspaces.loadProjectConfig(t);if(!w)return;const E=w.areas.find(D=>D.code===d.areaCode);if(!E)return;let S=[];E.processes&&(S=S.concat(E.processes)),E.subareas&&E.subareas.forEach(D=>{D.processes&&(S=S.concat(D.processes))});let k=1;const I=`P.${d.areaCode}.`,M=S.map(D=>D.code).filter(D=>D.startsWith(I)).map(D=>parseInt(D.substring(I.length),10)).filter(D=>!isNaN(D));M.length>0&&(k=Math.max(...M)+1);const R=`P.${d.areaCode}.${k}`;f(D=>({...D,code:R}))}catch(x){p(`Failed to generate process code: ${x.message}`)}finally{g(!1)}}},_=async x=>{if(x.preventDefault(),!h){s(!0),p(null);try{if(!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(d.code)){p("Process code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"),s(!1);return}const E=await new ln().workspaces.addProcessDefinition(t,d.areaCode,d.code,d.title,d.description,d.subareaCode||void 0,d.status);E.success?(n(d.code),e()):p(E.message)}catch(w){p(w.message)}finally{s(!1)}}},b=c.find(x=>x.code===d.areaCode);return a?P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:P.jsx("div",{className:"flex items-center justify-center",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[P.jsx("h2",{className:"text-lg font-semibold",children:"Create New Process"}),P.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:P.jsx(gc,{className:"h-5 w-5"})})]}),P.jsx("form",{onSubmit:_,className:"p-4 space-y-4",children:h?P.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[P.jsx("p",{className:"text-sm text-red-600",children:h}),P.jsx("div",{className:"mt-4",children:P.jsx(Et,{variant:"secondary",onClick:e,children:"Close"})})]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Area"}),P.jsxs("select",{value:d.areaCode,onChange:x=>f({...d,areaCode:x.target.value,subareaCode:""}),className:"input-field",required:!0,disabled:!!r,children:[P.jsx("option",{value:"",children:"Select an area"}),c.map(x=>P.jsx("option",{value:x.code,children:x.title},x.code))]})]}),b&&b.subareas.length>0&&P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"SubArea (Optional)"}),P.jsxs("select",{value:d.subareaCode,onChange:x=>f({...d,subareaCode:x.target.value}),className:"input-field",disabled:!!i,children:[P.jsx("option",{value:"",children:"None"}),b.subareas.map(x=>P.jsx("option",{value:x.code,children:x.title},x.code))]})]}),P.jsx(yr,{label:"Process Code",value:d.code,onChange:x=>f({...d,code:x.target.value}),placeholder:m?"Generating code...":"Enter process code",disabled:m||!d.areaCode,required:!0,pattern:"^[a-zA-Z][a-zA-Z0-9_.-]*$",title:"Process code must start with a letter and can only contain letters, numbers, hyphens, underscores, and periods"}),P.jsx(yr,{label:"Title",value:d.title,onChange:x=>f({...d,title:x.target.value}),placeholder:"Enter process title",required:!0}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Description"}),P.jsx("textarea",{value:d.description,onChange:x=>f({...d,description:x.target.value}),className:"input-field",rows:3,placeholder:"Enter process description"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Status"}),P.jsxs("select",{value:d.status,onChange:x=>f({...d,status:x.target.value}),className:"input-field",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),P.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[P.jsx(Et,{variant:"secondary",onClick:e,disabled:o,children:"Cancel"}),P.jsx(Et,{type:"submit",isLoading:o,children:"Create Process"})]})]})})]})})},$E=({title:t,children:e,onClose:n})=>{const r=i=>{i.stopPropagation()};return P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:n,children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4 p-6 relative",onClick:r,children:[P.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),P.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600","aria-label":"Close modal",children:P.jsx(gc,{className:"h-6 w-6"})})]}),P.jsx("div",{className:"mt-4",children:e})]})})};let qoe={data:""},Voe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||qoe,Hoe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Uoe=/\/\*[^]*?\*\/|  +/g,LO=/\n+/g,ma=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?ma(s,o):o+"{"+ma(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=ma(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ma.p?ma.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},os={},gq=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gq(t[n]);return e}return t},Woe=(t,e,n,r,i)=>{let o=gq(t),s=os[o]||(os[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!os[s]){let l=o!==t?t:(c=>{let u,d,f=[{}];for(;u=Hoe.exec(c.replace(Uoe,""));)u[4]?f.shift():u[3]?(d=u[3].replace(LO," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(LO," ").trim();return f[0]})(t);os[s]=ma(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&os.g?os.g:null;return n&&(os.g=os[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(os[s],e,r,a),s},Goe=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":ma(a,""):a===!1?"":a}return r+i+(s??"")},"");function wv(t){let e=this||{},n=t.call?t(e.p):t;return Woe(n.unshift?n.raw?Goe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Voe(e.target),e.g,e.o,e.k)}let vq,xx,wx;wv.bind({g:1});let Ls=wv.bind({k:1});function Koe(t,e,n,r){ma.p=e,vq=t,xx=n,wx=r}function za(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:xx&&xx()},a),n.o=/ *go\d+/.test(l),a.className=wv.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),wx&&c[0]&&wx(a),vq(c,a)}return i}}var Xoe=t=>typeof t=="function",Ex=(t,e)=>Xoe(t)?t(e):t,Yoe=(()=>{let t=0;return()=>(++t).toString()})(),Qoe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Zoe=20,yq=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Zoe)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return yq(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Joe=[],e3={toasts:[],pausedAt:void 0},NE=t=>{e3=yq(e3,t),Joe.forEach(e=>{e(e3)})},ese=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Yoe()}),hh=t=>(e,n)=>{let r=ese(e,t,n);return NE({type:2,toast:r}),r.id},xt=(t,e)=>hh("blank")(t,e);xt.error=hh("error");xt.success=hh("success");xt.loading=hh("loading");xt.custom=hh("custom");xt.dismiss=t=>{NE({type:3,toastId:t})};xt.remove=t=>NE({type:4,toastId:t});xt.promise=(t,e,n)=>{let r=xt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Ex(e.success,i):void 0;return o?xt.success(o,{id:r,...n,...n?.success}):xt.dismiss(r),i}).catch(i=>{let o=e.error?Ex(e.error,i):void 0;o?xt.error(o,{id:r,...n,...n?.error}):xt.dismiss(r)}),t};var tse=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nse=Ls`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rse=Ls`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ise=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tse} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nse} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rse} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ose=Ls`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sse=za("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ose} 1s linear infinite;
`,ase=Ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lse=Ls`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cse=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ase} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lse} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,use=za("div")`
  position: absolute;
`,dse=za("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fse=Ls`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hse=za("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fse} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pse=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_e.createElement(hse,null,e):e:n==="blank"?null:_e.createElement(dse,null,_e.createElement(sse,{...r}),n!=="loading"&&_e.createElement(use,null,n==="error"?_e.createElement(ise,{...r}):_e.createElement(cse,{...r})))},mse=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gse=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,vse="0%{opacity:0;} 100%{opacity:1;}",yse="0%{opacity:1;} 100%{opacity:0;}",bse=za("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_se=za("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xse=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Qoe()?[vse,yse]:[mse(n),gse(n)];return{animation:e?`${Ls(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ls(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};_e.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?xse(t.position||e||"top-center",t.visible):{opacity:0},o=_e.createElement(pse,{toast:t}),s=_e.createElement(_se,{...t.ariaProps},Ex(t.message,t));return _e.createElement(bse,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):_e.createElement(_e.Fragment,null,o,s))});Koe(_e.createElement);wv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const t3=new ln,wse=({workspaceCode:t,onClose:e,onUpdated:n})=>{const[r,i]=Ee(""),[o,s]=Ee(""),[a,l]=Ee(!0),[c,u]=Ee(!1);bt(()=>{(async()=>{try{l(!0);const p=(await t3.workspaces.listWorkspaces()).find(m=>m.code===t);if(p)i(p.title||t),s(p.description||"");else{console.warn(`Workspace options not found for code: ${t}`);const m=await t3.workspaces.loadProjectConfig(t);i(m?.project||t),s(""),xt.error("Could not load full workspace details.")}}catch(h){console.error("Failed to load workspace details:",h),xt.error("Failed to load workspace details."),e()}finally{l(!1)}})()},[t,e]);const d=async f=>{f.preventDefault(),u(!0);try{const h={title:r,description:o},p=await t3.workspaces.updateWorkspaceOptions(t,h);p.success?(xt.success("Workspace updated successfully!"),n(),e()):xt.error(p.message||"Failed to update workspace.")}catch(h){console.error("Failed to update workspace:",h),xt.error(`Failed to update workspace: ${h.message}`)}finally{u(!1)}};return P.jsx($E,{title:"Edit Workspace",onClose:e,children:a?P.jsx("div",{className:"flex justify-center items-center h-32",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):P.jsxs("form",{onSubmit:d,className:"space-y-4",children:[P.jsx(yr,{label:"Workspace Title",value:r,onChange:f=>i(f.target.value),placeholder:"Enter workspace title",required:!0,disabled:!0}),P.jsx(yr,{label:"Description (Optional)",value:o,onChange:f=>s(f.target.value),placeholder:"Enter workspace description"}),P.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[P.jsxs(Et,{type:"button",variant:"secondary",onClick:e,disabled:c,children:[" ","Cancel"]}),P.jsx(Et,{type:"submit",isLoading:c,disabled:c,children:"Save Changes"})]})]})})},Ul=zt.forwardRef(({className:t,...e},n)=>P.jsx("label",{ref:n,className:At("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Ul.displayName="Label";const LE=zt.forwardRef(({className:t,children:e,onValueChange:n,onChange:r,...i},o)=>{const s=a=>{n&&n(a.target.value),r&&r(a)};return P.jsx("select",{ref:o,className:At("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),onChange:s,...i,children:e})});LE.displayName="Select";const Ese=new ln,Sse=({isOpen:t,onClose:e,onSave:n,appCode:r,area:i})=>{const[o,s]=Ee(""),[a,l]=Ee(""),[c,u]=Ee("active"),[d,f]=Ee(!1),[h,p]=Ee(null);bt(()=>{i&&(s(i.title),l(i.description||""),u(i.status||"active"))},[i]);const m=async()=>{if(!o.trim()){p("Title is required.");return}f(!0),p(null);try{const g=await Ese.workspaces.updateArea(r,i.code,o,a,c);g.success?(n(),e()):p(g.message||"Failed to update area.")}catch(g){console.error("Failed to update area:",g),p(g.message||"An unexpected error occurred.")}finally{f(!1)}};return bt(()=>{t&&(s(i?.title||""),l(i?.description||""),u(i?.status||"active"),p(null),f(!1))},[t,i]),P.jsxs($E,{onClose:e,title:`Edit Area: ${i?.title}`,children:[" ",P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"area-title",children:"Title"}),P.jsx(yr,{id:"area-title",value:o,onChange:g=>s(g.target.value),placeholder:"Enter area title",disabled:d})]}),P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"area-description",children:"Description"}),P.jsx(yr,{id:"area-description",value:a,onChange:g=>l(g.target.value),placeholder:"Enter area description",disabled:d})]}),P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"area-status",children:"Status"}),P.jsxs(LE,{id:"area-status",value:c,onValueChange:g=>u(g),disabled:d,children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),h&&P.jsx("p",{className:"text-sm text-red-600",children:h})]}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[P.jsxs(Et,{variant:"secondary",onClick:e,disabled:d,children:[" ","Cancel"]}),P.jsx(Et,{onClick:m,disabled:d,children:d?"Saving...":"Save Changes"})]})]})},Cse=new ln,kse=({isOpen:t,onClose:e,onSave:n,appCode:r,areaCode:i,subArea:o})=>{const[s,a]=Ee(""),[l,c]=Ee(""),[u,d]=Ee("active"),[f,h]=Ee(!1),[p,m]=Ee(null);bt(()=>{o&&(a(o.title),c(o.description||""),d(o.status||"active"))},[o]);const g=async()=>{if(!s.trim()){m("Title is required.");return}h(!0),m(null);try{const v=await Cse.workspaces.updateSubArea(r,i,o.code,s,l,u);v.success?(n(),e()):m(v.message||"Failed to update subarea.")}catch(v){console.error("Failed to update subarea:",v),m(v.message||"An unexpected error occurred.")}finally{h(!1)}};return bt(()=>{t&&(a(o?.title||""),c(o?.description||""),d(o?.status||"active"),m(null),h(!1))},[t,o]),P.jsxs($E,{onClose:e,title:`Edit SubArea: ${o?.title}`,children:[" ",P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"subarea-title",children:"Title"}),P.jsx(yr,{id:"subarea-title",value:s,onChange:v=>a(v.target.value),placeholder:"Enter subarea title",disabled:f})]}),P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"subarea-description",children:"Description"}),P.jsx(yr,{id:"subarea-description",value:l,onChange:v=>c(v.target.value),placeholder:"Enter subarea description",disabled:f})]}),P.jsxs("div",{children:[P.jsx(Ul,{htmlFor:"subarea-status",children:"Status"}),P.jsxs(LE,{id:"subarea-status",value:u,onValueChange:v=>d(v),disabled:f,children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),p&&P.jsx("p",{className:"text-sm text-red-600",children:p})]}),P.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[P.jsx(Et,{variant:"secondary",onClick:e,disabled:f,children:"Cancel"}),P.jsx(Et,{onClick:g,disabled:f,children:f?"Saving...":"Save Changes"})]})]})},zc=new ln,jO=({isMobileOpen:t,onCloseMobile:e,isCollapsed:n,onToggleCollapse:r})=>{const i=yu(),[o,s]=Ee([]),[a,l]=Ee(new Set),[c,u]=Ee(new Set),[d,f]=Ee(!0),[,h]=Ee(null),[p,m]=Ee(!1),[g,v]=Ee(!1),[y,_]=Ee(!1),[b,x]=Ee(!1),[w,E]=Ee(!1),[S,k]=Ee(!1),[I,M]=Ee(!1),[R,D]=Ee(null),[C,V]=Ee(null),[J,Y]=Ee(null),[j,B]=Ee(null),[G,z]=Ee(null),[N,F]=Ee(null),[W,X]=Ee(null);bt(()=>{oe()},[]),bt(()=>{const se=te=>{W&&!te.target.closest(".menu-container")&&X(null)};return document.addEventListener("click",se),()=>document.removeEventListener("click",se)},[W]);const oe=async()=>{try{f(!0);const se=await zc.workspaces.listWorkspaces(),te=await Promise.all(se.map(async he=>{const le=await zc.workspaces.loadProjectConfig(he.code);return{code:he.code,title:he.title||he.description||he.code,areas:(le?.areas||[]).map(fe=>({...fe,description:fe.description||"",status:fe.status||"active",processes:fe.processes||[],subareas:(fe.subareas||[]).map(ke=>({...ke,description:ke.description||"",status:ke.status||"active",processes:ke.processes||[]}))}))}}));s(te)}catch(se){console.error("Failed to load workspaces:",se),h(se.message)}finally{f(!1)}},L=async se=>{if(confirm("Are you sure you want to delete this workspace?"))try{const te=await zc.workspaces.deleteWorkspace(se);te.success?(await oe(),i("/")):h(te.message)}catch(te){h(te.message)}},O=async(se,te)=>{if(confirm("Are you sure you want to delete this area?"))try{const he=await zc.workspaces.deleteArea(se,te);he.success?await oe():h(he.message)}catch(he){h(he.message)}},T=async(se,te,he)=>{if(confirm("Are you sure you want to delete this subarea?"))try{const le=await zc.workspaces.deleteSubArea(se,te,he);le.success?await oe():h(le.message)}catch(le){h(le.message)}},K=async(se,te,he,le)=>{if(confirm("Are you sure you want to delete this process?"))try{const fe=await zc.workspaces.deleteProcess(se,te,he,le);fe.success?(await oe(),i("/workspaces/"+se)):h(fe.message)}catch(fe){h(fe.message)}},Q=se=>{const te=new Set(a);te.has(se)?te.delete(se):te.add(se),l(te)},ae=se=>{const te=new Set(c);te.has(se)?te.delete(se):te.add(se),u(te)},ue=(se,te)=>{te.stopPropagation(),X(W===se?null:se)},A=[{name:"Dashboard",href:"/",icon:Noe},{name:"Settings",href:"/settings",icon:zoe}],ie=(se,te)=>P.jsxs("div",{className:"menu-container relative",children:[P.jsx("button",{onClick:he=>ue(se,he),className:"p-1 rounded-md hover:bg-gray-100",children:P.jsx(dq,{className:"h-4 w-4 text-gray-500"})}),W===se&&P.jsx("div",{className:"absolute right-0 mt-1 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:P.jsx("div",{className:"py-1",role:"menu",children:te.map((he,le)=>P.jsxs("button",{onClick:fe=>{fe.stopPropagation(),he.onClick(fe),X(null)},className:At("w-full text-left px-4 py-2 text-sm flex items-center hover:bg-gray-100",he.className),role:"menuitem",children:[he.icon,P.jsx("span",{className:"ml-2",children:he.label})]},le))})})]}),de=(se,te,he,le,fe)=>{const ke=`/process/${he.code}`,Je=`process-${he.code}`;return P.jsxs("div",{className:"flex items-center pl-12 py-1 text-sm",children:[P.jsxs(yx,{to:ke,className:({isActive:Ke})=>At("flex items-center flex-1 rounded-md px-2 py-1",Ke?"bg-primary-100 text-primary-700 font-medium":"text-gray-600 bg-blue-300 hover:bg-blue-400"),children:[P.jsx(_a,{className:"h-4 w-4 mr-2"}),P.jsx("span",{className:"truncate",children:he.title})]}),ie(Je,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>i(ke)},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>K(se,te,he.code,fe),className:"text-red-600 hover:text-red-700"}])]},he.code)},H=(se,te,he,le)=>{const fe=`subarea-${he.code}`;return P.jsxs("div",{className:"pl-8",children:[P.jsxs("div",{className:"flex items-center py-1 text-sm text-gray-600 bg-blue-200 hover:bg-blue-300 rounded-md px-2",children:[P.jsx(gs,{className:"h-4 w-4 mr-2"}),P.jsx("span",{className:"truncate flex-1 py-1",children:he.title}),ie(fe,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>{F({appCode:se,areaCode:te,subArea:he}),M(!0)}},{label:"Add Process",icon:P.jsx(_a,{className:"h-4 w-4"}),onClick:()=>{D(se),V(te),Y(he.code),x(!0)}},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>T(se,te,he.code),className:"text-red-600 hover:text-red-700"}])]}),he.processes.map(ke=>de(se,te,ke,le,he.code))]},he.code)},q=(se,te,he)=>{const le=c.has(te.code),fe=`area-${te.code}`;return P.jsxs("div",{children:[P.jsxs("div",{className:At("flex items-center py-1",he?"pl-1 justify-center":"pl-6"),children:[P.jsxs("button",{onClick:()=>ae(te.code),className:At("flex items-center flex-1 text-sm text-gray-700 hover:bg-blue-200 rounded-md py-1",he?"px-1 justify-center bg-blue-100":"px-2 bg-blue-100"),title:he?te.title:void 0,children:[!he&&(le?P.jsx(hg,{className:"h-4 w-4 mr-1 flex-shrink-0"}):P.jsx(pg,{className:"h-4 w-4 mr-1 flex-shrink-0"})),P.jsx(gs,{className:At("h-4 w-4 flex-shrink-0",!he&&"mr-2")}),!he&&P.jsx("span",{className:"truncate",children:te.title})]}),!he&&ie(fe,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>{z({appCode:se,area:te}),k(!0)}},{label:"Add SubArea",icon:P.jsx(gs,{className:"h-4 w-4"}),onClick:()=>{D(se),V(te.code),_(!0)}},{label:"Add Process",icon:P.jsx(_a,{className:"h-4 w-4"}),onClick:()=>{D(se),V(te.code),x(!0)}},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>O(se,te.code),className:"text-red-600 hover:text-red-700"}])]}),le&&!he&&P.jsxs("div",{className:"mt-1",children:[te.processes?.map(ke=>de(se,te.code,ke,he,void 0)),te.subareas?.map(ke=>H(se,te.code,ke,he))]})]},te.code)},Z=(se,te)=>{const he=a.has(se.code),le=`app-${se.code}`;return P.jsxs("div",{className:"py-1",children:[P.jsxs("div",{className:At("flex items-center",te?"justify-center":"pl-4"),children:[P.jsxs("button",{onClick:()=>Q(se.code),className:At("flex items-center flex-1 text-sm font-medium text-gray-800 hover:bg-blue-100 rounded-md py-1",te?"px-1 justify-center":"px-2"),title:te?se.title:void 0,children:[!te&&(he?P.jsx(hg,{className:"h-4 w-4 mr-1 flex-shrink-0"}):P.jsx(pg,{className:"h-4 w-4 mr-1 flex-shrink-0"})),P.jsx(df,{className:At("h-4 w-4 flex-shrink-0",!te&&"mr-2")}),!te&&P.jsx("span",{className:"truncate",children:se.title})]}),!te&&ie(le,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>{B(se.code),E(!0)}},{label:"Add Area",icon:P.jsx(gs,{className:"h-4 w-4"}),onClick:()=>{D(se.code),v(!0)}},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>L(se.code),className:"text-red-600 hover:text-red-700"}])]}),he&&!te&&P.jsx("div",{className:"mt-1",children:se.areas.map(fe=>q(se.code,fe,te))})]},se.code)},pe=At("flex flex-col h-full bg-white border-r border-gray-200 shadow-lg");return P.jsxs("div",{className:pe,children:[P.jsxs("div",{className:At("flex items-center justify-between h-16 px-4 border-b border-gray-200 shrink-0",n&&!t&&"justify-center"),children:[(!n||t)&&P.jsxs("div",{className:"flex items-center",children:[P.jsx(_a,{className:"h-7 w-7 text-primary-600"}),P.jsxs("span",{className:"ml-2 text-lg font-semibold text-gray-800 truncate",children:[t?"Menu":"IGRP Studio"," "]})]}),!t&&P.jsx("button",{onClick:r,className:At("p-1 rounded-md hover:bg-gray-200 focus:outline-none",n?"mx-auto":"ml-2"),"aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?P.jsx($O,{className:"h-5 w-5 text-gray-600"}):P.jsx(MO,{className:"h-5 w-5 text-gray-600"})}),t&&P.jsx("button",{onClick:e,className:"p-1 rounded-md hover:bg-gray-200 focus:outline-none","aria-label":"Close sidebar",children:P.jsx(gc,{className:"h-5 w-5 text-gray-600"})})]}),P.jsxs("div",{className:At("flex-1 overflow-y-auto overflow-x-hidden py-4",n&&!t?"px-1":"px-2"),children:[P.jsx("nav",{className:"space-y-1",children:A.map(se=>P.jsxs(yx,{to:se.href,onClick:t?e:void 0,className:({isActive:te})=>At("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors",n&&!t?"justify-center":"",te?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),title:n&&!t?se.name:void 0,end:se.href==="/",children:[P.jsx(se.icon,{className:At("h-5 w-5",n&&!t?"":"mr-3"),"aria-hidden":"true"}),!(n&&!t)&&P.jsx("span",{children:se.name})]},se.name))}),P.jsxs("div",{className:"pt-6",children:[P.jsxs("div",{className:At("mb-2 flex items-center justify-between",n&&!t?"px-0 justify-center":"px-3"),children:[!(n&&!t)&&P.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Workspaces"}),P.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>{m(!0),t&&e()},icon:P.jsx(df,{className:At("h-4 w-4",n&&!t&&"h-5 w-5")}),title:"New Workspace",children:!(n&&!t)&&P.jsx("span",{className:"sr-only sm:not-sr-only sm:ml-1",children:"New"})})]}),d?P.jsx("div",{className:"flex justify-center py-4",children:P.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"})}):o.length>0?P.jsx("div",{className:"space-y-1",children:o.map(se=>Z(se,n&&!t))}):!(n&&!t)&&P.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No workspaces found"})]})]}),!t&&P.jsx("div",{className:"flex-shrink-0 p-2 border-t border-gray-200",children:P.jsxs(Et,{variant:"ghost",size:"sm",className:"w-full flex items-center justify-center text-gray-600 hover:bg-gray-100",onClick:r,title:n?"Expand sidebar":"Collapse sidebar",children:[n?P.jsx($O,{className:"h-5 w-5"}):P.jsx(MO,{className:"h-5 w-5"}),!n&&P.jsx("span",{className:"ml-2 text-sm",children:"Collapse"})]})}),p&&P.jsx(ME,{onClose:()=>m(!1),onCreated:oe}),g&&R&&P.jsx(hq,{workspaceCode:R,onClose:()=>{v(!1),D(null)},onCreated:oe}),y&&R&&C&&P.jsx(pq,{workspaceCode:R,areaCode:C,onClose:()=>{_(!1),D(null),V(null)},onCreated:oe}),b&&R&&C&&P.jsx(mq,{workspaceCode:R,initialArea:C,initialSubArea:J,onClose:()=>{x(!1),D(null),V(null),Y(null)},onCreated:se=>{oe(),i(`/process/${se}`)}}),w&&j&&P.jsx(wse,{workspaceCode:j,onClose:()=>{E(!1),B(null)},onUpdated:()=>{oe(),E(!1),B(null)}}),S&&G&&P.jsx(Sse,{isOpen:S,appCode:G.appCode,area:G.area,onClose:()=>{k(!1),z(null)},onSave:()=>{oe(),k(!1),z(null)}}),I&&N&&P.jsx(kse,{isOpen:I,appCode:N.appCode,areaCode:N.areaCode,subArea:N?.subArea,onClose:()=>{M(!1),F(null)},onSave:()=>{oe(),M(!1),F(null)}})]})},Ev=ore(null);Ev.displayName="PanelGroupContext";const hn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},jE=10,Wl=sre,BO=_e.useId,Ose=typeof BO=="function"?BO:()=>null;let Rse=0;function BE(t=null){const e=Ose(),n=on(t||e||null);return n.current===null&&(n.current=""+Rse++),t??n.current}function bq({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:s,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:d,order:f,style:h,tagName:p="div",...m}){const g=SE(Ev);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:y,getPanelSize:_,getPanelStyle:b,groupId:x,isPanelCollapsed:w,reevaluatePanelConstraints:E,registerPanel:S,resizePanel:k,unregisterPanel:I}=g,M=BE(s),R=on({callbacks:{onCollapse:c,onExpand:u,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:M,idIsFromProps:s!==void 0,order:f});on({didLogMissingDefaultSizeWarning:!1}),Wl(()=>{const{callbacks:C,constraints:V}=R.current,J={...V};R.current.id=M,R.current.idIsFromProps=s!==void 0,R.current.order=f,C.onCollapse=c,C.onExpand=u,C.onResize=d,V.collapsedSize=n,V.collapsible=r,V.defaultSize=i,V.maxSize=a,V.minSize=l,(J.collapsedSize!==V.collapsedSize||J.collapsible!==V.collapsible||J.maxSize!==V.maxSize||J.minSize!==V.minSize)&&E(R.current,J)}),Wl(()=>{const C=R.current;return S(C),()=>{I(C)}},[f,M,S,I]),jz(o,()=>({collapse:()=>{v(R.current)},expand:C=>{y(R.current,C)},getId(){return M},getSize(){return _(R.current)},isCollapsed(){return w(R.current)},isExpanded(){return!w(R.current)},resize:C=>{k(R.current,C)}}),[v,y,_,w,M,k]);const D=b(R.current,i);return $s(p,{...m,children:t,className:e,id:M,style:{...D,...h},[hn.groupId]:x,[hn.panel]:"",[hn.panelCollapsible]:r||void 0,[hn.panelId]:M,[hn.panelSize]:parseFloat(""+D.flexGrow).toFixed(1)})}const _q=EE((t,e)=>$s(bq,{...t,forwardedRef:e}));bq.displayName="Panel";_q.displayName="forwardRef(Panel)";let Sx=null,Sm=-1,ga=null;function Pse(t,e){if(e){const n=(e&Cq)!==0,r=(e&kq)!==0,i=(e&Oq)!==0,o=(e&Rq)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ase(){ga!==null&&(document.head.removeChild(ga),Sx=null,ga=null,Sm=-1)}function n3(t,e){var n,r;const i=Pse(t,e);if(Sx!==i){if(Sx=i,ga===null&&(ga=document.createElement("style"),document.head.appendChild(ga)),Sm>=0){var o;(o=ga.sheet)===null||o===void 0||o.removeRule(Sm)}Sm=(n=(r=ga.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&n!==void 0?n:-1}}function xq(t){return t.type==="keydown"}function wq(t){return t.type.startsWith("pointer")}function Eq(t){return t.type.startsWith("mouse")}function Sv(t){if(wq(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Eq(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Tse(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Ise(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Dse(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:qO(t),b:qO(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;ct(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:zO(FO(n.a)),b:zO(FO(n.b))};if(i.a===i.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let a=o.length;for(;a--;){const l=o[a];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const Mse=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $se(t){var e;const n=getComputedStyle((e=Sq(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function Nse(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||$se(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Mse.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function FO(t){let e=t.length;for(;e--;){const n=t[e];if(ct(n,"Missing node"),Nse(n))return n}return null}function zO(t){return t&&Number(getComputedStyle(t).zIndex)||0}function qO(t){const e=[];for(;t;)e.push(t),t=Sq(t);return e}function Sq(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Cq=1,kq=2,Oq=4,Rq=8,Lse=Tse()==="coarse";let ro=[],x0=!1,va=new Map,Cv=new Map;const Mf=new Set;function jse(t,e,n,r,i){var o;const{ownerDocument:s}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(o=va.get(s))!==null&&o!==void 0?o:0;return va.set(s,l+1),Mf.add(a),mg(),function(){var u;Cv.delete(t),Mf.delete(a);const d=(u=va.get(s))!==null&&u!==void 0?u:1;if(va.set(s,d-1),mg(),d===1&&va.delete(s),ro.includes(a)){const f=ro.indexOf(a);f>=0&&ro.splice(f,1),zE(),i("up",!0,null)}}}function Bse(t){const{target:e}=t,{x:n,y:r}=Sv(t);x0=!0,FE({target:e,x:n,y:r}),mg(),ro.length>0&&(gg("down",t),t.preventDefault(),Pq(e)||t.stopImmediatePropagation())}function r3(t){const{x:e,y:n}=Sv(t);if(x0&&t.buttons===0&&(x0=!1,gg("up",t)),!x0){const{target:r}=t;FE({target:r,x:e,y:n})}gg("move",t),zE(),ro.length>0&&t.preventDefault()}function i3(t){const{target:e}=t,{x:n,y:r}=Sv(t);Cv.clear(),x0=!1,ro.length>0&&(t.preventDefault(),Pq(e)||t.stopImmediatePropagation()),gg("up",t),FE({target:e,x:n,y:r}),zE(),mg()}function Pq(t){let e=t;for(;e;){if(e.hasAttribute(hn.resizeHandle))return!0;e=e.parentElement}return!1}function FE({target:t,x:e,y:n}){ro.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),Mf.forEach(i=>{const{element:o,hitAreaMargins:s}=i,a=o.getBoundingClientRect(),{bottom:l,left:c,right:u,top:d}=a,f=Lse?s.coarse:s.fine;if(e>=c-f&&e<=u+f&&n>=d-f&&n<=l+f){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Dse(r,o)>0){let p=r,m=!1;for(;p&&!p.contains(o);){if(Ise(p.getBoundingClientRect(),a)){m=!0;break}p=p.parentElement}if(m)return}ro.push(i)}})}function o3(t,e){Cv.set(t,e)}function zE(){let t=!1,e=!1;ro.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;Cv.forEach(r=>{n|=r}),t&&e?n3("intersection",n):t?n3("horizontal",n):e?n3("vertical",n):Ase()}let s3=new AbortController;function mg(){s3.abort(),s3=new AbortController;const t={capture:!0,signal:s3.signal};Mf.size&&(x0?(ro.length>0&&va.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("contextmenu",i3,t),r.addEventListener("pointerleave",r3,t),r.addEventListener("pointermove",r3,t))}),va.forEach((e,n)=>{const{body:r}=n;r.addEventListener("pointerup",i3,t),r.addEventListener("pointercancel",i3,t)})):va.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("pointerdown",Bse,t),r.addEventListener("pointermove",r3,t))}))}function gg(t,e){Mf.forEach(n=>{const{setResizeHandlerState:r}=n,i=ro.includes(n);r(t,i,e)})}function Fse(){const[t,e]=Ee(0);return _n(()=>e(n=>n+1),[])}function ct(t,e){if(!t)throw console.error(e),Error(e)}function tc(t,e,n=jE){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function hs(t,e,n=jE){return tc(t,e,n)===0}function ai(t,e,n){return tc(t,e,n)===0}function zse(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],o=e[r];if(!ai(i,o,n))return!1}return!0}function d0({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];ct(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:o,maxSize:s=100,minSize:a=0}=r;if(tc(n,a)<0)if(o){const l=(i+a)/2;tc(n,l)<0?n=i:n=a}else n=a;return n=Math.min(s,n),n=parseFloat(n.toFixed(jE)),n}function Xd({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(ai(t,0))return e;const s=[...e],[a,l]=r;ct(a!=null,"Invalid first pivot index"),ct(l!=null,"Invalid second pivot index");let c=0;if(o==="keyboard"){{const d=t<0?l:a,f=n[d];ct(f,`Panel constraints not found for index ${d}`);const{collapsedSize:h=0,collapsible:p,minSize:m=0}=f;if(p){const g=e[d];if(ct(g!=null,`Previous layout not found for panel index ${d}`),ai(g,h)){const v=m-g;tc(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}{const d=t<0?a:l,f=n[d];ct(f,`No panel constraints found for index ${d}`);const{collapsedSize:h=0,collapsible:p,minSize:m=0}=f;if(p){const g=e[d];if(ct(g!=null,`Previous layout not found for panel index ${d}`),ai(g,m)){const v=g-h;tc(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}}{const d=t<0?1:-1;let f=t<0?l:a,h=0;for(;;){const m=e[f];ct(m!=null,`Previous layout not found for panel index ${f}`);const v=d0({panelConstraints:n,panelIndex:f,size:100})-m;if(h+=v,f+=d,f<0||f>=n.length)break}const p=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-p:p}{let f=t<0?a:l;for(;f>=0&&f<n.length;){const h=Math.abs(t)-Math.abs(c),p=e[f];ct(p!=null,`Previous layout not found for panel index ${f}`);const m=p-h,g=d0({panelConstraints:n,panelIndex:f,size:m});if(!ai(p,g)&&(c+=p-g,s[f]=g,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(zse(i,s))return i;{const d=t<0?l:a,f=e[d];ct(f!=null,`Previous layout not found for panel index ${d}`);const h=f+c,p=d0({panelConstraints:n,panelIndex:d,size:h});if(s[d]=p,!ai(p,h)){let m=h-p,v=t<0?l:a;for(;v>=0&&v<n.length;){const y=s[v];ct(y!=null,`Previous layout not found for panel index ${v}`);const _=y+m,b=d0({panelConstraints:n,panelIndex:v,size:_});if(ai(y,b)||(m-=b-y,s[v]=b),ai(m,0))break;t>0?v--:v++}}}const u=s.reduce((d,f)=>f+d,0);return ai(u,100)?s:i}function qse({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,o=0,s=0;const a=n[0];ct(a!=null,"No pivot index found"),e.forEach((d,f)=>{const{constraints:h}=d,{maxSize:p=100,minSize:m=0}=h;f===a?(r=m,i=p):(o+=m,s+=p)});const l=Math.min(i,100-o),c=Math.max(r,100-s),u=t[a];return{valueMax:l,valueMin:c,valueNow:u}}function $f(t,e=document){return Array.from(e.querySelectorAll(`[${hn.resizeHandleId}][data-panel-group-id="${t}"]`))}function Aq(t,e,n=document){const i=$f(t,n).findIndex(o=>o.getAttribute(hn.resizeHandleId)===e);return i??null}function Tq(t,e,n){const r=Aq(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Vse(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function Iq(t,e=document){if(Vse(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function kv(t,e=document){const n=e.querySelector(`[${hn.resizeHandleId}="${t}"]`);return n||null}function Hse(t,e,n,r=document){var i,o,s,a;const l=kv(e,r),c=$f(t,r),u=l?c.indexOf(l):-1,d=(i=(o=n[u])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,f=(s=(a=n[u+1])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null;return[d,f]}function Use({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:s}){on({didWarnAboutMissingResizeHandle:!1}),Wl(()=>{if(!o)return;const a=$f(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:u,valueNow:d}=qse({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),f=a[l];if(f!=null){const h=i[l];ct(h,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",h.id),f.setAttribute("aria-valuemax",""+Math.round(c)),f.setAttribute("aria-valuemin",""+Math.round(u)),f.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),bt(()=>{if(!o)return;const a=e.current;ct(a,"Eager values not found");const{panelDataArray:l}=a,c=Iq(n,o);ct(c!=null,`No group found for id "${n}"`);const u=$f(n,o);ct(u,`No resize handles found for group id "${n}"`);const d=u.map(f=>{const h=f.getAttribute(hn.resizeHandleId);ct(h,"Resize handle element has no handle id attribute");const[p,m]=Hse(n,h,l,o);if(p==null||m==null)return()=>{};const g=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const y=l.findIndex(_=>_.id===p);if(y>=0){const _=l[y];ct(_,`No panel data found for index ${y}`);const b=r[y],{collapsedSize:x=0,collapsible:w,minSize:E=0}=_.constraints;if(b!=null&&w){const S=Xd({delta:ai(b,x)?E-x:x-b,initialLayout:r,panelConstraints:l.map(k=>k.constraints),pivotIndices:Tq(n,h,o),prevLayout:r,trigger:"keyboard"});r!==S&&s(S)}}break}}};return f.addEventListener("keydown",g),()=>{f.removeEventListener("keydown",g)}});return()=>{d.forEach(f=>f())}},[o,t,e,n,r,i,s])}function VO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Dq(t,e){const n=t==="horizontal",{x:r,y:i}=Sv(e);return n?r:i}function Wse(t,e,n,r,i){const o=n==="horizontal",s=kv(e,i);ct(s,`No resize handle element found for id "${e}"`);const a=s.getAttribute(hn.groupId);ct(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Dq(n,t),u=Iq(a,i);ct(u,`No group element found for id "${a}"`);const d=u.getBoundingClientRect(),f=o?d.width:d.height;return(c-l)/f*100}function Gse(t,e,n,r,i,o){if(xq(t)){const s=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=s?0:a;break;case"ArrowLeft":l=s?-a:0;break;case"ArrowRight":l=s?a:0;break;case"ArrowUp":l=s?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Wse(t,e,n,r,o)}function Kse({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<t.length;o++){const s=n[o];ct(s,`Panel constraints not found for index ${o}`);const{defaultSize:a}=s;a!=null&&(r++,e[o]=a,i-=a)}for(let o=0;o<t.length;o++){const s=n[o];ct(s,`Panel constraints not found for index ${o}`);const{defaultSize:a}=s;if(a!=null)continue;const l=t.length-r,c=i/l;r++,e[o]=c,i-=c}return e}function qc(t,e,n){e.forEach((r,i)=>{const o=t[i];ct(o,`Panel data not found for index ${i}`);const{callbacks:s,constraints:a,id:l}=o,{collapsedSize:c=0,collapsible:u}=a,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:f,onExpand:h,onResize:p}=s;p&&p(r,d),u&&(f||h)&&(h&&(d==null||hs(d,c))&&!hs(r,c)&&h(),f&&(d==null||!hs(d,c))&&hs(r,c)&&f())}})}function jp(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Xse({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:o=3}){const s=n[i];let a;return s==null?a=t!=null?t.toPrecision(o):"1":r.length===1?a="1":a=s.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Yse(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function HO(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Mq(t){return`react-resizable-panels:${t}`}function $q(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=e;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Nq(t,e){try{const n=Mq(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Qse(t,e,n){var r,i;const o=(r=Nq(t,n))!==null&&r!==void 0?r:{},s=$q(e);return(i=o[s])!==null&&i!==void 0?i:null}function Zse(t,e,n,r,i){var o;const s=Mq(t),a=$q(e),l=(o=Nq(t,i))!==null&&o!==void 0?o:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(s,JSON.stringify(l))}catch(c){console.error(c)}}function UO({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,s)=>o+s,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!ai(r,100)&&n.length>0)for(let o=0;o<e.length;o++){const s=n[o];ct(s!=null,`No layout data found for index ${o}`);const a=100/r*s;n[o]=a}let i=0;for(let o=0;o<e.length;o++){const s=n[o];ct(s!=null,`No layout data found for index ${o}`);const a=d0({panelConstraints:e,panelIndex:o,size:s});s!=a&&(i+=s-a,n[o]=a)}if(!ai(i,0))for(let o=0;o<e.length;o++){const s=n[o];ct(s!=null,`No layout data found for index ${o}`);const a=s+i,l=d0({panelConstraints:e,panelIndex:o,size:a});if(s!==l&&(i-=l-s,n[o]=l,ai(i,0)))break}return n}const Jse=100,Yd={getItem:t=>(HO(Yd),Yd.getItem(t)),setItem:(t,e)=>{HO(Yd),Yd.setItem(t,e)}},WO={};function Lq({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:s=null,keyboardResizeBy:a=null,storage:l=Yd,style:c,tagName:u="div",...d}){const f=BE(o),h=on(null),[p,m]=Ee(null),[g,v]=Ee([]),y=Fse(),_=on({}),b=on(new Map),x=on(0),w=on({autoSaveId:t,direction:r,dragState:p,id:f,keyboardResizeBy:a,onLayout:s,storage:l}),E=on({layout:g,panelDataArray:[],panelDataArrayChanged:!1});on({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),jz(i,()=>({getId:()=>w.current.id,getLayout:()=>{const{layout:F}=E.current;return F},setLayout:F=>{const{onLayout:W}=w.current,{layout:X,panelDataArray:oe}=E.current,L=UO({layout:F,panelConstraints:oe.map(O=>O.constraints)});VO(X,L)||(v(L),E.current.layout=L,W&&W(L),qc(oe,L,_.current))}}),[]),Wl(()=>{w.current.autoSaveId=t,w.current.direction=r,w.current.dragState=p,w.current.id=f,w.current.onLayout=s,w.current.storage=l}),Use({committedValuesRef:w,eagerValuesRef:E,groupId:f,layout:g,panelDataArray:E.current.panelDataArray,setLayout:v,panelGroupElement:h.current}),bt(()=>{const{panelDataArray:F}=E.current;if(t){if(g.length===0||g.length!==F.length)return;let W=WO[t];W==null&&(W=Yse(Zse,Jse),WO[t]=W);const X=[...F],oe=new Map(b.current);W(t,X,oe,g,l)}},[t,g,l]),bt(()=>{});const S=_n(F=>{const{onLayout:W}=w.current,{layout:X,panelDataArray:oe}=E.current;if(F.constraints.collapsible){const L=oe.map(Q=>Q.constraints),{collapsedSize:O=0,panelSize:T,pivotIndices:K}=fl(oe,F,X);if(ct(T!=null,`Panel size not found for panel "${F.id}"`),!hs(T,O)){b.current.set(F.id,T);const ae=l0(oe,F)===oe.length-1?T-O:O-T,ue=Xd({delta:ae,initialLayout:X,panelConstraints:L,pivotIndices:K,prevLayout:X,trigger:"imperative-api"});jp(X,ue)||(v(ue),E.current.layout=ue,W&&W(ue),qc(oe,ue,_.current))}}},[]),k=_n((F,W)=>{const{onLayout:X}=w.current,{layout:oe,panelDataArray:L}=E.current;if(F.constraints.collapsible){const O=L.map(A=>A.constraints),{collapsedSize:T=0,panelSize:K=0,minSize:Q=0,pivotIndices:ae}=fl(L,F,oe),ue=W??Q;if(hs(K,T)){const A=b.current.get(F.id),ie=A!=null&&A>=ue?A:ue,H=l0(L,F)===L.length-1?K-ie:ie-K,q=Xd({delta:H,initialLayout:oe,panelConstraints:O,pivotIndices:ae,prevLayout:oe,trigger:"imperative-api"});jp(oe,q)||(v(q),E.current.layout=q,X&&X(q),qc(L,q,_.current))}}},[]),I=_n(F=>{const{layout:W,panelDataArray:X}=E.current,{panelSize:oe}=fl(X,F,W);return ct(oe!=null,`Panel size not found for panel "${F.id}"`),oe},[]),M=_n((F,W)=>{const{panelDataArray:X}=E.current,oe=l0(X,F);return Xse({defaultSize:W,dragState:p,layout:g,panelData:X,panelIndex:oe})},[p,g]),R=_n(F=>{const{layout:W,panelDataArray:X}=E.current,{collapsedSize:oe=0,collapsible:L,panelSize:O}=fl(X,F,W);return ct(O!=null,`Panel size not found for panel "${F.id}"`),L===!0&&hs(O,oe)},[]),D=_n(F=>{const{layout:W,panelDataArray:X}=E.current,{collapsedSize:oe=0,collapsible:L,panelSize:O}=fl(X,F,W);return ct(O!=null,`Panel size not found for panel "${F.id}"`),!L||tc(O,oe)>0},[]),C=_n(F=>{const{panelDataArray:W}=E.current;W.push(F),W.sort((X,oe)=>{const L=X.order,O=oe.order;return L==null&&O==null?0:L==null?-1:O==null?1:L-O}),E.current.panelDataArrayChanged=!0,y()},[y]);Wl(()=>{if(E.current.panelDataArrayChanged){E.current.panelDataArrayChanged=!1;const{autoSaveId:F,onLayout:W,storage:X}=w.current,{layout:oe,panelDataArray:L}=E.current;let O=null;if(F){const K=Qse(F,L,X);K&&(b.current=new Map(Object.entries(K.expandToSizes)),O=K.layout)}O==null&&(O=Kse({panelDataArray:L}));const T=UO({layout:O,panelConstraints:L.map(K=>K.constraints)});VO(oe,T)||(v(T),E.current.layout=T,W&&W(T),qc(L,T,_.current))}}),Wl(()=>{const F=E.current;return()=>{F.layout=[]}},[]);const V=_n(F=>{let W=!1;const X=h.current;return X&&window.getComputedStyle(X,null).getPropertyValue("direction")==="rtl"&&(W=!0),function(L){L.preventDefault();const O=h.current;if(!O)return()=>null;const{direction:T,dragState:K,id:Q,keyboardResizeBy:ae,onLayout:ue}=w.current,{layout:A,panelDataArray:ie}=E.current,{initialLayout:de}=K??{},H=Tq(Q,F,O);let q=Gse(L,F,T,K,ae,O);const Z=T==="horizontal";Z&&W&&(q=-q);const pe=ie.map(he=>he.constraints),se=Xd({delta:q,initialLayout:de??A,panelConstraints:pe,pivotIndices:H,prevLayout:A,trigger:xq(L)?"keyboard":"mouse-or-touch"}),te=!jp(A,se);(wq(L)||Eq(L))&&x.current!=q&&(x.current=q,!te&&q!==0?Z?o3(F,q<0?Cq:kq):o3(F,q<0?Oq:Rq):o3(F,0)),te&&(v(se),E.current.layout=se,ue&&ue(se),qc(ie,se,_.current))}},[]),J=_n((F,W)=>{const{onLayout:X}=w.current,{layout:oe,panelDataArray:L}=E.current,O=L.map(A=>A.constraints),{panelSize:T,pivotIndices:K}=fl(L,F,oe);ct(T!=null,`Panel size not found for panel "${F.id}"`);const ae=l0(L,F)===L.length-1?T-W:W-T,ue=Xd({delta:ae,initialLayout:oe,panelConstraints:O,pivotIndices:K,prevLayout:oe,trigger:"imperative-api"});jp(oe,ue)||(v(ue),E.current.layout=ue,X&&X(ue),qc(L,ue,_.current))},[]),Y=_n((F,W)=>{const{layout:X,panelDataArray:oe}=E.current,{collapsedSize:L=0,collapsible:O}=W,{collapsedSize:T=0,collapsible:K,maxSize:Q=100,minSize:ae=0}=F.constraints,{panelSize:ue}=fl(oe,F,X);ue!=null&&(O&&K&&hs(ue,L)?hs(L,T)||J(F,T):ue<ae?J(F,ae):ue>Q&&J(F,Q))},[J]),j=_n((F,W)=>{const{direction:X}=w.current,{layout:oe}=E.current;if(!h.current)return;const L=kv(F,h.current);ct(L,`Drag handle element not found for id "${F}"`);const O=Dq(X,W);m({dragHandleId:F,dragHandleRect:L.getBoundingClientRect(),initialCursorPosition:O,initialLayout:oe})},[]),B=_n(()=>{m(null)},[]),G=_n(F=>{const{panelDataArray:W}=E.current,X=l0(W,F);X>=0&&(W.splice(X,1),delete _.current[F.id],E.current.panelDataArrayChanged=!0,y())},[y]),z=are(()=>({collapsePanel:S,direction:r,dragState:p,expandPanel:k,getPanelSize:I,getPanelStyle:M,groupId:f,isPanelCollapsed:R,isPanelExpanded:D,reevaluatePanelConstraints:Y,registerPanel:C,registerResizeHandle:V,resizePanel:J,startDragging:j,stopDragging:B,unregisterPanel:G,panelGroupElement:h.current}),[S,p,r,k,I,M,f,R,D,Y,C,V,J,j,B,G]),N={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return $s(Ev.Provider,{value:z},$s(u,{...d,children:e,className:n,id:o,ref:h,style:{...N,...c},[hn.group]:"",[hn.groupDirection]:r,[hn.groupId]:f}))}const jq=EE((t,e)=>$s(Lq,{...t,forwardedRef:e}));Lq.displayName="PanelGroup";jq.displayName="forwardRef(PanelGroup)";function l0(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function fl(t,e,n){const r=l0(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],s=n[r];return{...e.constraints,panelSize:s,pivotIndices:o}}function eae({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){bt(()=>{if(t||n==null||r==null)return;const i=kv(e,r);if(i==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=i.getAttribute(hn.groupId);ct(a,`No group element found for id "${a}"`);const l=$f(a,r),c=Aq(a,e,r);ct(c!==null,`No resize element found for id "${e}"`);const u=s.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,t,e,n])}function Bq({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:s,onDragging:a,onFocus:l,onPointerDown:c,onPointerUp:u,style:d={},tabIndex:f=0,tagName:h="div",...p}){var m,g;const v=on(null),y=on({onClick:s,onDragging:a,onPointerDown:c,onPointerUp:u});bt(()=>{y.current.onClick=s,y.current.onDragging=a,y.current.onPointerDown=c,y.current.onPointerUp=u});const _=SE(Ev);if(_===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:x,registerResizeHandle:w,startDragging:E,stopDragging:S,panelGroupElement:k}=_,I=BE(i),[M,R]=Ee("inactive"),[D,C]=Ee(!1),[V,J]=Ee(null),Y=on({state:M});Wl(()=>{Y.current.state=M}),bt(()=>{if(n)J(null);else{const z=w(I);J(()=>z)}},[n,I,w]);const j=(m=r?.coarse)!==null&&m!==void 0?m:15,B=(g=r?.fine)!==null&&g!==void 0?g:5;return bt(()=>{if(n||V==null)return;const z=v.current;ct(z,"Element ref not attached");let N=!1;return jse(I,z,b,{coarse:j,fine:B},(W,X,oe)=>{if(!X){R("inactive");return}switch(W){case"down":{R("drag"),N=!1,ct(oe,'Expected event to be defined for "down" action'),E(I,oe);const{onDragging:L,onPointerDown:O}=y.current;L?.(!0),O?.();break}case"move":{const{state:L}=Y.current;N=!0,L!=="drag"&&R("hover"),ct(oe,'Expected event to be defined for "move" action'),V(oe);break}case"up":{R("hover"),S();const{onClick:L,onDragging:O,onPointerUp:T}=y.current;O?.(!1),T?.(),N||L?.();break}}})},[j,b,n,B,w,I,V,E,S]),eae({disabled:n,handleId:I,resizeHandler:V,panelGroupElement:k}),$s(h,{...p,children:t,className:e,id:i,onBlur:()=>{C(!1),o?.()},onFocus:()=>{C(!0),l?.()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...d},tabIndex:f,[hn.groupDirection]:b,[hn.groupId]:x,[hn.resizeHandle]:"",[hn.resizeHandleActive]:M==="drag"?"pointer":D?"keyboard":void 0,[hn.resizeHandleEnabled]:!n,[hn.resizeHandleId]:I,[hn.resizeHandleState]:M})}Bq.displayName="PanelResizeHandle";const tae=4,GO=16,nae=()=>{const[t,e]=Ee(!1),[n,r]=Ee(!1),[i,o]=Ee(GO),s=()=>{e(!1)},a=()=>{r(!n)},l=c=>{};return P.jsxs("div",{className:"min-h-screen bg-gray-50 flex relative",children:[" ",t&&P.jsx("div",{className:"fixed inset-0 z-30 bg-gray-900/50 lg:hidden",onClick:s}),P.jsx("div",{className:"hidden lg:flex h-screen",children:P.jsxs(jq,{direction:"horizontal",onLayout:l,children:[P.jsx(_q,{defaultSize:GO,minSize:tae,maxSize:50,collapsible:!0,onCollapse:()=>r(!0),onExpand:()=>r(!1),order:1,className:At("transition-all duration-300 ease-in-out"),children:P.jsx(jO,{isMobileOpen:!1,onCloseMobile:s,isCollapsed:n,onToggleCollapse:a})}),P.jsx(Bq,{className:At("w-1 bg-gray-300 hover:bg-primary-500 transition-colors duration-200",n&&"hidden")})]})}),P.jsx("div",{className:At("fixed top-0 left-0 z-40 h-screen transition-transform lg:hidden",t?"translate-x-0":"-translate-x-full","bg-white w-64 shadow-lg border-r border-gray-200"),children:P.jsx(jO,{isMobileOpen:t,onCloseMobile:s,isCollapsed:!1,onToggleCollapse:()=>{}})}),P.jsxs("div",{className:"flex flex-col flex-1 min-h-screen lg:ml-0",children:[" ",P.jsx("main",{className:"flex-1 overflow-y-auto",children:P.jsx("div",{children:P.jsx("div",{className:" mx-auto px-4 py-6",children:P.jsx(oie,{})})})})]})]})},qE=({title:t,description:e,actions:n,onCreateNew:r,createNewLabel:i="Create New"})=>P.jsx("div",{className:"border-b border-gray-200 pb-5 mb-6",children:P.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate mb-1",children:t}),e&&P.jsx("p",{className:"text-gray-600",children:e})]}),P.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[n,r&&P.jsx(Et,{variant:"primary",onClick:r,icon:P.jsx(Boe,{className:"h-4 w-4"}),children:i})]})]})});function Bp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a3={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var KO;function rae(){return KO||(KO=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof Bp=="function"&&Bp;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[c]={exports:{}};r[c][0].call(h.exports,function(p){var m=r[c][1][p];return s(m||p)},h,h.exports,n,r,i,o)}return i[c].exports}for(var a=typeof Bp=="function"&&Bp,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,f,h,p,m,g=[],v=0,y=l.length,_=y,b=o.getTypeOf(l)!=="string";v<l.length;)_=y-v,d=b?(c=l[v++],u=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),u=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=c>>2,h=(3&c)<<4|u>>4,p=1<_?(15&u)<<2|d>>6:64,m=2<_?63&d:64,g.push(a.charAt(f)+a.charAt(h)+a.charAt(p)+a.charAt(m));return g.join("")},i.decode=function(l){var c,u,d,f,h,p,m=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|_):new Array(0|_);m<l.length;)c=a.indexOf(l.charAt(m++))<<2|(f=a.indexOf(l.charAt(m++)))>>4,u=(15&f)<<4|(h=a.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(p=a.indexOf(l.charAt(m++))),y[g++]=c,h!==64&&(y[g++]=u),p!==64&&(y[g++]=d);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,h,p){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=p}c.prototype={getContentWorker:function(){var u=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(c,u,d,f){var h=s,p=f+d;c^=-1;for(var m=f;m<p;m++)c=c>>>8^h[255&(c^u[m])];return-1^c}(0|l,a,a.length,0):function(c,u,d,f){var h=s,p=f+d;c^=-1;for(var m=f;m<p;m++)c=c>>>8^h[255&(c^u.charCodeAt(m))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,p,m,g,v,y){var _,b,x=h.file,w=h.compression,E=y!==c.utf8encode,S=a.transformTo("string",y(x.name)),k=a.transformTo("string",c.utf8encode(x.name)),I=x.comment,M=a.transformTo("string",y(I)),R=a.transformTo("string",c.utf8encode(I)),D=k.length!==x.name.length,C=R.length!==I.length,V="",J="",Y="",j=x.dir,B=x.date,G={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(G.crc32=h.crc32,G.compressedSize=h.compressedSize,G.uncompressedSize=h.uncompressedSize);var z=0;p&&(z|=8),E||!D&&!C||(z|=2048);var N=0,F=0;j&&(N|=16),v==="UNIX"?(F=798,N|=function(X,oe){var L=X;return X||(L=oe?16893:33204),(65535&L)<<16}(x.unixPermissions,j)):(F=20,N|=function(X){return 63&(X||0)}(x.dosPermissions)),_=B.getUTCHours(),_<<=6,_|=B.getUTCMinutes(),_<<=5,_|=B.getUTCSeconds()/2,b=B.getUTCFullYear()-1980,b<<=4,b|=B.getUTCMonth()+1,b<<=5,b|=B.getUTCDate(),D&&(J=o(1,1)+o(u(S),4)+k,V+="up"+o(J.length,2)+J),C&&(Y=o(1,1)+o(u(M),4)+R,V+="uc"+o(Y.length,2)+Y);var W="";return W+=`
\0`,W+=o(z,2),W+=w.magic,W+=o(_,2),W+=o(b,2),W+=o(G.crc32,4),W+=o(G.compressedSize,4),W+=o(G.uncompressedSize,4),W+=o(S.length,2),W+=o(V.length,2),{fileRecord:d.LOCAL_FILE_HEADER+W+S+V,dirRecord:d.CENTRAL_FILE_HEADER+o(F,2)+W+o(M.length,2)+"\0\0\0\0"+o(N,4)+o(g,4)+S+V+M}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(h,p,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(h){var p=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var m=s(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,m=s(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(g){return d.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-h,g=function(v,y,_,b,x){var w=a.transformTo("string",x(b));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(y,4)+o(_,4)+o(w.length,2)+w}(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(m){p.processChunk(m)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(m){p.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<p.length;m++)try{p[m].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var p=function(y,_){var b=y||_,x=o[b];if(!x)throw new Error(b+" is not a valid compression method !");return x}(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,v=h.date;h._compressWorker(p,m).withStreamInfo("file",{name:f,dir:g,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new s.Promise(function(h,p){var m=f.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var p=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[s.Promise.resolve(m)],v=m.files;if(h.checkCRC32)for(var y=0;y<v.length;y++)g.push(d(v[y]));return s.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,y=0;y<v.length;y++){var _=v[y],b=_.fileNameStr,x=o.resolve(_.fileNameStr);p.file(x,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:h.createFolders}),_.dir||(p.file(x).unsafeOriginalName=b)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(x,w,E){var S,k=a.getTypeOf(w),I=a.extend(E||{},u);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(x=v(x)),I.createFolders&&(S=g(x))&&y.call(this,S,!0);var M=k==="string"&&I.binary===!1&&I.base64===!1;E&&E.binary!==void 0||(I.binary=!M),(w instanceof d&&w.uncompressedSize===0||I.dir||!w||w.length===0)&&(I.base64=!1,I.binary=!0,w="",I.compression="STORE",k="string");var R=null;R=w instanceof d||w instanceof l?w:p.isNode&&p.isStream(w)?new m(x,w):a.prepareContent(x,w,I.binary,I.optimizedBinaryString,I.base64);var D=new f(x,R,I);this.files[x]=D}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var w=x.lastIndexOf("/");return 0<w?x.substring(0,w):""},v=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},y=function(x,w){return w=w!==void 0?w:u.createFolders,x=v(x),this.files[x]||o.call(this,x,null,{dir:!0,createFolders:w}),this.files[x]};function _(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var w,E,S;for(w in this.files)S=this.files[w],(E=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&x(E,S)},filter:function(x){var w=[];return this.forEach(function(E,S){x(E,S)&&w.push(S)}),w},file:function(x,w,E){if(arguments.length!==1)return x=this.root+x,o.call(this,x,w,E),this;if(_(x)){var S=x;return this.filter(function(I,M){return!M.dir&&S.test(I)})}var k=this.files[this.root+x];return k&&!k.dir?k:null},folder:function(x){if(!x)return this;if(_(x))return this.filter(function(k,I){return I.dir&&x.test(k)});var w=this.root+x,E=y.call(this,w),S=this.clone();return S.root=E.name,S},remove:function(x){x=this.root+x;var w=this.files[x];if(w||(x.slice(-1)!=="/"&&(x+="/"),w=this.files[x]),w&&!w.dir)delete this.files[x];else for(var E=this.filter(function(k,I){return I.name.slice(0,x.length)===x}),S=0;S<E.length;S++)delete this.files[E[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var w,E={};try{if((E=a.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var S=E.comment||this.comment||"";w=h.generateWorker(this,E,S)}catch(k){(w=new l("error")).error(k)}return new c(w,E.type||"string",E.mimeType)},generateAsync:function(x,w){return this.generateInternalStream(x).accumulate(w)},generateNodeStream:function(x,w){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(w)}};r.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new c(d):s.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,m){return new u.Promise(function(g,v){var y=[],_=p._internalType,b=p._outputType,x=p._mimeType;p.on("data",function(w,E){y.push(w),m&&m(E)}).on("error",function(w){y=[],v(w)}).on("end",function(){try{var w=function(E,S,k){switch(E){case"blob":return o.newBlob(o.transformTo("arraybuffer",S),k);case"base64":return l.encode(S);default:return o.transformTo(E,S)}}(b,function(E,S){var k,I=0,M=null,R=0;for(k=0;k<S.length;k++)R+=S[k].length;switch(E){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(M=new Uint8Array(R),k=0;k<S.length;k++)M.set(S[k],I),I+=S[k].length;return M;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+E+"'")}}(_,y),x);g(w)}catch(E){v(E)}y=[]}).resume()})}function h(p,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,o.checkSupport(v),this._worker=p.pipe(new s(v)),p.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}h.prototype={accumulate:function(p){return f(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(v){m.call(g,v.data,v.meta)}):this._worker.on(p,function(){o.delay(m,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):function(p){var m,g,v,y,_,b=p.length,x=0;for(y=0;y<b;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<b&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),x+=g<128?1:g<2048?2:g<65536?3:4;for(m=s.uint8array?new Uint8Array(x):new Array(x),y=_=0;_<x;y++)(64512&(g=p.charCodeAt(y)))==55296&&y+1<b&&(64512&(v=p.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?m[_++]=g:(g<2048?m[_++]=192|g>>>6:(g<65536?m[_++]=224|g>>>12:(m[_++]=240|g>>>18,m[_++]=128|g>>>12&63),m[_++]=128|g>>>6&63),m[_++]=128|63&g);return m}(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(p){var m,g,v,y,_=p.length,b=new Array(2*_);for(m=g=0;m<_;)if((v=p[m++])<128)b[g++]=v;else if(4<(y=c[v]))b[g++]=65533,m+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&m<_;)v=v<<6|63&p[m++],y--;1<y?b[g++]=65533:v<65536?b[g++]=v:(v-=65536,b[g++]=55296|v>>10&1023,b[g++]=56320|1023&v)}return b.length!==g&&(b.subarray?b=b.subarray(0,g):b.length=g),o.applyFromCharCode(b)}(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(d,l),d.prototype.processChunk=function(h){var p=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(y,_){var b;for((_=_||y.length)>y.length&&(_=y.length),b=_-1;0<=b&&(192&y[b])==128;)b--;return b<0||b===0?_:b+c[y[b]]>_?b:_}(p),v=p;g!==p.length&&(s.uint8array?(v=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(v=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(v),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(m){return m}function u(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,v){var y=[],_=0,b=m.length;if(b<=v)return String.fromCharCode.apply(null,m);for(;_<b;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(_,Math.min(_+v,b)))):y.push(String.fromCharCode.apply(null,m.subarray(_,Math.min(_+v,b)))),_+=v;return y.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var g=65536,v=i.getTypeOf(m),y=!0;if(v==="uint8array"?y=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return d.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}i.applyFromCharCode=f;var p={};p.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,a.allocBuffer(m.length))}},p.array={string:f,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},p.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},p.nodebuffer={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var v=i.getTypeOf(g);return p[v][m](g)},i.resolve=function(m){for(var g=m.split("/"),v=[],y=0;y<g.length;y++){var _=g[y];_==="."||_===""&&y!==0&&y!==g.length-1||(_===".."?v.pop():v.push(_))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,v,y="";for(v=0;v<(m||"").length;v++)y+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return y},i.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},i.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},i.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},i.prepareContent=function(m,g,v,y,_){return l.Promise.resolve(g).then(function(b){return o.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new l.Promise(function(x,w){var E=new FileReader;E.onload=function(S){x(S.target.result)},E.onerror=function(S){w(S.target.error)},E.readAsArrayBuffer(b)}):b}).then(function(b){var x=i.getTypeOf(b);return x?(x==="arraybuffer"?b=i.transformTo("uint8array",b):x==="string"&&(_?b=s.decode(b):v&&y!==!0&&(b=function(w){return u(w,o.uint8array?new Uint8Array(w.length):new Array(w.length))}(b))),b):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===f;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",h=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=f-h;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(h,p){this.options=h,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var v in u)if(Object.prototype.hasOwnProperty.call(u,v)&&u[v].magic===g)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,m,g,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)p=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[p]={id:p,length:m,value:g};h.setIndex(v)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=o(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var v=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!y&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(_){(m=new u("error")).error(_)}return new s(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)o.prototype[d[h]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(p),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var f=new o.MessageChannel;f.port1.onmessage=p,s=function(){f.port2.postMessage(0)}}var h=[];function p(){var m,g;a=!0;for(var v=h.length;v;){for(g=h,h=[],m=-1;++m<v;)g[m]();v=h.length}a=!1}r.exports=function(m){h.push(m)!==1||a||s()}}).call(this,typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==s&&m(this,v)}function f(v,y,_){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function h(v,y,_){o(function(){var b;try{b=y(_)}catch(x){return a.reject(v,x)}b===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,b)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function m(v,y){var _=!1;function b(E){_||(_=!0,a.reject(v,E))}function x(E){_||(_=!0,a.resolve(v,E))}var w=g(function(){y(x,b)});w.status==="error"&&b(w.value)}function g(v,y){var _={};try{_.value=v(y),_.status="success"}catch(b){_.status="error",_.value=b}return _}(r.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(v()).then(function(){return _})},function(_){return y.resolve(v()).then(function(){throw _})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var _=new this.constructor(s);return this.state!==u?h(_,this.state===c?v:y,this.outcome):this.queue.push(new f(_,v,y)),_},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},a.resolve=function(v,y){var _=g(p,y);if(_.status==="error")return a.reject(v,_.value);var b=_.value;if(b)m(v,b);else{v.state=c,v.outcome=y;for(var x=-1,w=v.queue.length;++x<w;)v.queue[x].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var _=-1,b=v.queue.length;++_<b;)v.queue[_].callRejected(y);return v},d.resolve=function(v){return v instanceof this?v:a.resolve(new this(s),v)},d.reject=function(v){var y=new this(s);return a.reject(y,v)},d.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,b=!1;if(!_)return this.resolve([]);for(var x=new Array(_),w=0,E=-1,S=new this(s);++E<_;)k(v[E],E);return S;function k(I,M){y.resolve(I).then(function(R){x[M]=R,++w!==_||b||(b=!0,a.resolve(S,x))},function(R){b||(b=!0,a.reject(S,R))})}},d.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,b=!1;if(!_)return this.resolve([]);for(var x=-1,w=new this(s);++x<_;)E=v[x],y.resolve(E).then(function(S){b||(b=!0,a.resolve(w,S))},function(S){b||(b=!0,a.reject(w,S))});var E;return w}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,h=0,p=8;function m(v){if(!(this instanceof m))return new m(v);this.options=s.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==d)throw new Error(l[_]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(b=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=o.deflateSetDictionary(this.strm,b))!==d)throw new Error(l[_]);this._dict_set=!0}}function g(v,y){var _=new m(y);if(_.push(v,!0),_.err)throw _.msg||l[_.err];return _.result}m.prototype.push=function(v,y){var _,b,x=this.strm,w=this.options.chunkSize;if(this.ended)return!1;b=y===~~y?y:y===!0?4:0,typeof v=="string"?x.input=a.string2buf(v):u.call(v)==="[object ArrayBuffer]"?x.input=new Uint8Array(v):x.input=v,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new s.Buf8(w),x.next_out=0,x.avail_out=w),(_=o.deflate(x,b))!==1&&_!==d)return this.onEnd(_),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(x.output,x.next_out))):this.onData(s.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&_!==1);return b===4?(_=o.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===d):b!==2||(this.onEnd(d),!(x.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,g(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,g(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function p(m,g){var v=new h(g);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}h.prototype.push=function(m,g){var v,y,_,b,x,w,E=this.strm,S=this.options.chunkSize,k=this.options.dictionary,I=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?E.input=a.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(S),E.next_out=0,E.avail_out=S),(v=o.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(w=typeof k=="string"?a.string2buf(k):f.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,v=o.inflateSetDictionary(this.strm,w)),v===l.Z_BUF_ERROR&&I===!0&&(v=l.Z_OK,I=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&v!==l.Z_STREAM_END&&(E.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(E.output,E.next_out),b=E.next_out-_,x=a.buf2string(E.output,_),E.next_out=b,E.avail_out=S-b,b&&s.arraySet(E.output,E.output,_,b,0),this.onData(x)):this.onData(s.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(I=!0)}while((0<E.avail_in||E.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var h=0;h<d;h++)l[f+h]=c[u+h]},flattenChunks:function(l){var c,u,d,f,h,p;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(p=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)h=l[c],p.set(h,f),f+=h.length;return p}},a={arraySet:function(l,c,u,d,f){for(var h=0;h<d;h++)l[f+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var h="",p=0;p<f;p++)h+=String.fromCharCode(d[p]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,p,m,g,v=d.length,y=0;for(m=0;m<v;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),y+=h<128?1:h<2048?2:h<65536?3:4;for(f=new o.Buf8(y),m=g=0;g<y;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<v&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),h=0,p=f.length;h<p;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,p,m,g,v=f||d.length,y=new Array(2*v);for(h=p=0;h<v;)if((m=d[h++])<128)y[p++]=m;else if(4<(g=l[m]))y[p++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<v;)m=m<<6|63&d[h++],g--;1<g?y[p++]=65533:m<65536?y[p++]=m:(m-=65536,y[p++]=55296|m>>10&1023,y[p++]=56320|1023&m)}return u(y,p)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,c){var u=o,d=c+l;s^=-1;for(var f=c;f<d;f++)s=s>>>8^u[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,h=0,p=-2,m=-1,g=4,v=2,y=8,_=9,b=286,x=30,w=19,E=2*b+1,S=15,k=3,I=258,M=I+k+1,R=42,D=113,C=1,V=2,J=3,Y=4;function j(A,ie){return A.msg=u[ie],ie}function B(A){return(A<<1)-(4<A?9:0)}function G(A){for(var ie=A.length;0<=--ie;)A[ie]=0}function z(A){var ie=A.state,de=ie.pending;de>A.avail_out&&(de=A.avail_out),de!==0&&(s.arraySet(A.output,ie.pending_buf,ie.pending_out,de,A.next_out),A.next_out+=de,ie.pending_out+=de,A.total_out+=de,A.avail_out-=de,ie.pending-=de,ie.pending===0&&(ie.pending_out=0))}function N(A,ie){a._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ie),A.block_start=A.strstart,z(A.strm)}function F(A,ie){A.pending_buf[A.pending++]=ie}function W(A,ie){A.pending_buf[A.pending++]=ie>>>8&255,A.pending_buf[A.pending++]=255&ie}function X(A,ie){var de,H,q=A.max_chain_length,Z=A.strstart,pe=A.prev_length,se=A.nice_match,te=A.strstart>A.w_size-M?A.strstart-(A.w_size-M):0,he=A.window,le=A.w_mask,fe=A.prev,ke=A.strstart+I,Je=he[Z+pe-1],Ke=he[Z+pe];A.prev_length>=A.good_match&&(q>>=2),se>A.lookahead&&(se=A.lookahead);do if(he[(de=ie)+pe]===Ke&&he[de+pe-1]===Je&&he[de]===he[Z]&&he[++de]===he[Z+1]){Z+=2,de++;do;while(he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&he[++Z]===he[++de]&&Z<ke);if(H=I-(ke-Z),Z=ke-I,pe<H){if(A.match_start=ie,se<=(pe=H))break;Je=he[Z+pe-1],Ke=he[Z+pe]}}while((ie=fe[ie&le])>te&&--q!=0);return pe<=A.lookahead?pe:A.lookahead}function oe(A){var ie,de,H,q,Z,pe,se,te,he,le,fe=A.w_size;do{if(q=A.window_size-A.lookahead-A.strstart,A.strstart>=fe+(fe-M)){for(s.arraySet(A.window,A.window,fe,fe,0),A.match_start-=fe,A.strstart-=fe,A.block_start-=fe,ie=de=A.hash_size;H=A.head[--ie],A.head[ie]=fe<=H?H-fe:0,--de;);for(ie=de=fe;H=A.prev[--ie],A.prev[ie]=fe<=H?H-fe:0,--de;);q+=fe}if(A.strm.avail_in===0)break;if(pe=A.strm,se=A.window,te=A.strstart+A.lookahead,he=q,le=void 0,le=pe.avail_in,he<le&&(le=he),de=le===0?0:(pe.avail_in-=le,s.arraySet(se,pe.input,pe.next_in,le,te),pe.state.wrap===1?pe.adler=l(pe.adler,se,le,te):pe.state.wrap===2&&(pe.adler=c(pe.adler,se,le,te)),pe.next_in+=le,pe.total_in+=le,le),A.lookahead+=de,A.lookahead+A.insert>=k)for(Z=A.strstart-A.insert,A.ins_h=A.window[Z],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Z+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Z+k-1])&A.hash_mask,A.prev[Z&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Z,Z++,A.insert--,!(A.lookahead+A.insert<k)););}while(A.lookahead<M&&A.strm.avail_in!==0)}function L(A,ie){for(var de,H;;){if(A.lookahead<M){if(oe(A),A.lookahead<M&&ie===d)return C;if(A.lookahead===0)break}if(de=0,A.lookahead>=k&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+k-1])&A.hash_mask,de=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),de!==0&&A.strstart-de<=A.w_size-M&&(A.match_length=X(A,de)),A.match_length>=k)if(H=a._tr_tally(A,A.strstart-A.match_start,A.match_length-k),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=k){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+k-1])&A.hash_mask,de=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else H=a._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(H&&(N(A,!1),A.strm.avail_out===0))return C}return A.insert=A.strstart<k-1?A.strstart:k-1,ie===f?(N(A,!0),A.strm.avail_out===0?J:Y):A.last_lit&&(N(A,!1),A.strm.avail_out===0)?C:V}function O(A,ie){for(var de,H,q;;){if(A.lookahead<M){if(oe(A),A.lookahead<M&&ie===d)return C;if(A.lookahead===0)break}if(de=0,A.lookahead>=k&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+k-1])&A.hash_mask,de=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=k-1,de!==0&&A.prev_length<A.max_lazy_match&&A.strstart-de<=A.w_size-M&&(A.match_length=X(A,de),A.match_length<=5&&(A.strategy===1||A.match_length===k&&4096<A.strstart-A.match_start)&&(A.match_length=k-1)),A.prev_length>=k&&A.match_length<=A.prev_length){for(q=A.strstart+A.lookahead-k,H=a._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-k),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+k-1])&A.hash_mask,de=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=k-1,A.strstart++,H&&(N(A,!1),A.strm.avail_out===0))return C}else if(A.match_available){if((H=a._tr_tally(A,0,A.window[A.strstart-1]))&&N(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return C}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(H=a._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<k-1?A.strstart:k-1,ie===f?(N(A,!0),A.strm.avail_out===0?J:Y):A.last_lit&&(N(A,!1),A.strm.avail_out===0)?C:V}function T(A,ie,de,H,q){this.good_length=A,this.max_lazy=ie,this.nice_length=de,this.max_chain=H,this.func=q}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*E),this.dyn_dtree=new s.Buf16(2*(2*x+1)),this.bl_tree=new s.Buf16(2*(2*w+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(S+1),this.heap=new s.Buf16(2*b+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*b+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(A){var ie;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=v,(ie=A.state).pending=0,ie.pending_out=0,ie.wrap<0&&(ie.wrap=-ie.wrap),ie.status=ie.wrap?R:D,A.adler=ie.wrap===2?0:1,ie.last_flush=d,a._tr_init(ie),h):j(A,p)}function ae(A){var ie=Q(A);return ie===h&&function(de){de.window_size=2*de.w_size,G(de.head),de.max_lazy_match=o[de.level].max_lazy,de.good_match=o[de.level].good_length,de.nice_match=o[de.level].nice_length,de.max_chain_length=o[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=k-1,de.match_available=0,de.ins_h=0}(A.state),ie}function ue(A,ie,de,H,q,Z){if(!A)return p;var pe=1;if(ie===m&&(ie=6),H<0?(pe=0,H=-H):15<H&&(pe=2,H-=16),q<1||_<q||de!==y||H<8||15<H||ie<0||9<ie||Z<0||g<Z)return j(A,p);H===8&&(H=9);var se=new K;return(A.state=se).strm=A,se.wrap=pe,se.gzhead=null,se.w_bits=H,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=q+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+k-1)/k),se.window=new s.Buf8(2*se.w_size),se.head=new s.Buf16(se.hash_size),se.prev=new s.Buf16(se.w_size),se.lit_bufsize=1<<q+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new s.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=ie,se.strategy=Z,se.method=de,ae(A)}o=[new T(0,0,0,0,function(A,ie){var de=65535;for(de>A.pending_buf_size-5&&(de=A.pending_buf_size-5);;){if(A.lookahead<=1){if(oe(A),A.lookahead===0&&ie===d)return C;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var H=A.block_start+de;if((A.strstart===0||A.strstart>=H)&&(A.lookahead=A.strstart-H,A.strstart=H,N(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-M&&(N(A,!1),A.strm.avail_out===0))return C}return A.insert=0,ie===f?(N(A,!0),A.strm.avail_out===0?J:Y):(A.strstart>A.block_start&&(N(A,!1),A.strm.avail_out),C)}),new T(4,4,8,4,L),new T(4,5,16,8,L),new T(4,6,32,32,L),new T(4,4,16,16,O),new T(8,16,32,32,O),new T(8,16,128,128,O),new T(8,32,128,256,O),new T(32,128,258,1024,O),new T(32,258,258,4096,O)],i.deflateInit=function(A,ie){return ue(A,ie,y,15,8,0)},i.deflateInit2=ue,i.deflateReset=ae,i.deflateResetKeep=Q,i.deflateSetHeader=function(A,ie){return A&&A.state?A.state.wrap!==2?p:(A.state.gzhead=ie,h):p},i.deflate=function(A,ie){var de,H,q,Z;if(!A||!A.state||5<ie||ie<0)return A?j(A,p):p;if(H=A.state,!A.output||!A.input&&A.avail_in!==0||H.status===666&&ie!==f)return j(A,A.avail_out===0?-5:p);if(H.strm=A,de=H.last_flush,H.last_flush=ie,H.status===R)if(H.wrap===2)A.adler=0,F(H,31),F(H,139),F(H,8),H.gzhead?(F(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),F(H,255&H.gzhead.time),F(H,H.gzhead.time>>8&255),F(H,H.gzhead.time>>16&255),F(H,H.gzhead.time>>24&255),F(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),F(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(F(H,255&H.gzhead.extra.length),F(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(A.adler=c(A.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(F(H,0),F(H,0),F(H,0),F(H,0),F(H,0),F(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),F(H,3),H.status=D);else{var pe=y+(H.w_bits-8<<4)<<8;pe|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(pe|=32),pe+=31-pe%31,H.status=D,W(H,pe),H.strstart!==0&&(W(H,A.adler>>>16),W(H,65535&A.adler)),A.adler=1}if(H.status===69)if(H.gzhead.extra){for(q=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),z(A),q=H.pending,H.pending!==H.pending_buf_size));)F(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),z(A),q=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,F(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),Z===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),z(A),q=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,F(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>q&&(A.adler=c(A.adler,H.pending_buf,H.pending-q,q)),Z===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&z(A),H.pending+2<=H.pending_buf_size&&(F(H,255&A.adler),F(H,A.adler>>8&255),A.adler=0,H.status=D)):H.status=D),H.pending!==0){if(z(A),A.avail_out===0)return H.last_flush=-1,h}else if(A.avail_in===0&&B(ie)<=B(de)&&ie!==f)return j(A,-5);if(H.status===666&&A.avail_in!==0)return j(A,-5);if(A.avail_in!==0||H.lookahead!==0||ie!==d&&H.status!==666){var se=H.strategy===2?function(te,he){for(var le;;){if(te.lookahead===0&&(oe(te),te.lookahead===0)){if(he===d)return C;break}if(te.match_length=0,le=a._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,le&&(N(te,!1),te.strm.avail_out===0))return C}return te.insert=0,he===f?(N(te,!0),te.strm.avail_out===0?J:Y):te.last_lit&&(N(te,!1),te.strm.avail_out===0)?C:V}(H,ie):H.strategy===3?function(te,he){for(var le,fe,ke,Je,Ke=te.window;;){if(te.lookahead<=I){if(oe(te),te.lookahead<=I&&he===d)return C;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=k&&0<te.strstart&&(fe=Ke[ke=te.strstart-1])===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]){Je=te.strstart+I;do;while(fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&fe===Ke[++ke]&&ke<Je);te.match_length=I-(Je-ke),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=k?(le=a._tr_tally(te,1,te.match_length-k),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(le=a._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),le&&(N(te,!1),te.strm.avail_out===0))return C}return te.insert=0,he===f?(N(te,!0),te.strm.avail_out===0?J:Y):te.last_lit&&(N(te,!1),te.strm.avail_out===0)?C:V}(H,ie):o[H.level].func(H,ie);if(se!==J&&se!==Y||(H.status=666),se===C||se===J)return A.avail_out===0&&(H.last_flush=-1),h;if(se===V&&(ie===1?a._tr_align(H):ie!==5&&(a._tr_stored_block(H,0,0,!1),ie===3&&(G(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),z(A),A.avail_out===0))return H.last_flush=-1,h}return ie!==f?h:H.wrap<=0?1:(H.wrap===2?(F(H,255&A.adler),F(H,A.adler>>8&255),F(H,A.adler>>16&255),F(H,A.adler>>24&255),F(H,255&A.total_in),F(H,A.total_in>>8&255),F(H,A.total_in>>16&255),F(H,A.total_in>>24&255)):(W(H,A.adler>>>16),W(H,65535&A.adler)),z(A),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?h:1)},i.deflateEnd=function(A){var ie;return A&&A.state?(ie=A.state.status)!==R&&ie!==69&&ie!==73&&ie!==91&&ie!==103&&ie!==D&&ie!==666?j(A,p):(A.state=null,ie===D?j(A,-3):h):p},i.deflateSetDictionary=function(A,ie){var de,H,q,Z,pe,se,te,he,le=ie.length;if(!A||!A.state||(Z=(de=A.state).wrap)===2||Z===1&&de.status!==R||de.lookahead)return p;for(Z===1&&(A.adler=l(A.adler,ie,le,0)),de.wrap=0,le>=de.w_size&&(Z===0&&(G(de.head),de.strstart=0,de.block_start=0,de.insert=0),he=new s.Buf8(de.w_size),s.arraySet(he,ie,le-de.w_size,de.w_size,0),ie=he,le=de.w_size),pe=A.avail_in,se=A.next_in,te=A.input,A.avail_in=le,A.next_in=0,A.input=ie,oe(de);de.lookahead>=k;){for(H=de.strstart,q=de.lookahead-(k-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[H+k-1])&de.hash_mask,de.prev[H&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=H,H++,--q;);de.strstart=H,de.lookahead=k-1,oe(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=k-1,de.match_available=0,A.next_in=se,A.input=te,A.avail_in=pe,de.wrap=Z,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,c,u,d,f,h,p,m,g,v,y,_,b,x,w,E,S,k,I,M,R,D,C,V;a=o.state,l=o.next_in,C=o.input,c=l+(o.avail_in-5),u=o.next_out,V=o.output,d=u-(s-o.avail_out),f=u+(o.avail_out-257),h=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,v=a.window,y=a.hold,_=a.bits,b=a.lencode,x=a.distcode,w=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{_<15&&(y+=C[l++]<<_,_+=8,y+=C[l++]<<_,_+=8),S=b[y&w];t:for(;;){if(y>>>=k=S>>>24,_-=k,(k=S>>>16&255)===0)V[u++]=65535&S;else{if(!(16&k)){if((64&k)==0){S=b[(65535&S)+(y&(1<<k)-1)];continue t}if(32&k){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&S,(k&=15)&&(_<k&&(y+=C[l++]<<_,_+=8),I+=y&(1<<k)-1,y>>>=k,_-=k),_<15&&(y+=C[l++]<<_,_+=8,y+=C[l++]<<_,_+=8),S=x[y&E];n:for(;;){if(y>>>=k=S>>>24,_-=k,!(16&(k=S>>>16&255))){if((64&k)==0){S=x[(65535&S)+(y&(1<<k)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(M=65535&S,_<(k&=15)&&(y+=C[l++]<<_,(_+=8)<k&&(y+=C[l++]<<_,_+=8)),h<(M+=y&(1<<k)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=k,_-=k,(k=u-d)<M){if(m<(k=M-k)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(D=v,(R=0)===g){if(R+=p-k,k<I){for(I-=k;V[u++]=v[R++],--k;);R=u-M,D=V}}else if(g<k){if(R+=p+g-k,(k-=g)<I){for(I-=k;V[u++]=v[R++],--k;);if(R=0,g<I){for(I-=k=g;V[u++]=v[R++],--k;);R=u-M,D=V}}}else if(R+=g-k,k<I){for(I-=k;V[u++]=v[R++],--k;);R=u-M,D=V}for(;2<I;)V[u++]=D[R++],V[u++]=D[R++],V[u++]=D[R++],I-=3;I&&(V[u++]=D[R++],1<I&&(V[u++]=D[R++]))}else{for(R=u-M;V[u++]=V[R++],V[u++]=V[R++],V[u++]=V[R++],2<(I-=3););I&&(V[u++]=V[R++],1<I&&(V[u++]=V[R++]))}break}}break}}while(l<c&&u<f);l-=I=_>>3,y&=(1<<(_-=I<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<f?f-u+257:257-(u-f),a.hold=y,a.bits=_}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,h=-2,p=1,m=852,g=592;function v(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(R){var D;return R&&R.state?(D=R.state,R.total_in=R.total_out=D.total=0,R.msg="",D.wrap&&(R.adler=1&D.wrap),D.mode=p,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new o.Buf32(m),D.distcode=D.distdyn=new o.Buf32(g),D.sane=1,D.back=-1,f):h}function b(R){var D;return R&&R.state?((D=R.state).wsize=0,D.whave=0,D.wnext=0,_(R)):h}function x(R,D){var C,V;return R&&R.state?(V=R.state,D<0?(C=0,D=-D):(C=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:(V.window!==null&&V.wbits!==D&&(V.window=null),V.wrap=C,V.wbits=D,b(R))):h}function w(R,D){var C,V;return R?(V=new y,(R.state=V).window=null,(C=x(R,D))!==f&&(R.state=null),C):h}var E,S,k=!0;function I(R){if(k){var D;for(E=new o.Buf32(512),S=new o.Buf32(32),D=0;D<144;)R.lens[D++]=8;for(;D<256;)R.lens[D++]=9;for(;D<280;)R.lens[D++]=7;for(;D<288;)R.lens[D++]=8;for(c(u,R.lens,0,288,E,0,R.work,{bits:9}),D=0;D<32;)R.lens[D++]=5;c(d,R.lens,0,32,S,0,R.work,{bits:5}),k=!1}R.lencode=E,R.lenbits=9,R.distcode=S,R.distbits=5}function M(R,D,C,V){var J,Y=R.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new o.Buf8(Y.wsize)),V>=Y.wsize?(o.arraySet(Y.window,D,C-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(V<(J=Y.wsize-Y.wnext)&&(J=V),o.arraySet(Y.window,D,C-V,J,Y.wnext),(V-=J)?(o.arraySet(Y.window,D,C-V,V,0),Y.wnext=V,Y.whave=Y.wsize):(Y.wnext+=J,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=J))),0}i.inflateReset=b,i.inflateReset2=x,i.inflateResetKeep=_,i.inflateInit=function(R){return w(R,15)},i.inflateInit2=w,i.inflate=function(R,D){var C,V,J,Y,j,B,G,z,N,F,W,X,oe,L,O,T,K,Q,ae,ue,A,ie,de,H,q=0,Z=new o.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return h;(C=R.state).mode===12&&(C.mode=13),j=R.next_out,J=R.output,G=R.avail_out,Y=R.next_in,V=R.input,B=R.avail_in,z=C.hold,N=C.bits,F=B,W=G,ie=f;e:for(;;)switch(C.mode){case p:if(C.wrap===0){C.mode=13;break}for(;N<16;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(2&C.wrap&&z===35615){Z[C.check=0]=255&z,Z[1]=z>>>8&255,C.check=a(C.check,Z,2,0),N=z=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&z)<<8)+(z>>8))%31){R.msg="incorrect header check",C.mode=30;break}if((15&z)!=8){R.msg="unknown compression method",C.mode=30;break}if(N-=4,A=8+(15&(z>>>=4)),C.wbits===0)C.wbits=A;else if(A>C.wbits){R.msg="invalid window size",C.mode=30;break}C.dmax=1<<A,R.adler=C.check=1,C.mode=512&z?10:12,N=z=0;break;case 2:for(;N<16;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(C.flags=z,(255&C.flags)!=8){R.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){R.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=z>>8&1),512&C.flags&&(Z[0]=255&z,Z[1]=z>>>8&255,C.check=a(C.check,Z,2,0)),N=z=0,C.mode=3;case 3:for(;N<32;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.head&&(C.head.time=z),512&C.flags&&(Z[0]=255&z,Z[1]=z>>>8&255,Z[2]=z>>>16&255,Z[3]=z>>>24&255,C.check=a(C.check,Z,4,0)),N=z=0,C.mode=4;case 4:for(;N<16;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.head&&(C.head.xflags=255&z,C.head.os=z>>8),512&C.flags&&(Z[0]=255&z,Z[1]=z>>>8&255,C.check=a(C.check,Z,2,0)),N=z=0,C.mode=5;case 5:if(1024&C.flags){for(;N<16;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.length=z,C.head&&(C.head.extra_len=z),512&C.flags&&(Z[0]=255&z,Z[1]=z>>>8&255,C.check=a(C.check,Z,2,0)),N=z=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(B<(X=C.length)&&(X=B),X&&(C.head&&(A=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),o.arraySet(C.head.extra,V,Y,X,A)),512&C.flags&&(C.check=a(C.check,V,X,Y)),B-=X,Y+=X,C.length-=X),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(B===0)break e;for(X=0;A=V[Y+X++],C.head&&A&&C.length<65536&&(C.head.name+=String.fromCharCode(A)),A&&X<B;);if(512&C.flags&&(C.check=a(C.check,V,X,Y)),B-=X,Y+=X,A)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(B===0)break e;for(X=0;A=V[Y+X++],C.head&&A&&C.length<65536&&(C.head.comment+=String.fromCharCode(A)),A&&X<B;);if(512&C.flags&&(C.check=a(C.check,V,X,Y)),B-=X,Y+=X,A)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;N<16;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(z!==(65535&C.check)){R.msg="header crc mismatch",C.mode=30;break}N=z=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),R.adler=C.check=0,C.mode=12;break;case 10:for(;N<32;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}R.adler=C.check=v(z),N=z=0,C.mode=11;case 11:if(C.havedict===0)return R.next_out=j,R.avail_out=G,R.next_in=Y,R.avail_in=B,C.hold=z,C.bits=N,2;R.adler=C.check=1,C.mode=12;case 12:if(D===5||D===6)break e;case 13:if(C.last){z>>>=7&N,N-=7&N,C.mode=27;break}for(;N<3;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}switch(C.last=1&z,N-=1,3&(z>>>=1)){case 0:C.mode=14;break;case 1:if(I(C),C.mode=20,D!==6)break;z>>>=2,N-=2;break e;case 2:C.mode=17;break;case 3:R.msg="invalid block type",C.mode=30}z>>>=2,N-=2;break;case 14:for(z>>>=7&N,N-=7&N;N<32;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if((65535&z)!=(z>>>16^65535)){R.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&z,N=z=0,C.mode=15,D===6)break e;case 15:C.mode=16;case 16:if(X=C.length){if(B<X&&(X=B),G<X&&(X=G),X===0)break e;o.arraySet(J,V,Y,X,j),B-=X,Y+=X,G-=X,j+=X,C.length-=X;break}C.mode=12;break;case 17:for(;N<14;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(C.nlen=257+(31&z),z>>>=5,N-=5,C.ndist=1+(31&z),z>>>=5,N-=5,C.ncode=4+(15&z),z>>>=4,N-=4,286<C.nlen||30<C.ndist){R.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;N<3;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.lens[pe[C.have++]]=7&z,z>>>=3,N-=3}for(;C.have<19;)C.lens[pe[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,de={bits:C.lenbits},ie=c(0,C.lens,0,19,C.lencode,0,C.work,de),C.lenbits=de.bits,ie){R.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;T=(q=C.lencode[z&(1<<C.lenbits)-1])>>>16&255,K=65535&q,!((O=q>>>24)<=N);){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(K<16)z>>>=O,N-=O,C.lens[C.have++]=K;else{if(K===16){for(H=O+2;N<H;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(z>>>=O,N-=O,C.have===0){R.msg="invalid bit length repeat",C.mode=30;break}A=C.lens[C.have-1],X=3+(3&z),z>>>=2,N-=2}else if(K===17){for(H=O+3;N<H;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}N-=O,A=0,X=3+(7&(z>>>=O)),z>>>=3,N-=3}else{for(H=O+7;N<H;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}N-=O,A=0,X=11+(127&(z>>>=O)),z>>>=7,N-=7}if(C.have+X>C.nlen+C.ndist){R.msg="invalid bit length repeat",C.mode=30;break}for(;X--;)C.lens[C.have++]=A}}if(C.mode===30)break;if(C.lens[256]===0){R.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,de={bits:C.lenbits},ie=c(u,C.lens,0,C.nlen,C.lencode,0,C.work,de),C.lenbits=de.bits,ie){R.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,de={bits:C.distbits},ie=c(d,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,de),C.distbits=de.bits,ie){R.msg="invalid distances set",C.mode=30;break}if(C.mode=20,D===6)break e;case 20:C.mode=21;case 21:if(6<=B&&258<=G){R.next_out=j,R.avail_out=G,R.next_in=Y,R.avail_in=B,C.hold=z,C.bits=N,l(R,W),j=R.next_out,J=R.output,G=R.avail_out,Y=R.next_in,V=R.input,B=R.avail_in,z=C.hold,N=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;T=(q=C.lencode[z&(1<<C.lenbits)-1])>>>16&255,K=65535&q,!((O=q>>>24)<=N);){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(T&&(240&T)==0){for(Q=O,ae=T,ue=K;T=(q=C.lencode[ue+((z&(1<<Q+ae)-1)>>Q)])>>>16&255,K=65535&q,!(Q+(O=q>>>24)<=N);){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}z>>>=Q,N-=Q,C.back+=Q}if(z>>>=O,N-=O,C.back+=O,C.length=K,T===0){C.mode=26;break}if(32&T){C.back=-1,C.mode=12;break}if(64&T){R.msg="invalid literal/length code",C.mode=30;break}C.extra=15&T,C.mode=22;case 22:if(C.extra){for(H=C.extra;N<H;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.length+=z&(1<<C.extra)-1,z>>>=C.extra,N-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;T=(q=C.distcode[z&(1<<C.distbits)-1])>>>16&255,K=65535&q,!((O=q>>>24)<=N);){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if((240&T)==0){for(Q=O,ae=T,ue=K;T=(q=C.distcode[ue+((z&(1<<Q+ae)-1)>>Q)])>>>16&255,K=65535&q,!(Q+(O=q>>>24)<=N);){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}z>>>=Q,N-=Q,C.back+=Q}if(z>>>=O,N-=O,C.back+=O,64&T){R.msg="invalid distance code",C.mode=30;break}C.offset=K,C.extra=15&T,C.mode=24;case 24:if(C.extra){for(H=C.extra;N<H;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}C.offset+=z&(1<<C.extra)-1,z>>>=C.extra,N-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){R.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(G===0)break e;if(X=W-G,C.offset>X){if((X=C.offset-X)>C.whave&&C.sane){R.msg="invalid distance too far back",C.mode=30;break}oe=X>C.wnext?(X-=C.wnext,C.wsize-X):C.wnext-X,X>C.length&&(X=C.length),L=C.window}else L=J,oe=j-C.offset,X=C.length;for(G<X&&(X=G),G-=X,C.length-=X;J[j++]=L[oe++],--X;);C.length===0&&(C.mode=21);break;case 26:if(G===0)break e;J[j++]=C.length,G--,C.mode=21;break;case 27:if(C.wrap){for(;N<32;){if(B===0)break e;B--,z|=V[Y++]<<N,N+=8}if(W-=G,R.total_out+=W,C.total+=W,W&&(R.adler=C.check=C.flags?a(C.check,J,W,j-W):s(C.check,J,W,j-W)),W=G,(C.flags?z:v(z))!==C.check){R.msg="incorrect data check",C.mode=30;break}N=z=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;N<32;){if(B===0)break e;B--,z+=V[Y++]<<N,N+=8}if(z!==(4294967295&C.total)){R.msg="incorrect length check",C.mode=30;break}N=z=0}C.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return h}return R.next_out=j,R.avail_out=G,R.next_in=Y,R.avail_in=B,C.hold=z,C.bits=N,(C.wsize||W!==R.avail_out&&C.mode<30&&(C.mode<27||D!==4))&&M(R,R.output,R.next_out,W-R.avail_out)?(C.mode=31,-4):(F-=R.avail_in,W-=R.avail_out,R.total_in+=F,R.total_out+=W,C.total+=W,C.wrap&&W&&(R.adler=C.check=C.flags?a(C.check,J,W,R.next_out-W):s(C.check,J,W,R.next_out-W)),R.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(F==0&&W===0||D===4)&&ie===f&&(ie=-5),ie)},i.inflateEnd=function(R){if(!R||!R.state)return h;var D=R.state;return D.window&&(D.window=null),R.state=null,f},i.inflateGetHeader=function(R,D){var C;return R&&R.state?(2&(C=R.state).wrap)==0?h:((C.head=D).done=!1,f):h},i.inflateSetDictionary=function(R,D){var C,V=D.length;return R&&R.state?(C=R.state).wrap!==0&&C.mode!==11?h:C.mode===11&&s(1,D,V,0)!==C.check?-3:M(R,D,V,V)?(C.mode=31,-4):(C.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,h,p,m,g,v){var y,_,b,x,w,E,S,k,I,M=v.bits,R=0,D=0,C=0,V=0,J=0,Y=0,j=0,B=0,G=0,z=0,N=null,F=0,W=new o.Buf16(16),X=new o.Buf16(16),oe=null,L=0;for(R=0;R<=15;R++)W[R]=0;for(D=0;D<h;D++)W[d[f+D]]++;for(J=M,V=15;1<=V&&W[V]===0;V--);if(V<J&&(J=V),V===0)return p[m++]=20971520,p[m++]=20971520,v.bits=1,0;for(C=1;C<V&&W[C]===0;C++);for(J<C&&(J=C),R=B=1;R<=15;R++)if(B<<=1,(B-=W[R])<0)return-1;if(0<B&&(u===0||V!==1))return-1;for(X[1]=0,R=1;R<15;R++)X[R+1]=X[R]+W[R];for(D=0;D<h;D++)d[f+D]!==0&&(g[X[d[f+D]]++]=D);if(E=u===0?(N=oe=g,19):u===1?(N=s,F-=257,oe=a,L-=257,256):(N=l,oe=c,-1),R=C,w=m,j=D=z=0,b=-1,x=(G=1<<(Y=J))-1,u===1&&852<G||u===2&&592<G)return 1;for(;;){for(S=R-j,I=g[D]<E?(k=0,g[D]):g[D]>E?(k=oe[L+g[D]],N[F+g[D]]):(k=96,0),y=1<<R-j,C=_=1<<Y;p[w+(z>>j)+(_-=y)]=S<<24|k<<16|I|0,_!==0;);for(y=1<<R-1;z&y;)y>>=1;if(y!==0?(z&=y-1,z+=y):z=0,D++,--W[R]==0){if(R===V)break;R=d[f+g[D]]}if(J<R&&(z&x)!==b){for(j===0&&(j=J),w+=C,B=1<<(Y=R-j);Y+j<V&&!((B-=W[Y+j])<=0);)Y++,B<<=1;if(G+=1<<Y,u===1&&852<G||u===2&&592<G)return 1;p[b=z&x]=J<<24|Y<<16|w-m|0}}return z!==0&&(p[w+z]=R-j<<24|64<<16|0),v.bits=J,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(q){for(var Z=q.length;0<=--Z;)q[Z]=0}var c=0,u=29,d=256,f=d+1+u,h=30,p=19,m=2*f+1,g=15,v=16,y=7,_=256,b=16,x=17,w=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(f+2));l(M);var R=new Array(2*h);l(R);var D=new Array(512);l(D);var C=new Array(256);l(C);var V=new Array(u);l(V);var J,Y,j,B=new Array(h);function G(q,Z,pe,se,te){this.static_tree=q,this.extra_bits=Z,this.extra_base=pe,this.elems=se,this.max_length=te,this.has_stree=q&&q.length}function z(q,Z){this.dyn_tree=q,this.max_code=0,this.stat_desc=Z}function N(q){return q<256?D[q]:D[256+(q>>>7)]}function F(q,Z){q.pending_buf[q.pending++]=255&Z,q.pending_buf[q.pending++]=Z>>>8&255}function W(q,Z,pe){q.bi_valid>v-pe?(q.bi_buf|=Z<<q.bi_valid&65535,F(q,q.bi_buf),q.bi_buf=Z>>v-q.bi_valid,q.bi_valid+=pe-v):(q.bi_buf|=Z<<q.bi_valid&65535,q.bi_valid+=pe)}function X(q,Z,pe){W(q,pe[2*Z],pe[2*Z+1])}function oe(q,Z){for(var pe=0;pe|=1&q,q>>>=1,pe<<=1,0<--Z;);return pe>>>1}function L(q,Z,pe){var se,te,he=new Array(g+1),le=0;for(se=1;se<=g;se++)he[se]=le=le+pe[se-1]<<1;for(te=0;te<=Z;te++){var fe=q[2*te+1];fe!==0&&(q[2*te]=oe(he[fe]++,fe))}}function O(q){var Z;for(Z=0;Z<f;Z++)q.dyn_ltree[2*Z]=0;for(Z=0;Z<h;Z++)q.dyn_dtree[2*Z]=0;for(Z=0;Z<p;Z++)q.bl_tree[2*Z]=0;q.dyn_ltree[2*_]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function T(q){8<q.bi_valid?F(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function K(q,Z,pe,se){var te=2*Z,he=2*pe;return q[te]<q[he]||q[te]===q[he]&&se[Z]<=se[pe]}function Q(q,Z,pe){for(var se=q.heap[pe],te=pe<<1;te<=q.heap_len&&(te<q.heap_len&&K(Z,q.heap[te+1],q.heap[te],q.depth)&&te++,!K(Z,se,q.heap[te],q.depth));)q.heap[pe]=q.heap[te],pe=te,te<<=1;q.heap[pe]=se}function ae(q,Z,pe){var se,te,he,le,fe=0;if(q.last_lit!==0)for(;se=q.pending_buf[q.d_buf+2*fe]<<8|q.pending_buf[q.d_buf+2*fe+1],te=q.pending_buf[q.l_buf+fe],fe++,se===0?X(q,te,Z):(X(q,(he=C[te])+d+1,Z),(le=E[he])!==0&&W(q,te-=V[he],le),X(q,he=N(--se),pe),(le=S[he])!==0&&W(q,se-=B[he],le)),fe<q.last_lit;);X(q,_,Z)}function ue(q,Z){var pe,se,te,he=Z.dyn_tree,le=Z.stat_desc.static_tree,fe=Z.stat_desc.has_stree,ke=Z.stat_desc.elems,Je=-1;for(q.heap_len=0,q.heap_max=m,pe=0;pe<ke;pe++)he[2*pe]!==0?(q.heap[++q.heap_len]=Je=pe,q.depth[pe]=0):he[2*pe+1]=0;for(;q.heap_len<2;)he[2*(te=q.heap[++q.heap_len]=Je<2?++Je:0)]=1,q.depth[te]=0,q.opt_len--,fe&&(q.static_len-=le[2*te+1]);for(Z.max_code=Je,pe=q.heap_len>>1;1<=pe;pe--)Q(q,he,pe);for(te=ke;pe=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Q(q,he,1),se=q.heap[1],q.heap[--q.heap_max]=pe,q.heap[--q.heap_max]=se,he[2*te]=he[2*pe]+he[2*se],q.depth[te]=(q.depth[pe]>=q.depth[se]?q.depth[pe]:q.depth[se])+1,he[2*pe+1]=he[2*se+1]=te,q.heap[1]=te++,Q(q,he,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],function(Ke,dn){var ti,ur,Co,Pt,dr,Fc,Qi=dn.dyn_tree,Rp=dn.max_code,ld=dn.stat_desc.static_tree,gO=dn.stat_desc.has_stree,nre=dn.stat_desc.extra_bits,vO=dn.stat_desc.extra_base,cd=dn.stat_desc.max_length,Pp=0;for(Pt=0;Pt<=g;Pt++)Ke.bl_count[Pt]=0;for(Qi[2*Ke.heap[Ke.heap_max]+1]=0,ti=Ke.heap_max+1;ti<m;ti++)cd<(Pt=Qi[2*Qi[2*(ur=Ke.heap[ti])+1]+1]+1)&&(Pt=cd,Pp++),Qi[2*ur+1]=Pt,Rp<ur||(Ke.bl_count[Pt]++,dr=0,vO<=ur&&(dr=nre[ur-vO]),Fc=Qi[2*ur],Ke.opt_len+=Fc*(Pt+dr),gO&&(Ke.static_len+=Fc*(ld[2*ur+1]+dr)));if(Pp!==0){do{for(Pt=cd-1;Ke.bl_count[Pt]===0;)Pt--;Ke.bl_count[Pt]--,Ke.bl_count[Pt+1]+=2,Ke.bl_count[cd]--,Pp-=2}while(0<Pp);for(Pt=cd;Pt!==0;Pt--)for(ur=Ke.bl_count[Pt];ur!==0;)Rp<(Co=Ke.heap[--ti])||(Qi[2*Co+1]!==Pt&&(Ke.opt_len+=(Pt-Qi[2*Co+1])*Qi[2*Co],Qi[2*Co+1]=Pt),ur--)}}(q,Z),L(he,Je,q.bl_count)}function A(q,Z,pe){var se,te,he=-1,le=Z[1],fe=0,ke=7,Je=4;for(le===0&&(ke=138,Je=3),Z[2*(pe+1)+1]=65535,se=0;se<=pe;se++)te=le,le=Z[2*(se+1)+1],++fe<ke&&te===le||(fe<Je?q.bl_tree[2*te]+=fe:te!==0?(te!==he&&q.bl_tree[2*te]++,q.bl_tree[2*b]++):fe<=10?q.bl_tree[2*x]++:q.bl_tree[2*w]++,he=te,Je=(fe=0)===le?(ke=138,3):te===le?(ke=6,3):(ke=7,4))}function ie(q,Z,pe){var se,te,he=-1,le=Z[1],fe=0,ke=7,Je=4;for(le===0&&(ke=138,Je=3),se=0;se<=pe;se++)if(te=le,le=Z[2*(se+1)+1],!(++fe<ke&&te===le)){if(fe<Je)for(;X(q,te,q.bl_tree),--fe!=0;);else te!==0?(te!==he&&(X(q,te,q.bl_tree),fe--),X(q,b,q.bl_tree),W(q,fe-3,2)):fe<=10?(X(q,x,q.bl_tree),W(q,fe-3,3)):(X(q,w,q.bl_tree),W(q,fe-11,7));he=te,Je=(fe=0)===le?(ke=138,3):te===le?(ke=6,3):(ke=7,4)}}l(B);var de=!1;function H(q,Z,pe,se){W(q,(c<<1)+(se?1:0),3),function(te,he,le,fe){T(te),F(te,le),F(te,~le),o.arraySet(te.pending_buf,te.window,he,le,te.pending),te.pending+=le}(q,Z,pe)}i._tr_init=function(q){de||(function(){var Z,pe,se,te,he,le=new Array(g+1);for(te=se=0;te<u-1;te++)for(V[te]=se,Z=0;Z<1<<E[te];Z++)C[se++]=te;for(C[se-1]=te,te=he=0;te<16;te++)for(B[te]=he,Z=0;Z<1<<S[te];Z++)D[he++]=te;for(he>>=7;te<h;te++)for(B[te]=he<<7,Z=0;Z<1<<S[te]-7;Z++)D[256+he++]=te;for(pe=0;pe<=g;pe++)le[pe]=0;for(Z=0;Z<=143;)M[2*Z+1]=8,Z++,le[8]++;for(;Z<=255;)M[2*Z+1]=9,Z++,le[9]++;for(;Z<=279;)M[2*Z+1]=7,Z++,le[7]++;for(;Z<=287;)M[2*Z+1]=8,Z++,le[8]++;for(L(M,f+1,le),Z=0;Z<h;Z++)R[2*Z+1]=5,R[2*Z]=oe(Z,5);J=new G(M,E,d+1,f,g),Y=new G(R,S,0,h,g),j=new G(new Array(0),k,0,p,y)}(),de=!0),q.l_desc=new z(q.dyn_ltree,J),q.d_desc=new z(q.dyn_dtree,Y),q.bl_desc=new z(q.bl_tree,j),q.bi_buf=0,q.bi_valid=0,O(q)},i._tr_stored_block=H,i._tr_flush_block=function(q,Z,pe,se){var te,he,le=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=function(fe){var ke,Je=4093624447;for(ke=0;ke<=31;ke++,Je>>>=1)if(1&Je&&fe.dyn_ltree[2*ke]!==0)return s;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return a;for(ke=32;ke<d;ke++)if(fe.dyn_ltree[2*ke]!==0)return a;return s}(q)),ue(q,q.l_desc),ue(q,q.d_desc),le=function(fe){var ke;for(A(fe,fe.dyn_ltree,fe.l_desc.max_code),A(fe,fe.dyn_dtree,fe.d_desc.max_code),ue(fe,fe.bl_desc),ke=p-1;3<=ke&&fe.bl_tree[2*I[ke]+1]===0;ke--);return fe.opt_len+=3*(ke+1)+5+5+4,ke}(q),te=q.opt_len+3+7>>>3,(he=q.static_len+3+7>>>3)<=te&&(te=he)):te=he=pe+5,pe+4<=te&&Z!==-1?H(q,Z,pe,se):q.strategy===4||he===te?(W(q,2+(se?1:0),3),ae(q,M,R)):(W(q,4+(se?1:0),3),function(fe,ke,Je,Ke){var dn;for(W(fe,ke-257,5),W(fe,Je-1,5),W(fe,Ke-4,4),dn=0;dn<Ke;dn++)W(fe,fe.bl_tree[2*I[dn]+1],3);ie(fe,fe.dyn_ltree,ke-1),ie(fe,fe.dyn_dtree,Je-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,le+1),ae(q,q.dyn_ltree,q.dyn_dtree)),O(q),se&&T(q)},i._tr_tally=function(q,Z,pe){return q.pending_buf[q.d_buf+2*q.last_lit]=Z>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&Z,q.pending_buf[q.l_buf+q.last_lit]=255&pe,q.last_lit++,Z===0?q.dyn_ltree[2*pe]++:(q.matches++,Z--,q.dyn_ltree[2*(C[pe]+d+1)]++,q.dyn_dtree[2*N(Z)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){W(q,2,3),X(q,_,M),function(Z){Z.bi_valid===16?(F(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(q)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,c,u,d,f=1,h={},p=!1,m=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(b){process.nextTick(function(){y(b)})}:function(){if(s.postMessage&&!s.importScripts){var b=!0,x=s.onmessage;return s.onmessage=function(){b=!1},s.postMessage("","*"),s.onmessage=x,b}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(b){s.postMessage(d+b,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(b){y(b.data)},function(b){u.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(b){var x=m.createElement("script");x.onreadystatechange=function(){y(b),x.onreadystatechange=null,c.removeChild(x),x=null},c.appendChild(x)}):function(b){setTimeout(y,0,b)},g.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var x=new Array(arguments.length-1),w=0;w<x.length;w++)x[w]=arguments[w+1];var E={callback:b,args:x};return h[f]=E,l(f),f++},g.clearImmediate=v}function v(b){delete h[b]}function y(b){if(p)setTimeout(y,0,b);else{var x=h[b];if(x){p=!0;try{(function(w){var E=w.callback,S=w.args;switch(S.length){case 0:E();break;case 1:E(S[0]);break;case 2:E(S[0],S[1]);break;case 3:E(S[0],S[1],S[2]);break;default:E.apply(a,S)}})(x)}finally{v(b),p=!1}}}}function _(b){b.source===s&&typeof b.data=="string"&&b.data.indexOf(d)===0&&y(+b.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(a3)),a3.exports}var iae=rae();const VE=pc(iae),Vc=new ln,oae=()=>{const[t,e]=Ee(""),[n,r]=Ee(!1),[i,o]=Ee([]),[s,a]=Ee({workspaces:0,areas:0,processes:0,active:0}),[l,c]=Ee(!0),[u,d]=Ee(null),[f,h]=Ee(null);bt(()=>{p()},[]);const p=async()=>{try{c(!0);const b=await Vc.workspaces.listWorkspaces();o(b);const x={workspaces:b.length,areas:0,processes:0,active:b.filter(w=>w.status==="active").length};for(const w of b){const E=await Vc.workspaces.loadProjectConfig(w.code);if(E){x.areas+=E.areas.length;for(const S of E.areas){x.processes+=S.processes.length;for(const k of S.subareas)x.processes+=k.processes.length}}}a(x)}catch(b){d(b.message)}finally{c(!1)}},m=async b=>{if(confirm("Are you sure you want to delete this workspace?"))try{const x=await Vc.workspaces.deleteWorkspace(b);x.success?await p():d(x.message)}catch(x){d(x.message)}},g=async b=>{if(!b){xt.error("Workspace code is missing.");return}h(b),console.log("handleExport called with appCode:",b);try{const x=await Vc.workspaces.loadProjectConfig(b);if(!x){xt.error(`Could not load configuration for workspace ${b}.`),h(null);return}const w=new VE,E=JSON.stringify(x,null,2);w.file(`${b}/project-config.json`,E);for(const M of x.areas||[]){const R=`${b}/${M.code}`;for(const D of M.processes||[])try{const C=await Vc.processes.readProcessDefinition(b,M.code,D.code);C?.bpmnXml&&w.file(`${R}/${D.code}.bpmn`,C.bpmnXml)}catch(C){console.warn(`Could not read process ${D.code} in area ${M.code} for workspace ${b}: ${C.message}`),xt.error(`Error reading process ${D.code} in ${M.code}`)}for(const D of M.subareas||[]){const C=`${R}/${D.code}`;for(const V of D.processes||[])try{const J=await Vc.processes.readProcessDefinition(b,M.code,V.code,D.code);J?.bpmnXml&&w.file(`${C}/${V.code}.bpmn`,J.bpmnXml)}catch(J){console.warn(`Could not read process ${V.code} in subarea ${D.code} (area ${M.code}) for workspace ${b}: ${J.message}`),xt.error(`Error reading process ${V.code} in ${D.code}`)}}}const S=await w.generateAsync({type:"blob"}),k=URL.createObjectURL(S),I=document.createElement("a");I.href=k,I.download=`${b}-workspace.zip`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(k),xt.success(`Workspace '${b}' exported successfully as ZIP.`)}catch(x){xt.error(`Failed to export workspace ${b}: ${x.message}`),console.error(`ZIP Export error for workspace ${b}:`,x)}finally{h(null)}},v=b=>{switch(b){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},y=i.filter(b=>b.title.toLowerCase().includes(t.toLowerCase())||b.description.toLowerCase().includes(t.toLowerCase())),_=[{name:"Workspaces",count:s.workspaces,icon:df,color:"bg-blue-100 text-blue-600"},{name:"Areas",count:s.areas,icon:gs,color:"bg-violet-100 text-violet-600"},{name:"Processes",count:s.processes,icon:_a,color:"bg-emerald-100 text-emerald-600"},{name:"Active",count:s.active,icon:Moe,color:"bg-amber-100 text-amber-600"}];return l?P.jsx("div",{className:"flex items-center justify-center h-64",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):P.jsxs("div",{className:"space-y-6",children:[P.jsx(qE,{title:"Dashboard",description:"Overview of your workflow workspaces",onCreateNew:()=>r(!0),createNewLabel:"New Workspace"}),P.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:_.map(b=>P.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg transition-all hover:shadow-md",children:P.jsx("div",{className:"p-5",children:P.jsxs("div",{className:"flex items-center",children:[P.jsx("div",{className:`flex-shrink-0 rounded-md p-3 ${b.color}`,children:P.jsx(b.icon,{className:"h-6 w-6"})}),P.jsx("div",{className:"ml-5 w-0 flex-1",children:P.jsxs("dl",{children:[P.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:b.name}),P.jsx("dd",{children:P.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.count})})]})})]})})},b.name))}),u&&P.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:P.jsx("p",{className:"text-sm text-red-600",children:u})}),P.jsx("div",{className:"mb-6",children:P.jsxs("div",{className:"relative max-w-md",children:[P.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:P.jsx(fq,{className:"h-5 w-5 text-gray-400"})}),P.jsx("input",{type:"text",placeholder:"Search workspaces...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t,onChange:b=>e(b.target.value)})]})}),P.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:P.jsx("ul",{className:"divide-y divide-gray-200",children:y.length>0?y.map(b=>P.jsx("li",{className:"animate-slide-in",children:P.jsx("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 transition-colors",children:P.jsx("div",{className:"flex items-center justify-between",children:P.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between w-full",children:[P.jsxs("div",{className:"sm:flex sm:items-center",children:[P.jsx("div",{className:"flex-shrink-0 mr-4 bg-primary-100 p-2 rounded-lg",children:P.jsx(df,{className:"h-6 w-6 text-primary-600"})}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-sm font-medium text-primary-600",children:P.jsx(ec,{to:`/workspaces/${b.code}`,className:"hover:underline",children:b.title})}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:b.description}),P.jsx("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:P.jsxs("span",{children:["Updated ",Poe(b.updated_at)]})})]})]}),P.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center",children:[P.jsx("span",{className:At("px-2.5 py-0.5 rounded-full text-xs font-medium mr-4",v(b.status)),children:b.status.charAt(0).toUpperCase()+b.status.slice(1)}),P.jsxs(Et,{variant:"ghost",size:"sm",onClick:()=>g(b.code),icon:P.jsx(uq,{className:"h-4 w-4"}),className:"mr-2",disabled:f===b.code,children:[f===b.code?"Exporting...":"Export"," "]}),P.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>m(b.code),icon:P.jsx(vs,{className:"h-4 w-4"}),className:"mr-2 text-red-600 hover:text-red-700",children:"Delete"}),P.jsx(ec,{to:`/workspaces/${b.code}`,className:"text-sm font-medium text-primary-600 hover:text-primary-800 transition-colors",children:"View"})]})]})})})},b.id)):P.jsx("li",{className:"py-12",children:P.jsxs("div",{className:"text-center",children:[P.jsx(df,{className:"mx-auto h-12 w-12 text-gray-400"}),P.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No workspaces found"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a new workflow workspace to get started."})]})})})}),n&&P.jsx(ME,{onClose:()=>r(!1),onCreated:p})]})},sae=()=>{const[t,e]=Ee(""),[n,r]=Ee(!1),[i,o]=Ee("recent"),[s,a]=Ee([]),[l,c]=Ee(!0),[u,d]=Ee(null),[f,h]=Ee(null);bt(()=>{p()},[]);const p=async()=>{try{c(!0);const S=(await new ln().workspaces.listWorkspaces()).map(k=>({id:k.id||k.code,code:k.code,title:k.description||k.code,description:k.description||"",status:k.status||"unknown",updated_at:k.updated_at||new Date().toISOString()}));a(S)}catch(w){d(w.message)}finally{c(!1)}},m=async w=>{if(confirm("Are you sure you want to delete this workspace?"))try{const S=await new ln().workspaces.deleteWorkspace(w);S.success?await p():d(S.message)}catch(E){d(E.message)}},g=s.filter(w=>w.title.toLowerCase().includes(t.toLowerCase())||w.description.toLowerCase().includes(t.toLowerCase())),v=g.sort((w,E)=>new Date(E.updated_at).getTime()-new Date(w.updated_at).getTime()).slice(0,3),y=async w=>{if(console.log("handleExport called with appCode:",w),!w){xt.error("Workspace code is missing.");return}h(w);try{const E=new ln,S=await E.workspaces.loadProjectConfig(w);if(!S){xt.error(`Could not load configuration for workspace ${w}.`);return}const k=new VE,I=JSON.stringify(S,null,2);k.file(`${w}/project-config.json`,I);for(const C of S.areas||[]){const V=`${w}/${C.code}`;for(const J of C.processes||[])try{const Y=await E.processes.readProcessDefinition(w,C.code,J.code);Y?.bpmnXml&&k.file(`${V}/${J.code}.bpmn`,Y.bpmnXml)}catch(Y){console.warn(`Could not read process ${J.code} in area ${C.code} for workspace ${w}: ${Y.message}`),xt.error(`Error reading process ${J.code} in ${C.code}`)}for(const J of C.subareas||[]){const Y=`${V}/${J.code}`;for(const j of J.processes||[])try{const B=await E.processes.readProcessDefinition(w,C.code,j.code,J.code);B?.bpmnXml&&k.file(`${Y}/${j.code}.bpmn`,B.bpmnXml)}catch(B){console.warn(`Could not read process ${j.code} in subarea ${J.code} (area ${C.code}) for workspace ${w}: ${B.message}`),xt.error(`Error reading process ${j.code} in ${J.code}`)}}}const M=await k.generateAsync({type:"blob"}),R=URL.createObjectURL(M),D=document.createElement("a");D.href=R,D.download=`${w}-workspace.zip`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(R),xt.success(`Workspace '${w}' exported successfully as ZIP.`)}catch(E){xt.error(`Failed to export workspace ${w}: ${E.message}`),console.error(`ZIP Export error for workspace ${w}:`,E)}finally{h(null)}},_=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=w=>{const E=new Date(w);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(E)};if(l)return P.jsx("div",{className:"flex items-center justify-center h-64",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const x=w=>P.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:P.jsx("ul",{className:"divide-y divide-gray-200",children:w.length>0?w.map(E=>P.jsx("li",{className:"animate-slide-in",children:P.jsx("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50 transition-colors",children:P.jsx("div",{className:"flex items-center justify-between",children:P.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between w-full",children:[P.jsxs("div",{className:"sm:flex sm:items-center",children:[P.jsx("div",{className:"flex-shrink-0 mr-4 bg-primary-100 p-2 rounded-lg",children:P.jsx(NO,{className:"h-6 w-6 text-primary-600"})}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-sm font-medium text-primary-600",children:P.jsx(ec,{to:`/workspaces/${E.code}`,className:"hover:underline",children:E.title})}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:E.description}),P.jsx("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:P.jsxs("span",{children:["Updated ",b(E.updated_at)]})})]})]}),P.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center",children:[P.jsx("span",{className:At("px-2.5 py-0.5 rounded-full text-xs font-medium mr-4",_(E.status)),children:E.status.charAt(0).toUpperCase()+E.status.slice(1)}),P.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>y(E.code),icon:P.jsx(uq,{className:"h-4 w-4"}),className:"mr-2",disabled:f===E.code,children:f===E.code?"Exporting...":"Export"}),P.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>m(E.code),icon:P.jsx(vs,{className:"h-4 w-4"}),className:"mr-2 text-red-600 hover:text-red-700",children:"Delete"}),P.jsx(ec,{to:`/workspaces/${E.code}`,className:"text-sm font-medium text-primary-600 hover:text-primary-800 transition-colors",children:"View"})]})]})})})},E.id)):P.jsx("li",{className:"py-12",children:P.jsxs("div",{className:"text-center",children:[P.jsx(NO,{className:"mx-auto h-12 w-12 text-gray-400"}),P.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No workspaces found"}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a new workflow workspace to get started."})]})})})});return P.jsxs("div",{className:"animate-fade-in",children:[P.jsx(qE,{title:"Workflow Workspaces",description:"Manage your workflow workspaces",onCreateNew:()=>r(!0),createNewLabel:"New Workspace"}),u&&P.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:P.jsx("p",{className:"text-sm text-red-600",children:u})}),P.jsxs("div",{className:"mb-6 space-y-4",children:[P.jsx("div",{className:"flex items-center",children:P.jsxs("div",{className:"relative flex-grow max-w-md",children:[P.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:P.jsx(fq,{className:"h-5 w-5 text-gray-400"})}),P.jsx("input",{type:"text",placeholder:"Search workspaces...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t,onChange:w=>e(w.target.value)})]})}),P.jsx("div",{className:"border-b border-gray-200",children:P.jsxs("nav",{className:"-mb-px flex space-x-8",children:[P.jsx("button",{onClick:()=>o("recent"),className:At("py-4 px-1 border-b-2 font-medium text-sm",i==="recent"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Recent Workspaces"}),P.jsx("button",{onClick:()=>o("all"),className:At("py-4 px-1 border-b-2 font-medium text-sm",i==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"All Workspaces"})]})})]}),x(i==="recent"?v:g),n&&P.jsx(ME,{onClose:()=>r(!1),onCreated:p})]})},aae=({areas:t,onCreateArea:e,onCreateSubArea:n,onCreateProcess:r,onEditItem:i,onDeleteItem:o})=>{const[s,a]=Ee(new Set),[l,c]=Ee(null);bt(()=>{const g=v=>{l&&!v.target.closest(".menu-container")&&c(null)};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[l]);const u=g=>{const v=new Set(s);v.has(g)?v.delete(g):v.add(g),a(v)},d=(g,v)=>{v.stopPropagation(),c(l===g?null:g)},f=(g,v)=>P.jsxs("div",{className:"menu-container relative",children:[P.jsx("button",{onClick:y=>d(g,y),className:"p-1 rounded-md hover:bg-gray-100",children:P.jsx(dq,{className:"h-4 w-4 text-gray-500"})}),l===g&&P.jsx("div",{className:"absolute right-0 mt-1 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:P.jsx("div",{className:"py-1",role:"menu",children:v.map((y,_)=>P.jsxs("button",{onClick:b=>{b.stopPropagation(),y.onClick(b),c(null)},className:At("w-full text-left px-4 py-2 text-sm flex items-center hover:bg-gray-100",y.className),role:"menuitem",children:[y.icon,P.jsx("span",{className:"ml-2",children:y.label})]},_))})})]}),h=(g,v)=>{const y=`process-${g.id}`;return P.jsxs("div",{className:"flex items-center py-1 pl-8",children:[P.jsxs(ec,{to:`/process/${g.code}`,className:"flex items-center flex-1 text-sm text-gray-700 hover:text-primary-600",children:[P.jsx(_a,{className:"h-4 w-4 text-gray-400 mr-2"}),P.jsx("span",{className:"truncate",children:g.title})]}),f(y,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>i?.("process",g.code,v)},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>o?.("process",g.code,v),className:"text-red-600 hover:text-red-700"}])]},g.id)},p=(g,v)=>{const y=s.has(g.id),_=`subarea-${g.id}`;return P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-center py-1 pl-4",children:[P.jsx("button",{onClick:()=>u(g.id),className:"p-1 hover:bg-gray-100 rounded",children:y?P.jsx(hg,{className:"h-4 w-4 text-gray-400"}):P.jsx(pg,{className:"h-4 w-4 text-gray-400"})}),P.jsx(gs,{className:"h-4 w-4 text-gray-400 mr-2"}),P.jsx("span",{className:"text-sm text-gray-700 flex-1",children:g.title}),f(_,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>i?.("subarea",g.code,v)},{label:"Add Process",icon:P.jsx(_a,{className:"h-4 w-4"}),onClick:()=>r?.(v,g.code)},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>o?.("subarea",g.code,v),className:"text-red-600 hover:text-red-700"}])]}),y&&g.processes&&P.jsx("div",{className:"ml-4",children:g.processes.map(b=>h(b,v))})]},g.id)},m=g=>{const v=s.has(g.id),y=`area-${g.id}`;return P.jsxs("div",{className:"border-b border-gray-200 last:border-0",children:[P.jsxs("div",{className:"flex items-center py-2",children:[P.jsx("button",{onClick:()=>u(g.id),className:"p-1 hover:bg-gray-100 rounded",children:v?P.jsx(hg,{className:"h-4 w-4 text-gray-400"}):P.jsx(pg,{className:"h-4 w-4 text-gray-400"})}),P.jsx(gs,{className:"h-4 w-4 text-primary-600 mr-2"}),P.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1",children:g.title}),f(y,[{label:"Edit",icon:P.jsx(Ml,{className:"h-4 w-4"}),onClick:()=>i?.("area",g.code)},{label:"Add SubArea",icon:P.jsx(gs,{className:"h-4 w-4"}),onClick:()=>n?.(g.code)},{label:"Add Process",icon:P.jsx(_a,{className:"h-4 w-4"}),onClick:()=>r?.(g.code)},{label:"Delete",icon:P.jsx(vs,{className:"h-4 w-4"}),onClick:()=>o?.("area",g.code),className:"text-red-600 hover:text-red-700"}])]}),v&&P.jsxs("div",{className:"ml-4",children:[g.processes?.map(_=>h(_,g.code)),g.subareas?.map(_=>p(_,g.code))]})]},g.id)};return P.jsxs("div",{className:"bg-white rounded-lg shadow",children:[P.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Application Structure"}),e&&P.jsx(Et,{variant:"ghost",size:"sm",onClick:e,icon:P.jsx(gs,{className:"h-4 w-4"}),children:"Add Area"})]}),P.jsx("div",{className:"p-2",children:t.map(m)})]})},lae=({type:t,workspaceCode:e,itemCode:n,parentCode:r,onClose:i,onUpdated:o})=>{const[s,a]=Ee(!1),[l,c]=Ee(!0),[u,d]=Ee({title:"",description:"",status:"active"}),[f,h]=Ee(null);bt(()=>{p()},[]);const p=async()=>{try{const y=await new ln().workspaces.loadProjectConfig(e);if(!y){h(`Workspace '${e}' not found`);return}let _;if(t==="area")_=y.areas.find(b=>b.code===n);else if(t==="subarea"&&r)_=y.areas.find(x=>x.code===r)?.subareas.find(x=>x.code===n);else if(t==="process"&&r){const b=y.areas.find(x=>x.code===r);if(b&&(_=b.processes.find(x=>x.code===n),!_&&b.subareas)){for(const x of b.subareas)if(_=x.processes.find(w=>w.code===n),_)break}}if(!_){h("Item not found");return}d({title:_.title,description:_.description||"",status:_.status})}catch(v){h(v.message)}finally{c(!1)}},m=async v=>{if(v.preventDefault(),!f){a(!0),h(null);try{const y=new ln;let _;t==="area"?_=await y.workspaces.updateArea(e,n,u.title,u.description,u.status):t==="subarea"?_=await y.workspaces.updateSubArea(e,r,n,u.title,u.description,u.status):_=await y.workspaces.updateProcess(e,r,n,u.title,u.description,u.status),_.success?(o(),i()):h(_.message)}catch(y){h(y.message)}finally{a(!1)}}},g=()=>{switch(t){case"area":return"Edit Area";case"subarea":return"Edit SubArea";case"process":return"Edit Process"}};return l?P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:P.jsx("div",{className:"flex items-center justify-center",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):P.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[P.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[P.jsx("h2",{className:"text-lg font-semibold",children:g()}),P.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-500",children:P.jsx(gc,{className:"h-5 w-5"})})]}),P.jsx("form",{onSubmit:m,className:"p-4 space-y-4",children:f?P.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[P.jsx("p",{className:"text-sm text-red-600",children:f}),P.jsx("div",{className:"mt-4",children:P.jsx(Et,{variant:"secondary",onClick:i,children:"Close"})})]}):P.jsxs(P.Fragment,{children:[P.jsx(yr,{label:"Title",value:u.title,onChange:v=>d({...u,title:v.target.value}),placeholder:"Enter title",required:!0}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Description"}),P.jsx("textarea",{value:u.description,onChange:v=>d({...u,description:v.target.value}),className:"input-field",rows:3,placeholder:"Enter description"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"form-label",children:"Status"}),P.jsxs("select",{value:u.status,onChange:v=>d({...u,status:v.target.value}),className:"input-field",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"inactive",children:"Inactive"}),P.jsx("option",{value:"draft",children:"Draft"})]})]}),P.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[P.jsx(Et,{variant:"secondary",onClick:i,disabled:s,children:"Cancel"}),P.jsx(Et,{type:"submit",isLoading:s,children:"Save Changes"})]})]})})]})})},cae=()=>{const{code:t}=Wz(),[e,n]=Ee(null),[r,i]=Ee(!1),[o,s]=Ee(!1),[a,l]=Ee(!1),[c,u]=Ee(!1),[d,f]=Ee(null),[h,p]=Ee(!1);yu();const[m,g]=Ee(null),[v,y]=Ee(null),[_,b]=Ee(!0),[x,w]=Ee(null);bt(()=>{E()},[t]);const E=async()=>{try{b(!0);const V=await new ln().workspaces.loadProjectConfig(t);n(V)}catch(C){w(C.message)}finally{b(!1)}},S=()=>{i(!0)},k=C=>{g(C),s(!0)},I=(C,V)=>{g(C),y(V||null),l(!0)},M=(C,V,J)=>{f({type:C,code:V,parentCode:J}),u(!0)},R=async(C,V,J)=>{if(confirm(`Are you sure you want to delete this ${C}?`))try{const Y=new ln;let j;switch(C){case"area":j=await Y.workspaces.deleteArea(t,V);break;case"subarea":j=await Y.workspaces.deleteSubArea(t,J,V);break;case"process":j=await Y.workspaces.deleteProcess(t,J,V);break}j?.success?await E():w(j?.message||"Failed to delete item")}catch(Y){w(Y.message)}},D=async()=>{if(!t||!e){xt.error("Workspace data not loaded yet.");return}p(!0);try{const C=new ln,V=new VE,J=JSON.stringify(e,null,2);V.file(`${t}/project-config.json`,J);for(const G of e.areas||[]){const z=`${t}/${G.code}`;for(const N of G.processes||[])try{const F=await C.processes.readProcessDefinition(t,G.code,N.code);F?.bpmnXml&&V.file(`${z}/${N.code}.bpmn`,F.bpmnXml)}catch(F){console.warn(`Could not read process ${N.code} in area ${G.code}: ${F.message}`),xt(`Could not read process ${N.code} in area ${G.code}`)}for(const N of G.subareas||[]){const F=`${z}/${N.code}`;for(const W of N.processes||[])try{const X=await C.processes.readProcessDefinition(t,G.code,W.code,N.code);X?.bpmnXml&&V.file(`${F}/${W.code}.bpmn`,X.bpmnXml)}catch(X){console.warn(`Could not read process ${W.code} in subarea ${N.code} (area ${G.code}): ${X.message}`),xt(`Could not read process ${W.code} in subarea ${N.code}`)}}}const Y=await V.generateAsync({type:"blob"}),j=URL.createObjectURL(Y),B=document.createElement("a");B.href=j,B.download=`${t}-workspace.zip`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(j),xt.success(`Workspace '${t}' exported successfully as ZIP.`)}catch(C){xt.error(`Failed to export workspace: ${C.message}`),console.error("ZIP Export error:",C)}finally{p(!1)}};return _?P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?P.jsxs("div",{className:"text-red-600 p-4",children:["Error: ",x]}):P.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[P.jsx(qE,{title:e?.project||t||"Workspace",description:"Manage workspace areas, sub-areas, and processes",actions:P.jsxs(Et,{variant:"secondary",onClick:D,disabled:h||!e||_,children:[P.jsx(Ioe,{className:"mr-2 h-4 w-4"}),h?"Exporting...":"Export Workspace (ZIP)"]})}),!_&&!x&&P.jsx("div",{className:"grid grid-cols-1 gap-6",children:P.jsx(aae,{areas:e?.areas||[],onCreateArea:S,onCreateSubArea:k,onCreateProcess:I,onEditItem:M,onDeleteItem:R})}),r&&P.jsx(hq,{workspaceCode:t,onClose:()=>i(!1),onCreated:E}),o&&m&&P.jsx(pq,{workspaceCode:t,areaCode:m,onClose:()=>{s(!1),g(null)},onCreated:E}),a&&m&&P.jsx(mq,{workspaceCode:t,onClose:()=>{l(!1),g(null),y(null)},onCreated:E,initialArea:m,initialSubArea:v}),c&&d&&P.jsx(lae,{type:d.type,workspaceCode:t,itemCode:d.code,parentCode:d.parentCode,onClose:()=>{u(!1),f(null)},onUpdated:E})]})};function Oe(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function uae(t,e){return e={exports:{}},t(e,e.exports),e.exports}var dae=uae(function(t){var e=t.exports=function(n,r){if(r||(r=16),n===void 0&&(n=128),n<=0)return"0";for(var i=Math.log(Math.pow(2,n))/Math.log(r),o=2;i===1/0;o*=2)i=Math.log(Math.pow(2,n/o))/Math.log(r)*o;for(var s=i-Math.floor(i),a="",o=0;o<Math.floor(i);o++){var l=Math.floor(Math.random()*r).toString(r);a=l+a}if(s){var c=Math.pow(r,s),l=Math.floor(Math.random()*c).toString(r);a=l+a}var u=parseInt(a,r);return u!==1/0&&u>=Math.pow(2,n)?e(n,r):a};e.rack=function(n,r,i){var o=function(a){var l=0;do{if(l++>10)if(i)n+=i;else throw new Error("too many ID collisions, use more bits");var c=e(n,r)}while(Object.hasOwnProperty.call(s,c));return s[c]=a,c},s=o.hats={};return o.get=function(a){return o.hats[a]},o.set=function(a,l){return o.hats[a]=l,o},o.bits=n||128,o.base=r||16,o}});function fi(t){if(!(this instanceof fi))return new fi(t);t=t||[128,36,1],this._seed=t.length?dae.rack(t[0],t[1],t[2]):t}fi.prototype.next=function(t){return this._seed(t||!0)};fi.prototype.nextPrefixed=function(t,e){var n;do n=t+this.next(!0);while(this.assigned(n));return this.claim(n,e),n};fi.prototype.claim=function(t,e){this._seed.set(t,e||!0)};fi.prototype.assigned=function(t){return this._seed.get(t)||!1};fi.prototype.unclaim=function(t){delete this._seed.hats[t]};fi.prototype.clear=function(){var t=this._seed.hats,e;for(e in t)this.unclaim(e)};function HE(t){return Array.prototype.concat.apply([],t)}const ph=Object.prototype.toString,fae=Object.prototype.hasOwnProperty;function Oa(t){return t===void 0}function Jt(t){return t!==void 0}function A0(t){return t==null}function Fe(t){return ph.call(t)==="[object Array]"}function On(t){return ph.call(t)==="[object Object]"}function He(t){return ph.call(t)==="[object Number]"}function Ct(t){const e=ph.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function kn(t){return ph.call(t)==="[object String]"}function hae(t){if(!Fe(t))throw new Error("must supply array")}function gr(t,e){return!A0(t)&&fae.call(t,e)}function Ge(t,e){const n=Rv(e);let r;return ee(t,function(i,o){if(n(i,o))return r=i,!1}),r}function Fq(t,e){const n=Rv(e);let r=Fe(t)?-1:void 0;return ee(t,function(i,o){if(n(i,o))return r=o,!1}),r}function Xe(t,e){const n=Rv(e);let r=[];return ee(t,function(i,o){n(i,o)&&r.push(i)}),r}function ee(t,e){let n,r;if(Oa(t))return;const i=Fe(t)?vae:gae;for(let o in t)if(gr(t,o)&&(n=t[o],r=e(n,i(o)),r===!1))return n}function zq(t,e){if(Oa(t))return[];hae(t);const n=Rv(e);return t.filter(function(r,i){return!n(r,i)})}function cn(t,e,n){return ee(t,function(r,i){n=e(n,r,i)}),n}function ui(t,e){return!!cn(t,function(n,r,i){return n&&e(r,i)},!0)}function zs(t,e){return!!Ge(t,e)}function Nn(t,e){let n=[];return ee(t,function(r,i){n.push(e(r,i))}),n}function js(t){return t&&Object.keys(t)||[]}function pae(t){return js(t).length}function Ov(t){return Nn(t,e=>e)}function vc(t,e,n={}){return e=UE(e),ee(t,function(r){let i=e(r)||"_",o=n[i];o||(o=n[i]=[]),o.push(r)}),n}function qq(t,...e){t=UE(t);let n={};return ee(e,i=>vc(i,t,n)),Nn(n,function(i,o){return i[0]})}const mae=qq;function br(t,e){e=UE(e);let n=[];return ee(t,function(r,i){let o=e(r,i),s={d:o,v:r};for(var a=0;a<n.length;a++){let{d:l}=n[a];if(o<l){n.splice(a,0,s);return}}n.push(s)}),Nn(n,r=>r.v)}function io(t){return function(e){return ui(t,function(n,r){return e[r]===n})}}function UE(t){return Ct(t)?t:e=>e[t]}function Rv(t){return Ct(t)?t:e=>e===t}function gae(t){return t}function vae(t){return Number(t)}function _u(t,e){let n,r,i,o;function s(d){let f=Date.now(),h=d?0:o+e-f;if(h>0)return a(h);t.apply(i,r),l()}function a(d){n=setTimeout(s,d)}function l(){n&&clearTimeout(n),n=o=r=i=void 0}function c(){n&&s(!0),l()}function u(...d){o=Date.now(),r=d,i=this,n||a(e)}return u.flush=c,u.cancel=l,u}function yae(t,e){let n=!1;return function(...r){n||(t(...r),n=!0,setTimeout(()=>{n=!1},e))}}function Ir(t,e){return t.bind(e)}function re(t,...e){return Object.assign(t,...e)}function Vq(t,e,n){let r=t;return ee(e,function(i,o){if(typeof i!="number"&&typeof i!="string")throw new Error("illegal key type: "+typeof i+". Key should be of type number or string.");if(i==="constructor")throw new Error("illegal key: constructor");if(i==="__proto__")throw new Error("illegal key: __proto__");let s=e[o+1],a=r[i];Jt(s)&&A0(a)&&(a=r[i]=isNaN(+s)?{}:[]),Oa(s)?Oa(n)?delete r[i]:r[i]=n:r=a}),t}function bae(t,e,n){let r=t;return ee(e,function(i){if(A0(r))return r=void 0,!1;r=r[i]}),Oa(r)?n:r}function Ii(t,e){let n={},r=Object(t);return ee(e,function(i){i in r&&(n[i]=t[i])}),n}function Qo(t,e){let n={},r=Object(t);return ee(r,function(i,o){e.indexOf(o)===-1&&(n[o]=i)}),n}function _ae(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}const xae=Object.prototype.toString,wae=Object.prototype.hasOwnProperty;function Eae(t){return t===void 0}function Sae(t){return xae.call(t)==="[object Array]"}function Cae(t,e){return wae.call(t,e)}function XO(t,e){let n,r;if(Eae(t))return;const i=Sae(t)?Oae:kae;for(let o in t)if(Cae(t,o)&&(n=t[o],r=e(n,i(o)),r===!1))return n}function kae(t){return t}function Oae(t){return Number(t)}function tr(t,...e){const n=t.style;return XO(e,function(r){r&&XO(r,function(i,o){n[o]=i})}),t}function Vn(t,e,n){return arguments.length==2?t.getAttribute(e):n===null?t.removeAttribute(e):(t.setAttribute(e,n),t)}const Rae=Object.prototype.toString;function et(t){return new Ra(t)}function Ra(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}Ra.prototype.add=function(t){return this.list.add(t),this};Ra.prototype.remove=function(t){return Rae.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};Ra.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};Ra.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};Ra.prototype.array=function(){return Array.from(this.list)};Ra.prototype.has=Ra.prototype.contains=function(t){return this.list.contains(t)};function Pv(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function Mr(t,e,n){var r=n?t:t.parentNode;return r&&typeof r.closest=="function"&&r.closest(e)||null}var vg={},yg,Cx,WE;function Hq(){yg=window.addEventListener?"addEventListener":"attachEvent",Cx=window.removeEventListener?"removeEventListener":"detachEvent",WE=yg!=="addEventListener"?"on":""}var Pae=vg.bind=function(t,e,n,r){return yg||Hq(),t[yg](WE+e,n,r||!1),n},Aae=vg.unbind=function(t,e,n,r){return Cx||Hq(),t[Cx](WE+e,n,r||!1),n},Be=_ae({__proto__:null,bind:Pae,unbind:Aae,default:vg},[vg]),Uq=["focus","blur"];function Tae(t,e,n,r,i){return Uq.indexOf(n)!==-1&&(i=!0),Be.bind(t,n,function(o){var s=o.target||o.srcElement;o.delegateTarget=Mr(s,e,!0),o.delegateTarget&&r.call(t,o)},i)}function Iae(t,e,n,r){return Uq.indexOf(e)!==-1&&(r=!0),Be.unbind(t,e,n,r)}var rr={bind:Tae,unbind:Iae},Dae=Mae,Wq=!1,Fp;typeof document<"u"&&(Fp=document.createElement("div"),Fp.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Wq=!Fp.getElementsByTagName("link").length,Fp=void 0);var wn={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Wq?[1,"X<div>","</div>"]:[0,"",""]};wn.td=wn.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];wn.option=wn.optgroup=[1,'<select multiple="multiple">',"</select>"];wn.thead=wn.tbody=wn.colgroup=wn.caption=wn.tfoot=[1,"<table>","</table>"];wn.polyline=wn.ellipse=wn.polygon=wn.circle=wn.text=wn.line=wn.path=wn.rect=wn.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function Mae(t,e){if(typeof t!="string")throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if(r=="body"){var l=e.createElement("html");return l.innerHTML=t,l.removeChild(l.lastChild)}var i=Object.prototype.hasOwnProperty.call(wn,r)?wn[r]:wn._default,o=i[0],s=i[1],a=i[2],l=e.createElement("div");for(l.innerHTML=s+t+a;o--;)l=l.lastChild;if(l.firstChild==l.lastChild)return l.removeChild(l.firstChild);for(var c=e.createDocumentFragment();l.firstChild;)c.appendChild(l.removeChild(l.firstChild));return c}var at=Dae;function Av(t,e){return t&&typeof t.matches=="function"&&t.matches(e)||!1}function Ue(t,e){return e=e||document,e.querySelector(t)}function Ko(t,e){return e=e||document,e.querySelectorAll(t)}function Gn(t){t.parentNode&&t.parentNode.removeChild(t)}function $ae(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch{}return t}function Nae(t,e){return e.appendChild($ae(t,e))}function Ve(t,e){return Nae(e,t),t}var kx=2,Gq={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":kx,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":kx,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Lae(t,e){return Gq[e]?t.style[e]:t.getAttributeNS(null,e)}function Kq(t,e,n){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=Gq[r];i?(i===kx&&typeof n=="number"&&(n=String(n)+"px"),t.style[r]=n):t.setAttributeNS(null,e,n)}function jae(t,e){var n=Object.keys(e),r,i;for(r=0,i;i=n[r];r++)Kq(t,i,e[i])}function Ce(t,e,n){if(typeof e=="string")if(n!==void 0)Kq(t,e,n);else return Lae(t,e);else jae(t,e);return t}const Bae=Object.prototype.toString;function dt(t){return new Pa(t)}function Pa(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}Pa.prototype.add=function(t){return this.list.add(t),this};Pa.prototype.remove=function(t){return Bae.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};Pa.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};Pa.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};Pa.prototype.array=function(){return Array.from(this.list)};Pa.prototype.has=Pa.prototype.contains=function(t){return this.list.contains(t)};function Tv(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function Xq(t){return t.cloneNode(!0)}var GE={svg:"http://www.w3.org/2000/svg"},YO='<svg xmlns="'+GE.svg+'"';function Fae(t){var e=!1;t.substring(0,4)==="<svg"?t.indexOf(GE.svg)===-1&&(t=YO+t.substring(4)):(t=YO+">"+t+"</svg>",e=!0);var n=zae(t);if(!e)return n;for(var r=document.createDocumentFragment(),i=n.firstChild;i.firstChild;)r.appendChild(i.firstChild);return r}function zae(t){var e;return e=new DOMParser,e.async=!1,e.parseFromString(t,"text/xml")}function Me(t,e){var n;return t=t.trim(),t.charAt(0)==="<"?(n=Fae(t).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(GE.svg,t),e&&Ce(n,e),n}var l3=null;function Yq(){return l3===null&&(l3=Me("svg")),l3}function QO(t,e){var n,r,i=Object.keys(e);for(n=0;r=i[n];n++)t[r]=e[r];return t}function qae(t,e,n,r,i,o){var s=Yq().createSVGMatrix();switch(arguments.length){case 0:return s;case 1:return QO(s,t);case 6:return QO(s,{a:t,b:e,c:n,d:r,e:i,f:o})}}function ff(t){return Yq().createSVGTransform()}var ZO=/([&<>]{1})/g,Vae=/([&<>\n\r"]{1})/g,Hae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function c3(t,e){function n(r,i){return Hae[i]||i}return t.replace(e,n)}function Qq(t,e){var n,r,i,o,s;switch(t.nodeType){case 3:e.push(c3(t.textContent,ZO));break;case 1:if(e.push("<",t.tagName),t.hasAttributes())for(i=t.attributes,n=0,r=i.length;n<r;++n)o=i.item(n),e.push(" ",o.name,'="',c3(o.value,Vae),'"');if(t.hasChildNodes()){for(e.push(">"),s=t.childNodes,n=0,r=s.length;n<r;++n)Qq(s.item(n),e);e.push("</",t.tagName,">")}else e.push("/>");break;case 8:e.push("<!--",c3(t.nodeValue,ZO),"-->");break;case 4:e.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return e}function Uae(t){for(var e=t.firstChild,n=[];e;)Qq(e,n),e=e.nextSibling;return n.join("")}function Ox(t,e){return Uae(t)}function Sn(t){var e=t.parentNode;return e&&e.removeChild(t),t}function Wae(t,e){return e instanceof SVGMatrix?t.createSVGTransformFromMatrix(e):e}function Gae(t,e){var n,r;for(t.clear(),n=0;r=e[n];n++)t.appendItem(Wae(t,r))}function Nf(t,e){var n=t.transform.baseVal;return e&&(Array.isArray(e)||(e=[e]),Gae(n,e)),n.consolidate()}const Kae=/^class[ {]/;function Xae(t){return Kae.test(t.toString())}function KE(t){return Array.isArray(t)}function u3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cm(...t){t.length===1&&KE(t[0])&&(t=t[0]),t=[...t];const e=t.pop();return e.$inject=t,e}const Yae=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Qae=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,Zae=/\/\*([^*]*)\*\//m;function Jae(t){if(typeof t!="function")throw new Error(`Cannot annotate "${t}". Expected a function!`);const e=t.toString().match(Xae(t)?Yae:Qae);if(!e)return[];const n=e[1]||e[2];return n&&n.split(",").map(r=>{const i=r.match(Zae);return(i&&i[1]||r).trim()})||[]}function Iv(t,e){const n=e||{get:function(_,b){if(r.push(_),b===!1)return null;throw a(`No provider for "${_}"!`)}},r=[],i=this._providers=Object.create(n._providers||null),o=this._instances=Object.create(null),s=o.injector=this,a=function(_){const b=r.join(" -> ");return r.length=0,new Error(b?`${_} (Resolving: ${b})`:_)};function l(_,b){if(!i[_]&&_.includes(".")){const x=_.split(".");let w=l(x.shift());for(;x.length;)w=w[x.shift()];return w}if(u3(o,_))return o[_];if(u3(i,_)){if(r.indexOf(_)!==-1)throw r.push(_),a("Cannot resolve circular dependency!");return r.push(_),o[_]=i[_][0](i[_][1]),r.pop(),o[_]}return n.get(_,b)}function c(_,b){if(typeof b>"u"&&(b={}),typeof _!="function")if(KE(_))_=Cm(_.slice());else throw a(`Cannot invoke "${_}". Expected a function!`);const w=(_.$inject||Jae(_)).map(E=>u3(b,E)?b[E]:l(E));return{fn:_,dependencies:w}}function u(_){const{fn:b,dependencies:x}=c(_),w=Function.prototype.bind.call(b,null,...x);return new w}function d(_,b,x){const{fn:w,dependencies:E}=c(_,x);return w.apply(b,E)}function f(_){return Cm(b=>_.get(b))}function h(_,b){if(b&&b.length){const x=Object.create(null),w=Object.create(null),E=[],S=[],k=[];let I,M,R,D;for(let C in i)I=i[C],b.indexOf(C)!==-1&&(I[2]==="private"?(M=E.indexOf(I[3]),M===-1?(R=I[3].createChild([],b),D=f(R),E.push(I[3]),S.push(R),k.push(D),x[C]=[D,C,"private",R]):x[C]=[k[M],C,"private",S[M]]):x[C]=[I[2],I[1]],w[C]=!0),(I[2]==="factory"||I[2]==="type")&&I[1].$scope&&b.forEach(V=>{I[1].$scope.indexOf(V)!==-1&&(x[C]=[I[2],I[1]],w[V]=!0)});b.forEach(C=>{if(!w[C])throw new Error('No provider for "'+C+'". Cannot use provider from the parent!')}),_.unshift(x)}return new Iv(_,s)}const p={factory:d,type:u,value:function(_){return _}};function m(_,b){const x=_.__init__||[];return function(){x.forEach(w=>{typeof w=="string"?b.get(w):b.invoke(w)})}}function g(_){const b=_.__exports__;if(b){const x=_.__modules__,w=Object.keys(_).reduce((M,R)=>(R!=="__exports__"&&R!=="__modules__"&&R!=="__init__"&&R!=="__depends__"&&(M[R]=_[R]),M),Object.create(null)),E=(x||[]).concat(w),S=h(E),k=Cm(function(M){return S.get(M)});b.forEach(function(M){i[M]=[k,M,"private",S]});const I=(_.__init__||[]).slice();return I.unshift(function(){S.init()}),_=Object.assign({},_,{__init__:I}),m(_,S)}return Object.keys(_).forEach(function(x){if(x==="__init__"||x==="__depends__")return;const w=_[x];if(w[2]==="private"){i[x]=w;return}const E=w[0],S=w[1];i[x]=[p[E],ele(E,S),E]}),m(_,s)}function v(_,b){return _.indexOf(b)!==-1||(_=(b.__depends__||[]).reduce(v,_),_.indexOf(b)!==-1)?_:_.concat(b)}function y(_){const b=_.reduce(v,[]).map(g);let x=!1;return function(){x||(x=!0,b.forEach(w=>w()))}}this.get=l,this.invoke=d,this.instantiate=u,this.createChild=h,this.init=y(t)}function ele(t,e){return t!=="value"&&KE(e)&&(e=Cm(e.slice())),e}var tle=1e3;function di(t,e){var n=this;e=e||tle,t.on(["render.shape","render.connection"],e,function(r,i){var o=r.type,s=i.element,a=i.gfx,l=i.attrs;if(n.canRender(s))return o==="render.shape"?n.drawShape(a,s,l):n.drawConnection(a,s,l)}),t.on(["render.getShapePath","render.getConnectionPath"],e,function(r,i){if(n.canRender(i))return r.type==="render.getShapePath"?n.getShapePath(i):n.getConnectionPath(i)})}di.prototype.canRender=function(t){};di.prototype.drawShape=function(t,e){};di.prototype.drawConnection=function(t,e){};di.prototype.getShapePath=function(t){};di.prototype.getConnectionPath=function(t){};function yc(t){return t.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function nle(t){return["M",t.x,t.y]}function d3(t){return["L",t.x,t.y]}function rle(t,e,n){return["C",t.x,t.y,e.x,e.y,n.x,n.y]}function ile(t,e){const n=t.length,r=[nle(t[0])];for(let i=1;i<n;i++){const o=t[i-1],s=t[i],a=t[i+1];if(!a||!e){r.push(d3(s));continue}const l=Math.min(e,Rx(s.x-o.x,s.y-o.y),Rx(a.x-s.x,a.y-s.y));if(!l){r.push(d3(s));continue}const c=zp(s,o,l),u=zp(s,o,l*.5),d=zp(s,a,l),f=zp(s,a,l*.5);r.push(d3(c)),r.push(rle(u,f,d))}return r}function zp(t,e,n){const r=e.x-t.x,i=e.y-t.y,o=Rx(r,i),s=n/o;return{x:t.x+r*s,y:t.y+i*s}}function Rx(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function mh(t,e,n){He(e)&&(n=e,e=null),e||(e={});const r=Me("path",e);return He(n)&&(r.dataset.cornerRadius=String(n)),Zq(r,t)}function Zq(t,e){const n=parseInt(t.dataset.cornerRadius,10)||0;return Ce(t,{d:yc(ile(e,n))}),t}function Dv(t){return Xe(t,function(e){return!Ge(t,function(n){return n!==e&&Jq(e,n)})})}function Jq(t,e){if(e){if(t===e)return e;if(t.parent)return Jq(t.parent,e)}}function JO(t,e,n){var r=!n||t.indexOf(e)===-1;return r&&t.push(e),r}function bc(t,e,n){n=n||0,Fe(t)||(t=[t]),ee(t,function(r,i){var o=e(r,i,n);Fe(o)&&o.length&&bc(o,e,n+1)})}function ole(t,e,n){var r=[],i=[];return bc(t,function(o,s,a){JO(r,o,e);var l=o.children;if(l&&JO(i,l,e))return l}),r}function gh(t,e){return ole(t,!e)}function sle(t,e,n){Oa(e)&&(e=!0),On(e)&&(n=e,e=!0),n=n||{};var r=md(n.allShapes),i=md(n.allConnections),o=md(n.enclosedElements),s=md(n.enclosedConnections),a=md(n.topLevel,e&&vc(t,function(u){return u.id}));function l(u){a[u.source.id]&&a[u.target.id]&&(a[u.id]=[u]),r[u.source.id]&&r[u.target.id]&&(s[u.id]=o[u.id]=u),i[u.id]=u}function c(u){if(o[u.id]=u,u.waypoints)s[u.id]=i[u.id]=u;else return r[u.id]=u,ee(u.incoming,l),ee(u.outgoing,l),u.children}return bc(t,c),{allShapes:r,allConnections:i,topLevel:a,enclosedConnections:s,enclosedElements:o}}function Cn(t,e){e=!!e,Fe(t)||(t=[t]);var n,r,i,o;return ee(t,function(s){var a=s;s.waypoints&&!e&&(a=Cn(s.waypoints,!0));var l=a.x,c=a.y,u=a.height||0,d=a.width||0;(l<n||n===void 0)&&(n=l),(c<r||r===void 0)&&(r=c),(l+d>i||i===void 0)&&(i=l+d),(c+u>o||o===void 0)&&(o=c+u)}),{x:n,y:r,height:o-r,width:i-n}}function eV(t,e){var n={};return ee(t,function(r){var i=r;i.waypoints&&(i=Cn(i)),!He(e.y)&&i.x>e.x&&(n[r.id]=r),!He(e.x)&&i.y>e.y&&(n[r.id]=r),i.x>e.x&&i.y>e.y&&(He(e.width)&&He(e.height)&&i.width+i.x<e.width+e.x&&i.height+i.y<e.height+e.y||!He(e.width)||!He(e.height))&&(n[r.id]=r)}),n}function tV(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function nV(t){return!!(t&&t.isFrame)}function md(t,e){return re({},t||{},e||{})}var ale=1;function qa(t,e){di.call(this,t,ale),this.CONNECTION_STYLE=e.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=e.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=e.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Oe(qa,di);qa.prototype.canRender=function(){return!0};qa.prototype.drawShape=function(e,n,r){var i=Me("rect");return Ce(i,{x:0,y:0,width:n.width||0,height:n.height||0}),nV(n)?Ce(i,re({},this.FRAME_STYLE,r||{})):Ce(i,re({},this.SHAPE_STYLE,r||{})),Ve(e,i),i};qa.prototype.drawConnection=function(e,n,r){var i=mh(n.waypoints,re({},this.CONNECTION_STYLE,r||{}));return Ve(e,i),i};qa.prototype.getShapePath=function(e){var n=e.x,r=e.y,i=e.width,o=e.height,s=[["M",n,r],["l",i,0],["l",0,o],["l",-i,0],["z"]];return yc(s)};qa.prototype.getConnectionPath=function(e){var n=e.waypoints,r,i,o=[];for(r=0;i=n[r];r++)i=i.original||i,o.push([r===0?"M":"L",i.x,i.y]);return yc(o)};qa.$inject=["eventBus","styles"];function lle(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},e=this;this.cls=function(n,r,i){var o=this.style(r,i);return re(o,{class:n})},this.style=function(n,r){!Fe(n)&&!r&&(r=n,n=[]);var i=cn(n,function(o,s){return re(o,t[s]||{})},{});return r?re(i,r):i},this.computeStyle=function(n,r,i){return Fe(r)||(i=r,r=[]),e.style(r||[],re({},i,n||{}))}}const cle={__init__:["defaultRenderer"],defaultRenderer:["type",qa],styles:["type",lle]};function nn(t,e){if(!t||!e)return-1;var n=t.indexOf(e);return n!==-1&&t.splice(n,1),n}function un(t,e,n){if(!(!t||!e)){typeof n!="number"&&(n=-1);var r=t.indexOf(e);if(r!==-1){if(r===n)return;if(n!==-1)t.splice(r,1);else return}n!==-1?t.splice(n,0,e):t.push(e)}}function XE(t,e){return!t||!e?-1:t.indexOf(e)}function vh(t,e){return!t||!e?-1:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function YE(t,e,n,r){if(typeof r>"u"&&(r=5),!t||!e||!n)return!1;var i=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x),o=vh(t,e);return Math.abs(i/o)<=r}var ule=2;function ys(t,e){var n=Array.from(arguments).flat();const r={x:"v",y:"h"};for(const[i,o]of Object.entries(r))if(dle(i,n))return o;return!1}function dle(t,e){const n=e[0];return ui(e,function(r){return Math.abs(n[t]-r[t])<=ule})}function eR(t,e,n){return n=n||0,t.x>e.x-n&&t.y>e.y-n&&t.x<e.x+e.width+n&&t.y<e.y+e.height+n}function Px(t,e){return{x:Math.round(t.x+(e.x-t.x)/2),y:Math.round(t.y+(e.y-t.y)/2)}}var fle=/,?([a-z]),?/gi,tR=parseFloat,fn=Math,ta=fn.PI,Mo=fn.min,$o=fn.max,nR=fn.pow,xa=fn.abs,hle=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,ple=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,bg=Array.isArray||function(t){return t instanceof Array};function QE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hf(t){if(typeof t=="function"||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)QE(t,n)&&(e[n]=hf(t[n]));return e}function mle(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function gle(t){function e(){var n=Array.prototype.slice.call(arguments,0),r=n.join("‚êÄ"),i=e.cache=e.cache||{},o=e.count=e.count||[];return QE(i,r)?(mle(o,r),i[r]):(o.length>=1e3&&delete i[o.shift()],o.push(r),i[r]=t(...arguments),i[r])}return e}function vle(t){if(!t)return null;var e=T0(t);if(e.arr)return hf(e.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return bg(t)&&bg(t[0])&&(r=hf(t)),r.length||String(t).replace(hle,function(i,o,s){var a=[],l=o.toLowerCase();for(s.replace(ple,function(c,u){u&&a.push(+u)}),l=="m"&&a.length>2&&(r.push([o,...a.splice(0,2)]),l="l",o=o=="m"?"l":"L");a.length>=n[l]&&(r.push([o,...a.splice(0,n[l])]),!!n[l]););}),r.toString=T0.toString,e.arr=hf(r),r}function T0(t){var e=T0.ps=T0.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)QE(e,n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function Ax(t,e,n,r){return arguments.length===1&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,height:r,x2:t+n,y2:e+r}}function rV(){return this.join(",").replace(fle,"$1")}function _g(t){var e=hf(t);return e.toString=rV,e}function rR(t,e,n,r,i,o,s,a,l){var c=1-l,u=nR(c,3),d=nR(c,2),f=l*l,h=f*l,p=u*t+d*3*l*n+c*3*l*l*i+h*s,m=u*e+d*3*l*r+c*3*l*l*o+h*a;return{x:xg(p),y:xg(m)}}function iR(t){var e=wle(...t);return Ax(e.x0,e.y0,e.x1-e.x0,e.y1-e.y0)}function na(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function yle(t,e){return t=Ax(t),e=Ax(e),na(e,t.x,t.y)||na(e,t.x2,t.y)||na(e,t.x,t.y2)||na(e,t.x2,t.y2)||na(t,e.x,e.y)||na(t,e.x2,e.y)||na(t,e.x,e.y2)||na(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function oR(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,s=t*o+6*e-12*n+6*r;return t*s-3*e+3*n}function sR(t,e,n,r,i,o,s,a,l){l==null&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<u;p++){var m=c*d[p]+c,g=oR(m,t,n,i,s),v=oR(m,e,r,o,a),y=g*g+v*v;h+=f[p]*fn.sqrt(y)}return c*h}function ble(t,e,n,r,i,o,s,a){if(!($o(t,n)<Mo(i,s)||Mo(t,n)>$o(i,s)||$o(e,r)<Mo(o,a)||Mo(e,r)>$o(o,a))){var l=(t*r-e*n)*(i-s)-(t-n)*(i*a-o*s),c=(t*r-e*n)*(o-a)-(e-r)*(i*a-o*s),u=(t-n)*(o-a)-(e-r)*(i-s);if(u){var d=xg(l/u),f=xg(c/u),h=+d.toFixed(2),p=+f.toFixed(2);if(!(h<+Mo(t,n).toFixed(2)||h>+$o(t,n).toFixed(2)||h<+Mo(i,s).toFixed(2)||h>+$o(i,s).toFixed(2)||p<+Mo(e,r).toFixed(2)||p>+$o(e,r).toFixed(2)||p<+Mo(o,a).toFixed(2)||p>+$o(o,a).toFixed(2)))return{x:d,y:f}}}}function xg(t){return Math.round(t*1e11)/1e11}function _le(t,e,n){var r=iR(t),i=iR(e);if(!yle(r,i))return[];for(var o=sR(...t),s=sR(...e),a=aR(t)?1:~~(o/5)||1,l=aR(e)?1:~~(s/5)||1,c=[],u=[],d={},f=[],h=0;h<a+1;h++){var p=rR(...t,h/a);c.push({x:p.x,y:p.y,t:h/a})}for(h=0;h<l+1;h++)p=rR(...e,h/l),u.push({x:p.x,y:p.y,t:h/l});for(h=0;h<a;h++)for(var m=0;m<l;m++){var g=c[h],v=c[h+1],y=u[m],_=u[m+1],b=xa(v.x-g.x)<.01?"y":"x",x=xa(_.x-y.x)<.01?"y":"x",w=ble(g.x,g.y,v.x,v.y,y.x,y.y,_.x,_.y),E;if(w){if(E=w.x.toFixed(9)+"#"+w.y.toFixed(9),d[E])continue;d[E]=!0;var S=g.t+xa((w[b]-g[b])/(v[b]-g[b]))*(v.t-g.t),k=y.t+xa((w[x]-y[x])/(_[x]-y[x]))*(_.t-y.t);S>=0&&S<=1&&k>=0&&k<=1&&f.push({x:w.x,y:w.y,t1:S,t2:k})}}return f}function iV(t,e,n){t=cR(t),e=cR(e);for(var r,i,o,s,a,l,c,u,d,f,h=n?0:[],p=0,m=t.length;p<m;p++){var g=t[p];if(g[0]=="M")r=a=g[1],i=l=g[2];else{g[0]=="C"?(d=[r,i,...g.slice(1)],r=d[6],i=d[7]):(d=[r,i,r,i,a,l,a,l],r=a,i=l);for(var v=0,y=e.length;v<y;v++){var _=e[v];if(_[0]=="M")o=c=_[1],s=u=_[2];else{_[0]=="C"?(f=[o,s,..._.slice(1)],o=f[6],s=f[7]):(f=[o,s,o,s,c,u,c,u],o=c,s=u);var b=_le(d,f);{for(var x=0,w=b.length;x<w;x++)b[x].segment1=p,b[x].segment2=v,b[x].bez1=d,b[x].bez2=f;h=h.concat(b)}}}}}return h}function xle(t){var e=T0(t);if(e.abs)return _g(e.abs);if((!bg(t)||!bg(t&&t[0]))&&(t=vle(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,i=0,o=0,s=0,a=0,l;t[0][0]=="M"&&(r=+t[0][1],i=+t[0][2],o=r,s=i,a++,n[0]=["M",r,i]);for(var c,u,d=a,f=t.length;d<f;d++){if(n.push(c=[]),u=t[d],l=u[0],l!=l.toUpperCase())switch(c[0]=l.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+r,c[7]=+u[7]+i;break;case"V":c[1]=+u[1]+i;break;case"H":c[1]=+u[1]+r;break;case"M":o=+u[1]+r,s=+u[2]+i;default:for(var h=1,p=u.length;h<p;h++)c[h]=+u[h]+(h%2?r:i)}else for(var m=0,g=u.length;m<g;m++)c[m]=u[m];switch(l=l.toUpperCase(),c[0]){case"Z":r=+o,i=+s;break;case"H":r=c[1];break;case"V":i=c[1];break;case"M":o=c[c.length-2],s=c[c.length-1];default:r=c[c.length-2],i=c[c.length-1]}}return n.toString=rV,e.abs=_g(n),n}function aR(t){return t[0]===t[2]&&t[1]===t[3]&&t[4]===t[6]&&t[5]===t[7]}function qp(t,e,n,r){return[t,e,n,r,n,r]}function lR(t,e,n,r,i,o){var s=.3333333333333333,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]}function oV(t,e,n,r,i,o,s,a,l,c){var u=ta*120/180,d=ta/180*(+i||0),f=[],h,p=gle(function(L,O,T){var K=L*fn.cos(T)-O*fn.sin(T),Q=L*fn.sin(T)+O*fn.cos(T);return{x:K,y:Q}});if(c)E=c[0],S=c[1],x=c[2],w=c[3];else{h=p(t,e,-d),t=h.x,e=h.y,h=p(a,l,-d),a=h.x,l=h.y;var m=(t-a)/2,g=(e-l)/2,v=m*m/(n*n)+g*g/(r*r);v>1&&(v=fn.sqrt(v),n=v*n,r=v*r);var y=n*n,_=r*r,b=(o==s?-1:1)*fn.sqrt(xa((y*_-y*g*g-_*m*m)/(y*g*g+_*m*m))),x=b*n*g/r+(t+a)/2,w=b*-r*m/n+(e+l)/2,E=fn.asin(((e-w)/r).toFixed(9)),S=fn.asin(((l-w)/r).toFixed(9));E=t<x?ta-E:E,S=a<x?ta-S:S,E<0&&(E=ta*2+E),S<0&&(S=ta*2+S),s&&E>S&&(E=E-ta*2),!s&&S>E&&(S=S-ta*2)}var k=S-E;if(xa(k)>u){var I=S,M=a,R=l;S=E+u*(s&&S>E?1:-1),a=x+n*fn.cos(S),l=w+r*fn.sin(S),f=oV(a,l,n,r,i,0,s,M,R,[S,I,x,w])}k=S-E;var D=fn.cos(E),C=fn.sin(E),V=fn.cos(S),J=fn.sin(S),Y=fn.tan(k/4),j=4/3*n*Y,B=4/3*r*Y,G=[t,e],z=[t+j*C,e-B*D],N=[a+j*J,l-B*V],F=[a,l];if(z[0]=2*G[0]-z[0],z[1]=2*G[1]-z[1],c)return[z,N,F].concat(f);f=[z,N,F].concat(f).join().split(",");for(var W=[],X=0,oe=f.length;X<oe;X++)W[X]=X%2?p(f[X-1],f[X],d).y:p(f[X],f[X+1],d).x;return W}function wle(t,e,n,r,i,o,s,a){for(var l=[],c=[[],[]],u,d,f,h,p,m,g,v,y=0;y<2;++y){if(y==0?(d=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*s,f=3*n-3*t):(d=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*a,f=3*r-3*e),xa(u)<1e-12){if(xa(d)<1e-12)continue;h=-f/d,0<h&&h<1&&l.push(h);continue}g=d*d-4*f*u,v=fn.sqrt(g),!(g<0)&&(p=(-d+v)/(2*u),0<p&&p<1&&l.push(p),m=(-d-v)/(2*u),0<m&&m<1&&l.push(m))}for(var _=l.length,b=_,x;_--;)h=l[_],x=1-h,c[0][_]=x*x*x*t+3*x*x*h*n+3*x*h*h*i+h*h*h*s,c[1][_]=x*x*x*e+3*x*x*h*r+3*x*h*h*o+h*h*h*a;return c[0][b]=t,c[1][b]=e,c[0][b+1]=s,c[1][b+1]=a,c[0].length=c[1].length=b+2,{x0:Mo(...c[0]),y0:Mo(...c[1]),x1:$o(...c[0]),y1:$o(...c[1])}}function cR(t){var e=T0(t);if(e.curve)return _g(e.curve);for(var n=xle(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(h,p,m){var g,v;if(!h)return["C",p.x,p.y,p.x,p.y,p.x,p.y];switch(!(h[0]in{T:1,Q:1})&&(p.qx=p.qy=null),h[0]){case"M":p.X=h[1],p.Y=h[2];break;case"A":h=["C",...oV(p.x,p.y,...h.slice(1))];break;case"S":m=="C"||m=="S"?(g=p.x*2-p.bx,v=p.y*2-p.by):(g=p.x,v=p.y),h=["C",g,v,...h.slice(1)];break;case"T":m=="Q"||m=="T"?(p.qx=p.x*2-p.qx,p.qy=p.y*2-p.qy):(p.qx=p.x,p.qy=p.y),h=["C",...lR(p.x,p.y,p.qx,p.qy,h[1],h[2])];break;case"Q":p.qx=h[1],p.qy=h[2],h=["C",...lR(p.x,p.y,h[1],h[2],h[3],h[4])];break;case"L":h=["C",...qp(p.x,p.y,h[1],h[2])];break;case"H":h=["C",...qp(p.x,p.y,h[1],p.y)];break;case"V":h=["C",...qp(p.x,p.y,p.x,h[1])];break;case"Z":h=["C",...qp(p.x,p.y,p.X,p.Y)];break}return h},o=function(h,p){if(h[p].length>7){h[p].shift();for(var m=h[p];m.length;)s[p]="A",h.splice(p++,0,["C",...m.splice(0,6)]);h.splice(p,1),u=n.length}},s=[],a="",l="",c=0,u=n.length;c<u;c++){n[c]&&(a=n[c][0]),a!="C"&&(s[c]=a,c&&(l=s[c-1])),n[c]=i(n[c],r,l),s[c]!="A"&&a=="C"&&(s[c]="C"),o(n,c);var d=n[c],f=d.length;r.x=d[f-2],r.y=d[f-1],r.bx=tR(d[f-4])||r.x,r.by=tR(d[f-3])||r.y}return e.curve=_g(n),n}function Tt(t){return On(t)&&gr(t,"waypoints")}function ht(t){return On(t)&&gr(t,"labelTarget")}function sV(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function Cs(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function De(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function Mv(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function Ele(t){return Cs({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}function Sle(t){for(var e=t.waypoints,n=e.reduce(function(c,u,d){var f=e[d-1];if(f){var h=c[c.length-1],p=h&&h.endLength||0,m=Ole(f,u);c.push({start:f,end:u,startLength:p,endLength:p+m,length:m})}return c},[]),r=n.reduce(function(c,u){return c+u.length},0),i=r/2,o=0,s=n[o];s.endLength<i;)s=n[++o];var a=(i-s.startLength)/s.length,l={x:s.start.x+(s.end.x-s.start.x)*a,y:s.start.y+(s.end.y-s.start.y)*a};return l}function Le(t){return Tt(t)?Sle(t):Ele(t)}function Ft(t,e,n){n=n||0,On(n)||(n={x:n,y:n});var r=De(t),i=De(e),o=r.bottom+n.y<=i.top,s=r.left-n.x>=i.right,a=r.top-n.y>=i.bottom,l=r.right+n.x<=i.left,c=o?"top":a?"bottom":null,u=l?"left":s?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function Tx(t,e,n){var r=Cle(t,e);return r.length===1||r.length===2&&vh(r[0],r[1])<1?Cs(r[0]):r.length>1?(r=br(r,function(i){var o=Math.floor(i.t2*100)||1;return o=100-o,o=(o<10?"0":"")+o,i.segment2+"#"+o}),Cs(r[n?0:r.length-1])):null}function Cle(t,e){return iV(t,e)}function kle(t){t=t.slice();for(var e=0,n,r,i;t[e];)n=t[e],r=t[e-1],i=t[e+1],vh(n,i)===0||YE(r,i,n)?t.splice(e,1):e++;return t}function Ole(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function km(t,e){return Math.round(t*e)/e}function uR(t){return He(t)?t+"px":t}function Rle(t){for(;t.parent;)t=t.parent;return t}function Ple(t){t=re({},{width:"100%",height:"100%"},t);const e=t.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),tr(n,{position:"relative",overflow:"hidden",width:uR(t.width),height:uR(t.height)}),e.appendChild(n),n}function aV(t,e,n){const r=Me("g");dt(r).add(e);const i=n!==void 0?n:t.childNodes.length-1;return t.insertBefore(r,t.childNodes[i]||null),r}const Ale="base",lV=0,Tle=1,Ile={shape:["x","y","width","height"],connection:["waypoints"]};function We(t,e,n,r){this._eventBus=e,this._elementRegistry=r,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(t||{})}We.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];We.prototype._init=function(t){const e=this._eventBus,n=this._container=Ple(t),r=this._svg=Me("svg");Ce(r,{width:"100%",height:"100%"}),Vn(r,"tabindex",0),t.autoFocus&&e.on("element.hover",()=>{this.restoreFocus()}),e.on("element.mousedown",500,o=>{this.focus()}),r.addEventListener("focusin",()=>{this._setFocused(!0)}),r.addEventListener("focusout",()=>{this._setFocused(!1)}),Ve(n,r);const i=this._viewport=aV(r,"viewport");t.deferUpdate&&(this._viewboxChanged=_u(Ir(this._viewboxChanged,this),300)),e.on("diagram.init",()=>{e.fire("canvas.init",{svg:r,viewport:i})}),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)};We.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};We.prototype._setFocused=function(t){t!=this._focused&&(this._focused=t,this._eventBus.fire("canvas.focus.changed",{focused:t}))};We.prototype._clear=function(){this._elementRegistry.getAll().forEach(e=>{const n=tV(e);n==="root"?this.removeRootElement(e):this._removeElement(e,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};We.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)};We.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()};We.prototype.isFocused=function(){return this._focused};We.prototype.getDefaultLayer=function(){return this.getLayer(Ale,lV)};We.prototype.getLayer=function(t,e){if(!t)throw new Error("must specify a name");let n=this._layers[t];if(n||(n=this._layers[t]=this._createLayer(t,e)),typeof e<"u"&&n.index!==e)throw new Error("layer <"+t+"> already created at index <"+e+">");return n.group};We.prototype._getChildIndex=function(t){return cn(this._layers,function(e,n){return n.visible&&t>=n.index&&e++,e},0)};We.prototype._createLayer=function(t,e){typeof e>"u"&&(e=Tle);const n=this._getChildIndex(e);return{group:aV(this._viewport,"layer-"+t,n),index:e,visible:!0}};We.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=this._viewport,r=e.group,i=e.index;if(e.visible)return r;const o=this._getChildIndex(i);return n.insertBefore(r,n.childNodes[o]||null),e.visible=!0,r};We.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=e.group;return e.visible&&(Sn(n),e.visible=!1),n};We.prototype._removeLayer=function(t){const e=this._layers[t];e&&(delete this._layers[t],Sn(e.group))};We.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null};We.prototype.findRoot=function(t){return typeof t=="string"&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(Rle(t))||{}).rootElement:void 0};We.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})};We.prototype._findPlaneForRoot=function(t){return Ge(this._planes,function(e){return e.rootElement===t})};We.prototype.getContainer=function(){return this._container};We.prototype._updateMarker=function(t,e,n){let r;t.id||(t=this._elementRegistry.get(t)),t.markers=t.markers||new Set,r=this._elementRegistry._elements[t.id],r&&(ee([r.gfx,r.secondaryGfx],function(i){i&&(n?(t.markers.add(e),dt(i).add(e)):(t.markers.delete(e),dt(i).remove(e)))}),this._eventBus.fire("element.marker.update",{element:t,gfx:r.gfx,marker:e,add:!!n}))};We.prototype.addMarker=function(t,e){this._updateMarker(t,e,!0)};We.prototype.removeMarker=function(t,e){this._updateMarker(t,e,!1)};We.prototype.hasMarker=function(t,e){return t.id||(t=this._elementRegistry.get(t)),t.markers?t.markers.has(e):!1};We.prototype.toggleMarker=function(t,e){this.hasMarker(t,e)?this.removeMarker(t,e):this.addMarker(t,e)};We.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))};We.prototype.addRootElement=function(t){const e=this._rootsIdx++;t||(t={id:"__implicitroot_"+e,children:[],isImplicit:!0});const n=t.layer="root-"+e;this._ensureValid("root",t);const r=this.getLayer(n,lV);return this.hideLayer(n),this._addRoot(t,r),this._planes.push({rootElement:t,layer:r}),t};We.prototype.removeRootElement=function(t){if(typeof t=="string"&&(t=this._elementRegistry.get(t)),!!this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t};We.prototype.setRootElement=function(t){if(t===this._rootElement)return t;let e;if(!t)throw new Error("rootElement required");return e=this._findPlaneForRoot(t),e||(t=this.addRootElement(t)),this._setRoot(t),t};We.prototype._removeRoot=function(t){const e=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:t}),n.fire("root.removed",{element:t}),e.remove(t)};We.prototype._addRoot=function(t,e){const n=this._elementRegistry,r=this._eventBus;r.fire("root.add",{element:t}),n.add(t,e),r.fire("root.added",{element:t,gfx:e})};We.prototype._setRoot=function(t,e){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),t&&(e||(e=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})};We.prototype._ensureValid=function(t,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element <"+e.id+"> already exists");const n=Ile[t];if(!ui(n,function(i){return typeof e[i]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+t)};We.prototype._setParent=function(t,e,n){un(e.children,t,n),t.parent=e};We.prototype._addElement=function(t,e,n,r){n=n||this.getRootElement();const i=this._eventBus,o=this._graphicsFactory;this._ensureValid(t,e),i.fire(t+".add",{element:e,parent:n}),this._setParent(e,n,r);const s=o.create(t,e,r);return this._elementRegistry.add(e,s),o.update(t,e,s),i.fire(t+".added",{element:e,gfx:s}),e};We.prototype.addShape=function(t,e,n){return this._addElement("shape",t,e,n)};We.prototype.addConnection=function(t,e,n){return this._addElement("connection",t,e,n)};We.prototype._removeElement=function(t,e){const n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(t=n.get(t.id||t),!!t)return i.fire(e+".remove",{element:t}),r.remove(t),nn(t.parent&&t.parent.children,t),t.parent=null,i.fire(e+".removed",{element:t}),n.remove(t),t};We.prototype.removeShape=function(t){return this._removeElement(t,"shape")};We.prototype.removeConnection=function(t){return this._removeElement(t,"connection")};We.prototype.getGraphics=function(t,e){return this._elementRegistry.getGraphics(t,e)};We.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()};We.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};We.prototype.viewbox=function(t){if(t===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const e=this._viewport,n=this.getSize();let r,i,o,s,a,l,c;if(t)this._changeViewbox(function(){a=Math.min(n.width/t.width,n.height/t.height);const u=this._svg.createSVGMatrix().scale(a).translate(-t.x,-t.y);Nf(e,u)});else return o=this._rootElement?this.getActiveLayer():null,r=o&&o.getBBox()||{},s=Nf(e),i=s?s.matrix:qae(),a=km(i.a,1e3),l=km(-i.e||0,1e3),c=km(-i.f||0,1e3),t=this._cachedViewbox={x:l?l/a:0,y:c?c/a:0,width:n.width/a,height:n.height/a,scale:a,inner:{width:r.width||0,height:r.height||0,x:r.x||0,y:r.y||0},outer:n},t;return t};We.prototype.scroll=function(t){const e=this._viewport;let n=e.getCTM();return t&&this._changeViewbox(function(){t=re({dx:0,dy:0},t||{}),n=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(n),cV(e,n)}),{x:n.e,y:n.f}};We.prototype.scrollToElement=function(t,e){let n=100;typeof t=="string"&&(t=this._elementRegistry.get(t));const r=this.findRoot(t);if(r!==this.getRootElement()&&this.setRootElement(r),r===t)return;e||(e={}),typeof e=="number"&&(n=e),e={top:e.top||n,right:e.right||n,bottom:e.bottom||n,left:e.left||n};const i=Cn(t),o=De(i),s=this.viewbox(),a=this.zoom();let l,c;s.y+=e.top/a,s.x+=e.left/a,s.width-=(e.right+e.left)/a,s.height-=(e.bottom+e.top)/a;const u=De(s);if(!(i.width<s.width&&i.height<s.height))l=i.x-s.x,c=i.y-s.y;else{const f=Math.max(0,o.right-u.right),h=Math.min(0,o.left-u.left),p=Math.max(0,o.bottom-u.bottom),m=Math.min(0,o.top-u.top);l=f||h,c=p||m}this.scroll({dx:-l*a,dy:-c*a})};We.prototype.zoom=function(t,e){if(!t)return this.viewbox(t).scale;if(t==="fit-viewport")return this._fitViewport(e);let n,r;return this._changeViewbox(function(){typeof e!="object"&&(n=this.viewbox().outer,e={x:n.width/2,y:n.height/2}),r=this._setZoom(t,e)}),km(r.a,1e3)};function cV(t,e){const n="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttribute("transform",n)}We.prototype._fitViewport=function(t){const e=this.viewbox(),n=e.outer,r=e.inner;let i,o;return r.x>=0&&r.y>=0&&r.x+r.width<=n.width&&r.y+r.height<=n.height&&!t?o={x:0,y:0,width:Math.max(r.width+r.x,n.width),height:Math.max(r.height+r.y,n.height)}:(i=Math.min(1,n.width/r.width,n.height/r.height),o={x:r.x+(t?r.width/2-n.width/i/2:0),y:r.y+(t?r.height/2-n.height/i/2:0),width:n.width/i,height:n.height/i}),this.viewbox(o),this.viewbox(!1).scale};We.prototype._setZoom=function(t,e){const n=this._svg,r=this._viewport,i=n.createSVGMatrix(),o=n.createSVGPoint();let s,a,l,c,u;l=r.getCTM();const d=l.a;return e?(s=re(o,e),a=s.matrixTransform(l.inverse()),c=i.translate(a.x,a.y).scale(1/d*t).translate(-a.x,-a.y),u=l.multiply(c)):u=i.scale(t),cV(this._viewport,u),u};We.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};We.prototype.getAbsoluteBBox=function(t){const e=this.viewbox();let n;t.waypoints?n=this.getGraphics(t).getBBox():n=t;const r=n.x*e.scale-e.x*e.scale,i=n.y*e.scale-e.y*e.scale,o=n.width*e.scale,s=n.height*e.scale;return{x:r,y:i,width:o,height:s}};We.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var I0="data-element-id";function mi(t){this._elements={},this._eventBus=t}mi.$inject=["eventBus"];mi.prototype.add=function(t,e,n){var r=t.id;this._validateId(r),Ce(e,I0,r),n&&Ce(n,I0,r),this._elements[r]={element:t,gfx:e,secondaryGfx:n}};mi.prototype.remove=function(t){var e=this._elements,n=t.id||t,r=n&&e[n];r&&(Ce(r.gfx,I0,""),r.secondaryGfx&&Ce(r.secondaryGfx,I0,""),delete e[n])};mi.prototype.updateId=function(t,e){this._validateId(e),typeof t=="string"&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:e});var n=this.getGraphics(t),r=this.getGraphics(t,!0);this.remove(t),t.id=e,this.add(t,n,r)};mi.prototype.updateGraphics=function(t,e,n){var r=t.id||t,i=this._elements[r];return n?i.secondaryGfx=e:i.gfx=e,e&&Ce(e,I0,r),e};mi.prototype.get=function(t){var e;typeof t=="string"?e=t:e=t&&Ce(t,I0);var n=this._elements[e];return n&&n.element};mi.prototype.filter=function(t){var e=[];return this.forEach(function(n,r){t(n,r)&&e.push(n)}),e};mi.prototype.find=function(t){for(var e=this._elements,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i],s=o.element,a=o.gfx;if(t(s,a))return s}};mi.prototype.getAll=function(){return this.filter(function(t){return t})};mi.prototype.forEach=function(t){var e=this._elements;Object.keys(e).forEach(function(n){var r=e[n],i=r.element,o=r.gfx;return t(i,o)})};mi.prototype.getGraphics=function(t,e){var n=t.id||t,r=this._elements[n];return r&&(e?r.secondaryGfx:r.gfx)};mi.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};function Dle(t,e,n,r){var i=n.inverse;return Object.defineProperty(t,"remove",{value:function(o){var s=this.indexOf(o);return s!==-1&&(this.splice(s,1),e.unset(o,i,r)),o}}),Object.defineProperty(t,"contains",{value:function(o){return this.indexOf(o)!==-1}}),Object.defineProperty(t,"add",{value:function(o,s){var a=this.indexOf(o);if(typeof s>"u"){if(a!==-1)return;s=this.length}a!==-1&&this.splice(a,1),this.splice(s,0,o),a===-1&&e.set(o,i,r)}}),Object.defineProperty(t,"__refs_collection",{value:!0}),t}function Mle(t){return t.__refs_collection===!0}function $le(t,e){return Object.prototype.hasOwnProperty.call(t,e.name||e)}function uV(t,e,n){var r=Dle(n[e.name]||[],t,e,n);Object.defineProperty(n,e.name,{enumerable:e.enumerable,value:r}),r.length&&r.forEach(function(i){t.set(i,e.inverse,n)})}function Nle(t,e,n){var r=e.inverse,i=n[e.name];Object.defineProperty(n,e.name,{configurable:e.configurable,enumerable:e.enumerable,get:function(){return i},set:function(o){if(o!==i){var s=i;i=null,s&&t.unset(s,r,n),i=o,t.set(i,r,n)}}})}function hi(t,e){if(!(this instanceof hi))return new hi(t,e);t.inverse=e,e.inverse=t,this.props={},this.props[t.name]=t,this.props[e.name]=e}hi.prototype.bind=function(t,e){if(typeof e=="string"){if(!this.props[e])throw new Error("no property <"+e+"> in ref");e=this.props[e]}e.collection?uV(this,e,t):Nle(this,e,t)};hi.prototype.ensureRefsCollection=function(t,e){var n=t[e.name];return Mle(n)||uV(this,e,t),n};hi.prototype.ensureBound=function(t,e){$le(t,e)||this.bind(t,e)};hi.prototype.unset=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).remove(n):t[e.name]=void 0)};hi.prototype.set=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).add(n):t[e.name]=n)};var ZE=new hi({name:"children",enumerable:!0,collection:!0},{name:"parent"}),dV=new hi({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),dR=new hi({name:"attachers",collection:!0},{name:"host"}),fV=new hi({name:"outgoing",collection:!0},{name:"source"}),hV=new hi({name:"incoming",collection:!0},{name:"target"});function xu(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var e=this.label,n=this.labels;!t&&e?n.remove(e):n.add(t,0)}}),ZE.bind(this,"parent"),dV.bind(this,"labels"),fV.bind(this,"outgoing"),hV.bind(this,"incoming")}function yh(){xu.call(this),ZE.bind(this,"children"),dR.bind(this,"host"),dR.bind(this,"attachers")}Oe(yh,xu);function pV(){xu.call(this),ZE.bind(this,"children")}Oe(pV,yh);function mV(){yh.call(this),dV.bind(this,"labelTarget")}Oe(mV,yh);function gV(){xu.call(this),fV.bind(this,"source"),hV.bind(this,"target")}Oe(gV,xu);var Lle={connection:gV,shape:yh,label:mV,root:pV};function jle(t,e){var n=Lle[t];if(!n)throw new Error("unknown type: <"+t+">");return re(new n,e)}function Ble(t){return t instanceof xu}function Fi(){this._uid=12}Fi.prototype.createRoot=function(t){return this.create("root",t)};Fi.prototype.createLabel=function(t){return this.create("label",t)};Fi.prototype.createShape=function(t){return this.create("shape",t)};Fi.prototype.createConnection=function(t){return this.create("connection",t)};Fi.prototype.create=function(t,e){return e=re({},e||{}),e.id||(e.id=t+"_"+this._uid++),jle(t,e)};var wg="__fn",vV=1e3,Fle=Array.prototype.slice;function ar(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}ar.prototype.on=function(t,e,n,r){if(t=Fe(t)?t:[t],Ct(e)&&(r=n,n=e,e=vV),!He(e))throw new Error("priority must be a number");var i=n;r&&(i=Ir(n,r),i[wg]=n[wg]||n);var o=this;t.forEach(function(s){o._addListener(s,{priority:e,callback:i,next:null})})};ar.prototype.once=function(t,e,n,r){var i=this;if(Ct(e)&&(r=n,n=e,e=vV),!He(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var s=n.apply(r,arguments);return i.off(t,o),s}o[wg]=n,this.on(t,e,o)};ar.prototype.off=function(t,e){t=Fe(t)?t:[t];var n=this;t.forEach(function(r){n._removeListener(r,e)})};ar.prototype.createEvent=function(t){var e=new bh;return e.init(t),e};ar.prototype.fire=function(t,e){var n,r,i,o;if(o=Fle.call(arguments),typeof t=="object"&&(e=t,t=e.type),!t)throw new Error("no event type specified");if(r=this._listeners[t],!!r){e instanceof bh?n=e:n=this.createEvent(e),o[0]=n;var s=n.type;t!==s&&(n.type=t);try{i=this._invokeListeners(n,o,r)}finally{t!==s&&(n.type=s)}return i===void 0&&n.defaultPrevented&&(i=!1),i}};ar.prototype.handleError=function(t){return this.fire("error",{error:t})===!1};ar.prototype._destroy=function(){this._listeners={}};ar.prototype._invokeListeners=function(t,e,n){for(var r;n&&!t.cancelBubble;)r=this._invokeListener(t,e,n),n=n.next;return r};ar.prototype._invokeListener=function(t,e,n){var r;if(n.callback.__isTomb)return r;try{r=zle(n.callback,e),r!==void 0&&(t.returnValue=r,t.stopPropagation()),r===!1&&t.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r};ar.prototype._addListener=function(t,e){var n=this._getListeners(t),r;if(!n){this._setListeners(t,e);return}for(;n;){if(n.priority<e.priority){e.next=n,r?r.next=e:this._setListeners(t,e);return}r=n,n=n.next}r.next=e};ar.prototype._getListeners=function(t){return this._listeners[t]};ar.prototype._setListeners=function(t,e){this._listeners[t]=e};ar.prototype._removeListener=function(t,e){var n=this._getListeners(t),r,i,o;if(!e){this._setListeners(t,null);return}for(;n;)r=n.next,o=n.callback,(o===e||o[wg]===e)&&(i?i.next=r:this._setListeners(t,r)),i=n,n=r};function bh(){}bh.prototype.stopPropagation=function(){this.cancelBubble=!0};bh.prototype.preventDefault=function(){this.defaultPrevented=!0};bh.prototype.init=function(t){re(this,t||{})};function zle(t,e){return t.apply(null,e)}function Gl(t){return t.childNodes[0]}function qle(t){return t.parentNode.childNodes[1]}function Om(t,e,n,r,i){var o=ff();o.setTranslate(e,n);var s=ff();s.setRotate(r||0,0,0);var a=ff();a.setScale(1,1),Nf(t,[o,s,a])}function Hn(t,e,n){var r=ff();r.setTranslate(e,n),Nf(t,r)}function yV(t,e){var n=ff();n.setRotate(e,0,0),Nf(t,n)}function gi(t,e){this._eventBus=t,this._elementRegistry=e}gi.$inject=["eventBus","elementRegistry"];gi.prototype._getChildrenContainer=function(t){var e=this._elementRegistry.getGraphics(t),n;return t.parent?(n=qle(e),n||(n=Me("g"),dt(n).add("djs-children"),Ve(e.parentNode,n))):n=e,n};gi.prototype._clear=function(t){var e=Gl(t);return Pv(e),e};gi.prototype._createContainer=function(t,e,n,r){var i=Me("g");dt(i).add("djs-group"),typeof n<"u"?bV(i,e,e.childNodes[n]):Ve(e,i);var o=Me("g");dt(o).add("djs-element"),dt(o).add("djs-"+t),r&&dt(o).add("djs-frame"),Ve(i,o);var s=Me("g");return dt(s).add("djs-visual"),Ve(o,s),o};gi.prototype.create=function(t,e,n){var r=this._getChildrenContainer(e.parent);return this._createContainer(t,r,n,nV(e))};gi.prototype.updateContainments=function(t){var e=this,n=this._elementRegistry,r;r=cn(t,function(i,o){return o.parent&&(i[o.parent.id]=o.parent),i},{}),ee(r,function(i){var o=i.children;if(o){var s=e._getChildrenContainer(i);ee(o.slice().reverse(),function(a){var l=n.getGraphics(a);bV(l.parentNode,s)})}})};gi.prototype.drawShape=function(t,e,n={}){var r=this._eventBus;return r.fire("render.shape",{gfx:t,element:e,attrs:n})};gi.prototype.getShapePath=function(t){var e=this._eventBus;return e.fire("render.getShapePath",t)};gi.prototype.drawConnection=function(t,e,n={}){var r=this._eventBus;return r.fire("render.connection",{gfx:t,element:e,attrs:n})};gi.prototype.getConnectionPath=function(t){var e=this._eventBus;return e.fire("render.getConnectionPath",t)};gi.prototype.update=function(t,e,n){if(e.parent){var r=this._clear(n);if(t==="shape")this.drawShape(r,e),Hn(n,e.x,e.y);else if(t==="connection")this.drawConnection(r,e);else throw new Error("unknown type: "+t);e.hidden?Ce(n,"display","none"):Ce(n,"display","block")}};gi.prototype.remove=function(t){var e=this._elementRegistry.getGraphics(t);Sn(e.parentNode)};function bV(t,e,n){var r=n||e.firstChild;t!==r&&e.insertBefore(t,r)}const Vle={__depends__:[cle],__init__:["canvas"],canvas:["type",We],elementRegistry:["type",mi],elementFactory:["type",Fi],eventBus:["type",ar],graphicsFactory:["type",gi]};function Hle(t){var e=new Iv(t);return e.init(),e}function Ule(t){t=t||{};var e={config:["value",t]},n=[e,Vle].concat(t.modules||[]);return Hle(n)}function go(t,e){this._injector=e||Ule(t),this.get("eventBus").fire("diagram.init")}go.prototype.get=function(t,e){return this._injector.get(t,e)};go.prototype.invoke=function(t,e,n){return this._injector.invoke(t,e,n)};go.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};go.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function JE(){}JE.prototype.get=function(t){return this.$model.properties.get(this,t)};JE.prototype.set=function(t,e){this.$model.properties.set(this,t,e)};function _V(t,e){this.model=t,this.properties=e}_V.prototype.createType=function(t){var e=this.model,n=this.properties,r=Object.create(JE.prototype);ee(t.properties,function(s){!s.isMany&&s.default!==void 0&&(r[s.name]=s.default)}),n.defineModel(r,e),n.defineDescriptor(r,t);var i=t.ns.name;function o(s){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),ee(s,Ir(function(a,l){this.set(l,a)},this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,e),n.defineDescriptor(o,t),o};var Wle={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},xV={String:function(t){return t},Boolean:function(t){return t==="true"},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function eS(t,e){var n=xV[t];return n?n(e):e}function Ix(t){return!!Wle[t]}function wV(t){return!!xV[t]}function ir(t,e){var n=t.split(/:/),r,i;if(n.length===1)r=t,i=e;else if(n.length===2)r=n[1],i=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+t);return t=(i?i+":":"")+r,{name:t,prefix:i,localName:r}}function vi(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}vi.prototype.build=function(){return Ii(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};vi.prototype.addProperty=function(t,e,n){typeof e=="boolean"&&(n=e,e=void 0),this.addNamedProperty(t,n!==!1);var r=this.properties;e!==void 0?r.splice(e,0,t):r.push(t)};vi.prototype.replaceProperty=function(t,e,n){var r=t.ns,i=this.properties,o=this.propertiesByName,s=t.name!==e.name;if(t.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(e,!1)}if(t.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(e,!1)}var a=i.indexOf(t);if(a===-1)throw new Error("property <"+r.name+"> not found in property list");i.splice(a,1),this.addProperty(e,n?void 0:a,s),o[r.name]=o[r.localName]=e};vi.prototype.redefineProperty=function(t,e,n){var r=t.ns.prefix,i=e.split("#"),o=ir(i[0],r),s=ir(i[1],o.prefix).name,a=this.propertiesByName[s];if(a)this.replaceProperty(a,t,n);else throw new Error("refined property <"+s+"> not found");delete t.redefines};vi.prototype.addNamedProperty=function(t,e){var n=t.ns,r=this.propertiesByName;e&&(this.assertNotDefined(t,n.name),this.assertNotDefined(t,n.localName)),r[n.name]=r[n.localName]=t};vi.prototype.removeNamedProperty=function(t){var e=t.ns,n=this.propertiesByName;delete n[e.name],delete n[e.localName]};vi.prototype.setBodyProperty=function(t,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t};vi.prototype.setIdProperty=function(t,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t};vi.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)};vi.prototype.assertNotDefined=function(t,e){var n=t.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")};vi.prototype.hasProperty=function(t){return this.propertiesByName[t]};vi.prototype.addTrait=function(t,e){e&&this.assertNotTrait(t);var n=this.allTypesByName,r=this.allTypes,i=t.name;i in n||(ee(t.properties,Ir(function(o){o=re({},o,{name:o.ns.localName,inherited:e}),Object.defineProperty(o,"definedBy",{value:t});var s=o.replaces,a=o.redefines;s||a?this.redefineProperty(o,s||a,s):(o.isBody&&this.setBodyProperty(o),o.isId&&this.setIdProperty(o),this.addProperty(o))},this)),r.push(t),n[i]=t)};function Va(t,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,ee(t,Ir(this.registerPackage,this))}Va.prototype.getPackage=function(t){return this.packageMap[t]};Va.prototype.getPackages=function(){return this.packages};Va.prototype.registerPackage=function(t){t=re({},t);var e=this.packageMap;fR(e,t,"prefix"),fR(e,t,"uri"),ee(t.types,Ir(function(n){this.registerType(n,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)};Va.prototype.registerType=function(t,e){t=re({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:re(t.meta||{})});var n=ir(t.name,e.prefix),r=n.name,i={};ee(t.properties,Ir(function(o){var s=ir(o.name,n.prefix),a=s.name;Ix(o.type)||(o.type=ir(o.type,s.prefix).name),re(o,{ns:s,name:a}),i[a]=o},this)),re(t,{ns:n,name:r,propertiesByName:i}),ee(t.extends,Ir(function(o){var s=ir(o,n.prefix),a=this.typeMap[s.name];a.traits=a.traits||[],a.traits.push(r)},this)),this.definePackage(t,e),this.typeMap[r]=t};Va.prototype.mapTypes=function(t,e,n){var r=Ix(t.name)?{name:t.name}:this.typeMap[t.name],i=this;function o(l,c){var u=ir(l,Ix(l)?"":t.prefix);i.mapTypes(u,e,c)}function s(l){return o(l,!0)}function a(l){return o(l,!1)}if(!r)throw new Error("unknown type <"+t.name+">");ee(r.superClass,n?s:a),e(r,!n),ee(r.traits,s)};Va.prototype.getEffectiveDescriptor=function(t){var e=ir(t),n=new vi(e);this.mapTypes(e,function(i,o){n.addTrait(i,o)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r};Va.prototype.definePackage=function(t,e){this.properties.define(t,"$pkg",{value:e})};function fR(t,e,n){var r=e[n];if(r in t)throw new Error("package with "+n+" <"+r+"> already defined")}function _c(t){this.model=t}_c.prototype.set=function(t,e,n){if(!kn(e)||!e.length)throw new TypeError("property name must be a non-empty string");var r=this.getProperty(t,e),i=r&&r.name;Gle(n)?r?delete t[i]:delete t.$attrs[Dx(e)]:r?i in t?t[i]=n:EV(t,r,n):t.$attrs[Dx(e)]=n};_c.prototype.get=function(t,e){var n=this.getProperty(t,e);if(!n)return t.$attrs[Dx(e)];var r=n.name;return!t[r]&&n.isMany&&EV(t,n,[]),t[r]};_c.prototype.define=function(t,e,n){if(!n.writable){var r=n.value;n=re({},n,{get:function(){return r}}),delete n.value}Object.defineProperty(t,e,n)};_c.prototype.defineDescriptor=function(t,e){this.define(t,"$descriptor",{value:e})};_c.prototype.defineModel=function(t,e){this.define(t,"$model",{value:e})};_c.prototype.getProperty=function(t,e){var n=this.model,r=n.getPropertyDescriptor(t,e);if(r)return r;if(e.includes(":"))return null;const i=n.config.strict;if(typeof i<"u"){const o=new TypeError(`unknown property <${e}> on <${t.$type}>`);if(i)throw o;typeof console<"u"&&console.warn(o)}return null};function Gle(t){return typeof t>"u"}function EV(t,e,n){Object.defineProperty(t,e.name,{enumerable:!e.isReference,writable:!0,value:n,configurable:!0})}function Dx(t){return t.replace(/^:/,"")}function zi(t,e={}){this.properties=new _c(this),this.factory=new _V(this,this.properties),this.registry=new Va(t,this.properties),this.typeCache={},this.config=e}zi.prototype.create=function(t,e){var n=this.getType(t);if(!n)throw new Error("unknown type <"+t+">");return new n(e)};zi.prototype.getType=function(t){var e=this.typeCache,n=kn(t)?t:t.ns.name,r=e[n];return r||(t=this.registry.getEffectiveDescriptor(n),r=e[n]=this.factory.createType(t)),r};zi.prototype.createAny=function(t,e,n){var r=ir(t),i={$type:t,$instanceOf:function(s){return s===this.$type},get:function(s){return this[s]},set:function(s,a){Vq(this,[s],a)}},o={name:t,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:e}};return this.properties.defineDescriptor(i,o),this.properties.defineModel(i,this),this.properties.define(i,"get",{enumerable:!1,writable:!0}),this.properties.define(i,"set",{enumerable:!1,writable:!0}),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),ee(n,function(s,a){On(s)&&s.value!==void 0?i[s.name]=s.value:i[a]=s}),i};zi.prototype.getPackage=function(t){return this.registry.getPackage(t)};zi.prototype.getPackages=function(){return this.registry.getPackages()};zi.prototype.getElementDescriptor=function(t){return t.$descriptor};zi.prototype.hasType=function(t,e){e===void 0&&(e=t,t=this);var n=t.$model.getElementDescriptor(t);return e in n.allTypesByName};zi.prototype.getPropertyDescriptor=function(t,e){return this.getElementDescriptor(t).propertiesByName[e]};zi.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var hR=String.fromCharCode,Kle=Object.prototype.hasOwnProperty,Xle=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,pf={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(pf).forEach(function(t){pf[t.toUpperCase()]=pf[t]});function Yle(t,e,n,r){return r?Kle.call(pf,r)?pf[r]:"&"+r+";":hR(e||parseInt(n,16))}function hl(t){return t.length>3&&t.indexOf("&")!==-1?t.replace(Xle,Yle):t}var pR="non-whitespace outside of root node";function Hc(t){return new Error(t)}function mR(t){return"missing namespace for prefix <"+t+">"}function Vp(t){return{get:t,enumerable:!0}}function Qle(t){var e={},n;for(n in t)e[n]=t[n];return e}function Mx(t){return t+"$uri"}function Zle(t){var e={},n,r;for(n in t)r=t[n],e[r]=r,e[Mx(r)]=n;return e}function gR(){return{line:0,column:0}}function Jle(t){throw t}function SV(t){if(!this)return new SV(t);var e=t&&t.proxy,n,r,i,o,s=Jle,a,l,c,u,d=gR,f=!1,h=!1,p=null,m=!1,g;function v(b){b instanceof Error||(b=Hc(b)),p=b,s(b,d)}function y(b){a&&(b instanceof Error||(b=Hc(b)),a(b,d))}this.on=function(b,x){if(typeof x!="function")throw Hc("required args <name, cb>");switch(b){case"openTag":r=x;break;case"text":n=x;break;case"closeTag":i=x;break;case"error":s=x;break;case"warn":a=x;break;case"cdata":o=x;break;case"attention":u=x;break;case"question":c=x;break;case"comment":l=x;break;default:throw Hc("unsupported event: "+b)}return this},this.ns=function(b){if(typeof b>"u"&&(b={}),typeof b!="object")throw Hc("required args <nsMap={}>");var x={},w;for(w in b)x[w]=b[w];return h=!0,g=x,this},this.parse=function(b){if(typeof b!="string")throw Hc("required args <xml=string>");return p=null,_(b),d=gR,m=!1,p},this.stop=function(){m=!0};function _(b){var x=h?[]:null,w=h?Zle(g):null,E,S=[],k=0,I=!1,M=!1,R=0,D=0,C,V,J,Y,j,B,G,z,N,F="",W=0,X;function oe(){if(X!==null)return X;var O,T,K,Q=h&&w.xmlns,ae=h&&f?[]:null,ue=W,A=F,ie=A.length,de,H,q,Z,pe,se={},te={},he,le,fe;e:for(;ue<ie;ue++)if(he=!1,le=A.charCodeAt(ue),!(le===32||le<14&&le>8)){for((le<65||le>122||le>90&&le<97)&&le!==95&&le!==58&&(y("illegal first char attribute name"),he=!0),fe=ue+1;fe<ie;fe++)if(le=A.charCodeAt(fe),!(le>96&&le<123||le>64&&le<91||le>47&&le<59||le===46||le===45||le===95)){if(le===32||le<14&&le>8){y("missing attribute value"),ue=fe;continue e}if(le===61)break;y("illegal attribute name char"),he=!0}if(pe=A.substring(ue,fe),pe==="xmlns:xmlns"&&(y("illegal declaration of xmlns"),he=!0),le=A.charCodeAt(fe+1),le===34)fe=A.indexOf('"',ue=fe+2),fe===-1&&(fe=A.indexOf("'",ue),fe!==-1&&(y("attribute value quote missmatch"),he=!0));else if(le===39)fe=A.indexOf("'",ue=fe+2),fe===-1&&(fe=A.indexOf('"',ue),fe!==-1&&(y("attribute value quote missmatch"),he=!0));else for(y("missing attribute value quotes"),he=!0,fe=fe+1;fe<ie&&(le=A.charCodeAt(fe+1),!(le===32||le<14&&le>8));fe++);for(fe===-1&&(y("missing closing quotes"),fe=ie,he=!0),he||(q=A.substring(ue,fe)),ue=fe;fe+1<ie&&(le=A.charCodeAt(fe+1),!(le===32||le<14&&le>8));fe++)ue===fe&&(y("illegal character after attribute end"),he=!0);if(ue=fe+1,he)continue e;if(pe in te){y("attribute <"+pe+"> already defined");continue}if(te[pe]=!0,!h){se[pe]=q;continue}if(f){if(H=pe==="xmlns"?"xmlns":pe.charCodeAt(0)===120&&pe.substr(0,6)==="xmlns:"?pe.substr(6):null,H!==null){if(O=hl(q),T=Mx(H),Z=g[O],!Z){if(H==="xmlns"||T in w&&w[T]!==O)do Z="ns"+k++;while(typeof w[Z]<"u");else Z=H;g[O]=Z}w[H]!==Z&&(de||(w=Qle(w),de=!0),w[H]=Z,H==="xmlns"&&(w[Mx(Z)]=O,Q=Z),w[T]=O),se[pe]=q;continue}ae.push(pe,q);continue}if(le=pe.indexOf(":"),le===-1){se[pe]=q;continue}if(!(K=w[pe.substring(0,le)])){y(mR(pe.substring(0,le)));continue}pe=Q===K?pe.substr(le+1):K+pe.substr(le),se[pe]=q}if(f)for(ue=0,ie=ae.length;ue<ie;ue++){if(pe=ae[ue++],q=ae[ue],le=pe.indexOf(":"),le!==-1){if(!(K=w[pe.substring(0,le)])){y(mR(pe.substring(0,le)));continue}pe=Q===K?pe.substr(le+1):K+pe.substr(le)}se[pe]=q}return X=se}function L(){for(var O=/(\r\n|\r|\n)/g,T=0,K=0,Q=0,ae=D,ue,A;R>=Q&&(ue=O.exec(b),!(!ue||(ae=ue[0].length+ue.index,ae>R)));)T+=1,Q=ae;return R==-1?(K=ae,A=b.substring(D)):D===0?A=b.substring(D,R):(K=R-Q,A=D==-1?b.substring(R):b.substring(R,D+1)),{data:A,line:T,column:K}}for(d=L,e&&(N=Object.create({},{name:Vp(function(){return G}),originalName:Vp(function(){return z}),attrs:Vp(oe),ns:Vp(function(){return w})}));D!==-1;){if(b.charCodeAt(D)===60?R=D:R=b.indexOf("<",D),R===-1){if(S.length)return v("unexpected end of file");if(D===0)return v("missing start tag");D<b.length&&b.substring(D).trim()&&y(pR);return}if(D!==R){if(S.length){if(n&&(n(b.substring(D,R),hl,d),m))return}else if(b.substring(D,R).trim()&&(y(pR),m))return}if(Y=b.charCodeAt(R+1),Y===33){if(J=b.charCodeAt(R+2),J===91&&b.substr(R+3,6)==="CDATA["){if(D=b.indexOf("]]>",R),D===-1)return v("unclosed cdata");if(o&&(o(b.substring(R+9,D),d),m))return;D+=3;continue}if(J===45&&b.charCodeAt(R+3)===45){if(D=b.indexOf("-->",R),D===-1)return v("unclosed comment");if(l&&(l(b.substring(R+4,D),hl,d),m))return;D+=3;continue}}if(Y===63){if(D=b.indexOf("?>",R),D===-1)return v("unclosed question");if(c&&(c(b.substring(R,D+2),d),m))return;D+=2;continue}for(C=R+1;;C++){if(j=b.charCodeAt(C),isNaN(j))return D=-1,v("unclosed tag");if(j===34)J=b.indexOf('"',C+1),C=J!==-1?J:C;else if(j===39)J=b.indexOf("'",C+1),C=J!==-1?J:C;else if(j===62){D=C;break}}if(Y===33){if(u&&(u(b.substring(R,D+1),hl,d),m))return;D+=1;continue}if(X={},Y===47){if(I=!1,M=!0,!S.length)return v("missing open tag");if(C=G=S.pop(),J=R+2+C.length,b.substring(R+2,J)!==C)return v("closing tag mismatch");for(;J<D;J++)if(Y=b.charCodeAt(J),!(Y===32||Y>8&&Y<14))return v("close tag")}else{if(b.charCodeAt(D-1)===47?(C=G=b.substring(R+1,D-1),I=!0,M=!0):(C=G=b.substring(R+1,D),I=!0,M=!1),!(Y>96&&Y<123||Y>64&&Y<91||Y===95||Y===58))return v("illegal first char nodeName");for(J=1,V=C.length;J<V;J++)if(Y=C.charCodeAt(J),!(Y>96&&Y<123||Y>64&&Y<91||Y>47&&Y<59||Y===45||Y===95||Y==46)){if(Y===32||Y<14&&Y>8){G=C.substring(0,J),X=null;break}return v("invalid nodeName")}M||S.push(G)}if(h){if(E=w,I&&(M||x.push(E),X===null&&(f=C.indexOf("xmlns",J)!==-1)&&(W=J,F=C,oe(),f=!1)),z=G,Y=G.indexOf(":"),Y!==-1){if(B=w[G.substring(0,Y)],!B)return v("missing namespace on <"+z+">");G=G.substr(Y+1)}else B=w.xmlns;B&&(G=B+":"+G)}if(I&&(W=J,F=C,r&&(e?r(N,hl,M,d):r(G,oe,hl,M,d),m)))return;if(M){if(i&&(i(e?N:G,hl,I,d),m))return;h&&(I?w=E:w=x.pop())}D+=1}}}function CV(t){return t.xml&&t.xml.tagAlias==="lowerCase"}var $x={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},kV="property";function OV(t){return t.xml&&t.xml.serialize}function ece(t){const e=OV(t);return e!==kV&&(e||null)}function tce(t){return t.charAt(0).toUpperCase()+t.slice(1)}function RV(t,e){return CV(e)?t.prefix+":"+tce(t.localName):t.name}function nce(t,e){var n=t.name,r=t.localName,i=e&&e.xml&&e.xml.typePrefix;return i&&r.indexOf(i)===0?t.prefix+":"+r.slice(i.length):n}function rce(t,e,n){const r=ir(t,e.xmlns),i=`${e[r.prefix]||r.prefix}:${r.localName}`,o=ir(i);var s=n.getPackage(o.prefix);return nce(o,s)}function Aa(t){return new Error(t)}function ks(t){return t.$descriptor}function ice(t){re(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw Aa("expected element");var n=this.elementsById,r=ks(e),i=r.idProperty,o;if(i&&(o=e.get(i.name),o)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(o))throw new Error("illegal ID <"+o+">");if(n[o])throw Aa("duplicate ID <"+o+">");n[o]=e}},this.addWarning=function(e){this.warnings.push(e)}}function _h(){}_h.prototype.handleEnd=function(){};_h.prototype.handleText=function(){};_h.prototype.handleNode=function(){};function tS(){}tS.prototype=Object.create(_h.prototype);tS.prototype.handleNode=function(){return this};function wu(){}wu.prototype=Object.create(_h.prototype);wu.prototype.handleText=function(t){this.body=(this.body||"")+t};function xh(t,e){this.property=t,this.context=e}xh.prototype=Object.create(wu.prototype);xh.prototype.handleNode=function(t){if(this.element)throw Aa("expected no sub nodes");return this.element=this.createReference(t),this};xh.prototype.handleEnd=function(){this.element.id=this.body};xh.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}};function nS(t,e){this.element=e,this.propertyDesc=t}nS.prototype=Object.create(wu.prototype);nS.prototype.handleEnd=function(){var t=this.body||"",e=this.element,n=this.propertyDesc;t=eS(n.type,t),n.isMany?e.get(n.name).push(t):e.set(n.name,t)};function $v(){}$v.prototype=Object.create(wu.prototype);$v.prototype.handleNode=function(t){var e=this,n=this.element;return n?e=this.handleChild(t):(n=this.element=this.createElement(t),this.context.addElement(n)),e};function _r(t,e,n){this.model=t,this.type=t.getType(e),this.context=n}_r.prototype=Object.create($v.prototype);_r.prototype.addReference=function(t){this.context.addReference(t)};_r.prototype.handleText=function(t){var e=this.element,n=ks(e),r=n.bodyProperty;if(!r)throw Aa("unexpected body text <"+t+">");wu.prototype.handleText.call(this,t)};_r.prototype.handleEnd=function(){var t=this.body,e=this.element,n=ks(e),r=n.bodyProperty;r&&t!==void 0&&(t=eS(r.type,t),e.set(r.name,t))};_r.prototype.createElement=function(t){var e=t.attributes,n=this.type,r=ks(n),i=this.context,o=new n({}),s=this.model,a;return ee(e,function(l,c){var u=r.propertiesByName[c],d;u&&u.isReference?u.isMany?(d=l.split(" "),ee(d,function(f){i.addReference({element:o,property:u.ns.name,id:f})})):i.addReference({element:o,property:u.ns.name,id:l}):(u?l=eS(u.type,l):c==="xmlns"?c=":"+c:(a=ir(c,r.ns.prefix),s.getPackage(a.prefix)&&i.addWarning({message:"unknown attribute <"+c+">",element:o,property:c,value:l})),o.set(c,l))}),o};_r.prototype.getPropertyForNode=function(t){var e=t.name,n=ir(e),r=this.type,i=this.model,o=ks(r),s=n.name,a=o.propertiesByName[s];if(a&&!a.isAttr){const c=ece(a);if(c){const u=t.attributes[c];if(u){const d=rce(u,t.ns,i),f=i.getType(d);return re({},a,{effectiveType:ks(f).name})}}return a}var l=i.getPackage(n.prefix);if(l){const c=RV(n,l),u=i.getType(c);if(a=Ge(o.properties,function(d){return!d.isVirtual&&!d.isReference&&!d.isAttribute&&u.hasType(d.type)}),a)return re({},a,{effectiveType:ks(u).name})}else if(a=Ge(o.properties,function(c){return!c.isReference&&!c.isAttribute&&c.type==="Element"}),a)return a;throw Aa("unrecognized element <"+n.name+">")};_r.prototype.toString=function(){return"ElementDescriptor["+ks(this.type).name+"]"};_r.prototype.valueHandler=function(t,e){return new nS(t,e)};_r.prototype.referenceHandler=function(t){return new xh(t,this.context)};_r.prototype.handler=function(t){return t==="Element"?new D0(this.model,t,this.context):new _r(this.model,t,this.context)};_r.prototype.handleChild=function(t){var e,n,r,i;if(e=this.getPropertyForNode(t),r=this.element,n=e.effectiveType||e.type,wV(n))return this.valueHandler(e,r);e.isReference?i=this.referenceHandler(e).handleNode(t):i=this.handler(n).handleNode(t);var o=i.element;return o!==void 0&&(e.isMany?r.get(e.name).push(o):r.set(e.name,o),e.isReference?(re(o,{element:r}),this.context.addReference(o)):o.$parent=r),i};function rS(t,e,n){_r.call(this,t,e,n)}rS.prototype=Object.create(_r.prototype);rS.prototype.createElement=function(t){var e=t.name,n=ir(e),r=this.model,i=this.type,o=r.getPackage(n.prefix),s=o&&RV(n,o)||e;if(!i.hasType(s))throw Aa("unexpected element <"+t.originalName+">");return _r.prototype.createElement.call(this,t)};function D0(t,e,n){this.model=t,this.context=n}D0.prototype=Object.create($v.prototype);D0.prototype.createElement=function(t){var e=t.name,n=ir(e),r=n.prefix,i=t.ns[r+"$uri"],o=t.attributes;return this.model.createAny(e,i,o)};D0.prototype.handleChild=function(t){var e=new D0(this.model,"Element",this.context).handleNode(t),n=this.element,r=e.element,i;return r!==void 0&&(i=n.$children=n.$children||[],i.push(r),r.$parent=n),e};D0.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function iS(t){t instanceof zi&&(t={model:t}),re(this,{lax:!1},t)}iS.prototype.fromXML=function(t,e,n){var r=e.rootHandler;e instanceof _r?(r=e,e={}):typeof e=="string"?(r=this.handler(e),e={}):typeof r=="string"&&(r=this.handler(r));var i=this.model,o=this.lax,s=new ice(re({},e,{rootHandler:r})),a=new SV({proxy:!0}),l=oce();r.context=s,l.push(r);function c(x,w,E){var S=w(),k=S.line,I=S.column,M=S.data;M.charAt(0)==="<"&&M.indexOf(" ")!==-1&&(M=M.slice(0,M.indexOf(" "))+">");var R="unparsable content "+(M?M+" ":"")+`detected
	line: `+k+`
	column: `+I+`
	nested error: `+x.message;if(E)return s.addWarning({message:R,error:x}),!0;throw Aa(R)}function u(x,w){return c(x,w,!0)}function d(){var x=s.elementsById,w=s.references,E,S;for(E=0;S=w[E];E++){var k=S.element,I=x[S.id],M=ks(k).propertiesByName[S.property];if(I||s.addWarning({message:"unresolved reference <"+S.id+">",element:S.element,property:S.property,value:S.id}),M.isMany){var R=k.get(M.name),D=R.indexOf(S);D===-1&&(D=R.length),I?R[D]=I:R.splice(D,1)}else k.set(M.name,I)}}function f(){l.pop().handleEnd()}var h=/^<\?xml /i,p=/ encoding="([^"]+)"/i,m=/^utf-8$/i;function g(x){if(h.test(x)){var w=p.exec(x),E=w&&w[1];!E||m.test(E)||s.addWarning({message:"unsupported document encoding <"+E+">, falling back to UTF-8"})}}function v(x,w){var E=l.peek();try{l.push(E.handleNode(x))}catch(S){c(S,w,o)&&l.push(new tS)}}function y(x,w){try{l.peek().handleText(x)}catch(E){u(E,w)}}function _(x,w){x.trim()&&y(x,w)}var b=i.getPackages().reduce(function(x,w){return x[w.uri]=w.prefix,x},Object.entries($x).reduce(function(x,[w,E]){return x[E]=w,x},i.config&&i.config.nsMap||{}));return a.ns(b).on("openTag",function(x,w,E,S){var k=x.attrs||{},I=Object.keys(k).reduce(function(R,D){var C=w(k[D]);return R[D]=C,R},{}),M={name:x.name,originalName:x.originalName,attributes:I,ns:x.ns};v(M,S)}).on("question",g).on("closeTag",f).on("cdata",y).on("text",function(x,w,E){_(w(x),E)}).on("error",c).on("warn",u),new Promise(function(x,w){var E;try{a.parse(t),d()}catch(R){E=R}var S=r.element;!E&&!S&&(E=Aa("failed to parse document as <"+r.type.$descriptor.name+">"));var k=s.warnings,I=s.references,M=s.elementsById;return E?(E.warnings=k,w(E)):x({rootElement:S,elementsById:M,references:I,warnings:k})})};iS.prototype.handler=function(t){return new rS(this.model,t)};function oce(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}var sce=`<?xml version="1.0" encoding="UTF-8"?>
`,ace=/<|>|'|"|&|\n\r|\n/g,PV=/<|>|&/g;function Zo(t){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=t,this.defaultPrefixMap=t&&t.defaultPrefixMap||{}}Zo.prototype.mapDefaultPrefixes=function(t){this.defaultPrefixMap=t};Zo.prototype.defaultUriByPrefix=function(t){return this.defaultPrefixMap[t]};Zo.prototype.byUri=function(t){return this.uriMap[t]||this.parent&&this.parent.byUri(t)};Zo.prototype.add=function(t,e){this.uriMap[t.uri]=t,e?this.wellknown.push(t):this.custom.push(t),this.mapPrefix(t.prefix,t.uri)};Zo.prototype.uriByPrefix=function(t){return this.prefixMap[t||"xmlns"]||this.parent&&this.parent.uriByPrefix(t)};Zo.prototype.mapPrefix=function(t,e){this.prefixMap[t||"xmlns"]=e};Zo.prototype.getNSKey=function(t){return t.prefix!==void 0?t.uri+"|"+t.prefix:t.uri};Zo.prototype.logUsed=function(t){var e=t.uri,n=this.getNSKey(t);this.used[n]=this.byUri(e),this.parent&&this.parent.logUsed(t)};Zo.prototype.getUsed=function(t){var e=[].concat(this.wellknown,this.custom);return e.filter(n=>{var r=this.getNSKey(n);return this.used[r]})};function lce(t){return t.charAt(0).toLowerCase()+t.slice(1)}function cce(t,e){return CV(e)?lce(t):t}function AV(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function TV(t){return kn(t)?t:(t.prefix?t.prefix+":":"")+t.localName}function uce(t){return t.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var n="xmlns"+(e.prefix?":"+e.prefix:"");return{name:n,value:e.uri}})}function dce(t,e){return e.isGeneric?re({localName:e.ns.localName},t):re({localName:cce(e.ns.localName,e.$pkg)},t)}function fce(t,e){return re({localName:e.ns.localName},t)}function hce(t){var e=t.$descriptor;return Xe(e.properties,function(n){var r=n.name;if(n.isVirtual||!gr(t,r))return!1;var i=t[r];return i===n.default||i===null?!1:n.isMany?i.length:!0})}var pce={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},mce={"<":"lt",">":"gt","&":"amp"};function IV(t,e,n){return t=kn(t)?t:""+t,t.replace(e,function(r){return"&"+n[r]+";"})}function gce(t){return IV(t,ace,pce)}function vce(t){return IV(t,PV,mce)}function yce(t){return Xe(t,function(e){return e.isAttr})}function bce(t){return Xe(t,function(e){return!e.isAttr})}function oS(t){this.tagName=t}oS.prototype.build=function(t){return this.element=t,this};oS.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function nc(){}nc.prototype.serializeValue=nc.prototype.serializeTo=function(t){t.append(this.escape?vce(this.value):this.value)};nc.prototype.build=function(t,e){return this.value=e,t.type==="String"&&e.search(PV)!==-1&&(this.escape=!0),this};function sS(t){this.tagName=t}AV(sS,nc);sS.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()};function qt(t,e){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=e}qt.prototype.build=function(t){this.element=t;var e=t.$descriptor,n=this.propertyDescriptor,r,i,o=e.isGeneric;return o?r=this.parseGenericNsAttributes(t):r=this.parseNsAttributes(t),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),o?this.parseGenericContainments(t):(i=hce(t),this.parseAttributes(yce(i)),this.parseContainments(bce(i))),this.parseGenericAttributes(t,r),this};qt.prototype.nsTagName=function(t){var e=this.logNamespaceUsed(t.ns);return dce(e,t)};qt.prototype.nsPropertyTagName=function(t){var e=this.logNamespaceUsed(t.ns);return fce(e,t)};qt.prototype.isLocalNs=function(t){return t.uri===this.ns.uri};qt.prototype.nsAttributeName=function(t){var e;if(kn(t)?e=ir(t):e=t.ns,t.inherited)return{localName:e.localName};var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:e.localName}:re({localName:e.localName},n)};qt.prototype.parseGenericNsAttributes=function(t){return Object.entries(t).filter(([e,n])=>!e.startsWith("$")&&this.parseNsAttribute(t,e,n)).map(([e,n])=>({name:e,value:n}))};qt.prototype.parseGenericContainments=function(t){var e=t.$body;e&&this.body.push(new nc().build({type:"String"},e));var n=t.$children;n&&ee(n,r=>{this.body.push(new qt(this).build(r))})};qt.prototype.parseNsAttribute=function(t,e,n){var r=t.$model,i=ir(e),o;if(i.prefix==="xmlns"&&(o={prefix:i.localName,uri:n}),!i.prefix&&i.localName==="xmlns"&&(o={uri:n}),!o)return{name:e,value:n};if(r&&r.getPackage(n))this.logNamespace(o,!0,!0);else{var s=this.logNamespaceUsed(o,!0);this.getNamespaces().logUsed(s)}};qt.prototype.parseNsAttributes=function(t){var e=this,n=t.$attrs,r=[];return ee(n,function(i,o){var s=e.parseNsAttribute(t,o,i);s&&r.push(s)}),r};qt.prototype.parseGenericAttributes=function(t,e){var n=this;ee(e,function(r){try{n.addAttribute(n.nsAttributeName(r.name),r.value)}catch(i){typeof console<"u"&&console.warn(`missing namespace information for <${r.name}=${r.value}> on`,t,i)}})};qt.prototype.parseContainments=function(t){var e=this,n=this.body,r=this.element;ee(t,function(i){var o=r.get(i.name),s=i.isReference,a=i.isMany;if(a||(o=[o]),i.isBody)n.push(new nc().build(i,o[0]));else if(wV(i.type))ee(o,function(c){n.push(new sS(e.addTagName(e.nsPropertyTagName(i))).build(i,c))});else if(s)ee(o,function(c){n.push(new oS(e.addTagName(e.nsPropertyTagName(i))).build(c))});else{var l=OV(i);ee(o,function(c){var u;l?l===kV?u=new qt(e,i):u=new Nv(e,i,l):u=new qt(e),n.push(u.build(c))})}})};qt.prototype.getNamespaces=function(t){var e=this.namespaces,n=this.parent,r;return e||(r=n&&n.getNamespaces(),t||!r?this.namespaces=e=new Zo(r):e=r),e};qt.prototype.logNamespace=function(t,e,n){var r=this.getNamespaces(n),i=t.uri,o=t.prefix,s=r.byUri(i);return(!s||n)&&r.add(t,e),r.mapPrefix(o,i),t};qt.prototype.logNamespaceUsed=function(t,e){var n=this.getNamespaces(e),r=t.prefix,i=t.uri,o,s,a;if(!r&&!i)return{localName:t.localName};if(a=n.defaultUriByPrefix(r),i=i||a||n.uriByPrefix(r),!i)throw new Error("no namespace uri given for prefix <"+r+">");if(t=n.byUri(i),!t&&!r&&(t=this.logNamespace({uri:i},a===i,!0)),!t){for(o=r,s=1;n.uriByPrefix(o);)o=r+"_"+s++;t=this.logNamespace({prefix:o,uri:i},a===i)}return r&&n.mapPrefix(r,i),t};qt.prototype.parseAttributes=function(t){var e=this,n=this.element;ee(t,function(r){var i=n.get(r.name);if(r.isReference)if(!r.isMany)i=i.id;else{var o=[];ee(i,function(s){o.push(s.id)}),i=o.join(" ")}e.addAttribute(e.nsAttributeName(r),i)})};qt.prototype.addTagName=function(t){var e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),TV(t)};qt.prototype.addAttribute=function(t,e){var n=this.attrs;kn(e)&&(e=gce(e));var r=Fq(n,function(o){return o.name.localName===t.localName&&o.name.uri===t.uri&&o.name.prefix===t.prefix}),i={name:t,value:e};r!==-1?n.splice(r,1,i):n.push(i)};qt.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=uce(n).concat(e)),ee(e,function(r){t.append(" ").append(TV(r.name)).append('="').append(r.value).append('"')})};qt.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==nc;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),ee(this.body,function(r){r.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()};function Nv(t,e,n){qt.call(this,t,e),this.serialization=n}AV(Nv,qt);Nv.prototype.parseNsAttributes=function(t){var e=qt.prototype.parseNsAttributes.call(this,t).filter(s=>s.name!==this.serialization),n=t.$descriptor;if(n.name===this.propertyDescriptor.type)return e;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=t.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(r.prefix?r.prefix+":":"")+o+n.ns.localName),e};Nv.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri};function _ce(){this.value="",this.write=function(t){this.value+=t}}function xce(t,e){var n=[""];this.append=function(r){return t.write(r),this},this.appendNewLine=function(){return e&&t.write(`
`),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function wce(t){t=re({format:!1,preamble:!0},t||{});function e(n,r){var i=r||new _ce,o=new xce(i,t.format);t.preamble&&o.append(sce);var s=new qt,a=n.$model;if(s.getNamespaces().mapDefaultPrefixes(Ece(a)),s.build(n).serializeTo(o),!r)return i.value}return{toXML:e}}function Ece(t){const e=t.config&&t.config.nsMap||{},n={};for(const r in $x)n[r]=$x[r];for(const r in e){const i=e[r];n[i]=r}for(const r of t.getPackages())n[r.prefix]=r.uri;return n}function Lv(t,e){zi.call(this,t,e)}Lv.prototype=Object.create(zi.prototype);Lv.prototype.fromXML=function(t,e,n){kn(e)||(n=e,e="bpmn:Definitions");var r=new iS(re({model:this,lax:!0},n)),i=r.handler(e);return r.fromXML(t,i)};Lv.prototype.toXML=function(t,e){var n=new wce(e);return new Promise(function(r,i){try{var o=n.toXML(t);return r({xml:o})}catch(s){return i(s)}})};var Sce="BPMN20",Cce="http://www.omg.org/spec/BPMN/20100524/MODEL",kce="bpmn",Oce=[],Rce=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],Pce=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],Ace={tagAlias:"lowerCase",typePrefix:"t"},Tce={name:Sce,uri:Cce,prefix:kce,associations:Oce,types:Rce,enumerations:Pce,xml:Ace},Ice="BPMNDI",Dce="http://www.omg.org/spec/BPMN/20100524/DI",Mce="bpmndi",$ce=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],Nce=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],Lce=[],jce={name:Ice,uri:Dce,prefix:Mce,types:$ce,enumerations:Nce,associations:Lce},Bce="DC",Fce="http://www.omg.org/spec/DD/20100524/DC",zce="dc",qce=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],Vce=[],Hce={name:Bce,uri:Fce,prefix:zce,types:qce,associations:Vce},Uce="DI",Wce="http://www.omg.org/spec/DD/20100524/DI",Gce="di",Kce=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],Xce=[],Yce={tagAlias:"lowerCase"},Qce={name:Uce,uri:Wce,prefix:Gce,types:Kce,associations:Xce,xml:Yce},Zce="bpmn.io colors for BPMN",Jce="http://bpmn.io/schema/bpmn/biocolor/1.0",e0e="bioc",t0e=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],n0e=[],r0e=[],i0e={name:Zce,uri:Jce,prefix:e0e,types:t0e,enumerations:n0e,associations:r0e},o0e="BPMN in Color",s0e="http://www.omg.org/spec/BPMN/non-normative/color/1.0",a0e="color",l0e=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],c0e=[],u0e=[],d0e={name:o0e,uri:s0e,prefix:a0e,types:l0e,enumerations:c0e,associations:u0e};const f0e={bpmn:Tce,bpmndi:jce,dc:Hce,di:Qce,bioc:i0e,color:d0e};function h0e(t,e){const n=re({},f0e,t);return new Lv(n,e)}function Zn(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var p0e="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function DV(t){gr(t,"di")||Object.defineProperty(t,"di",{enumerable:!1,get:function(){throw new Error(p0e)}})}function Cr(t,e){return t.$instanceOf(e)}function m0e(t){return Ge(t.rootElements,function(e){return Cr(e,"bpmn:Process")||Cr(e,"bpmn:Collaboration")})}function g0e(t){var e={},n=[],r={};function i(N,F){return function(W){N(W,F)}}function o(N){e[N.id]=N}function s(N){return e[N.id]}function a(N,F){var W=N.gfx;if(W)throw new Error(`already rendered ${Zn(N)}`);return t.element(N,r[N.id],F)}function l(N,F){return t.root(N,r[N.id],F)}function c(N,F){try{var W=r[N.id]&&a(N,F);return o(N),W}catch(X){u(X.message,{element:N,error:X}),console.error(`failed to import ${Zn(N)}`,X)}}function u(N,F){t.error(N,F)}var d=this.registerDi=function(F){var W=F.bpmnElement;W?r[W.id]?u(`multiple DI elements defined for ${Zn(W)}`,{element:W}):(r[W.id]=F,DV(W)):u(`no bpmnElement referenced in ${Zn(F)}`,{element:F})};function f(N){h(N.plane)}function h(N){d(N),ee(N.planeElement,p)}function p(N){d(N)}this.handleDefinitions=function(F,W){var X=F.diagrams;if(W&&X.indexOf(W)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!W&&X&&X.length&&(W=X[0]),!W)throw new Error("no diagram to display");r={},f(W);var oe=W.plane;if(!oe)throw new Error(`no plane for ${Zn(W)}`);var L=oe.bpmnElement;if(!L)if(L=m0e(F),L)u(`correcting missing bpmnElement on ${Zn(oe)} to ${Zn(L)}`),oe.bpmnElement=L,d(oe);else throw new Error("no process or collaboration to display");var O=l(L,oe);if(Cr(L,"bpmn:Process")||Cr(L,"bpmn:SubProcess"))g(L,O);else if(Cr(L,"bpmn:Collaboration"))G(L,O),v(F.rootElements,O);else throw new Error(`unsupported bpmnElement for ${Zn(oe)}: ${Zn(L)}`);m(n)};var m=this.handleDeferred=function(){for(var F;n.length;)F=n.shift(),F()};function g(N,F){Y(N,F),k(N.ioSpecification,F),S(N.artifacts,F),o(N)}function v(N,F){var W=Xe(N,function(X){return!s(X)&&Cr(X,"bpmn:Process")&&X.laneSets});W.forEach(i(g,F))}function y(N,F){c(N,F)}function _(N,F){ee(N,i(y,F))}function b(N,F){c(N,F)}function x(N,F){c(N,F)}function w(N,F){c(N,F)}function E(N,F){c(N,F)}function S(N,F){ee(N,function(W){Cr(W,"bpmn:Association")?n.push(function(){E(W,F)}):E(W,F)})}function k(N,F){N&&(ee(N.dataInputs,i(x,F)),ee(N.dataOutputs,i(w,F)))}var I=this.handleSubProcess=function(F,W){Y(F,W),S(F.artifacts,W)};function M(N,F){var W=c(N,F);Cr(N,"bpmn:SubProcess")&&I(N,W||F),Cr(N,"bpmn:Activity")&&k(N.ioSpecification,F),n.push(function(){ee(N.dataInputAssociations,i(b,F)),ee(N.dataOutputAssociations,i(b,F))})}function R(N,F){c(N,F)}function D(N,F){c(N,F)}function C(N,F){n.push(function(){var W=c(N,F);N.childLaneSet&&V(N.childLaneSet,W||F),z(N)})}function V(N,F){ee(N.lanes,i(C,F))}function J(N,F){ee(N,i(V,F))}function Y(N,F){j(N.flowElements,F),N.laneSets&&J(N.laneSets,F)}function j(N,F){ee(N,function(W){Cr(W,"bpmn:SequenceFlow")?n.push(function(){R(W,F)}):Cr(W,"bpmn:BoundaryEvent")?n.unshift(function(){M(W,F)}):Cr(W,"bpmn:FlowNode")?M(W,F):Cr(W,"bpmn:DataObject")||(Cr(W,"bpmn:DataStoreReference")||Cr(W,"bpmn:DataObjectReference")?D(W,F):u(`unrecognized flowElement ${Zn(W)} in context ${Zn(F&&F.businessObject)}`,{element:W,context:F}))})}function B(N,F){var W=c(N,F),X=N.processRef;X&&g(X,W||F)}function G(N,F){ee(N.participants,i(B,F)),n.push(function(){_(N.messageFlows,F)}),S(N.artifacts,F)}function z(N){ee(N.flowNodeRef,function(F){var W=F.get("lanes");W&&W.push(N)})}}function $(t,e){var n=ve(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function Qe(t,e){return zs(e,function(n){return $(t,n)})}function ve(t){return t&&t.businessObject||t}function ft(t){return t&&t.di}function v0e(t,e,n){var r,i,o,s,a=[];function l(c,u){var d={root:function(m,g){return r.add(m,g)},element:function(m,g,v){return r.add(m,g,v)},error:function(m,g){a.push({message:m,context:g})}},f=new g0e(d);u=u||c.diagrams&&c.diagrams[0];var h=y0e(c,u);if(!h)throw new Error("no diagram to display");ee(h,function(m){f.handleDefinitions(c,m)});var p=u.plane.bpmnElement.id;o.setRootElement(o.findRoot(p+"_plane")||o.findRoot(p))}return new Promise(function(c,u){try{return r=t.get("bpmnImporter"),i=t.get("eventBus"),o=t.get("canvas"),i.fire("import.render.start",{definitions:e}),l(e,n),i.fire("import.render.complete",{error:s,warnings:a}),c({warnings:a})}catch(d){return d.warnings=a,u(d)}})}function y0e(t,e){if(!(!e||!e.plane)){var n=e.plane.bpmnElement,r=n;!$(n,"bpmn:Process")&&!$(n,"bpmn:Collaboration")&&(r=b0e(n));var i;$(r,"bpmn:Collaboration")?i=r:i=Ge(t.rootElements,function(c){if($(c,"bpmn:Collaboration"))return Ge(c.participants,function(u){return u.processRef===r})});var o=[r];i&&(o=Nn(i.participants,function(c){return c.processRef}),o.push(i));var s=MV(o),a=[e],l=[n];return ee(t.diagrams,function(c){if(c.plane){var u=c.plane.bpmnElement;s.indexOf(u)!==-1&&l.indexOf(u)===-1&&(a.push(c),l.push(u))}}),a}}function MV(t){var e=[];return ee(t,function(n){n&&(e.push(n),e=e.concat(MV(n.flowElements)))}),e}function b0e(t){for(var e=t;e;){if($(e,"bpmn:Process"))return e;e=e.$parent}}var _0e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',$V=_0e,NV={verticalAlign:"middle"},LV={color:"#404040"},x0e={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},w0e={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},E0e={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},S0e='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+$V+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',No;function C0e(){No=at(S0e),tr(No,x0e),tr(Ue("svg",No),NV),tr(Ue(".backdrop",No),w0e),tr(Ue(".notice",No),E0e),tr(Ue(".link",No),LV,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function k0e(){No||(C0e(),rr.bind(No,".backdrop","click",function(t){document.body.removeChild(No)})),document.body.appendChild(No)}function Qt(t){t=re({},R0e,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),this._init(this._container,this._moddle,t),A0e(this._container)}Oe(Qt,go);Qt.prototype.importXML=async function(e,n){const r=this;function i(s){return r.get("eventBus").createEvent(s)}let o=[];try{e=this._emit("import.parse.start",{xml:e})||e;let s;try{s=await this._moddle.fromXML(e,"bpmn:Definitions")}catch(f){throw this._emit("import.parse.complete",{error:f}),f}let a=s.rootElement;const l=s.references,c=s.warnings,u=s.elementsById;o=o.concat(c),a=this._emit("import.parse.complete",i({error:null,definitions:a,elementsById:u,references:l,warnings:o}))||a;const d=await this.importDefinitions(a,n);return o=o.concat(d.warnings),this._emit("import.done",{error:null,warnings:o}),{warnings:o}}catch(s){let a=s;throw o=o.concat(a.warnings||[]),Rm(a,o),a=O0e(a),this._emit("import.done",{error:a,warnings:a.warnings}),a}};Qt.prototype.importDefinitions=async function(e,n){return this._setDefinitions(e),{warnings:(await this.open(n)).warnings}};Qt.prototype.open=async function(e){const n=this._definitions;let r=e;if(!n){const o=new Error("no XML imported");throw Rm(o,[]),o}if(typeof e=="string"&&(r=P0e(n,e),!r)){const o=new Error("BPMNDiagram <"+e+"> not found");throw Rm(o,[]),o}try{this.clear()}catch(o){throw Rm(o,[]),o}const{warnings:i}=await v0e(this,n,r);return{warnings:i}};Qt.prototype.saveXML=async function(e){e=e||{};let n=this._definitions,r,i;try{if(!n)throw new Error("no definitions loaded");n=this._emit("saveXML.start",{definitions:n})||n,i=(await this._moddle.toXML(n,e)).xml,i=this._emit("saveXML.serialized",{xml:i})||i}catch(s){r=s}const o=r?{error:r}:{xml:i};if(this._emit("saveXML.done",o),r)throw r;return o};Qt.prototype.saveSVG=async function(){this._emit("saveSVG.start");let e,n;try{const r=this.get("canvas"),i=r.getActiveLayer(),o=Ue(":scope > defs",r._svg),s=Ox(i),a=o?"<defs>"+Ox(o)+"</defs>":"",l=i.getBBox();e=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+a+s+"</svg>"}catch(r){n=r}if(this._emit("saveSVG.done",{error:n,svg:e}),n)throw n;return{svg:e}};Qt.prototype._setDefinitions=function(t){this._definitions=t};Qt.prototype.getModules=function(){return this._modules};Qt.prototype.clear=function(){this.getDefinitions()&&go.prototype.clear.call(this)};Qt.prototype.destroy=function(){go.prototype.destroy.call(this),Gn(this._container)};Qt.prototype.on=function(t,e,n,r){return this.get("eventBus").on(t,e,n,r)};Qt.prototype.off=function(t,e){this.get("eventBus").off(t,e)};Qt.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),typeof t=="string"&&(t=Ue(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};Qt.prototype.getDefinitions=function(){return this._definitions};Qt.prototype.detach=function(){const t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))};Qt.prototype._init=function(t,e,n){const r=n.modules||this.getModules(n),i=n.additionalModules||[],o=[{bpmnjs:["value",this],moddle:["value",e]}],s=[].concat(o,r,i),a=re(Qo(n,["additionalModules"]),{canvas:re({},n.canvas,{container:t}),modules:s});go.call(this,a),n&&n.container&&this.attachTo(n.container)};Qt.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)};Qt.prototype._createContainer=function(t){const e=at('<div class="bjs-container"></div>');return tr(e,{width:vR(t.width),height:vR(t.height),position:t.position}),e};Qt.prototype._createModdle=function(t){const e=re({},this._moddleExtensions,t.moddleExtensions);return new h0e(e)};Qt.prototype._modules=[];function Rm(t,e){return t.warnings=e,t}function O0e(t){const n=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(t.message);return n&&(t.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),t}const R0e={width:"100%",height:"100%",position:"relative"};function vR(t){return t+(He(t)?"px":"")}function P0e(t,e){return e&&Ge(t.diagrams,function(n){return n.id===e})||null}function A0e(t){const n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+$V+"</a>",r=at(n);tr(Ue("svg",r),NV),tr(r,LV,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),t.appendChild(r),Be.bind(r,"click",function(i){k0e(),i.preventDefault()})}function wh(t){Qt.call(this,t),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}Oe(wh,Qt);wh.prototype._createModdle=function(t){var e=Qt.prototype._createModdle.call(this,t);return e.ids=new fi([32,36,1]),e};wh.prototype._collectIds=function(t,e){var n=t.$model,r=n.ids,i;r.clear();for(i in e)r.claim(i,e[i])};function rt(t,e){return $(t,"bpmn:CallActivity")?!1:$(t,"bpmn:SubProcess")?(e=e||ft(t),e&&$(e,"bpmndi:BPMNPlane")?!0:e&&!!e.isExpanded):$(t,"bpmn:Participant")?!!ve(t).processRef:!0}function In(t){if(!(!$(t,"bpmn:Participant")&&!$(t,"bpmn:Lane"))){var e=ft(t).isHorizontal;return e===void 0?!0:e}}function jV(t){return t&&ve(t).isInterrupting!==!1}function Un(t){return t&&!!ve(t).triggeredByEvent}function Eu(t,e){var n=ve(t).eventDefinitions;return zs(n,function(r){return $(r,e)})}function T0e(t){return Eu(t,"bpmn:ErrorEventDefinition")}function I0e(t){return Eu(t,"bpmn:EscalationEventDefinition")}function D0e(t){return Eu(t,"bpmn:CompensateEventDefinition")}var Lf={width:90,height:20},yR=15;function rc(t){return $(t,"bpmn:Event")||$(t,"bpmn:Gateway")||$(t,"bpmn:DataStoreReference")||$(t,"bpmn:DataObjectReference")||$(t,"bpmn:DataInput")||$(t,"bpmn:DataOutput")||$(t,"bpmn:SequenceFlow")||$(t,"bpmn:MessageFlow")||$(t,"bpmn:Group")}function jv(t){return ht(t.label)}function M0e(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)],i=$0e(t),o=Math.atan((r.y-n.y)/(r.x-n.x)),s=i.x,a=i.y;return Math.abs(o)<Math.PI/2?a-=yR:s+=yR,{x:s,y:a}}function $0e(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}function aS(t){return t.waypoints?M0e(t.waypoints):$(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+Lf.height/2}:{x:t.x+t.width/2,y:t.y+t.height+Lf.height/2}}function N0e(t,e){var n,r,i,o=t.label;return o&&o.bounds?(i=o.bounds,r={width:Math.max(Lf.width,i.width),height:i.height},n={x:i.x+i.width/2,y:i.y+i.height/2}):(n=aS(e),r=Lf),re({x:n.x-r.width/2,y:n.y-r.height/2},r)}function BV(t){if($(t,"bpmn:FlowElement")||$(t,"bpmn:Participant")||$(t,"bpmn:Lane")||$(t,"bpmn:SequenceFlow")||$(t,"bpmn:MessageFlow")||$(t,"bpmn:DataInput")||$(t,"bpmn:DataOutput"))return"name";if($(t,"bpmn:TextAnnotation"))return"text";if($(t,"bpmn:Group"))return"categoryValueRef"}function L0e(t){var e=t.categoryValueRef;return e&&e.value||""}function Di(t){var e=t.businessObject,n=BV(e);if(n)return n==="categoryValueRef"?L0e(e):e[n]||""}function j0e(t,e){var n=t.businessObject,r=BV(n);if(r)if(r==="categoryValueRef"){if(!n[r])return t;n[r].value=e}else n[r]=e;return t}var Nx="hsl(225, 10%, 15%)",B0e="white";function ko(t,e){return zs(t.eventDefinitions,function(n){return n.$type===e})}function F0e(t){return t.$type==="bpmn:IntermediateThrowEvent"||t.$type==="bpmn:EndEvent"}function z0e(t){var e=t.dataObjectRef;return t.isCollection||e&&e.isCollection}function tt(t,e,n){var r=ft(t);return n||r.get("color:background-color")||r.get("bioc:fill")||e||B0e}function Te(t,e,n){var r=ft(t);return n||r.get("color:border-color")||r.get("bioc:stroke")||e||Nx}function gd(t,e,n,r){var i=ft(t),o=i.get("label");return r||o&&o.get("color:color")||e||Te(t,n)}function q0e(t){var e=t.x+t.width/2,n=t.y+t.height/2,r=t.width/2,i=[["M",e,n],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]];return yc(i)}function V0e(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,s=[["M",n+e,r],["l",i-e*2,0],["a",e,e,0,0,1,e,e],["l",0,o-e*2],["a",e,e,0,0,1,-10,e],["l",e*2-i,0],["a",e,e,0,0,1,-10,-10],["l",0,e*2-o],["a",e,e,0,0,1,e,-10],["z"]];return yc(s)}function H0e(t){var e=t.width,n=t.height,r=t.x,i=t.y,o=e/2,s=n/2,a=[["M",r+o,i],["l",o,s],["l",-o,s],["l",-o,-s],["z"]];return yc(a)}function U0e(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=[["M",e,n],["l",r,0],["l",0,i],["l",-r,0],["z"]];return yc(o)}function vd(t,e={}){return{width:_i(t,e),height:qr(t,e)}}function _i(t,e={}){return gr(e,"width")?e.width:t.width}function qr(t,e={}){return gr(e,"height")?e.height:t.height}var W0e=new fi,G0e=10,Hp=3,K0e=1.5,Pm=10,Uc=.95,X0e=1,Y0e=.25;function xc(t,e,n,r,i,o,s){di.call(this,e,s);var a=t&&t.defaultFillColor,l=t&&t.defaultStrokeColor,c=t&&t.defaultLabelColor;function u(L){return n.computeStyle(L,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Nx,strokeWidth:2,fill:"white"})}function d(L){return n.computeStyle(L,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Nx,strokeWidth:2})}function f(L,O){var{ref:T={x:0,y:0},scale:K=1,element:Q,parentGfx:ae=i._svg}=O,ue=Me("marker",{id:L,viewBox:"0 0 20 20",refX:T.x,refY:T.y,markerWidth:20*K,markerHeight:20*K,orient:"auto"});Ve(ue,Q);var A=Ue(":scope > defs",ae);A||(A=Me("defs"),Ve(ae,A)),Ve(A,ue)}function h(L,O,T,K){var Q=W0e.nextPrefixed("marker-");return p(L,Q,O,T,K),"url(#"+Q+")"}function p(L,O,T,K,Q){if(T==="sequenceflow-end"){var ae=Me("path",{d:"M 1 5 L 11 10 L 1 15 Z",...u({fill:Q,stroke:Q,strokeWidth:1})});f(O,{element:ae,ref:{x:11,y:10},scale:.5,parentGfx:L})}if(T==="messageflow-start"){var ue=Me("circle",{cx:6,cy:6,r:3.5,...u({fill:K,stroke:Q,strokeWidth:1,strokeDasharray:[1e4,1]})});f(O,{element:ue,ref:{x:6,y:6},parentGfx:L})}if(T==="messageflow-end"){var A=Me("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...u({fill:K,stroke:Q,strokeWidth:1,strokeDasharray:[1e4,1]})});f(O,{element:A,ref:{x:8.5,y:5},parentGfx:L})}if(T==="association-start"){var ie=Me("path",{d:"M 11 5 L 1 10 L 11 15",...d({fill:"none",stroke:Q,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(O,{element:ie,ref:{x:1,y:10},scale:.5,parentGfx:L})}if(T==="association-end"){var de=Me("path",{d:"M 1 5 L 11 10 L 1 15",...d({fill:"none",stroke:Q,strokeWidth:1.5,strokeDasharray:[1e4,1]})});f(O,{element:de,ref:{x:11,y:10},scale:.5,parentGfx:L})}if(T==="conditional-flow-marker"){var H=Me("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...u({fill:K,stroke:Q})});f(O,{element:H,ref:{x:-1,y:10},scale:.5,parentGfx:L})}if(T==="conditional-default-flow-marker"){var q=Me("path",{d:"M 6 4 L 10 16",...u({stroke:Q,fill:"none"})});f(O,{element:q,ref:{x:0,y:10},scale:.5,parentGfx:L})}}function m(L,O,T,K,Q={}){On(K)&&(Q=K,K=0),K=K||0,Q=u(Q);var ae=O/2,ue=T/2,A=Me("circle",{cx:ae,cy:ue,r:Math.round((O+T)/4-K),...Q});return Ve(L,A),A}function g(L,O,T,K,Q,ae){On(Q)&&(ae=Q,Q=0),Q=Q||0,ae=u(ae);var ue=Me("rect",{x:Q,y:Q,width:O-Q*2,height:T-Q*2,rx:K,ry:K,...ae});return Ve(L,ue),ue}function v(L,O,T,K){var Q=O/2,ae=T/2,ue=[{x:Q,y:0},{x:O,y:ae},{x:Q,y:T},{x:0,y:ae}],A=ue.map(function(de){return de.x+","+de.y}).join(" ");K=u(K);var ie=Me("polygon",{...K,points:A});return Ve(L,ie),ie}function y(L,O,T,K){T=d(T);var Q=mh(O,T,K);return Ve(L,Q),Q}function _(L,O,T){return y(L,O,T,5)}function b(L,O,T){T=d(T);var K=Me("path",{...T,d:O});return Ve(L,K),K}function x(L,O,T,K){return b(O,T,re({"data-marker":L},K))}function w(L){return oe[L]}function E(L){return function(O,T,K){return w(L)(O,T,K)}}var S={"bpmn:MessageEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.235,my:.315}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill),ue=K?tt(O,a,T.fill):Te(O,l,T.stroke),A=b(L,Q,{fill:ae,stroke:ue,strokeWidth:1});return A},"bpmn:TimerEventDefinition":function(L,O,T={}){var K=T.width||O.width,Q=T.height||O.height,ae=T.width?1:2,ue=m(L,K,Q,.2*Q,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:ae}),A=r.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:K,containerHeight:Q,position:{mx:.5,my:.5}});b(L,A,{stroke:Te(O,l,T.stroke),strokeWidth:ae});for(var ie=0;ie<12;ie++){var de=r.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:K,containerHeight:Q,position:{mx:.5,my:.5}}),H=K/2,q=Q/2;b(L,de,{strokeWidth:1,stroke:Te(O,l,T.stroke),transform:"rotate("+ie*30+","+q+","+H+")"})}return ue},"bpmn:EscalationEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.5,my:.2}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function(L,O,T={}){var K=r.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.5,my:.222}});return b(L,K,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:.57,my:.263}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.2,my:.722}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:.638,my:-.055}}),ae=K?Te(O,l,T.stroke):"none",ue=b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1});return yV(ue,45),ue},"bpmn:CompensateEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.22,my:.5}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.5,my:.2}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{strokeWidth:1,fill:ae,stroke:Te(O,l,T.stroke)})},"bpmn:MultipleEventDefinition":function(L,O,T={},K){var Q=r.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.211,my:.36}}),ae=K?Te(O,l,T.stroke):tt(O,a,T.fill);return b(L,Q,{fill:ae,stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function(L,O,T={}){var K=r.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:T.width||O.width,containerHeight:T.height||O.height,position:{mx:.458,my:.194}});return b(L,K,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function(L,O,T={}){var K=m(L,O.width,O.height,8,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:4});return K}};function k(L,O,T={},K){var Q=ve(L),ae=F0e(Q),ue=K||L;return Q.get("eventDefinitions")&&Q.get("eventDefinitions").length>1?Q.get("parallelMultiple")?S["bpmn:ParallelMultipleEventDefinition"](O,ue,T,ae):S["bpmn:MultipleEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:MessageEventDefinition")?S["bpmn:MessageEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:TimerEventDefinition")?S["bpmn:TimerEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:ConditionalEventDefinition")?S["bpmn:ConditionalEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:SignalEventDefinition")?S["bpmn:SignalEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:EscalationEventDefinition")?S["bpmn:EscalationEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:LinkEventDefinition")?S["bpmn:LinkEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:ErrorEventDefinition")?S["bpmn:ErrorEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:CancelEventDefinition")?S["bpmn:CancelEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:CompensateEventDefinition")?S["bpmn:CompensateEventDefinition"](O,ue,T,ae):ko(Q,"bpmn:TerminateEventDefinition")?S["bpmn:TerminateEventDefinition"](O,ue,T,ae):null}var I={ParticipantMultiplicityMarker:function(L,O,T={}){var K=_i(O,T),Q=qr(O,T),ae=r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:K,containerHeight:Q,position:{mx:(K/2-6)/K,my:(Q-15)/Q}});x("participant-multiplicity",L,ae,{strokeWidth:2,fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})},SubProcessMarker:function(L,O,T={}){var K=g(L,14,14,0,{strokeWidth:1,fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)});Hn(K,O.width/2-7.5,O.height-20);var Q=r.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:O.width,containerHeight:O.height,position:{mx:(O.width/2-7.5)/O.width,my:(O.height-20)/O.height}});x("sub-process",L,Q,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})},ParallelMarker:function(L,O,T){var K=_i(O,T),Q=qr(O,T),ae=r.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:K,containerHeight:Q,position:{mx:(K/2+T.parallel)/K,my:(Q-20)/Q}});x("parallel",L,ae,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})},SequentialMarker:function(L,O,T){var K=r.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:(O.width/2+T.seq)/O.width,my:(O.height-19)/O.height}});x("sequential",L,K,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})},CompensationMarker:function(L,O,T){var K=r.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:(O.width/2+T.compensation)/O.width,my:(O.height-13)/O.height}});x("compensation",L,K,{strokeWidth:1,fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})},LoopMarker:function(L,O,T){var K=_i(O,T),Q=qr(O,T),ae=r.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:K,containerHeight:Q,position:{mx:(K/2+T.loop)/K,my:(Q-7)/Q}});x("loop",L,ae,{strokeWidth:1.5,fill:"none",stroke:Te(O,l,T.stroke),strokeMiterlimit:.5})},AdhocMarker:function(L,O,T){var K=_i(O,T),Q=qr(O,T),ae=r.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:K,containerHeight:Q,position:{mx:(K/2+T.adhoc)/K,my:(Q-15)/Q}});x("adhoc",L,ae,{strokeWidth:1,fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke)})}};function M(L,O,T,K){I[L](O,T,K)}function R(L,O,T,K={}){K={fill:K.fill,stroke:K.stroke,width:_i(O,K),height:qr(O,K)};var Q=ve(O),ae=T&&T.includes("SubProcessMarker");ae?K={...K,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:K={...K,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},ee(T,function(ie){M(ie,L,O,K)}),Q.get("isForCompensation")&&M("CompensationMarker",L,O,K),$(Q,"bpmn:AdHocSubProcess")&&M("AdhocMarker",L,O,K);var ue=Q.get("loopCharacteristics"),A=ue&&ue.get("isSequential");ue&&(A===void 0&&M("LoopMarker",L,O,K),A===!1&&M("ParallelMarker",L,O,K),A===!0&&M("SequentialMarker",L,O,K))}function D(L,O,T={}){T=re({size:{width:100}},T);var K=o.createText(O||"",T);return dt(K).add("djs-label"),Ve(L,K),K}function C(L,O,T,K={}){var Q=ve(O),ae=vd({x:O.x,y:O.y,width:O.width,height:O.height},K);return D(L,Q.name,{align:T,box:ae,padding:7,style:{fill:gd(O,c,l,K.stroke)}})}function V(L,O,T={}){var K={width:90,height:30,x:O.width/2+O.x,y:O.height/2+O.y};return D(L,Di(O),{box:K,fitBox:!0,style:re({},o.getExternalStyle(),{fill:gd(O,c,l,T.stroke)})})}function J(L,O,T,K={}){var Q=In(T),ae=D(L,O,{box:{height:30,width:Q?qr(T,K):_i(T,K)},align:"center-middle",style:{fill:gd(T,c,l,K.stroke)}});if(Q){var ue=-1*qr(T,K);Om(ae,0,-ue,270)}}function Y(L,O,T={}){var{width:K,height:Q}=vd(O,T);return g(L,K,Q,Pm,{...T,fill:tt(O,a,T.fill),fillOpacity:Uc,stroke:Te(O,l,T.stroke)})}function j(L,O,T={}){var K=ve(O),Q=tt(O,a,T.fill),ae=Te(O,l,T.stroke);return(K.get("associationDirection")==="One"||K.get("associationDirection")==="Both")&&(T.markerEnd=h(L,"association-end",Q,ae)),K.get("associationDirection")==="Both"&&(T.markerStart=h(L,"association-start",Q,ae)),T=ut(T,["markerStart","markerEnd"]),_(L,O.waypoints,{...T,stroke:ae,strokeDasharray:"0, 5"})}function B(L,O,T={}){var K=tt(O,a,T.fill),Q=Te(O,l,T.stroke),ae=r.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:.474,my:.296}}),ue=b(L,ae,{fill:K,fillOpacity:Uc,stroke:Q}),A=ve(O);if(z0e(A)){var ie=r.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:.33,my:(O.height-18)/O.height}});b(L,ie,{strokeWidth:2,fill:K,stroke:Q})}return ue}function G(L,O,T={}){return m(L,O.width,O.height,{fillOpacity:Uc,...T,fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)})}function z(L,O,T={}){return v(L,O.width,O.height,{fill:tt(O,a,T.fill),fillOpacity:Uc,stroke:Te(O,l,T.stroke)})}function N(L,O,T={}){var K=g(L,_i(O,T),qr(O,T),0,{fill:tt(O,a,T.fill),fillOpacity:T.fillOpacity||Uc,stroke:Te(O,l,T.stroke),strokeWidth:1.5}),Q=ve(O);if($(Q,"bpmn:Lane")){var ae=Q.get("name");J(L,ae,O,T)}return K}function F(L,O,T={}){var K=Y(L,O,T),Q=rt(O);if(Un(O)&&(Ce(K,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!Q)){var ae=ve(O).flowElements||[],ue=ae.filter(A=>$(A,"bpmn:StartEvent"));ue.length===1&&W(ue[0],L,T,O)}return C(L,O,Q?"center-top":"center-middle",T),Q?R(L,O,void 0,T):R(L,O,["SubProcessMarker"],T),K}function W(L,O,T,K){var Q=22,ae={fill:tt(K,a,T.fill),stroke:Te(K,l,T.stroke),width:Q,height:Q},ue=ve(L).isInterrupting,A=ue?0:3,ie=ue?1:1.2,de=20,H=(Q-de)/2,q="translate("+H+","+H+")";m(O,de,de,{fill:ae.fill,stroke:ae.stroke,strokeWidth:ie,strokeDasharray:A,transform:q}),k(L,O,ae,K)}function X(L,O,T={}){var K=Y(L,O,T);return C(L,O,"center-middle",T),R(L,O,void 0,T),K}var oe=this.handlers={"bpmn:AdHocSubProcess":function(L,O,T={}){return rt(O)?T=ut(T,["fill","stroke","width","height"]):T=ut(T,["fill","stroke"]),F(L,O,T)},"bpmn:Association":function(L,O,T={}){return T=ut(T,["fill","stroke"]),j(L,O,T)},"bpmn:BoundaryEvent":function(L,O,T={}){var{renderIcon:K=!0}=T;T=ut(T,["fill","stroke"]);var Q=ve(O),ae=Q.get("cancelActivity");T={strokeWidth:1.5,fill:tt(O,a,T.fill),fillOpacity:X0e,stroke:Te(O,l,T.stroke)},ae||(T.strokeDasharray="6");var ue=G(L,O,T);return m(L,O.width,O.height,Hp,{...T,fill:"none"}),K&&k(O,L,T),ue},"bpmn:BusinessRuleTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T),Q=r.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),ae=b(L,Q);Ce(ae,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1});var ue=r.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),A=b(L,ue);return Ce(A,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:CallActivity":function(L,O,T={}){return T=ut(T,["fill","stroke"]),F(L,O,{strokeWidth:5,...T})},"bpmn:ComplexGateway":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=z(L,O,T),Q=r.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:O.width,containerHeight:O.height,position:{mx:.46,my:.26}});return b(L,Q,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:DataInput":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=r.getRawPath("DATA_ARROW"),Q=B(L,O,T);return b(L,K,{fill:"none",stroke:Te(O,l,T.stroke),strokeWidth:1}),Q},"bpmn:DataInputAssociation":function(L,O,T={}){return T=ut(T,["fill","stroke"]),j(L,O,{...T,markerEnd:h(L,"association-end",tt(O,a,T.fill),Te(O,l,T.stroke))})},"bpmn:DataObject":function(L,O,T={}){return T=ut(T,["fill","stroke"]),B(L,O,T)},"bpmn:DataObjectReference":E("bpmn:DataObject"),"bpmn:DataOutput":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=r.getRawPath("DATA_ARROW"),Q=B(L,O,T);return b(L,K,{strokeWidth:1,fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke)}),Q},"bpmn:DataOutputAssociation":function(L,O,T={}){return T=ut(T,["fill","stroke"]),j(L,O,{...T,markerEnd:h(L,"association-end",tt(O,a,T.fill),Te(O,l,T.stroke))})},"bpmn:DataStoreReference":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=r.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:O.width,containerHeight:O.height,position:{mx:0,my:.133}});return b(L,K,{fill:tt(O,a,T.fill),fillOpacity:Uc,stroke:Te(O,l,T.stroke),strokeWidth:2})},"bpmn:EndEvent":function(L,O,T={}){var{renderIcon:K=!0}=T;T=ut(T,["fill","stroke"]);var Q=G(L,O,{...T,strokeWidth:4});return K&&k(O,L,T),Q},"bpmn:EventBasedGateway":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=ve(O),Q=z(L,O,T);m(L,O.width,O.height,O.height*.2,{fill:tt(O,"none",T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1});var ae=K.get("eventGatewayType"),ue=!!K.get("instantiate");function A(){var de=r.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:O.width,containerHeight:O.height,position:{mx:.36,my:.44}});b(L,de,{fill:"none",stroke:Te(O,l,T.stroke),strokeWidth:2})}if(ae==="Parallel"){var ie=r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:O.width,containerHeight:O.height,position:{mx:.474,my:.296}});b(L,ie,{fill:"none",stroke:Te(O,l,T.stroke),strokeWidth:1})}else ae==="Exclusive"&&(ue||m(L,O.width,O.height,O.height*.26,{fill:"none",stroke:Te(O,l,T.stroke),strokeWidth:1}),A());return Q},"bpmn:ExclusiveGateway":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=z(L,O,T),Q=r.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:O.width,containerHeight:O.height,position:{mx:.32,my:.3}}),ae=ft(O);return ae.get("isMarkerVisible")&&b(L,Q,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:Gateway":function(L,O,T={}){return T=ut(T,["fill","stroke"]),z(L,O,T)},"bpmn:Group":function(L,O,T={}){return T=ut(T,["fill","stroke","width","height"]),g(L,O.width,O.height,Pm,{stroke:Te(O,l,T.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:_i(O,T),height:qr(O,T)})},"bpmn:InclusiveGateway":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=z(L,O,T);return m(L,O.width,O.height,O.height*.24,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:2.5}),K},"bpmn:IntermediateEvent":function(L,O,T={}){var{renderIcon:K=!0}=T;T=ut(T,["fill","stroke"]);var Q=G(L,O,{...T,strokeWidth:1.5});return m(L,O.width,O.height,Hp,{fill:"none",stroke:Te(O,l,T.stroke),strokeWidth:1.5}),K&&k(O,L,T),Q},"bpmn:IntermediateCatchEvent":E("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":E("bpmn:IntermediateEvent"),"bpmn:Lane":function(L,O,T={}){return T=ut(T,["fill","stroke","width","height"]),N(L,O,{...T,fillOpacity:Y0e})},"bpmn:ManualTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T),Q=r.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return b(L,Q,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:.5}),K},"bpmn:MessageFlow":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=ve(O),Q=ft(O),ae=tt(O,a,T.fill),ue=Te(O,l,T.stroke),A=_(L,O.waypoints,{markerEnd:h(L,"messageflow-end",ae,ue),markerStart:h(L,"messageflow-start",ae,ue),stroke:ue,strokeDasharray:"10, 11",strokeWidth:1.5});if(K.get("messageRef")){var ie=A.getPointAtLength(A.getTotalLength()/2),de=r.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:ie.x,y:ie.y}}),H={strokeWidth:1};Q.get("messageVisibleKind")==="initiating"?(H.fill=ae,H.stroke=ue):(H.fill=ue,H.stroke=ae);var q=b(L,de,H),Z=K.get("messageRef"),pe=Z.get("name"),se=D(L,pe,{align:"center-top",fitBox:!0,style:{fill:ue}}),te=q.getBBox(),he=se.getBBox(),le=ie.x-he.width/2,fe=ie.y+te.height/2+G0e;Om(se,le,fe,0)}return A},"bpmn:ParallelGateway":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=z(L,O,T),Q=r.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:O.width,containerHeight:O.height,position:{mx:.46,my:.2}});return b(L,Q,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:Participant":function(L,O,T={}){T=ut(T,["fill","stroke","width","height"]);var K=N(L,O,T),Q=rt(O),ae=In(O),ue=ve(O),A=ue.get("name");if(Q){var ie=ae?[{x:30,y:0},{x:30,y:qr(O,T)}]:[{x:0,y:30},{x:_i(O,T),y:30}];y(L,ie,{stroke:Te(O,l,T.stroke),strokeWidth:K0e}),J(L,A,O,T)}else{var de=vd(O,T);ae||(de.height=_i(O,T),de.width=qr(O,T));var H=D(L,A,{box:de,align:"center-middle",style:{fill:gd(O,c,l,T.stroke)}});if(!ae){var q=-1*qr(O,T);Om(H,0,-q,270)}}return ue.get("participantMultiplicity")&&M("ParticipantMultiplicityMarker",L,O,T),K},"bpmn:ReceiveTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=ve(O),Q=X(L,O,T),ae;return K.get("instantiate")?(m(L,28,28,20*.22,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1}),ae=r.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):ae=r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),b(L,ae,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1}),Q},"bpmn:ScriptTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T),Q=r.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return b(L,Q,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:SendTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T),Q=r.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return b(L,Q,{fill:Te(O,l,T.stroke),stroke:tt(O,a,T.fill),strokeWidth:1}),K},"bpmn:SequenceFlow":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=tt(O,a,T.fill),Q=Te(O,l,T.stroke),ae=_(L,O.waypoints,{markerEnd:h(L,"sequenceflow-end",K,Q),stroke:Q}),ue=ve(O),{source:A}=O;if(A){var ie=ve(A);ue.get("conditionExpression")&&$(ie,"bpmn:Activity")&&Ce(ae,{markerStart:h(L,"conditional-flow-marker",K,Q)}),ie.get("default")&&($(ie,"bpmn:Gateway")||$(ie,"bpmn:Activity"))&&ie.get("default")===ue&&Ce(ae,{markerStart:h(L,"conditional-default-flow-marker",K,Q)})}return ae},"bpmn:ServiceTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T);m(L,10,10,{fill:tt(O,a,T.fill),stroke:"none",transform:"translate(6, 6)"});var Q=r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});b(L,Q,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1}),m(L,10,10,{fill:tt(O,a,T.fill),stroke:"none",transform:"translate(11, 10)"});var ae=r.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return b(L,ae,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:1}),K},"bpmn:StartEvent":function(L,O,T={}){var{renderIcon:K=!0}=T;T=ut(T,["fill","stroke"]);var Q=ve(O);Q.get("isInterrupting")||(T={...T,strokeDasharray:"6"});var ae=G(L,O,T);return K&&k(O,L,T),ae},"bpmn:SubProcess":function(L,O,T={}){return rt(O)?T=ut(T,["fill","stroke","width","height"]):T=ut(T,["fill","stroke"]),F(L,O,T)},"bpmn:Task":function(L,O,T={}){return T=ut(T,["fill","stroke"]),X(L,O,T)},"bpmn:TextAnnotation":function(L,O,T={}){T=ut(T,["fill","stroke","width","height"]);var{width:K,height:Q}=vd(O,T),ae=g(L,K,Q,0,0,{fill:"none",stroke:"none"}),ue=r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:K,containerHeight:Q,position:{mx:0,my:0}});b(L,ue,{stroke:Te(O,l,T.stroke)});var A=ve(O),ie=A.get("text")||"";return D(L,ie,{align:"left-top",box:vd(O,T),padding:7,style:{fill:gd(O,c,l,T.stroke)}}),ae},"bpmn:Transaction":function(L,O,T={}){rt(O)?T=ut(T,["fill","stroke","width","height"]):T=ut(T,["fill","stroke"]);var K=F(L,O,{strokeWidth:1.5,...T}),Q=n.style(["no-fill","no-events"],{stroke:Te(O,l,T.stroke),strokeWidth:1.5}),ae=rt(O);return ae||(T={}),g(L,_i(O,T),qr(O,T),Pm-Hp,Hp,Q),K},"bpmn:UserTask":function(L,O,T={}){T=ut(T,["fill","stroke"]);var K=X(L,O,T),Q=15,ae=12,ue=r.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:Q,y:ae}});b(L,ue,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:.5});var A=r.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:Q,y:ae}});b(L,A,{fill:tt(O,a,T.fill),stroke:Te(O,l,T.stroke),strokeWidth:.5});var ie=r.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:Q,y:ae}});return b(L,ie,{fill:Te(O,l,T.stroke),stroke:Te(O,l,T.stroke),strokeWidth:.5}),K},label:function(L,O,T={}){return V(L,O,T)}};this._drawPath=b,this._renderer=w}Oe(xc,di);xc.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];xc.prototype.canRender=function(t){return $(t,"bpmn:BaseElement")};xc.prototype.drawShape=function(t,e,n={}){var{type:r}=e,i=this._renderer(r);return i(t,e,n)};xc.prototype.drawConnection=function(t,e,n={}){var{type:r}=e,i=this._renderer(r);return i(t,e,n)};xc.prototype.getShapePath=function(t){return $(t,"bpmn:Event")?q0e(t):$(t,"bpmn:Activity")?V0e(t,Pm):$(t,"bpmn:Gateway")?H0e(t):U0e(t)};function ut(t,e=[]){return e.reduce((n,r)=>(t[r]&&(n[r]=t[r]),n),{})}var Q0e=0,Z0e={width:150,height:50};function J0e(t){var e=t.split("-");return{horizontal:e[0]||"center",vertical:e[1]||"top"}}function eue(t){return On(t)?re({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}function tue(t,e){e.textContent=t;var n;try{var r,i=t==="";return e.textContent=i?"dummy":t,n=e.getBBox(),r={width:n.width+n.x*2,height:n.height},i&&(r.width=0),r}catch(o){return console.log(o),{width:0,height:0}}}function nue(t,e,n){for(var r=t.shift(),i=r,o;;){if(o=tue(i,n),o.width=i?o.width:0,i===" "||i===""||o.width<Math.round(e)||i.length<2)return rue(t,i,r,o);i=oue(i,o.width,e)}}function rue(t,e,n,r){if(e.length<n.length){var i=n.slice(e.length).trim();t.unshift(i)}return{width:r.width,height:r.height,text:e}}var bR="¬≠";function iue(t,e){var n=t.split(/(\s|-|\u00AD)/g),r,i=[],o=0;if(n.length>1)for(;r=n.shift();)if(r.length+o<e)i.push(r),o+=r.length;else{(r==="-"||r===bR)&&i.pop();break}var s=i[i.length-1];return s&&s===bR&&(i[i.length-1]="-"),i.join("")}function oue(t,e,n){var r=Math.max(t.length*(n/e),1),i=iue(t,r);return i||(i=t.slice(0,Math.max(Math.round(r-1),1))),i}function sue(){var t=document.getElementById("helper-svg");return t||(t=Me("svg"),Ce(t,{id:"helper-svg"}),tr(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}function Eh(t){this._config=re({},{size:Z0e,padding:Q0e,style:{},align:"center-top"},t||{})}Eh.prototype.createText=function(t,e){return this.layoutText(t,e).element};Eh.prototype.getDimensions=function(t,e){return this.layoutText(t,e).dimensions};Eh.prototype.layoutText=function(t,e){var n=re({},this._config.size,e.box),r=re({},this._config.style,e.style),i=J0e(e.align||this._config.align),o=eue(e.padding!==void 0?e.padding:this._config.padding),s=e.fitBox||!1,a=aue(r),l=t.split(/\u00AD?\r?\n/),c=[],u=n.width-o.left-o.right,d=Me("text");Ce(d,{x:0,y:0}),Ce(d,r);var f=sue();for(Ve(f,d);l.length;)c.push(nue(l,u,d));i.vertical==="middle"&&(o.top=o.bottom=0);var h=cn(c,function(y,_,b){return y+(a||_.height)},0)+o.top+o.bottom,p=cn(c,function(y,_,b){return _.width>y?_.width:y},0),m=o.top;i.vertical==="middle"&&(m+=(n.height-h)/2),m-=(a||c[0].height)/4;var g=Me("text");Ce(g,r),ee(c,function(y){var _;switch(m+=a||y.height,i.horizontal){case"left":_=o.left;break;case"right":_=(s?p:u)-o.right-y.width;break;default:_=Math.max(((s?p:u)-y.width)/2+o.left,0)}var b=Me("tspan");Ce(b,{x:_,y:m}),b.textContent=y.text,Ve(g,b)}),Sn(d);var v={width:p,height:h};return{dimensions:v,element:g}};function aue(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}var lue=12,cue=1.2,uue=30;function FV(t){var e=re({fontFamily:"Arial, sans-serif",fontSize:lue,fontWeight:"normal",lineHeight:cue},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,r=re({},e,{fontSize:n},t&&t.externalStyle||{}),i=new Eh({style:e});this.getExternalLabelBounds=function(o,s){var a=i.getDimensions(s,{box:{width:90,height:30},style:r});return{x:Math.round(o.x+o.width/2-a.width/2),y:Math.round(o.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(o,s){var a=i.getDimensions(s,{box:o,style:e,align:"left-top",padding:5});return{x:o.x,y:o.y,width:o.width,height:Math.max(uue,Math.round(a.height))}},this.createText=function(o,s){return i.createText(o,s||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return r}}FV.$inject=["config.textRenderer"];function due(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var r=this.pathMap[e],i,o;n.abspos?(i=n.abspos.x,o=n.abspos.y):(i=n.containerWidth*n.position.mx,o=n.containerHeight*n.position.my);var s={};if(n.position){for(var a=n.containerHeight/r.height*n.yScaleFactor,l=n.containerWidth/r.width*n.xScaleFactor,c=0;c<r.heightElements.length;c++)s["y"+c]=r.heightElements[c]*a;for(var u=0;u<r.widthElements.length;u++)s["x"+u]=r.widthElements[u]*l}var d=mue(r.d,{mx:i,my:o,e:s});return d}}var fue=/\{([^{}]+)\}/g,hue=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function pue(t,e,n){var r=n;return e.replace(hue,function(i,o,s,a,l){o=o||a,r&&(o in r&&(r=r[o]),typeof r=="function"&&l&&(r=r()))}),r=(r==null||r==n?t:r)+"",r}function mue(t,e){return String(t).replace(fue,function(n,r){return pue(n,r,e)})}const gue={__init__:["bpmnRenderer"],bpmnRenderer:["type",xc],textRenderer:["type",FV],pathMap:["type",due]};function vue(t,e){return e=e||{},t.replace(/{([^}]+)}/g,function(n,r){return e[r]||"{"+r+"}"})}const wr={translate:["value",vue]};function Am(t,e,n){return re({id:t.id,type:t.$type,businessObject:t,di:e},n)}function yue(t,e,n){var r=t.waypoint;return!r||r.length<2?[Le(e),Le(n)]:r.map(function(i){return{x:i.x,y:i.y}})}function zV(t,e,n){return new Error(`element ${Zn(e)} referenced by ${Zn(t)}#${n} not yet drawn`)}function qs(t,e,n,r,i){this._eventBus=t,this._canvas=e,this._elementFactory=n,this._elementRegistry=r,this._textRenderer=i}qs.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];qs.prototype.add=function(t,e,n){var r,i,o;if($(e,"bpmndi:BPMNPlane")){var s=$(t,"bpmn:SubProcess")?{id:t.id+"_plane"}:{};r=this._elementFactory.createRoot(Am(t,e,s)),this._canvas.addRootElement(r)}else if($(e,"bpmndi:BPMNShape")){var a=!rt(t,e),l=_ue(t);i=n&&(n.hidden||n.collapsed);var c=e.bounds;r=this._elementFactory.createShape(Am(t,e,{collapsed:a,hidden:i,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height),isFrame:l})),$(t,"bpmn:BoundaryEvent")&&this._attachBoundary(t,r),$(t,"bpmn:Lane")&&(o=0),$(t,"bpmn:DataStoreReference")&&(bue(n,Le(c))||(n=this._canvas.findRoot(n))),this._canvas.addShape(r,n,o)}else if($(e,"bpmndi:BPMNEdge")){var u=this._getSource(t),d=this._getTarget(t);i=n&&(n.hidden||n.collapsed),r=this._elementFactory.createConnection(Am(t,e,{hidden:i,source:u,target:d,waypoints:yue(e,u,d)})),$(t,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),this._canvas.addConnection(r,n,o)}else throw new Error(`unknown di ${Zn(e)} for element ${Zn(t)}`);return rc(t)&&Di(r)&&this.addLabel(t,e,r),this._eventBus.fire("bpmnElement.added",{element:r}),r};qs.prototype._attachBoundary=function(t,e){var n=t.attachedToRef;if(!n)throw new Error(`missing ${Zn(t)}#attachedToRef`);var r=this._elementRegistry.get(n.id),i=r&&r.attachers;if(!r)throw zV(t,n,"attachedToRef");e.host=r,i||(r.attachers=i=[]),i.indexOf(e)===-1&&i.push(e)};qs.prototype.addLabel=function(t,e,n){var r,i,o;return r=N0e(e,n),i=Di(n),i&&(r=this._textRenderer.getExternalLabelBounds(r,i)),o=this._elementFactory.createLabel(Am(t,e,{id:t.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!Di(n),x:Math.round(r.x),y:Math.round(r.y),width:Math.round(r.width),height:Math.round(r.height)})),this._canvas.addShape(o,n.parent)};qs.prototype._getConnectedElement=function(t,e){var n,r,i=t.$type;if(r=t[e+"Ref"],e==="source"&&i==="bpmn:DataInputAssociation"&&(r=r&&r[0]),(e==="source"&&i==="bpmn:DataOutputAssociation"||e==="target"&&i==="bpmn:DataInputAssociation")&&(r=t.$parent),n=r&&this._getElement(r),n)return n;throw r?zV(t,r,e+"Ref"):new Error(`${Zn(t)}#${e} Ref not specified`)};qs.prototype._getSource=function(t){return this._getConnectedElement(t,"source")};qs.prototype._getTarget=function(t){return this._getConnectedElement(t,"target")};qs.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};function bue(t,e){var n=e.x,r=e.y;return n>=t.x&&n<=t.x+t.width&&r>=t.y&&r<=t.y+t.height}function _ue(t){return $(t,"bpmn:Group")}const xue={__depends__:[wr],bpmnImporter:["type",qs]},wue={__depends__:[gue,xue]};function Sh(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(Math.random()*1e9)+"-"}Sh.prototype.next=function(){return this._prefix+ ++this._counter};var Eue=new Sh("ov"),Sue=500;function Bn(t,e,n,r){this._eventBus=e,this._canvas=n,this._elementRegistry=r,this._ids=Eue,this._overlayDefaults=re({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=Cue(n.getContainer()),this._init()}Bn.$inject=["config.overlays","eventBus","canvas","elementRegistry"];Bn.prototype.get=function(t){if(kn(t)&&(t={id:t}),kn(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var e=this._getOverlayContainer(t.element,!0);return e?t.type?Xe(e.overlays,io({type:t.type})):e.overlays.slice():[]}else return t.type?Xe(this._overlays,io({type:t.type})):t.id?this._overlays[t.id]:null};Bn.prototype.add=function(t,e,n){if(On(e)&&(n=e,e=null),t.id||(t=this._elementRegistry.get(t)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var r=this._ids.next();return n=re({},this._overlayDefaults,n,{id:r,type:e,element:t,html:n.html}),this._addOverlay(n),r};Bn.prototype.remove=function(t){var e=this.get(t)||[];Fe(e)||(e=[e]);var n=this;ee(e,function(r){var i=n._getOverlayContainer(r.element,!0);if(r&&(Gn(r.html),Gn(r.htmlContainer),delete r.htmlContainer,delete r.element,delete n._overlays[r.id]),i){var o=i.overlays.indexOf(r);o!==-1&&i.overlays.splice(o,1)}})};Bn.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};Bn.prototype.show=function(){Bv(this._overlayRoot)};Bn.prototype.hide=function(){Bv(this._overlayRoot,!1)};Bn.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Pv(this._overlayRoot)};Bn.prototype._updateOverlayContainer=function(t){var e=t.element,n=t.html,r=e.x,i=e.y;if(e.waypoints){var o=Cn(e);r=o.x,i=o.y}qV(n,r,i),Vn(t.html,"data-container-id",e.id)};Bn.prototype._updateOverlay=function(t){var e=t.position,n=t.htmlContainer,r=t.element,i=e.left,o=e.top;if(e.right!==void 0){var s;r.waypoints?s=Cn(r).width:s=r.width,i=e.right*-1+s}if(e.bottom!==void 0){var a;r.waypoints?a=Cn(r).height:a=r.height,o=e.bottom*-1+a}qV(n,i||0,o||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())};Bn.prototype._createOverlayContainer=function(t){var e=at('<div class="djs-overlays" />');tr(e,{position:"absolute"}),this._overlayRoot.appendChild(e);var n={html:e,element:t,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};Bn.prototype._updateRoot=function(t){var e=t.scale||1,n="matrix("+[e,0,0,e,-1*t.x*e,-1*t.y*e].join(",")+")";VV(this._overlayRoot,n)};Bn.prototype._getOverlayContainer=function(t,e){var n=Ge(this._overlayContainers,function(r){return r.element===t});return!n&&!e?this._createOverlayContainer(t):n};Bn.prototype._addOverlay=function(t){var e=t.id,n=t.element,r=t.html,i,o;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),kn(r)&&(r=at(r)),o=this._getOverlayContainer(n),i=at('<div class="djs-overlay" data-overlay-id="'+e+'">'),tr(i,{position:"absolute"}),i.appendChild(r),t.type&&et(i).add("djs-overlay-"+t.type);var s=this._canvas.findRoot(n),a=this._canvas.getRootElement();Bv(i,s===a),t.htmlContainer=i,o.overlays.push(t),o.html.appendChild(i),this._overlays[e]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())};Bn.prototype._updateOverlayVisibilty=function(t,e){var n=t.show,r=this._canvas.findRoot(t.element),i=n&&n.minZoom,o=n&&n.maxZoom,s=t.htmlContainer,a=this._canvas.getRootElement(),l=!0;(r!==a||n&&(Jt(i)&&i>e.scale||Jt(o)&&o<e.scale))&&(l=!1),Bv(s,l),this._updateOverlayScale(t,e)};Bn.prototype._updateOverlayScale=function(t,e){var n=t.scale,r,i,o=t.htmlContainer,s,a="";n!==!0&&(n===!1?(r=1,i=1):(r=n.min,i=n.max),Jt(r)&&e.scale<r&&(s=(1/e.scale||1)*r),Jt(i)&&e.scale>i&&(s=(1/e.scale||1)*i)),Jt(s)&&(a="scale("+s+","+s+")"),VV(o,a)};Bn.prototype._updateOverlaysVisibilty=function(t){var e=this;ee(this._overlays,function(n){e._updateOverlayVisibilty(n,t)})};Bn.prototype._init=function(){var t=this._eventBus,e=this;function n(r){e._updateRoot(r),e._updateOverlaysVisibilty(r),e.show()}t.on("canvas.viewbox.changing",function(r){e.hide()}),t.on("canvas.viewbox.changed",function(r){n(r.viewbox)}),t.on(["shape.remove","connection.remove"],function(r){var i=r.element,o=e.get({element:i});ee(o,function(l){e.remove(l.id)});var s=e._getOverlayContainer(i);if(s){Gn(s.html);var a=e._overlayContainers.indexOf(s);a!==-1&&e._overlayContainers.splice(a,1)}}),t.on("element.changed",Sue,function(r){var i=r.element,o=e._getOverlayContainer(i,!0);o&&(ee(o.overlays,function(s){e._updateOverlay(s)}),e._updateOverlayContainer(o))}),t.on("element.marker.update",function(r){var i=e._getOverlayContainer(r.element,!0);i&&et(i.html)[r.add?"add":"remove"](r.marker)}),t.on("root.set",function(){e._updateOverlaysVisibilty(e._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};function Cue(t){var e=at('<div class="djs-overlay-container" />');return tr(e,{position:"absolute",width:0,height:0}),t.insertBefore(e,t.firstChild),e}function qV(t,e,n){tr(t,{left:e+"px",top:n+"px"})}function Bv(t,e){t.style.display=e===!1?"none":""}function VV(t,e){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){t.style[n+"transform"]=e})}const Su={__init__:["overlays"],overlays:["type",Bn]};function HV(t,e,n,r){t.on("element.changed",function(i){var o=i.element;(o.parent||o===e.getRootElement())&&(i.gfx=n.getGraphics(o)),i.gfx&&t.fire(tV(o)+".changed",i)}),t.on("elements.changed",function(i){var o=i.elements;o.forEach(function(s){t.fire("element.changed",{element:s})}),r.updateContainments(o)}),t.on("shape.changed",function(i){r.update("shape",i.element,i.gfx)}),t.on("connection.changed",function(i){r.update("connection",i.element,i.gfx)})}HV.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const Ch={__init__:["changeSupport"],changeSupport:["type",HV]};var kue=1e3;function xe(t){this._eventBus=t}xe.$inject=["eventBus"];function Oue(t,e){return function(n){return t.call(e||null,n.context,n.command,n)}}xe.prototype.on=function(t,e,n,r,i,o){if((Ct(e)||He(e))&&(o=i,i=r,r=n,n=e,e=null),Ct(n)&&(o=i,i=r,r=n,n=kue),On(i)&&(o=i,i=!1),!Ct(r))throw new Error("handlerFn must be a function");Fe(t)||(t=[t]);var s=this._eventBus;ee(t,function(a){var l=["commandStack",a,e].filter(function(c){return c}).join(".");s.on(l,n,i?Oue(r,o):r,o)})};xe.prototype.canExecute=Vs("canExecute");xe.prototype.preExecute=Vs("preExecute");xe.prototype.preExecuted=Vs("preExecuted");xe.prototype.execute=Vs("execute");xe.prototype.executed=Vs("executed");xe.prototype.postExecute=Vs("postExecute");xe.prototype.postExecuted=Vs("postExecuted");xe.prototype.revert=Vs("revert");xe.prototype.reverted=Vs("reverted");function Vs(t){return function(n,r,i,o,s){(Ct(n)||He(n))&&(s=o,o=i,i=r,r=n,n=null),this.on(n,t,r,i,o,s)}}function lS(t,e){e.invoke(xe,this),this.executed(function(n){var r=n.context;r.rootElement?t.setRootElement(r.rootElement):r.rootElement=t.getRootElement()}),this.revert(function(n){var r=n.context;r.rootElement&&t.setRootElement(r.rootElement)})}Oe(lS,xe);lS.$inject=["canvas","injector"];const Rue={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",lS]};function jf(t){return CSS.escape(t)}var Pue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function UV(t){return t=""+t,t&&t.replace(/[&<>"']/g,function(e){return Pue[e]})}var WV="_plane";function _R(t){var e=t.id;return Aue(e)}function ps(t){var e=t.id;return $(t,"bpmn:SubProcess")?GV(e):e}function pl(t){return GV(t)}function Tm(t){var e=ft(t);return $(e,"bpmndi:BPMNPlane")}function GV(t){return t+WV}function Aue(t){return t.replace(new RegExp(WV+"$"),"")}var Tue="bjs-breadcrumbs-shown";function KV(t,e,n){var r=at('<ul class="bjs-breadcrumbs"></ul>'),i=n.getContainer(),o=et(i);i.appendChild(r);var s=[];t.on("element.changed",function(l){var c=l.element,u=ve(c),d=Ge(s,function(f){return f===u});d&&a()});function a(l){l&&(s=Iue(l));var c=s.flatMap(function(d){var f=n.findRoot(ps(d))||n.findRoot(d.id);if(!f&&$(d,"bpmn:Process")){var h=e.find(function(g){var v=ve(g);return v&&v.get("processRef")===d});f=h&&n.findRoot(h.id)}if(!f)return[];var p=UV(d.name||d.id),m=at('<li><span class="bjs-crumb"><a title="'+p+'">'+p+"</a></span></li>");return m.addEventListener("click",function(){n.setRootElement(f)}),m});r.innerHTML="";var u=c.length>1;o.toggle(Tue,u),c.forEach(function(d){r.appendChild(d)})}t.on("root.set",function(l){a(l.element)})}KV.$inject=["eventBus","elementRegistry","canvas"];function Iue(t){for(var e=ve(t),n=[],r=e;r;r=r.$parent)($(r,"bpmn:SubProcess")||$(r,"bpmn:Process"))&&n.push(r);return n.reverse()}function XV(t,e){var n=null,r=new Due;t.on("root.set",function(i){var o=i.element,s=e.viewbox(),a=r.get(o);if(r.set(n,{x:s.x,y:s.y,zoom:s.scale}),n=o,!(!$(o,"bpmn:SubProcess")&&!a)){a=a||{x:0,y:0,zoom:1};var l=(s.x-a.x)*s.scale,c=(s.y-a.y)*s.scale;(l!==0||c!==0)&&e.scroll({dx:l,dy:c}),a.zoom!==s.scale&&e.zoom(a.zoom,{x:0,y:0})}}),t.on("diagram.clear",function(){r.clear(),n=null})}XV.$inject=["eventBus","canvas"];function Due(){this._entries=[],this.set=function(t,e){var n=!1;for(var r in this._entries)if(this._entries[r][0]===t){this._entries[r][1]=e,n=!0;break}n||this._entries.push([t,e])},this.get=function(t){for(var e in this._entries)if(this._entries[e][0]===t)return this._entries[e][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(t){var e=-1;for(var n in this._entries)if(this._entries[n][0]===t){e=n;break}e!==-1&&this._entries.splice(e,1)}}var xR={x:180,y:160};function wc(t,e){this._eventBus=t,this._moddle=e;var n=this;t.on("import.render.start",1500,function(r,i){n._handleImport(i.definitions)})}wc.prototype._handleImport=function(t){if(t.diagrams){var e=this;this._definitions=t,this._processToDiagramMap={},t.diagrams.forEach(function(r){!r.plane||!r.plane.bpmnElement||(e._processToDiagramMap[r.plane.bpmnElement.id]=r)});var n=t.diagrams.filter(r=>r.plane).flatMap(r=>e._createNewDiagrams(r.plane));n.forEach(function(r){e._movePlaneElementsToOrigin(r.plane)})}};wc.prototype._createNewDiagrams=function(t){var e=this,n=[],r=[];t.get("planeElement").forEach(function(o){var s=o.bpmnElement;if(s){var a=s.$parent;$(s,"bpmn:SubProcess")&&!o.isExpanded&&n.push(s),$ue(s,t)&&r.push({diElement:o,parent:a})}});var i=[];return n.forEach(function(o){if(!e._processToDiagramMap[o.id]){var s=e._createDiagram(o);e._processToDiagramMap[o.id]=s,i.push(s)}}),r.forEach(function(o){for(var s=o.diElement,a=o.parent;a&&n.indexOf(a)===-1;)a=a.$parent;if(a){var l=e._processToDiagramMap[a.id];e._moveToDiPlane(s,l.plane)}}),i};wc.prototype._movePlaneElementsToOrigin=function(t){var e=t.get("planeElement"),n=Mue(t),r={x:n.x-xR.x,y:n.y-xR.y};e.forEach(function(i){i.waypoint?i.waypoint.forEach(function(o){o.x=o.x-r.x,o.y=o.y-r.y}):i.bounds&&(i.bounds.x=i.bounds.x-r.x,i.bounds.y=i.bounds.y-r.y)})};wc.prototype._moveToDiPlane=function(t,e){var n=YV(t),r=n.plane.get("planeElement");r.splice(r.indexOf(t),1),e.get("planeElement").push(t)};wc.prototype._createDiagram=function(t){var e=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:t}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:e});return e.$parent=n,e.bpmnElement=t,n.$parent=this._definitions,this._definitions.diagrams.push(n),n};wc.$inject=["eventBus","moddle"];function YV(t){return $(t,"bpmndi:BPMNDiagram")?t:YV(t.$parent)}function Mue(t){var e={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return t.planeElement.forEach(function(n){if(n.bounds){var r=De(n.bounds);e.top=Math.min(r.top,e.top),e.left=Math.min(r.left,e.left)}}),Mv(e)}function $ue(t,e){var n=t.$parent;return!(!$(n,"bpmn:SubProcess")||n===e.bpmnElement||Qe(t,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var Up=250,Nue='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',Lue="bjs-drilldown-empty";function Ha(t,e,n,r,i){xe.call(this,e),this._canvas=t,this._eventBus=e,this._elementRegistry=n,this._overlays=r,this._translate=i;var o=this;this.executed("shape.toggleCollapse",Up,function(s){var a=s.shape;o._canDrillDown(a)?o._addOverlay(a):o._removeOverlay(a)},!0),this.reverted("shape.toggleCollapse",Up,function(s){var a=s.shape;o._canDrillDown(a)?o._addOverlay(a):o._removeOverlay(a)},!0),this.executed(["shape.create","shape.move","shape.delete"],Up,function(s){var a=s.oldParent,l=s.newParent||s.parent,c=s.shape;o._canDrillDown(c)&&o._addOverlay(c),o._updateDrilldownOverlay(a),o._updateDrilldownOverlay(l),o._updateDrilldownOverlay(c)},!0),this.reverted(["shape.create","shape.move","shape.delete"],Up,function(s){var a=s.oldParent,l=s.newParent||s.parent,c=s.shape;o._canDrillDown(c)&&o._addOverlay(c),o._updateDrilldownOverlay(a),o._updateDrilldownOverlay(l),o._updateDrilldownOverlay(c)},!0),e.on("import.render.complete",function(){n.filter(function(s){return o._canDrillDown(s)}).map(function(s){o._addOverlay(s)})})}Oe(Ha,xe);Ha.prototype._updateDrilldownOverlay=function(t){var e=this._canvas;if(t){var n=e.findRoot(t);n&&this._updateOverlayVisibility(n)}};Ha.prototype._canDrillDown=function(t){var e=this._canvas;return $(t,"bpmn:SubProcess")&&e.findRoot(ps(t))};Ha.prototype._updateOverlayVisibility=function(t){var e=this._overlays,n=ve(t),r=e.get({element:n.id,type:"drilldown"})[0];if(r){var i=n&&n.get("flowElements")&&n.get("flowElements").length;et(r.html).toggle(Lue,!i)}};Ha.prototype._addOverlay=function(t){var e=this._canvas,n=this._overlays,r=ve(t),i=n.get({element:t,type:"drilldown"});i.length&&this._removeOverlay(t);var o=at('<button type="button" class="bjs-drilldown">'+Nue+"</button>"),s=r.get("name")||r.get("id"),a=this._translate("Open {element}",{element:s});o.setAttribute("title",a),o.addEventListener("click",function(){e.setRootElement(e.findRoot(ps(t)))}),n.add(t,"drilldown",{position:{bottom:-7,right:-8},html:o}),this._updateOverlayVisibility(t)};Ha.prototype._removeOverlay=function(t){var e=this._overlays;e.remove({element:t,type:"drilldown"})};Ha.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const jue={__depends__:[Su,Ch,Rue],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",KV],drilldownCentering:["type",XV],drilldownOverlayBehavior:["type",Ha],subprocessCompatibility:["type",wc]};function wR(t){!t||typeof t.stopPropagation!="function"||t.stopPropagation()}function Cu(t){return t.originalEvent||t.srcEvent}function f3(t){wR(t),wR(Cu(t))}function ic(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function QV(){return/mac/i.test(navigator.platform)}function ZV(t,e){return(Cu(t)||t).button===e}function Ua(t){return ZV(t,0)}function Bue(t){return ZV(t,1)}function M0(t){var e=Cu(t)||t;return Ua(t)?QV()?e.metaKey:e.ctrlKey:!1}function Eg(t){var e=Cu(t)||t;return Ua(t)&&e.shiftKey}function Fue(t){return!0}function Wp(t){return Ua(t)||Bue(t)}var ER=500;function JV(t,e,n){var r=this;function i(S,k,I){if(!a(S,k)){var M,R,D;I?R=e.getGraphics(I):(M=k.delegateTarget||k.target,M&&(R=M,I=e.get(R))),!(!R||!I)&&(D=t.fire(S,{element:I,gfx:R,originalEvent:k}),D===!1&&(k.stopPropagation(),k.preventDefault()))}}var o={};function s(S){return o[S]}function a(S,k){var I=c[S]||Ua;return!I(k)}var l={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":Fue,"element.mousedown":Wp,"element.mouseup":Wp,"element.click":Wp,"element.dblclick":Wp};function u(S,k,I){var M=l[S];if(!M)throw new Error("unmapped DOM event name <"+S+">");return i(M,k,I)}var d="svg, .djs-element";function f(S,k,I,M){var R=o[I]=function(D){i(I,D)};M&&(c[I]=M),R.$delegate=rr.bind(S,d,k,R)}function h(S,k,I){var M=s(I);M&&rr.unbind(S,k,M.$delegate)}function p(S){ee(l,function(k,I){f(S,I,k)})}function m(S){ee(l,function(k,I){h(S,I,k)})}t.on("canvas.destroy",function(S){m(S.svg)}),t.on("canvas.init",function(S){p(S.svg)}),t.on(["shape.added","connection.added"],function(S){var k=S.element,I=S.gfx;t.fire("interactionEvents.createHit",{element:k,gfx:I})}),t.on(["shape.changed","connection.changed"],ER,function(S){var k=S.element,I=S.gfx;t.fire("interactionEvents.updateHit",{element:k,gfx:I})}),t.on("interactionEvents.createHit",ER,function(S){var k=S.element,I=S.gfx;r.createDefaultHit(k,I)}),t.on("interactionEvents.updateHit",function(S){var k=S.element,I=S.gfx;r.updateDefaultHit(k,I)});var g=x("djs-hit djs-hit-stroke"),v=x("djs-hit djs-hit-click-stroke"),y=x("djs-hit djs-hit-all"),_=x("djs-hit djs-hit-no-move"),b={all:y,"click-stroke":v,stroke:g,"no-move":_};function x(S,k){return k=re({stroke:"white",strokeWidth:15},k||{}),n.cls(S,["no-fill","no-border"],k)}function w(S,k){var I=b[k];if(!I)throw new Error("invalid hit type <"+k+">");return Ce(S,I),S}function E(S,k){Ve(S,k)}this.removeHits=function(S){var k=Ko(".djs-hit",S);ee(k,Sn)},this.createDefaultHit=function(S,k){var I=S.waypoints,M=S.isFrame,R;return I?this.createWaypointsHit(k,I):(R=M?"stroke":"all",this.createBoxHit(k,R,{width:S.width,height:S.height}))},this.createWaypointsHit=function(S,k){var I=mh(k);return w(I,"stroke"),E(S,I),I},this.createBoxHit=function(S,k,I){I=re({x:0,y:0},I);var M=Me("rect");return w(M,k),Ce(M,I),E(S,M),M},this.updateDefaultHit=function(S,k){var I=Ue(".djs-hit",k);if(I)return S.waypoints?Zq(I,S.waypoints):Ce(I,{width:S.width,height:S.height}),I},this.fire=i,this.triggerMouseEvent=u,this.mouseHandler=s,this.registerEvent=f,this.unregisterEvent=h}JV.$inject=["eventBus","elementRegistry","styles"];const Fv={__init__:["interactionEvents"],interactionEvents:["type",JV]};function ku(t,e){this._eventBus=t,this._canvas=e,this._selectedElements=[];var n=this;t.on(["shape.remove","connection.remove"],function(r){var i=r.element;n.deselect(i)}),t.on(["diagram.clear","root.set"],function(r){n.select(null)})}ku.$inject=["eventBus","canvas"];ku.prototype.deselect=function(t){var e=this._selectedElements,n=e.indexOf(t);if(n!==-1){var r=e.slice();e.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:e})}};ku.prototype.get=function(){return this._selectedElements};ku.prototype.isSelected=function(t){return this._selectedElements.indexOf(t)!==-1};ku.prototype.select=function(t,e){var n=this._selectedElements,r=n.slice();Fe(t)||(t=t?[t]:[]);var i=this._canvas,o=i.getRootElement();t=t.filter(function(s){var a=i.findRoot(s);return o===a}),e?ee(t,function(s){n.indexOf(s)===-1&&n.push(s)}):this._selectedElements=n=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var SR="hover",CR="selected";function eH(t,e){this._canvas=t;function n(i,o){t.addMarker(i,o)}function r(i,o){t.removeMarker(i,o)}e.on("element.hover",function(i){n(i.element,SR)}),e.on("element.out",function(i){r(i.element,SR)}),e.on("selection.changed",function(i){function o(c){r(c,CR)}function s(c){n(c,CR)}var a=i.oldSelection,l=i.newSelection;ee(a,function(c){l.indexOf(c)===-1&&o(c)}),ee(l,function(c){a.indexOf(c)===-1&&s(c)})})}eH.$inject=["canvas","eventBus"];function tH(t,e,n,r){t.on("create.end",500,function(i){var o=i.context,s=o.canExecute,a=o.elements,l=o.hints||{},c=l.autoSelect;if(s){if(c===!1)return;Fe(c)?e.select(c):e.select(a.filter(zue))}}),t.on("connect.end",500,function(i){var o=i.context,s=o.connection;s&&e.select(s)}),t.on("shape.move.end",500,function(i){var o=i.previousSelection||[],s=r.get(i.context.shape.id),a=Ge(o,function(l){return s.id===l.id});a||e.select(s)}),t.on("element.click",function(i){if(Ua(i)){var o=i.element;o===n.getRootElement()&&(o=null);var s=e.isSelected(o),a=e.get().length>1,l=Eg(i);if(s&&a)return l?e.deselect(o):e.select(o);s?e.deselect(o):e.select(o,l)}})}tH.$inject=["eventBus","selection","canvas","elementRegistry"];function zue(t){return!t.hidden}const $r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Fv],selection:["type",ku],selectionVisuals:["type",eH],selectionBehavior:["type",tH]};function Wa(t){Qt.call(this,t)}Oe(Wa,Qt);Wa.prototype._modules=[wue,jue,Su,$r,wr];Wa.prototype._moddleExtensions={};var que=["c","C"],Vue=["v","V"],Hue=["y","Y"],nH=["z","Z"];function Uue(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function Pi(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function $n(t,e){return t=Fe(t)?t:[t],t.indexOf(e.key)!==-1||t.indexOf(e.code)!==-1}function cS(t){return t.shiftKey}function Wue(t){return Pi(t)&&$n(que,t)}function Gue(t){return Pi(t)&&$n(Vue,t)}function uS(t){return Pi(t)&&!cS(t)&&$n(nH,t)}function dS(t){return Pi(t)&&($n(Hue,t)||$n(nH,t)&&cS(t))}var zv="keyboard.keydown",Kue="keyboard.keyup",Xue=1e3,rH="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function Er(t,e){var n=this;this._config=t=t||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),t.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(rH));var r=t&&t.bind!==!1;e.on("canvas.init",function(i){n._target=i.svg,r&&n.bind(),n._fire("init")})}Er.$inject=["config.keyboard","eventBus"];Er.prototype._keydownHandler=function(t){this._keyHandler(t,zv)};Er.prototype._keyupHandler=function(t){this._keyHandler(t,Kue)};Er.prototype._keyHandler=function(t,e){var n;if(!this._isEventIgnored(t)){var r={keyEvent:t};n=this._eventBus.fire(e||zv,r),n&&t.preventDefault()}};Er.prototype._isEventIgnored=function(t){return!1};Er.prototype.bind=function(t){t&&console.error("unsupported argument <node>",new Error(rH)),this.unbind(),t=this._node=this._target,Be.bind(t,"keydown",this._keydownHandler),Be.bind(t,"keyup",this._keyupHandler),this._fire("bind")};Er.prototype.getBinding=function(){return this._node};Er.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),Be.unbind(t,"keydown",this._keydownHandler),Be.unbind(t,"keyup",this._keyupHandler)),this._node=null};Er.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})};Er.prototype.addListener=function(t,e,n){Ct(t)&&(n=e,e=t,t=Xue),this._eventBus.on(n||zv,t,e)};Er.prototype.removeListener=function(t,e){this._eventBus.off(e||zv,t)};Er.prototype.hasModifier=Uue;Er.prototype.isCmd=Pi;Er.prototype.isShift=cS;Er.prototype.isKey=$n;var Yue=500;function Hs(t,e){var n=this;t.on("editorActions.init",Yue,function(r){var i=r.editorActions;n.registerBindings(e,i)})}Hs.$inject=["eventBus","keyboard"];Hs.prototype.registerBindings=function(t,e){function n(r,i){e.isRegistered(r)&&t.addListener(i)}n("undo",function(r){var i=r.keyEvent;if(uS(i))return e.trigger("undo"),!0}),n("redo",function(r){var i=r.keyEvent;if(dS(i))return e.trigger("redo"),!0}),n("copy",function(r){var i=r.keyEvent;if(Wue(i))return e.trigger("copy"),!0}),n("paste",function(r){var i=r.keyEvent;if(Gue(i))return e.trigger("paste"),!0}),n("stepZoom",function(r){var i=r.keyEvent;if($n(["+","Add","="],i)&&Pi(i))return e.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(r){var i=r.keyEvent;if($n(["-","Subtract"],i)&&Pi(i))return e.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(r){var i=r.keyEvent;if($n("0",i)&&Pi(i))return e.trigger("zoom",{value:1}),!0}),n("removeSelection",function(r){var i=r.keyEvent;if($n(["Backspace","Delete","Del"],i))return e.trigger("removeSelection"),!0})};const kh={__init__:["keyboard","keyboardBindings"],keyboard:["type",Er],keyboardBindings:["type",Hs]};var Que={moveSpeed:50,moveSpeedAccelerated:200};function iH(t,e,n){var r=this;this._config=re({},Que,t||{}),e.addListener(i);function i(o){var s=o.keyEvent,a=r._config;if(e.isCmd(s)&&e.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],s)){var l=e.isShift(s)?a.moveSpeedAccelerated:a.moveSpeed,c;switch(s.key){case"ArrowLeft":case"Left":c="left";break;case"ArrowUp":case"Up":c="up";break;case"ArrowRight":case"Right":c="right";break;case"ArrowDown":case"Down":c="down";break}return r.moveCanvas({speed:l,direction:c}),!0}}this.moveCanvas=function(o){var s=0,a=0,l=o.speed,c=l/Math.min(Math.sqrt(n.viewbox().scale),1);switch(o.direction){case"left":s=c;break;case"up":a=c;break;case"right":s=-c;break;case"down":a=-c;break}n.scroll({dx:s,dy:a})}}iH.$inject=["config.keyboardMove","keyboard","canvas"];const fS={__depends__:[kh],__init__:["keyboardMove"],keyboardMove:["type",iH]};var Zue=/^djs-cursor-.*$/;function qv(t){var e=et(document.body);e.removeMatching(Zue),t&&e.add("djs-cursor-"+t)}function oH(){qv(null)}var Jue=5e3;function sH(t,e){e=e||"element.click";function n(){return!1}return t.once(e,Jue,n),function(){t.off(e,n)}}function mf(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function oo(t,e){return{x:t.x-e.x,y:t.y-e.y}}var ede=15;function aH(t,e){var n;function r(a){return s(a.originalEvent)}t.on("canvas.focus.changed",function(a){a.focused?t.on("element.mousedown",500,r):t.off("element.mousedown",r)});function i(a){var l=n.start,c=n.button,u=ic(a),d=oo(u,l);if(!n.dragging&&tde(d)>ede&&(n.dragging=!0,c===0&&sH(t),qv("grab")),n.dragging){var f=n.last||n.start;d=oo(u,f),e.scroll({dx:d.x,dy:d.y}),n.last=u}a.preventDefault()}function o(a){Be.unbind(document,"mousemove",i),Be.unbind(document,"mouseup",o),n=null,oH()}function s(a){if(!Mr(a.target,".djs-draggable")){var l=a.button;if(!(l>=2||a.ctrlKey||a.shiftKey||a.altKey))return n={button:l,start:ic(a)},Be.bind(document,"mousemove",i),Be.bind(document,"mouseup",o),!0}}this.isActive=function(){return!!n}}aH.$inject=["eventBus","canvas"];function tde(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}const hS={__init__:["moveCanvas"],moveCanvas:["type",aH]};function Lx(t){return Math.log(t)/Math.log(10)}function lH(t,e){var n=Lx(t.min),r=Lx(t.max),i=Math.abs(n)+Math.abs(r);return i/e}function nde(t,e){return Math.max(t.min,Math.min(t.max,e))}var rde=Math.sign||function(t){return t>=0?1:-1},pS={min:.2,max:4},cH=10,ide=.1,ode=.75;function Jo(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Ir(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||ode;var r=this;e.on("canvas.focus.changed",function(i){r._init(i.focused&&t.enabled!==!1)})}Jo.$inject=["config.zoomScroll","eventBus","canvas"];Jo.prototype.scroll=function(e){this._canvas.scroll(e)};Jo.prototype.reset=function(){this._canvas.zoom("fit-viewport")};Jo.prototype.zoom=function(e,n){var r=lH(pS,cH*2);this._totalDelta+=e,Math.abs(this._totalDelta)>ide&&(this._zoom(e,n,r),this._totalDelta=0)};Jo.prototype._handleWheel=function(e){if(this._canvas.isFocused()){var n=this._container;e.preventDefault();var r=e.ctrlKey||QV()&&e.metaKey,i=e.shiftKey,o=-1*this._scale,s;if(r?o*=e.deltaMode===0?.02:.32:o*=e.deltaMode===0?1:16,r){var a=n.getBoundingClientRect(),l={x:e.clientX-a.left,y:e.clientY-a.top};s=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*rde(e.deltaY)*o,this.zoom(s,l)}else i?s={dx:o*e.deltaY,dy:0}:s={dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(s)}};Jo.prototype.stepZoom=function(e,n){var r=lH(pS,cH);this._zoom(e,n,r)};Jo.prototype._zoom=function(t,e,n){var r=this._canvas,i=t>0?1:-1,o=Lx(r.zoom()),s=Math.round(o/n)*n;s+=n*i;var a=Math.pow(10,s);r.zoom(nde(pS,a),e)};Jo.prototype.toggle=function(e){var n=this._container,r=this._handleWheel,i=this._enabled;return typeof e>"u"&&(e=!i),i!==e&&Be[e?"bind":"unbind"](n,"wheel",r,!1),this._enabled=e,e};Jo.prototype._init=function(t){this.toggle(t)};const mS={__init__:["zoomScroll"],zoomScroll:["type",Jo]};function Bf(t){Wa.call(this,t)}Oe(Bf,Wa);Bf.prototype._navigationModules=[fS,hS,mS];Bf.prototype._modules=[].concat(Wa.prototype._modules,Bf.prototype._navigationModules);function h3(t){return t&&t[t.length-1]}function kR(t){return t.y}function OR(t){return t.x}var sde={left:OR,center:OR,right:function(t){return t.x+t.width},top:kR,middle:kR,bottom:function(t){return t.y+t.height}};function Ou(t,e){this._modeling=t,this._rules=e}Ou.$inject=["modeling","rules"];Ou.prototype._getOrientationDetails=function(t){var e=["top","bottom","middle"],n="x",r="width";return e.indexOf(t)!==-1&&(n="y",r="height"),{axis:n,dimension:r}};Ou.prototype._isType=function(t,e){return e.indexOf(t)!==-1};Ou.prototype._alignmentPosition=function(t,e){var n=this._getOrientationDetails(t),r=n.axis,i=n.dimension,o={},s={},a=!1,l,c,u;function d(f,h){return Math.round((f[r]+h[r]+h[i])/2)}if(this._isType(t,["left","top"]))o[t]=e[0][r];else if(this._isType(t,["right","bottom"]))u=h3(e),o[t]=u[r]+u[i];else if(this._isType(t,["center","middle"])){if(ee(e,function(f){var h=f[r]+Math.round(f[i]/2);s[h]?s[h].elements.push(f):s[h]={elements:[f],center:h}}),l=br(s,function(f){return f.elements.length>1&&(a=!0),f.elements.length}),a)return o[t]=h3(l).center,o;c=e[0],e=br(e,function(f){return f[r]+f[i]}),u=h3(e),o[t]=d(c,u)}return o};Ou.prototype.trigger=function(t,e){var n=this._modeling,r,i=Xe(t,function(l){return!(l.waypoints||l.host||l.labelTarget)});if(r=this._rules.allowed("elements.align",{elements:i}),Fe(r)&&(i=r),!(i.length<2||!r)){var o=sde[e],s=br(i,o),a=this._alignmentPosition(e,s);n.alignElements(s,a)}};const uH={__init__:["alignElements"],alignElements:["type",Ou]},ade=new Sh;function Ru(t){this._scheduled={},t.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(e=>{this.cancel(e)})})}Ru.$inject=["eventBus"];Ru.prototype.schedule=function(t,e=ade.next()){this.cancel(e);const n=this._schedule(t,e);return this._scheduled[e]=n,n.promise};Ru.prototype._schedule=function(t,e){const n=lde();return{executionId:setTimeout(()=>{try{this._scheduled[e]=null;try{n.resolve(t())}catch(i){n.reject(i)}}catch(i){console.error("Scheduler#_schedule execution failed",i)}}),promise:n.promise}};Ru.prototype.cancel=function(t){const e=this._scheduled[t];e&&(this._cancel(e),this._scheduled[t]=null)};Ru.prototype._cancel=function(t){clearTimeout(t.executionId)};function lde(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}const cde={scheduler:["type",Ru]};var ude="djs-element-hidden",Gp=".entry",dde=1e3,RR=8,fde=300;function yn(t,e,n,r){this._canvas=t,this._elementRegistry=e,this._eventBus=n,this._scheduler=r,this._current=null,this._init()}yn.$inject=["canvas","elementRegistry","eventBus","scheduler"];yn.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(e){var n=e.newSelection,r=n.length?n.length===1?n[0]:n:null;r?t.open(r,!0):t.close()}),this._eventBus.on("elements.changed",function(e){var n=e.elements,r=t._current;if(r){var i=r.target,o=Fe(i)?i:[i],s=o.filter(function(l){return n.includes(l)});if(s.length){t.close();var a=o.filter(function(l){return t._elementRegistry.get(l.id)});a.length&&t._updateAndOpen(a.length>1?a:a[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){t._updatePosition()}),this._eventBus.on("element.marker.update",function(e){if(t.isOpen()){var n=e.element,r=t._current,i=Fe(r.target)?r.target:[r.target];i.includes(n)&&t._updateVisibility()}}),this._container=this._createContainer()};yn.prototype._createContainer=function(){var t=at('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(t),t};yn.prototype.registerProvider=function(t,e){e||(e=t,t=dde),this._eventBus.on("contextPad.getProviders",t,function(n){n.providers.push(e)})};yn.prototype.getEntries=function(t){var e=this._getProviders(),n=Fe(t)?"getMultiElementContextPadEntries":"getContextPadEntries",r={};return ee(e,function(i){if(Ct(i[n])){var o=i[n](t);Ct(o)?r=o(r):ee(o,function(s,a){r[a]=s})}}),r};yn.prototype.trigger=function(t,e,n){var r=this,i,o,s=e.delegateTarget||e.target;if(!s)return e.preventDefault();if(i=Vn(s,"data-action"),o=e.originalEvent||e,t==="mouseover"){this._timeout=setTimeout(function(){r._mouseout=r.triggerEntry(i,"hover",o,n)},fde);return}else if(t==="mouseout"){clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null);return}return this.triggerEntry(i,t,o,n)};yn.prototype.triggerEntry=function(t,e,n,r){if(this.isShown()){var i=this._current.target,o=this._current.entries,s=o[t];if(s){var a=s.action;if(this._eventBus.fire("contextPad.trigger",{entry:s,event:n})!==!1){if(Ct(a)){if(e==="click")return a(n,i,r)}else if(a[e])return a[e](n,i,r);n.preventDefault()}}}};yn.prototype.open=function(t,e){!e&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))};yn.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};yn.prototype._updateAndOpen=function(t){var e=this.getEntries(t),n=this._createHtml(t),r;ee(e,function(i,o){var s=i.group||"default",a=at(i.html||'<div class="entry" draggable="true"></div>'),l;Vn(a,"data-action",o),l=Ue("[data-group="+jf(s)+"]",n),l||(l=at('<div class="group"></div>'),Vn(l,"data-group",s),n.appendChild(l)),l.appendChild(a),i.className&&hde(a,i.className),i.title&&Vn(a,"title",i.title),i.imageUrl&&(r=at("<img>"),Vn(r,"src",i.imageUrl),r.style.width="100%",r.style.height="100%",a.appendChild(r))}),et(n).add("open"),this._current={entries:e,html:n,target:t},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})};yn.prototype._createHtml=function(t){var e=this,n=at('<div class="djs-context-pad"></div>');return rr.bind(n,Gp,"click",function(r){e.trigger("click",r)}),rr.bind(n,Gp,"dragstart",function(r){e.trigger("dragstart",r)}),rr.bind(n,Gp,"mouseover",function(r){e.trigger("mouseover",r)}),rr.bind(n,Gp,"mouseout",function(r){e.trigger("mouseout",r)}),Be.bind(n,"mousedown",function(r){r.stopPropagation()}),this._container.appendChild(n),this._eventBus.fire("contextPad.create",{target:t,pad:n}),n};yn.prototype.getPad=function(t){console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888"));let e;return this.isOpen()&&mde(this._current.target,t)?e=this._current.html:e=this._createHtml(t),{html:e}};yn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};yn.prototype.isOpen=function(t){var e=this._current;if(!e)return!1;if(!t)return!0;var n=e.target;return Fe(t)!==Fe(n)?!1:Fe(t)?t.length===n.length&&ui(t,function(r){return n.includes(r)}):n===t};yn.prototype.isShown=function(){return this.isOpen()&&et(this._current.html).has("open")};yn.prototype.show=function(){this.isOpen()&&(et(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))};yn.prototype.hide=function(){this.isOpen()&&(et(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))};yn.prototype._getPosition=function(t){if(!Fe(t)&&Tt(t)){var e=this._canvas.viewbox(),n=pde(t),r=n.x*e.scale-e.x*e.scale,i=n.y*e.scale-e.y*e.scale;return{left:r+RR*this._canvas.zoom(),top:i}}var o=this._canvas.getContainer(),s=o.getBoundingClientRect(),a=this._getTargetBounds(t);return{left:a.right-s.left+RR*this._canvas.zoom(),top:a.top-s.top}};yn.prototype._updatePosition=function(){const t=()=>{if(this.isOpen()){var e=this._current.html,n=this._getPosition(this._current.target);"x"in n&&"y"in n?(e.style.left=n.x+"px",e.style.top=n.y+"px"):["top","right","bottom","left"].forEach(function(r){r in n&&(e.style[r]=n[r]+"px")})}};this._scheduler.schedule(t,"ContextPad#_updatePosition")};yn.prototype._updateVisibility=function(){const t=()=>{if(this.isOpen()){var e=this,n=this._current.target,r=Fe(n)?n:[n],i=r.some(function(o){return e._canvas.hasMarker(o,ude)});i?e.hide():e.show()}};this._scheduler.schedule(t,"ContextPad#_updateVisibility")};yn.prototype._getTargetBounds=function(t){var e=this,n=Fe(t)?t:[t],r=n.map(function(i){return e._canvas.getGraphics(i)});return r.reduce(function(i,o){const s=o.getBoundingClientRect();return i.top=Math.min(i.top,s.top),i.right=Math.max(i.right,s.right),i.bottom=Math.max(i.bottom,s.bottom),i.left=Math.min(i.left,s.left),i.x=i.left,i.y=i.top,i.width=i.right-i.left,i.height=i.bottom-i.top,i},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};function hde(t,e){var n=et(t);e=Fe(e)?e:e.split(/\s+/g),e.forEach(function(r){n.add(r)})}function pde(t){return t.waypoints[t.waypoints.length-1]}function mde(t,e){return t=Fe(t)?t:[t],e=Fe(e)?e:[e],t.length===e.length&&ui(t,function(n){return e.includes(n)})}const gS={__depends__:[Fv,cde,Su],contextPad:["type",yn]};var Vv,Kt,dH,Rl,PR,fH,hH,pH,vS,jx,Bx,Ff={},mH=[],gde=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hv=Array.isArray;function bs(t,e){for(var n in e)t[n]=e[n];return t}function yS(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function gH(t,e,n){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Vv.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]==null&&(s[o]=t.defaultProps[o]);return Im(t,s,r,i,null)}function Im(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++dH,__i:-1,__u:0};return i==null&&Kt.vnode!=null&&Kt.vnode(o),o}function Uv(t){return t.children}function Dm(t,e){this.props=t,this.context=e}function $0(t,e){if(e==null)return t.__?$0(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$0(t):null}function vH(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return vH(t)}}function AR(t){(!t.__d&&(t.__d=!0)&&Rl.push(t)&&!Sg.__r++||PR!=Kt.debounceRendering)&&((PR=Kt.debounceRendering)||fH)(Sg)}function Sg(){for(var t,e,n,r,i,o,s,a=1;Rl.length;)Rl.length>a&&Rl.sort(hH),t=Rl.shift(),a=Rl.length,t.__d&&(n=void 0,i=(r=(e=t).__v).__e,o=[],s=[],e.__P&&((n=bs({},r)).__v=r.__v+1,Kt.vnode&&Kt.vnode(n),bS(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??$0(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,_H(o,n,s),n.__e!=i&&vH(n)));Sg.__r=0}function yH(t,e,n,r,i,o,s,a,l,c,u){var d,f,h,p,m,g,v=r&&r.__k||mH,y=e.length;for(l=vde(n,e,v,l,y),d=0;d<y;d++)(h=n.__k[d])!=null&&(f=h.__i==-1?Ff:v[h.__i]||Ff,h.__i=d,g=bS(t,h,f,i,o,s,a,l,c,u),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&_S(f.ref,null,h),u.push(h.ref,h.__c||p,h)),m==null&&p!=null&&(m=p),4&h.__u||f.__k===h.__k?l=bH(h,l,t):typeof h.type=="function"&&g!==void 0?l=g:p&&(l=p.nextSibling),h.__u&=-7);return n.__e=m,l}function vde(t,e,n,r,i){var o,s,a,l,c,u=n.length,d=u,f=0;for(t.__k=new Array(i),o=0;o<i;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=o+f,(s=t.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Im(null,s,null,null,null):Hv(s)?Im(Uv,{children:s},null,null,null):s.constructor==null&&s.__b>0?Im(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(c=s.__i=yde(s,n,l,d))!=-1&&(d--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof s.type!="function"&&(s.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,s.__u|=4))):t.__k[o]=null;if(d)for(o=0;o<u;o++)(a=n[o])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=$0(a)),wH(a,a));return r}function bH(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=bH(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=$0(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function yde(t,e,n,r){var i,o,s=t.key,a=t.type,l=e[n];if(l===null&&t.key==null||l&&s==l.key&&a==l.type&&(2&l.__u)==0)return n;if(r>(l!=null&&(2&l.__u)==0?1:0))for(i=n-1,o=n+1;i>=0||o<e.length;){if(i>=0){if((l=e[i])&&(2&l.__u)==0&&s==l.key&&a==l.type)return i;i--}if(o<e.length){if((l=e[o])&&(2&l.__u)==0&&s==l.key&&a==l.type)return o;o++}}return-1}function TR(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||gde.test(e)?n:n+"px"}function Kp(t,e,n,r,i){var o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||TR(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||TR(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(pH,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=vS,t.addEventListener(e,o?Bx:jx,o)):t.removeEventListener(e,o?Bx:jx,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function IR(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=vS++;else if(e.t<n.u)return;return n(Kt.event?Kt.event(e):e)}}}function bS(t,e,n,r,i,o,s,a,l,c){var u,d,f,h,p,m,g,v,y,_,b,x,w,E,S,k,I,M=e.type;if(e.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=e.__e=n.__e]),(u=Kt.__b)&&u(e);e:if(typeof M=="function")try{if(v=e.props,y="prototype"in M&&M.prototype.render,_=(u=M.contextType)&&r[u.__c],b=u?_?_.props.value:u.__:r,n.__c?g=(d=e.__c=n.__c).__=d.__E:(y?e.__c=d=new M(v,b):(e.__c=d=new Dm(v,b),d.constructor=M,d.render=_de),_&&_.sub(d),d.props=v,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),y&&d.__s==null&&(d.__s=d.state),y&&M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=bs({},d.__s)),bs(d.__s,M.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)y&&M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),y&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(y&&M.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,b),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,b)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(R){R&&(R.__=e)}),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,b),y&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=b,d.props=v,d.__P=t,d.__e=!1,w=Kt.__r,E=0,y){for(d.state=d.__s,d.__d=!1,w&&w(e),u=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,w&&w(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,d.getChildContext!=null&&(r=bs(bs({},r),d.getChildContext())),y&&!f&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(h,p)),k=u,u!=null&&u.type===Uv&&u.key==null&&(k=xH(u.props.children)),a=yH(t,Hv(k)?k:[k],e,n,r,i,o,s,a,l,c),d.base=e.__e,e.__u&=-161,d.__h.length&&s.push(d),g&&(d.__E=d.__=null)}catch(R){if(e.__v=null,l||o!=null)if(R.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else for(I=o.length;I--;)yS(o[I]);else e.__e=n.__e,e.__k=n.__k;Kt.__e(R,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=bde(n.__e,e,n,r,i,o,s,l,c);return(u=Kt.diffed)&&u(e),128&e.__u?void 0:a}function _H(t,e,n){for(var r=0;r<n.length;r++)_S(n[r],n[++r],n[++r]);Kt.__c&&Kt.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){Kt.__e(o,i.__v)}})}function xH(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Hv(t)?t.map(xH):bs({},t)}function bde(t,e,n,r,i,o,s,a,l){var c,u,d,f,h,p,m,g=n.props,v=e.props,y=e.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((h=o[c])&&"setAttribute"in h==!!y&&(y?h.localName==y:h.nodeType==3)){t=h,o[c]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(i,y,v.is&&v),a&&(Kt.__m&&Kt.__m(e,o),a=!1),o=null}if(y==null)g===v||a&&t.data==v||(t.data=v);else{if(o=o&&Vv.call(t.childNodes),g=n.props||Ff,!a&&o!=null)for(g={},c=0;c<t.attributes.length;c++)g[(h=t.attributes[c]).name]=h.value;for(c in g)if(h=g[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=h;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;Kp(t,c,null,h,i)}}for(c in v)h=v[c],c=="children"?f=h:c=="dangerouslySetInnerHTML"?u=h:c=="value"?p=h:c=="checked"?m=h:a&&typeof h!="function"||g[c]===h||Kp(t,c,h,g[c],i);if(u)a||d&&(u.__html==d.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),yH(e.type=="template"?t.content:t,Hv(f)?f:[f],e,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:n.__k&&$0(n,0),a,l),o!=null)for(c=o.length;c--;)yS(o[c]);a||(c="value",y=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[c]||y=="progress"&&!p||y=="option"&&p!=g[c])&&Kp(t,c,p,g[c],i),c="checked",m!=null&&m!=t[c]&&Kp(t,c,m,g[c],i))}return t}function _S(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Kt.__e(i,n)}}function wH(t,e,n){var r,i;if(Kt.unmount&&Kt.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||_S(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Kt.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&wH(r[i],e,n||typeof t.type!="function");n||yS(t.__e),t.__c=t.__=t.__e=void 0}function _de(t,e,n){return this.constructor(t,n)}function EH(t,e,n){var r,i,o,s;e==document&&(e=document.documentElement),Kt.__&&Kt.__(t,e),i=(r=!1)?null:e.__k,o=[],s=[],bS(e,t=e.__k=gH(Uv,null,[t]),i||Ff,Ff,e.namespaceURI,i?null:e.firstChild?Vv.call(e.childNodes):null,o,i?i.__e:e.firstChild,r,s),_H(o,t,s)}Vv=mH.slice,Kt={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},dH=0,Dm.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=bs({},this.state),typeof t=="function"&&(t=t(bs({},n),this.props)),t&&bs(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),AR(this))},Dm.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),AR(this))},Dm.prototype.render=Uv,Rl=[],fH=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hH=function(t,e){return t.__v.__b-e.__v.__b},Sg.__r=0,pH=/(PointerCapture)$|Capture$/i,vS=0,jx=IR(!1),Bx=IR(!0);var SH=function(t,e,n,r){var i;e[0]=0;for(var o=1;o<e.length;o++){var s=e[o++],a=e[o]?(e[0]|=s?1:2,n[e[o++]]):e[++o];s===3?r[0]=a:s===4?r[1]=Object.assign(r[1]||{},a):s===5?(r[1]=r[1]||{})[e[++o]]=a:s===6?r[1][e[++o]]+=a+"":s?(i=t.apply(a,SH(t,a,n,["",null])),r.push(i),a[0]?e[0]|=2:(e[o-2]=0,e[o]=i)):r.push(a)}return r},DR=new Map;function xde(t){var e=DR.get(this);return e||(e=new Map,DR.set(this,e)),(e=SH(this,e.get(t)||(e.set(t,e=function(n){for(var r,i,o=1,s="",a="",l=[0],c=function(f){o===1&&(f||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,f,s):o===3&&(f||s)?(l.push(3,f,s),o=2):o===2&&s==="..."&&f?l.push(4,f,0):o===2&&s&&!f?l.push(5,0,!0,s):o>=5&&((s||!f&&o===5)&&(l.push(o,0,s,i),o=6),f&&(l.push(o,f,0,i),o=6)),s=""},u=0;u<n.length;u++){u&&(o===1&&c(),c(u));for(var d=0;d<n[u].length;d++)r=n[u][d],o===1?r==="<"?(c(),l=[l],o=3):s+=r:o===4?s==="--"&&r===">"?(o=1,s=""):s=r+s[0]:a?r===a?a="":s+=r:r==='"'||r==="'"?a=r:r===">"?(c(),o=1):o&&(r==="="?(o=5,i=s,s=""):r==="/"&&(o<5||n[u][d+1]===">")?(c(),o===3&&(l=l[0]),o=l,(l=l[0]).push(2,0,o),o=0):r===" "||r==="	"||r===`
`||r==="\r"?(c(),o=2):s+=r),o===3&&s==="!--"&&(o=4,l=l[0])}return c(),l}(t)),e),arguments,[])).length>1?e:e[0]}var sn=xde.bind(gH),N0,pn,p3,MR,zf=0,CH=[],xn=Kt,$R=xn.__b,NR=xn.__r,LR=xn.diffed,jR=xn.__c,BR=xn.unmount,FR=xn.__;function Wv(t,e){xn.__h&&xn.__h(pn,t,zf||e),zf=0;var n=pn.__H||(pn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function m3(t){return zf=1,wde(OH,t)}function wde(t,e,n){var r=Wv(N0++,2);if(r.t=t,!r.__c&&(r.__=[OH(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=pn,!pn.__f)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,a,l,c);var d=r.__c.props!==a;return u.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(d=!0)}}),o&&o.call(this,a,l,c)||d};pn.__f=!0;var o=pn.shouldComponentUpdate,s=pn.componentWillUpdate;pn.componentWillUpdate=function(a,l,c){if(this.__e){var u=o;o=void 0,i(a,l,c),o=u}s&&s.call(this,a,l,c)},pn.shouldComponentUpdate=i}return r.__N||r.__}function Fx(t,e){var n=Wv(N0++,3);!xn.__s&&xS(n.__H,e)&&(n.__=t,n.u=e,pn.__H.__h.push(n))}function zx(t,e){var n=Wv(N0++,4);!xn.__s&&xS(n.__H,e)&&(n.__=t,n.u=e,pn.__h.push(n))}function kH(t){return zf=5,L0(function(){return{current:t}},[])}function L0(t,e){var n=Wv(N0++,7);return xS(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function yd(t,e){return zf=8,L0(function(){return t},e)}function Ede(){for(var t;t=CH.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Mm),t.__H.__h.forEach(qx),t.__H.__h=[]}catch(e){t.__H.__h=[],xn.__e(e,t.__v)}}xn.__b=function(t){pn=null,$R&&$R(t)},xn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),FR&&FR(t,e)},xn.__r=function(t){NR&&NR(t),N0=0;var e=(pn=t.__c).__H;e&&(p3===pn?(e.__h=[],pn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Mm),e.__h.forEach(qx),e.__h=[],N0=0)),p3=pn},xn.diffed=function(t){LR&&LR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(CH.push(e)!==1&&MR===xn.requestAnimationFrame||((MR=xn.requestAnimationFrame)||Sde)(Ede)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),p3=pn=null},xn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Mm),n.__h=n.__h.filter(function(r){return!r.__||qx(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],xn.__e(r,n.__v)}}),jR&&jR(t,e)},xn.unmount=function(t){BR&&BR(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Mm(r)}catch(i){e=i}}),n.__H=void 0,e&&xn.__e(e,n.__v))};var zR=typeof requestAnimationFrame=="function";function Sde(t){var e,n=function(){clearTimeout(r),zR&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);zR&&(e=requestAnimationFrame(n))}function Mm(t){var e=pn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),pn=e}function qx(t){var e=pn;t.__c=t.__(),pn=e}function xS(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function OH(t,e){return typeof e=="function"?e(t):e}function Cde(t){const{headerEntries:e,onSelect:n,selectedEntry:r,setSelectedEntry:i,title:o}=t,s=L0(()=>kde(e),[e]);return sn`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${o}>${o}</h3>
      ${s.map(a=>sn`
        <ul key=${a.id} class="djs-popup-header-group" data-header-group=${a.id}>

          ${a.entries.map(l=>sn`
            <li key=${l.id}>
              <${l.action?"button":"span"}
                class=${Ode(l,l===r)}
                onClick=${c=>l.action&&n(c,l)}
                title=${l.title||l.label}
                data-id=${l.id}
                onMouseEnter=${()=>l.action&&i(l)}
                onMouseLeave=${()=>l.action&&i(null)}
                onFocus=${()=>l.action&&i(l)}
                onBlur=${()=>l.action&&i(null)}
              >
                ${l.imageUrl&&sn`<img class="djs-popup-entry-icon" src=${l.imageUrl} alt="" />`||l.imageHtml&&sn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:l.imageHtml}} />`}
                ${l.label?sn`
                  <span class="djs-popup-label">${l.label}</span>
                `:null}
              </${l.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function kde(t){return t.reduce((e,n)=>{const r=n.group||"default",i=e.find(o=>o.id===r);return i?i.entries.push(n):e.push({id:r,entries:[n]}),e},[])}function Ode(t,e){return Df("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",e?"selected":"")}function Rde(t){const{entry:e,selected:n,onMouseEnter:r,onMouseLeave:i,onAction:o}=t;return sn`
    <li
      class=${Df("entry",{selected:n})}
      data-id=${e.id}
      title=${e.title||e.label}
      tabIndex="0"
      onClick=${o}
      onFocus=${r}
      onBlur=${i}
      onMouseEnter=${r}
      onMouseLeave=${i}
      onDragStart=${s=>o(s,e,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Df("djs-popup-entry-name",e.className)}
        >
          ${e.imageUrl&&sn`<img class="djs-popup-entry-icon" src=${e.imageUrl} alt="" />`||e.imageHtml&&sn`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:e.imageHtml}} />`}

          ${e.label?sn`
            <span class="djs-popup-label">
              ${e.label}
            </span>
          `:null}
        </span>
        ${e.description&&sn`
          <span
            class="djs-popup-entry-description"
            title=${e.description}
          >
            ${e.description}
          </span>
        `}
      </div>
      ${e.documentationRef&&sn`
        <div class="djs-popup-entry-docs">
          <a
            href="${e.documentationRef}"
            onClick=${s=>s.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Pde(t){const{selectedEntry:e,setSelectedEntry:n,entries:r,...i}=t,o=kH(),s=L0(()=>Ade(r),[r]);return zx(()=>{const a=o.current;if(!a)return;const l=a.querySelector(".selected");l&&Tde(l)},[e]),sn`
    <div class="djs-popup-results" ref=${o}>
      ${s.map(a=>sn`
        ${a.name&&sn`
          <div key=${a.id} class="entry-header" title=${a.name}>
            ${a.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${a.id}>
          ${a.entries.map(l=>sn`
            <${Rde}
              key=${l.id}
              entry=${l}
              selected=${l===e}
              onMouseEnter=${()=>n(l)}
              onMouseLeave=${()=>n(null)}
              ...${i}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Ade(t){const e=[],n=o=>e.find(s=>o.id===s.id),r=o=>!!n(o),i=o=>typeof o=="string"?{id:o}:o;return t.forEach(o=>{const s=o.group?i(o.group):{id:"default"};r(s)?n(s).entries.push(o):e.push({...s,entries:[o]})}),e}function Tde(t){typeof t.scrollIntoViewIfNeeded=="function"?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function Ide(t){const{onClose:e,onSelect:n,className:r,headerEntries:i,position:o,title:s,width:a,scale:l,search:c,emptyPlaceholder:u,searchFn:d,entries:f,onOpened:h,onClosed:p}=t,m=L0(()=>Jt(c)?f.length>5:!1,[c,f]),[g,v]=m3(""),y=yd((R,D)=>{if(!m)return R;if(!D.trim())return R.filter(({rank:V=0})=>V>=0);const C=R.filter(({searchable:V})=>V!==!1);return d(C,D,{keys:["label","search","description"]}).map(({item:V})=>V)},[m]),[_,b]=m3(y(f,g)),[x,w]=m3(_[0]),E=yd(R=>{w(R[0]),b(R)},[x,b,w]);Fx(()=>{E(y(f,g))},[g,f]);const S=yd(R=>{let C=_.indexOf(x)+R;C<0&&(C=_.length-1),C>=_.length&&(C=0),w(_[C])},[_,x,w]),k=yd(R=>{if(R.key==="Enter"&&x)return n(R,x);if(R.key==="ArrowUp")return S(-1),R.preventDefault();if(R.key==="ArrowDown")return S(1),R.preventDefault()},[n,x,S]),I=yd(R=>{Av(R.target,"input")&&v(()=>R.target.value)},[v]);Fx(()=>(h(),()=>{p()}),[]);const M=L0(()=>s||i.length>0,[s,i]);return sn`
    <${qR}
      onClose=${e}
      onKeyup=${I}
      onKeydown=${k}
      className=${r}
      position=${o}
      width=${a}
      scale=${l}
    >
      ${M&&sn`
        <${Cde}
          headerEntries=${i}
          onSelect=${n}
          selectedEntry=${x}
          setSelectedEntry=${w}
          title=${s}
        />
      `}
      ${f.length>0&&sn`
        <div class="djs-popup-body">

          ${m&&sn`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${s}" />
          </div>
          `}

          <${Pde}
            entries=${_}
            selectedEntry=${x}
            setSelectedEntry=${w}
            onAction=${n}
          />
        </div>
      `}
    ${u&&_.length===0&&sn`
      <div class="djs-popup-no-results">${Ct(u)?u(g):u}</div>
    `}
    </${qR}>
  `}function qR(t){const{onClose:e,onKeydown:n,onKeyup:r,className:i,children:o,position:s}=t,a=kH();return zx(()=>{if(typeof s!="function")return;const l=a.current,c=s(l);l.style.left=`${c.x}px`,l.style.top=`${c.y}px`},[a.current,s]),zx(()=>{const l=a.current;if(!l)return;(l.querySelector("input")||l).focus()},[]),Fx(()=>{const l=u=>{if(u.key==="Escape")return u.preventDefault(),e()},c=u=>{if(!Mr(u.target,".djs-popup",!0))return e()};return document.documentElement.addEventListener("keydown",l),document.body.addEventListener("click",c),()=>{document.documentElement.removeEventListener("keydown",l),document.body.removeEventListener("click",c)}},[]),sn`
    <div
      class=${Df("djs-popup",i)}
      style=${Dde(t)}
      onKeydown=${n}
      onKeyup=${r}
      ref=${a}
      tabIndex="-1"
    >
      ${o}
    </div>
  `}function Dde(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`,"transform-origin":"top left"}}var Mde="data-id",RH=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],$de=1e3;function Zt(t,e,n,r){this._eventBus=e,this._canvas=n,this._search=r,this._current=null;var i=Jt(t&&t.scale)?t.scale:{min:1,max:1};this._config={scale:i},e.on("diagram.destroy",()=>{this.close()}),e.on("element.changed",o=>{const s=this.isOpen()&&this._current.target;o.element===s&&this.refresh()})}Zt.$inject=["config.popupMenu","eventBus","canvas","search"];Zt.prototype._render=function(){const{position:t,providerId:e,entries:n,headerEntries:r,emptyPlaceholder:i,options:o}=this._current,s=Object.entries(n).map(([f,h])=>({id:f,...h})),a=Object.entries(r).map(([f,h])=>({id:f,...h})),l=t&&(f=>this._ensureVisible(f,t)),c=this._updateScale(this._current.container);EH(sn`
      <${Ide}
        onClose=${f=>this.close(f)}
        onSelect=${(f,h,p)=>this.trigger(f,h,p)}
        position=${l}
        className=${e}
        entries=${s}
        headerEntries=${a}
        emptyPlaceholder=${i}
        scale=${c}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...o}}
      />
    `,this._current.container)};Zt.prototype.open=function(t,e,n,r){if(!t)throw new Error("target is missing");if(!e)throw new Error("providers for <"+e+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:i,headerEntries:o,emptyPlaceholder:s}=this._getContext(t,e);this._current={position:n,providerId:e,target:t,entries:i,headerEntries:o,emptyPlaceholder:s,container:this._createContainer({provider:e}),options:r},this._emit("open"),this._bindAutoClose(),this._render()};Zt.prototype.refresh=function(){if(!this.isOpen())return;const{target:t,providerId:e}=this._current,{entries:n,headerEntries:r,emptyPlaceholder:i}=this._getContext(t,e);this._current={...this._current,entries:n,headerEntries:r,emptyPlaceholder:i},this._emit("refresh"),this._render()};Zt.prototype._getContext=function(t,e){const n=this._getProviders(e);if(!n||!n.length)throw new Error("provider for <"+e+"> not found");const r=this._getEntries(t,n),i=this._getHeaderEntries(t,n),o=this._getEmptyPlaceholder(n);return{entries:r,headerEntries:i,emptyPlaceholder:o,empty:!(Object.keys(r).length||Object.keys(i).length)}};Zt.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)};Zt.prototype.reset=function(){const t=this._current.container;EH(null,t),Gn(t)};Zt.prototype._emit=function(t,e){this._eventBus.fire(`popupMenu.${t}`,e)};Zt.prototype._onOpened=function(){this._emit("opened")};Zt.prototype._onClosed=function(){this._emit("closed")};Zt.prototype._createContainer=function(t){var e=this._canvas,n=e.getContainer();const r=at(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return n.appendChild(r),r};Zt.prototype._bindAutoClose=function(){this._eventBus.once(RH,this.close,this)};Zt.prototype._unbindAutoClose=function(){this._eventBus.off(RH,this.close,this)};Zt.prototype._updateScale=function(){var t=this._canvas.zoom(),e=this._config.scale,n,r,i=t;return e!==!0&&(e===!1?(n=1,r=1):(n=e.min,r=e.max),Jt(n)&&t<n&&(i=n),Jt(r)&&t>r&&(i=r)),i};Zt.prototype._ensureVisible=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect(),i={},o=e.x,s=e.y;return e.x+r.width>n.width&&(i.x=!0),e.y+r.height>n.height&&(i.y=!0),i.x&&i.y?(o=e.x-r.width,s=e.y-r.height):i.x?(o=e.x-r.width,s=e.y):i.y&&e.y<r.height?(o=e.x,s=10):i.y&&(o=e.x,s=e.y-r.height),e.y<n.top&&(s=e.y+r.height),{x:o,y:s}};Zt.prototype.isEmpty=function(t,e){if(!t)throw new Error("target is missing");if(!e)throw new Error("provider ID is missing");const n=this._getProviders(e);return!n||!n.length?!0:this._getContext(t,e).empty};Zt.prototype.registerProvider=function(t,e,n){n||(n=e,e=$de),this._eventBus.on("popupMenu.getProviders."+t,e,function(r){r.providers.push(n)})};Zt.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(e),e.providers};Zt.prototype._getEntries=function(t,e){var n={};return ee(e,function(r){if(!r.getPopupMenuEntries){ee(r.getEntries(t),function(o){var s=o.id;if(!s)throw new Error("entry ID is missing");n[s]=Qo(o,["id"])});return}var i=r.getPopupMenuEntries(t);Ct(i)?n=i(n):ee(i,function(o,s){n[s]=o})}),n};Zt.prototype._getHeaderEntries=function(t,e){var n={};return ee(e,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;ee(r.getHeaderEntries(t),function(o){var s=o.id;if(!s)throw new Error("entry ID is missing");n[s]=Qo(o,["id"])});return}var i=r.getPopupMenuHeaderEntries(t);Ct(i)?n=i(n):ee(i,function(o,s){n[s]=o})}),n};Zt.prototype._getEmptyPlaceholder=function(t){const e=t.find(n=>Ct(n.getEmptyPlaceholder));return e&&e.getEmptyPlaceholder()};Zt.prototype.isOpen=function(){return!!this._current};Zt.prototype.trigger=function(t,e,n="click"){if(t.preventDefault(),!e){let i=Mr(t.delegateTarget||t.target,".entry",!0),o=Vn(i,Mde);e={id:o,...this._getEntry(o)}}const r=e.action;if(this._emit("trigger",{entry:e,event:t})!==!1){if(Ct(r)){if(n==="click")return r(t,e)}else if(r[n])return r[n](t,e)}};Zt.prototype._getEntry=function(t){var e=this._current.entries[t]||this._current.headerEntries[t];if(!e)throw new Error("entry not found");return e};function Nde(t,e,n){const{keys:r}=n;if(e=e.trim().toLowerCase(),!e)throw new Error("<pattern> must not be empty");const i=e.trim().toLowerCase().split(/\s+/);return t.flatMap(o=>{const s=Lde(o,i,r);return s?{item:o,tokens:s}:[]}).sort(jde(r))}function Lde(t,e,n){const{matchedWords:r,tokens:i}=n.reduce((o,s)=>{const a=t[s],{tokens:l,matchedWords:c}=Fe(a)?a.reduce((u,d)=>{const{tokens:f,matchedWords:h}=UR(d,e);return{tokens:[...u.tokens,f],matchedWords:{...u.matchedWords,...h}}},{matchedWords:{},tokens:[]}):UR(a,e);return{tokens:{...o.tokens,[s]:l},matchedWords:{...o.matchedWords,...c}}},{matchedWords:{},tokens:{}});return Object.keys(r).length!==e.length?null:i}function jde(t){return(e,n)=>{let r=0,i=1;for(const o of t){const s=Bde(e.tokens[o],n.tokens[o]);if(s!==0){r+=s*i,i*=.9;continue}const a=Fde(e.item[o],n.item[o]);if(a!==0){r+=a*i,i*=.9;continue}}return r}}function Bde(t,e){return VR(e)-VR(t)}function VR(t){return t.reduce((e,n)=>e+PH(n),0)}function PH(t){if(Fe(t))return Math.max(...t.map(PH));const e=Math.log(t.value.length);return t.match?(t.start?t.end?131.9:7.87:t.wordStart?2.19:1)*e:-.07*e}function HR(t=""){return Fe(t)?t.join(", "):t}function Fde(t,e){return HR(t).localeCompare(HR(e))}function UR(t,e){if(!t)return{tokens:[],matchedWords:{}};const n=[],r={},i=e.map(zde),o=[`(?<all>${i.join("\\s+")})`,...i].join("|"),s=new RegExp(o,"ig");let a,l=0;for(;a=s.exec(t);){const[c]=a,u=a.index,d=a.index+c.length,f=u===0,h=d===t.length,p=!!a.groups.all,m=f||/\s/.test(t.charAt(u-1)),g=h||/\s/.test(t.charAt(d));a.index>l&&n.push({value:t.slice(l,a.index),index:l}),n.push({value:c,index:a.index,match:!0,wordStart:m,wordEnd:g,start:f,end:h,all:p});const v=p?e:[c];for(const y of v)r[y.toLowerCase()]=!0;l=a.index+c.length}return l<t.length&&n.push({value:t.slice(l),index:l}),{tokens:n,matchedWords:r}}function zde(t){return t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}const AH={search:["value",Nde]},Gv={__depends__:[AH],__init__:["popupMenu"],popupMenu:["type",Zt]};var TH={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`},qde=900;function Pu(t,e,n,r){t.registerProvider(qde,this),this._contextPad=t,this._popupMenu=e,this._translate=n,this._canvas=r}Pu.$inject=["contextPad","popupMenu","translate","canvas"];Pu.prototype.getMultiElementContextPadEntries=function(t){var e={};return this._isAllowed(t)&&re(e,this._getEntries(t)),e};Pu.prototype._isAllowed=function(t){return!this._popupMenu.isEmpty(t,"align-elements")};Pu.prototype._getEntries=function(){var t=this;return{"align-elements":{group:"align-elements",title:t._translate("Align elements"),html:`<div class="entry">${TH.align}</div>`,action:{click:function(e,n){var r=t._getMenuPosition(n);re(r,{cursor:{x:e.x,y:e.y}}),t._popupMenu.open(n,"align-elements",r)}}}}};Pu.prototype._getMenuPosition=function(t){var e=5,n=this._contextPad.getPad(t).html,r=n.getBoundingClientRect(),i={x:r.left,y:r.bottom+e};return i};var Vde=["left","center","right","top","middle","bottom"];function Oh(t,e,n,r){this._alignElements=e,this._translate=n,this._popupMenu=t,this._rules=r,t.registerProvider("align-elements",this)}Oh.$inject=["popupMenu","alignElements","translate","rules"];Oh.prototype.getPopupMenuEntries=function(t){var e={};return this._isAllowed(t)&&re(e,this._getEntries(t)),e};Oh.prototype._isAllowed=function(t){return this._rules.allowed("elements.align",{elements:t})};Oh.prototype._getEntries=function(t){var e=this._alignElements,n=this._translate,r=this._popupMenu,i={};return ee(Vde,function(o){i["align-elements-"+o]={group:"align",title:n("Align elements "+o),className:"bjs-align-elements-menu-entry",imageHtml:TH[o],action:function(){e.trigger(t,o),r.close()}}}),i};function Nr(t){xe.call(this,t),this.init()}Nr.$inject=["eventBus"];Oe(Nr,xe);Nr.prototype.addRule=function(t,e,n){var r=this;typeof t=="string"&&(t=[t]),t.forEach(function(i){r.canExecute(i,e,function(o,s,a){return n(o)},!0)})};Nr.prototype.init=function(){};function Kv(t){Nr.call(this,t)}Kv.$inject=["eventBus"];Oe(Kv,Nr);Kv.prototype.init=function(){this.addRule("elements.align",function(t){var e=t.elements,n=Xe(e,function(r){return!(r.waypoints||r.host||r.labelTarget)});return n=Dv(n),n.length<2?!1:n})};const Hde={__depends__:[uH,gS,Gv],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Pu],alignElementsMenuProvider:["type",Oh],bpmnAlignElements:["type",Kv]};var Ude=10,IH=50,Wde=250;function Rh(t,e,n,r){for(var i;i=Gde(t,n,e);)n=r(e,n,i);return n}function Xv(t){return function(e,n,r){var i={x:n.x,y:n.y};return["x","y"].forEach(function(o){var s=t[o];if(s){var a=o==="x"?"width":"height",l=s.margin,c=s.minDistance;l<0?i[o]=Math.min(r[o]+l-e[a]/2,n[o]-c+l):i[o]=Math.max(r[o]+r[a]+l+e[a]/2,n[o]+c+l)}}),i}}function Gde(t,e,n){var r={x:e.x-n.width/2,y:e.y-n.height/2,width:n.width,height:n.height},i=Kde(t);return Ge(i,function(o){if(o===n)return!1;var s=Ft(o,r,Ude);return s==="intersect"})}function DH(t,e){e||(e={});function n(p){return p.source===t?1:-1}var r=e.defaultDistance||IH,i=e.direction||"e",o=e.filter,s=e.getWeight||n,a=e.maxDistance||Wde,l=e.reference||"start";o||(o=Qde);function c(p,m){return i==="n"?l==="start"?De(p).top-De(m).bottom:l==="center"?De(p).top-Le(m).y:De(p).top-De(m).top:i==="w"?l==="start"?De(p).left-De(m).right:l==="center"?De(p).left-Le(m).x:De(p).left-De(m).left:i==="s"?l==="start"?De(m).top-De(p).bottom:l==="center"?Le(m).y-De(p).bottom:De(m).bottom-De(p).bottom:l==="start"?De(m).left-De(p).right:l==="center"?Le(m).x-De(p).right:De(m).right-De(p).right}var u=t.incoming.filter(o).map(function(p){var m=s(p),g=m<0?c(p.source,t):c(t,p.source);return{id:p.source.id,distance:g,weight:m}}),d=t.outgoing.filter(o).map(function(p){var m=s(p),g=m>0?c(t,p.target):c(p.target,t);return{id:p.target.id,distance:g,weight:m}}),f=u.concat(d).reduce(function(p,m){return p[m.id+"__weight_"+m.weight]=m,p},{}),h=cn(f,function(p,m){var g=m.distance,v=m.weight;return g<0||g>a||(p[String(g)]||(p[String(g)]=0),p[String(g)]+=1*v,(!p.distance||p[p.distance]<p[String(g)])&&(p.distance=g)),p},{});return h.distance||r}function Kde(t){var e=g3(t);return t.host&&(e=e.concat(g3(t.host))),t.attachers&&(e=e.concat(t.attachers.reduce(function(n,r){return n.concat(g3(r))},[]))),e}function g3(t){return Yde(t).concat(Xde(t))}function Xde(t){return t.incoming.map(function(e){return e.source})}function Yde(t){return t.outgoing.map(function(e){return e.target})}function Qde(){return!0}var Zde=100;function MH(t,e,n){t.on("autoPlace",Zde,function(r){var i=r.shape,o=r.source;return Jde(o,i)}),t.on("autoPlace.end",function(r){n.scrollToElement(r.shape)}),this.append=function(r,i,o){t.fire("autoPlace.start",{source:r,shape:i});var s=t.fire("autoPlace",{source:r,shape:i}),a=e.appendShape(r,i,s,r.parent,o);return t.fire("autoPlace.end",{source:r,shape:a}),a}}MH.$inject=["eventBus","modeling","canvas"];function Jde(t,e,n){n||(n={});var r=n.defaultDistance||IH,i=Le(t),o=De(t);return{x:o.right+r+e.width/2,y:i.y}}function $H(t,e){t.on("autoPlace.end",500,function(n){e.select(n.shape)})}$H.$inject=["eventBus","selection"];const NH={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",MH],autoPlaceSelectionBehavior:["type",$H]};function j0(t,e){for(kn(e)&&(e=[e]);t=t.parent;)if(Qe(t,e))return t;return null}function LH(t,e){var n=j0(t,"bpmn:Process");if(n)return!0;var r=["bpmn:Participant","bpmn:Lane"];if(n=j0(t,r),n)return In(n);if(Qe(t,r))return In(t);var i;for(i=ve(t);i&&!$(i,"bpmn:Process");i=i.$parent);if(!e)return!0;var o=e.find(function(s){var a=ve(s);return a&&a.get("processRef")===i});return o?In(o):!0}function jH(t,e,n){var r=LH(t,n);if($(e,"bpmn:TextAnnotation"))return tfe(t,e,r);if(Qe(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return nfe(t,e,r);if($(e,"bpmn:FlowNode"))return efe(t,e,r)}function efe(t,e,n){var r=De(t),i=Le(t),o=n?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},s=DH(t,{filter:function(h){return $(h,"bpmn:SequenceFlow")},direction:o.directionHint}),a=30,l=o.minDistance,c=o.baseOrientation;$(t,"bpmn:BoundaryEvent")&&(c=Ft(t,t.host,-25),c.indexOf(o.boundaryOrientation)!==-1&&(a*=-1));var u=n?{x:r.right+s+e.width/2,y:i.y+WR(c,l,o)}:{x:i.x+WR(c,l,o),y:r.bottom+s+e.height/2},d={margin:a,minDistance:l},f=n?{y:d}:{x:d};return Rh(t,e,u,Xv(f))}function WR(t,e,n){return t.includes(n.start)?-1*e:t.includes(n.end)?e:0}function tfe(t,e,n){var r=De(t),i=n?{x:r.right+e.width/2,y:r.top-50-e.height/2}:{x:r.right+50+e.width/2,y:r.bottom+e.height/2};Tt(t)&&(i=Le(t),n?(i.x+=100,i.y-=50):(i.x+=100,i.y+=50));var o={margin:n?-30:30,minDistance:20},s=n?{y:o}:{x:o};return Rh(t,e,i,Xv(s))}function nfe(t,e,n){var r=De(t),i=n?{x:r.right-10+e.width/2,y:r.bottom+40+e.width/2}:{x:r.left-40-e.width/2,y:r.bottom-10+e.height/2},o={margin:30,minDistance:30},s=n?{x:o}:{y:o};return Rh(t,e,i,Xv(s))}function BH(t,e){t.on("autoPlace",function(n){var r=n.shape,i=n.source;return jH(i,r,e)})}BH.$inject=["eventBus","elementRegistry"];const wS={__depends__:[NH],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",BH]};function Us(t,e,n,r){xe.call(this,t),this._elementRegistry=e,this._modeling=n,this._rules=r;var i=this;this.postExecuted(["shape.create"],function(o){var s=o.context,a=s.hints||{},l=s.shape,c=s.parent||s.newParent;a.autoResize!==!1&&i._expand([l],c)}),this.postExecuted(["elements.move"],function(o){var s=o.context,a=HE(Ov(s.closure.topLevel)),l=s.hints,c=l?l.autoResize:!0;if(c!==!1){var u=vc(a,function(d){return d.parent.id});ee(u,function(d,f){Fe(c)&&(d=d.filter(function(h){return Ge(c,io({id:h.id}))})),i._expand(d,f)})}}),this.postExecuted(["shape.toggleCollapse"],function(o){var s=o.context,a=s.hints,l=s.shape;a&&a.autoResize===!1||l.collapsed||i._expand(l.children||[],l)}),this.postExecuted(["shape.resize"],function(o){var s=o.context,a=s.hints,l=s.shape,c=l.parent;a&&a.autoResize===!1||c&&i._expand([l],c)})}Us.$inject=["eventBus","elementRegistry","modeling","rules"];Oe(Us,xe);Us.prototype._getOptimalBounds=function(t,e){var n=this.getOffset(e),r=this.getPadding(e),i=De(Cn(t)),o=De(e),s={};return i.top-o.top<r.top&&(s.top=i.top-n.top),i.left-o.left<r.left&&(s.left=i.left-n.left),o.right-i.right<r.right&&(s.right=i.right+n.right),o.bottom-i.bottom<r.bottom&&(s.bottom=i.bottom+n.bottom),Mv(re({},o,s))};Us.prototype._expand=function(t,e){typeof e=="string"&&(e=this._elementRegistry.get(e));var n=this._rules.allowed("element.autoResize",{elements:t,target:e});if(n){var r=this._getOptimalBounds(t,e);if(rfe(r,e)){var i=ife(Ii(e,["x","y","width","height"]),r);this.resize(e,r,{autoResize:i});var o=e.parent;o&&this._expand([e],o)}}};Us.prototype.getOffset=function(t){return{top:60,bottom:60,left:100,right:100}};Us.prototype.getPadding=function(t){return{top:2,bottom:2,left:15,right:15}};Us.prototype.resize=function(t,e,n){this._modeling.resizeShape(t,e,null,n)};function rfe(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function ife(t,e){var n="";return t=De(t),e=De(e),t.top>e.top&&(n=n.concat("n")),t.right<e.right&&(n=n.concat("w")),t.bottom<e.bottom&&(n=n.concat("s")),t.left>e.left&&(n=n.concat("e")),n}function Yv(t){t.invoke(Us,this)}Yv.$inject=["injector"];Oe(Yv,Us);Yv.prototype.resize=function(t,e,n){$(t,"bpmn:Participant")?this._modeling.resizeLane(t,e,null,n):this._modeling.resizeShape(t,e,null,n)};function Ph(t){Nr.call(this,t);var e=this;this.addRule("element.autoResize",function(n){return e.canResize(n.elements,n.target)})}Ph.$inject=["eventBus"];Oe(Ph,Nr);Ph.prototype.canResize=function(t,e){return!1};function Qv(t,e){Ph.call(this,t),this._modeling=e}Oe(Qv,Ph);Qv.$inject=["eventBus","modeling"];Qv.prototype.canResize=function(t,e){if($(e.di,"bpmndi:BPMNPlane")||!$(e,"bpmn:Participant")&&!$(e,"bpmn:Lane")&&!$(e,"bpmn:SubProcess"))return!1;var n=!0;return ee(t,function(r){if($(r,"bpmn:Lane")||ht(r)){n=!1;return}}),n};const ofe={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Yv],bpmnAutoResizeProvider:["type",Qv]};var GR=1500;function FH(t,e,n){var r=this,i=n.get("dragging",!1);function o(s){if(!s.hover){var a=s.originalEvent,l=r._findTargetGfx(a),c=l&&t.get(l);l&&c&&(s.stopPropagation(),i.hover({element:c,gfx:l}),i.move(a))}}i&&e.on("drag.start",function(s){e.once("drag.move",GR,function(a){o(a)})}),function(){var s,a;e.on("element.hover",function(l){s=l.gfx,a=l.element}),e.on("element.hover",GR,function(l){a&&e.fire("element.out",{element:a,gfx:s})}),e.on("element.out",function(){s=null,a=null})}(),this._findTargetGfx=function(s){var a,l;if(s instanceof MouseEvent)return a=ic(s),l=document.elementFromPoint(a.x,a.y),sfe(l)}}FH.$inject=["elementRegistry","eventBus","injector"];function sfe(t){return Mr(t,"svg, .djs-element",!0)}const afe={__init__:["hoverFix"],hoverFix:["type",FH]};var Wc=Math.round,KR="djs-drag-active";function ml(t){t.preventDefault()}function lfe(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function cfe(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function zH(t,e,n,r){var i={threshold:5,trapClick:!0},o;function s(_){var b=e.viewbox(),x=e._container.getBoundingClientRect();return{x:b.x+(_.x-x.left)/b.scale,y:b.y+(_.y-x.top)/b.scale}}function a(_,b){b=b||o;var x=t.createEvent(re({},b.payload,b.data,{isTouch:b.isTouch}));return t.fire("drag."+_,x)===!1?!1:t.fire(b.prefix+"."+_,x)}function l(_){var b=_.filter(function(x){return r.get(x.id)});b.length&&n.select(b)}function c(_,b){var x=o.payload,w=o.displacement,E=o.globalStart,S=ic(_),k=oo(S,E),I=o.localStart,M=s(S),R=oo(M,I);if(!o.active&&(b||cfe(k)>o.threshold)){if(re(x,{x:Wc(I.x+w.x),y:Wc(I.y+w.y),dx:0,dy:0},{originalEvent:_}),a("start")===!1)return g();o.active=!0,o.keepSelection||(x.previousSelection=n.get(),n.select(null)),o.cursor&&qv(o.cursor),e.addMarker(e.getRootElement(),KR)}f3(_),o.active&&(re(x,{x:Wc(M.x+w.x),y:Wc(M.y+w.y),dx:Wc(R.x),dy:Wc(R.y)},{originalEvent:_}),a("move"))}function u(_){var b,x=!0;o.active&&(_&&(o.payload.originalEvent=_,f3(_)),x=a("end")),x===!1&&a("rejected"),b=v(x!==!0),a("ended",b)}function d(_){$n("Escape",_)&&(ml(_),g())}function f(_){var b;o.active&&(b=sH(t),setTimeout(b,400),ml(_)),u(_)}function h(_){c(_)}function p(_){var b=o.payload;b.hoverGfx=_.gfx,b.hover=_.element,a("hover")}function m(_){a("out");var b=o.payload;b.hoverGfx=null,b.hover=null}function g(_){var b;if(o){var x=o.active;x&&a("cancel"),b=v(_),x&&a("canceled",b)}}function v(_){var b,x;a("cleanup"),oH(),o.trapClick?x=f:x=u,Be.unbind(document,"mousemove",c),Be.unbind(document,"dragstart",ml),Be.unbind(document,"selectstart",ml),Be.unbind(document,"mousedown",x,!0),Be.unbind(document,"mouseup",x,!0),Be.unbind(document,"keyup",d),Be.unbind(document,"touchstart",h,!0),Be.unbind(document,"touchcancel",g,!0),Be.unbind(document,"touchmove",c,!0),Be.unbind(document,"touchend",u,!0),t.off("element.hover",p),t.off("element.out",m),e.removeMarker(e.getRootElement(),KR);var w=o.payload.previousSelection;return _!==!1&&w&&!n.get().length&&l(w),b=o,o=null,b}function y(_,b,x,w){o&&g(!1),typeof b=="string"&&(w=x,x=b,b=null),w=re({},i,w||{});var E=w.data||{},S,k,I,M,R;w.trapClick?M=f:M=u,_?(S=Cu(_)||_,k=ic(_),f3(_),S.type==="dragstart"&&ml(S)):(S=null,k={x:0,y:0}),I=s(k),b||(b=I),R=lfe(S),o=re({prefix:x,data:E,payload:{},globalStart:k,displacement:oo(b,I),localStart:I,isTouch:R},w),w.manual||(R?(Be.bind(document,"touchstart",h,!0),Be.bind(document,"touchcancel",g,!0),Be.bind(document,"touchmove",c,!0),Be.bind(document,"touchend",u,!0)):(Be.bind(document,"mousemove",c),Be.bind(document,"dragstart",ml),Be.bind(document,"selectstart",ml),Be.bind(document,"mousedown",M,!0),Be.bind(document,"mouseup",M,!0)),Be.bind(document,"keyup",d),t.on("element.hover",p),t.on("element.out",m)),a("init"),w.autoActivate&&c(_,!0)}t.on("diagram.destroy",g),this.init=y,this.move=c,this.hover=p,this.out=m,this.end=u,this.cancel=g,this.context=function(){return o},this.setOptions=function(_){re(i,_)}}zH.$inject=["eventBus","canvas","selection","elementRegistry"];const Ws={__depends__:[afe,$r],dragging:["type",zH]};function Au(t,e,n){this._canvas=n,this._opts=re({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var r=this;e.on("drag.move",function(i){var o=r._toBorderPoint(i);r.startScroll(o)}),e.on(["drag.cleanup"],function(){r.stopScroll()})}Au.$inject=["config.autoScroll","eventBus","canvas"];Au.prototype.startScroll=function(t){var e=this._canvas,n=this._opts,r=this,i=e.getContainer().getBoundingClientRect(),o=[t.x,t.y,i.width-t.x,i.height-t.y];this.stopScroll();for(var s=0,a=0,l=0;l<4;l++)ufe(o[l],n.scrollThresholdOut[l],n.scrollThresholdIn[l])&&(l===0?s=n.scrollStep:l==1?a=n.scrollStep:l==2?s=-n.scrollStep:l==3&&(a=-n.scrollStep));(s!==0||a!==0)&&(e.scroll({dx:s,dy:a}),this._scrolling=setTimeout(function(){r.startScroll(t)},n.scrollRepeatTimeout))};function ufe(t,e,n){return e<t&&t<n}Au.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Au.prototype.setOptions=function(t){this._opts=re({},this._opts,t)};Au.prototype._toBorderPoint=function(t){var e=this._canvas._container.getBoundingClientRect(),n=ic(t.originalEvent);return{x:n.x-e.left,y:n.y-e.top}};const qH={__depends__:[Ws],__init__:["autoScroll"],autoScroll:["type",Au]};function ES(t){this._commandStack=t.get("commandStack",!1)}ES.$inject=["injector"];ES.prototype.allowed=function(t,e){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(t,e)),n===void 0?!0:n};const qi={__init__:["rules"],rules:["type",ES]};var Xp=Math.round,dfe=Math.max;function ffe(t,e){var n=t.x,r=t.y;return[["M",n,r],["m",0,-10],["a",e,e,0,1,1,0,2*e],["a",e,e,0,1,1,0,-2*e],["z"]]}function hfe(t){var e=[];return t.forEach(function(n,r){e.push([r===0?"M":"L",n.x,n.y])}),e}var VH=10;function pfe(t,e){var n,r;for(n=0;r=t[n];n++)if(vh(r,e)<=VH)return{point:t[n],bendpoint:!0,index:n};return null}function mfe(t,e){var n=iV(ffe(e,VH),hfe(t)),r=n[0],i=n[n.length-1],o;return r?r!==i?r.segment2!==i.segment2?(o=dfe(r.segment2,i.segment2)-1,{point:t[o],bendpoint:!0,index:o}):{point:{x:Xp(r.x+i.x)/2,y:Xp(r.y+i.y)/2},index:r.segment2}:{point:{x:Xp(r.x),y:Xp(r.y)},index:r.segment2}:null}function Vx(t,e){return pfe(t,e)||mfe(t,e)}function HH(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function XR(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function gfe(t,e){return e?{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}:t}function vfe(t,e,n){var r=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],i=r[0].n*e[0]+r[1].n*e[1],o=r[0].lambda*e[0]+r[1].lambda*e[1];return-i/o}function SS(t,e){var n=e[0],r=e[1],i={x:r.x-n.x,y:r.y-n.y},o=vfe([n.x,n.y],[i.x,i.y],[t.x,t.y]);return{x:n.x+o*i.x,y:n.y+o*i.y}}function UH(t,e){var n=SS(t,e),r={x:n.x-t.x,y:n.y-t.y};return HH(r)}function Cg(t,e){return HH({x:t.x-e.x,y:t.y-e.y})}var WH="djs-bendpoint",GH="djs-segment-dragger";function yfe(t,e){var n=ic(e),r=t._container.getBoundingClientRect(),i;i={x:r.left,y:r.top};var o=t.viewbox();return{x:o.x+(n.x-i.x)/o.scale,y:o.y+(n.y-i.y)/o.scale}}function Hx(t,e,n){var r=yfe(t,n),i=Vx(e,r);return i}function Ux(t,e){var n=Me("g");dt(n).add(WH),Ve(t,n);var r=Me("circle");Ce(r,{cx:0,cy:0,r:4}),dt(r).add("djs-visual"),Ve(n,r);var i=Me("circle");return Ce(i,{cx:0,cy:0,r:10}),dt(i).add("djs-hit"),Ve(n,i),e&&dt(n).add(e),n}function bfe(t,e,n,r){var i=Me("g");Ve(t,i);var o=18,s=6,a=11,l=xfe(e,n,r),c=s+a,u=Me("rect");Ce(u,{x:-18/2,y:-6/2,width:o,height:s}),dt(u).add("djs-visual"),Ve(i,u);var d=Me("rect");return Ce(d,{x:-l/2,y:-17/2,width:l,height:c}),dt(d).add("djs-hit"),Ve(i,d),yV(i,r==="v"?90:0),i}function KH(t,e,n){var r=Me("g"),i=Px(e,n),o=ys(e,n);return Ve(t,r),bfe(r,e,n,o),dt(r).add(GH),dt(r).add(o==="h"?"horizontal":"vertical"),Hn(r,i.x,i.y),r}function Wx(t){return Math.abs(Math.round(t*2/3))}function _fe(t,e){var n=wfe(t,e);return SS(t,n)}function xfe(t,e,n){var r=e.x-t.x,i=e.y-t.y;return Wx(n==="h"?r:i)}function wfe(t,e){for(var n=e.waypoints,r=1/0,i,o=0;o<n.length-1;o++){var s=n[o],a=n[o+1],l=UH(t,[s,a]);l<r&&(r=l,i=o)}return[n[i],n[i+1]]}function XH(t,e,n,r,i){function o(_,b,x){var w=_.index,E=_.point,S,k,I,M,R,D;return w<=0||_.bendpoint?!1:(S=b[w-1],k=b[w],I=Px(S,k),M=ys(S,k),R=Math.abs(E.x-I.x),D=Math.abs(E.y-I.y),M&&R<=x&&D<=x)}function s(_,b){var x=_.waypoints,w,E,S,k;return b.index<=0||b.bendpoint||(w={start:x[b.index-1],end:x[b.index]},E=ys(w.start,w.end),!E)?null:(E==="h"?S=w.end.x-w.start.x:S=w.end.y-w.start.y,k=Wx(S)/2,k)}function a(_,b){var x=b.waypoints,w=Hx(e,x,_),E;if(w)return E=s(b,w),o(w,x,E)?i.start(_,b,w.index):r.start(_,b,w.index,!w.bendpoint),!0}function l(_,b,x){Be.bind(_,b,function(w){n.triggerMouseEvent(b,w,x),w.stopPropagation()})}function c(_,b){var x=e.getLayer("overlays"),w=Ue('.djs-bendpoints[data-element-id="'+jf(_.id)+'"]',x);return!w&&b&&(w=Me("g"),Ce(w,{"data-element-id":_.id}),dt(w).add("djs-bendpoints"),Ve(x,w),l(w,"mousedown",_),l(w,"click",_),l(w,"dblclick",_)),w}function u(_,b){return Ue('.djs-segment-dragger[data-segment-idx="'+_+'"]',b)}function d(_,b){b.waypoints.forEach(function(x,w){var E=Ux(_);Ve(_,E),Hn(E,x.x,x.y)}),Ux(_,"floating")}function f(_,b){for(var x=b.waypoints,w,E,S,k=1;k<x.length;k++)w=x[k-1],E=x[k],ys(w,E)&&(S=KH(_,w,E),Ce(S,{"data-segment-idx":k}),l(S,"mousemove",b))}function h(_){ee(Ko("."+WH,_),function(b){Sn(b)})}function p(_){ee(Ko("."+GH,_),function(b){Sn(b)})}function m(_){var b=c(_);return b||(b=c(_,!0),d(b,_),f(b,_)),b}function g(_){var b=c(_);b&&(p(b),h(b),f(b,_),d(b,_))}function v(_,b){var x=Ue(".floating",_),w=b.point;x&&Hn(x,w.x,w.y)}function y(_,b,x){var w=u(b.index,_),E=x[b.index-1],S=x[b.index],k=b.point,I=Px(E,S),M=ys(E,S),R,D;w&&(R=Efe(w),D={x:k.x-I.x,y:k.y-I.y},M==="v"&&(D={x:D.y,y:D.x}),Hn(R,D.x,D.y))}t.on("connection.changed",function(_){g(_.element)}),t.on("connection.remove",function(_){var b=c(_.element);b&&Sn(b)}),t.on("element.marker.update",function(_){var b=_.element,x;b.waypoints&&(x=m(b),_.add?dt(x).add(_.marker):dt(x).remove(_.marker))}),t.on("element.mousemove",function(_){var b=_.element,x=b.waypoints,w,E;if(x){if(w=c(b,!0),E=Hx(e,x,_.originalEvent),!E)return;v(w,E),E.bendpoint||y(w,E,x)}}),t.on("element.mousedown",function(_){if(Ua(_)){var b=_.originalEvent,x=_.element;if(x.waypoints)return a(b,x)}}),t.on("selection.changed",function(_){var b=_.newSelection,x=b[0];x&&x.waypoints&&m(x)}),t.on("element.hover",function(_){var b=_.element;b.waypoints&&(m(b),n.registerEvent(_.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(_){n.unregisterEvent(_.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(_){var b=_.element,x=_.newId;if(b.waypoints){var w=c(b);w&&Ce(w,{"data-element-id":x})}}),this.addHandles=m,this.updateHandles=g,this.getBendpointsContainer=c,this.getSegmentDragger=u}XH.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function Efe(t){return Ue(".djs-visual",t)}var YR=Math.round,kl="reconnectStart",Ol="reconnectEnd",bd="updateWaypoints";function CS(t,e,n,r,i,o){this._injector=t,this.start=function(s,a,l,c){var u=n.getGraphics(a),d=a.source,f=a.target,h=a.waypoints,p;!c&&l===0?p=kl:!c&&l===h.length-1?p=Ol:p=bd;var m=p===bd?"connection.updateWaypoints":"connection.reconnect",g=i.allowed(m,{connection:a,source:d,target:f});g===!1&&(g=i.allowed(m,{connection:a,source:f,target:d})),g!==!1&&r.init(s,"bendpoint.move",{data:{connection:a,connectionGfx:u,context:{allowed:g,bendpointIndex:l,connection:a,source:d,target:f,insert:c,type:p}}})},e.on("bendpoint.move.hover",function(s){var a=s.context,l=a.connection,c=l.source,u=l.target,d=s.hover,f=a.type;a.hover=d;var h;if(d){var p=f===bd?"connection.updateWaypoints":"connection.reconnect";if(h=a.allowed=i.allowed(p,{connection:l,source:f===kl?d:c,target:f===Ol?d:u}),h){a.source=f===kl?d:c,a.target=f===Ol?d:u;return}h===!1&&(h=a.allowed=i.allowed(p,{connection:l,source:f===Ol?d:u,target:f===kl?d:c})),h&&(a.source=f===Ol?d:u,a.target=f===kl?d:c)}}),e.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(s){var a=s.context,l=a.type;a.hover=null,a.source=null,a.target=null,l!==bd&&(a.allowed=!1)}),e.on("bendpoint.move.end",function(s){var a=s.context,l=a.allowed,c=a.bendpointIndex,u=a.connection,d=a.insert,f=u.waypoints.slice(),h=a.source,p=a.target,m=a.type,g=a.hints||{},v={x:YR(s.x),y:YR(s.y)};if(!l)return!1;m===bd?(d?f.splice(c,0,v):f[c]=v,g.bendpointMove={insert:d,bendpointIndex:c},f=this.cropWaypoints(u,f),o.updateWaypoints(u,kle(f),g)):(m===kl?(g.docking="source",kg(a)&&(g.docking="target",g.newWaypoints=f.reverse())):m===Ol&&(g.docking="target",kg(a)&&(g.docking="source",g.newWaypoints=f.reverse())),o.reconnect(u,h,p,v,g))},this)}CS.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];CS.prototype.cropWaypoints=function(t,e){var n=this._injector.get("connectionDocking",!1);if(!n)return e;var r=t.waypoints;return t.waypoints=e,t.waypoints=n.getCroppedWaypoints(t),e=t.waypoints,t.waypoints=r,e};function kg(t){var e=t.hover,n=t.source,r=t.target,i=t.type;if(i===kl)return e&&r&&e===r&&n!==r;if(i===Ol)return e&&n&&e===n&&n!==r}var Sfe="reconnectStart",Cfe="reconnectEnd",QR="updateWaypoints",_d="connect-ok",Yp="connect-not-ok",ZR="connect-hover",JR="djs-updating",eP="djs-dragging",tP=1100;function YH(t,e,n,r){this._injector=e;var i=e.get("connectionPreview",!1);n.on("bendpoint.move.start",function(o){var s=o.context,a=s.bendpointIndex,l=s.connection,c=s.insert,u=l.waypoints,d=u.slice();s.waypoints=u,c&&d.splice(a,0,{x:o.x,y:o.y}),l.waypoints=d;var f=s.draggerGfx=Ux(r.getLayer("overlays"));dt(f).add("djs-dragging"),r.addMarker(l,eP),r.addMarker(l,JR)}),n.on("bendpoint.move.hover",function(o){var s=o.context,a=s.allowed,l=s.hover,c=s.type;if(l){if(r.addMarker(l,ZR),c===QR)return;a?(r.removeMarker(l,Yp),r.addMarker(l,_d)):a===!1&&(r.removeMarker(l,_d),r.addMarker(l,Yp))}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],tP,function(o){var s=o.context,a=s.hover,l=s.target;a&&(r.removeMarker(a,ZR),r.removeMarker(a,l?_d:Yp))}),n.on("bendpoint.move.move",function(o){var s=o.context,a=s.allowed,l=s.bendpointIndex,c=s.draggerGfx,u=s.hover,d=s.type,f=s.connection,h=f.source,p=f.target,m=f.waypoints.slice(),g={x:o.x,y:o.y},v=s.hints||{},y={};i&&(v.connectionStart&&(y.connectionStart=v.connectionStart),v.connectionEnd&&(y.connectionEnd=v.connectionEnd),d===Sfe?kg(s)?(y.connectionEnd=y.connectionEnd||g,y.source=p,y.target=u||h,m=m.reverse()):(y.connectionStart=y.connectionStart||g,y.source=u||h,y.target=p):d===Cfe?kg(s)?(y.connectionStart=y.connectionStart||g,y.source=u||p,y.target=h,m=m.reverse()):(y.connectionEnd=y.connectionEnd||g,y.source=h,y.target=u||p):(y.noCropping=!0,y.noLayout=!0,m[l]=g),d===QR&&(m=t.cropWaypoints(f,m)),y.waypoints=m,i.drawPreview(s,a,y)),Hn(c,o.x,o.y)},this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],tP,function(o){var s=o.context,a=s.connection,l=s.draggerGfx,c=s.hover,u=s.target,d=s.waypoints;a.waypoints=d,Sn(l),r.removeMarker(a,JR),r.removeMarker(a,eP),c&&(r.removeMarker(c,_d),r.removeMarker(c,u?_d:Yp)),i&&i.cleanUp(s)})}YH.$inject=["bendpointMove","injector","eventBus","canvas"];var nP="connect-hover",rP="djs-updating";function iP(t,e,n){return kS(t,e,t[e]+n)}function kS(t,e,n){return{x:e==="x"?n:t.x,y:e==="y"?n:t.y}}function kfe(t,e,n,r){var i=Math.max(e[r],n[r]),o=Math.min(e[r],n[r]),s=20,a=Math.min(Math.max(o+s,t[r]),i-s);return kS(e,r,a)}function QH(t){return t==="x"?"y":"x"}function oP(t,e,n){var r,i;return t.original?t.original:(r=Le(e),i=QH(n),kS(t,i,r[i]))}function ZH(t,e,n,r,i,o){var s=t.get("connectionDocking",!1);this.start=function(d,f,h){var p,m=n.getGraphics(f),g=h-1,v=h,y=f.waypoints,_=y[g],b=y[v],x=Hx(n,y,d),w,E,S;w=ys(_,b),w&&(E=w==="v"?"x":"y",g===0&&(_=oP(_,f.source,E)),v===y.length-1&&(b=oP(b,f.target,E)),x?S=x.point:S={x:(_.x+b.x)/2,y:(_.y+b.y)/2},p={connection:f,segmentStartIndex:g,segmentEndIndex:v,segmentStart:_,segmentEnd:b,axis:E,dragPosition:S},r.init(d,S,"connectionSegment.move",{cursor:E==="x"?"resize-ew":"resize-ns",data:{connection:f,connectionGfx:m,context:p}}))};function a(d,f){if(!s)return f;var h=d.waypoints,p;return d.waypoints=f,p=s.getCroppedWaypoints(d),d.waypoints=h,p}function l(d){i.update("connection",d.connection,d.connectionGfx)}function c(d,f,h){var p=d.newWaypoints,m=d.segmentStartIndex+f,g=p[m],v=d.segmentEndIndex+f,y=p[v],_=QH(d.axis),b=kfe(h,g,y,_);Hn(d.draggerGfx,b.x,b.y)}function u(d,f){var h=0,p=d.filter(function(m,g){return YE(d[g-1],d[g+1],m)?(h=g<=f?h-1:h,!1):!0});return{waypoints:p,segmentOffset:h}}e.on("connectionSegment.move.start",function(d){var f=d.context,h=d.connection,p=n.getLayer("overlays");f.originalWaypoints=h.waypoints.slice(),f.draggerGfx=KH(p,f.segmentStart,f.segmentEnd),dt(f.draggerGfx).add("djs-dragging"),n.addMarker(h,rP)}),e.on("connectionSegment.move.move",function(d){var f=d.context,h=f.connection,p=f.segmentStartIndex,m=f.segmentEndIndex,g=f.segmentStart,v=f.segmentEnd,y=f.axis,_=f.originalWaypoints.slice(),b=iP(g,y,d["d"+y]),x=iP(v,y,d["d"+y]),w=_.length,E=0;_[p]=b,_[m]=x;var S,k;p<2&&(S=Ft(h.source,b),p===1?S==="intersect"&&(_.shift(),_[0]=b,E--):S!=="intersect"&&(_.unshift(g),E++)),m>w-3&&(k=Ft(h.target,x),m===w-2?k==="intersect"&&(_.pop(),_[_.length-1]=x):k!=="intersect"&&_.push(v)),f.newWaypoints=h.waypoints=a(h,_),c(f,E,d),f.newSegmentStartIndex=p+E,l(d)}),e.on("connectionSegment.move.hover",function(d){d.context.hover=d.hover,n.addMarker(d.hover,nP)}),e.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(d){var f=d.context.hover;f&&n.removeMarker(f,nP)}),e.on("connectionSegment.move.cleanup",function(d){var f=d.context,h=f.connection;f.draggerGfx&&Sn(f.draggerGfx),n.removeMarker(h,rP)}),e.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(d){var f=d.context,h=f.connection;h.waypoints=f.originalWaypoints,l(d)}),e.on("connectionSegment.move.end",function(d){var f=d.context,h=f.connection,p=f.newWaypoints,m=f.newSegmentStartIndex;p=p.map(function(x){return{original:x.original,x:Math.round(x.x),y:Math.round(x.y)}});var g=u(p,m),v=g.waypoints,y=a(h,v),_=g.segmentOffset,b={segmentMove:{segmentStartIndex:f.segmentStartIndex,newSegmentStartIndex:m+_}};o.updateWaypoints(h,y,b)})}ZH.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Ofe=Math.abs,sP=Math.round;function Rfe(t,e,n){n=n===void 0?10:n;var r,i;for(r=0;r<e.length;r++)if(i=e[r],Ofe(i-t)<=n)return i}function JH(t){return{x:t.x,y:t.y}}function eU(t){return{x:t.x+t.width,y:t.y+t.height}}function Ci(t,e){return!t||isNaN(t.x)||isNaN(t.y)?e:{x:sP(t.x+t.width/2),y:sP(t.y+t.height/2)}}function B0(t,e){var n=t.snapped;return n?typeof e=="string"?n[e]:n.x&&n.y:!1}function mn(t,e,n){if(typeof e!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var r,i=t[e],o=t.snapped=t.snapped||{};return n===!1?o[e]=!1:(o[e]=!0,r=n-i,t[e]+=r,t["d"+e]+=r),i}function tU(t){return t.children||[]}var Pfe=Math.abs,aP=Math.round,v3=10;function nU(t){function e(o,s){if(Fe(o)){for(var a=o.length;a--;)if(Pfe(o[a]-s)<=v3)return o[a]}else{o=+o;var l=s%o;if(l<v3)return s-l;if(l>o-v3)return s-l+o}return s}function n(o,s){if(o.waypoints)return _fe(s,o);if(o.width)return{x:aP(o.width/2+o.x),y:aP(o.height/2+o.y)}}function r(o){var s=o.context,a=s.snapPoints,l=s.connection,c=l.waypoints,u=s.segmentStart,d=s.segmentStartIndex,f=s.segmentEnd,h=s.segmentEndIndex,p=s.axis;if(a)return a;var m=[c[d-1],u,f,c[h+1]];return d<2&&m.unshift(n(l.source,o)),h>c.length-3&&m.unshift(n(l.target,o)),s.snapPoints=a={horizontal:[],vertical:[]},ee(m,function(g){g&&(g=g.original||g,p==="y"&&a.horizontal.push(g.y),p==="x"&&a.vertical.push(g.x))}),a}t.on("connectionSegment.move.move",1500,function(o){var s=r(o),a=o.x,l=o.y,c,u;if(s){c=e(s.vertical,a),u=e(s.horizontal,l);var d=a-c,f=l-u;re(o,{dx:o.dx-d,dy:o.dy-f,x:c,y:u}),(d||s.vertical.indexOf(a)!==-1)&&mn(o,"x",c),(f||s.horizontal.indexOf(l)!==-1)&&mn(o,"y",u)}});function i(o){var s=o.snapPoints,a=o.connection.waypoints,l=o.bendpointIndex;if(s)return s;var c=[a[l-1],a[l+1]];return o.snapPoints=s={horizontal:[],vertical:[]},ee(c,function(u){u&&(u=u.original||u,s.horizontal.push(u.y),s.vertical.push(u.x))}),s}t.on(["connect.hover","connect.move","connect.end"],1500,function(o){var s=o.context,a=s.hover,l=a&&n(a,o);!Tt(a)||!l||!l.x||!l.y||(mn(o,"x",l.x),mn(o,"y",l.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(o){var s=o.context,a=i(s),l=s.hover,c=l&&n(l,o),u=o.x,d=o.y,f,h;if(a){f=e(c?a.vertical.concat([c.x]):a.vertical,u),h=e(c?a.horizontal.concat([c.y]):a.horizontal,d);var p=u-f,m=d-h;re(o,{dx:o.dx-p,dy:o.dy-m,x:o.x-p,y:o.y-m}),(p||a.vertical.indexOf(u)!==-1)&&mn(o,"x",f),(m||a.horizontal.indexOf(d)!==-1)&&mn(o,"y",h)}})}nU.$inject=["eventBus"];const rU={__depends__:[Ws,qi],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",XH],bendpointMove:["type",CS],bendpointMovePreview:["type",YH],connectionSegmentMove:["type",ZH],bendpointSnapping:["type",nU]};function iU(t,e,n,r){function i(s,a){return r.allowed("connection.create",{source:s,target:a})}function o(s,a){return i(a,s)}t.on("connect.hover",function(s){var a=s.context,l=a.start,c=s.hover,u;if(a.hover=c,u=a.canExecute=i(l,c),!A0(u)){if(u!==!1){a.source=l,a.target=c;return}u=a.canExecute=o(l,c),!A0(u)&&u!==!1&&(a.source=c,a.target=l)}}),t.on(["connect.out","connect.cleanup"],function(s){var a=s.context;a.hover=null,a.source=null,a.target=null,a.canExecute=!1}),t.on("connect.end",function(s){var a=s.context,l=a.canExecute,c=a.connectionStart,u={x:s.x,y:s.y},d=a.source,f=a.target;if(!l)return!1;var h=null,p={connectionStart:Gx(a)?u:c,connectionEnd:Gx(a)?c:u};On(l)&&(h=l),a.connection=n.connect(d,f,h,p)}),this.start=function(s,a,l,c){On(l)||(c=l,l=Le(a)),e.init(s,"connect",{autoActivate:c,data:{shape:a,context:{start:a,connectionStart:l}}})}}iU.$inject=["eventBus","dragging","modeling","rules"];function Gx(t){var e=t.hover,n=t.source,r=t.target;return e&&n&&e===n&&n!==r}var Afe=1100,Tfe=900,lP="connect-ok",cP="connect-not-ok";function oU(t,e,n){var r=t.get("connectionPreview",!1);r&&e.on("connect.move",function(i){var o=i.context,s=o.canExecute,a=o.hover,l=o.source,c=o.start,u=o.startPosition,d=o.target,f=o.connectionStart||u,h=o.connectionEnd||{x:i.x,y:i.y},p=f,m=h;Gx(o)&&(p=h,m=f),r.drawPreview(o,s,{source:l||c,target:d||a,connectionStart:p,connectionEnd:m})}),e.on("connect.hover",Tfe,function(i){var o=i.context,s=i.hover,a=o.canExecute;a!==null&&n.addMarker(s,a?lP:cP)}),e.on(["connect.out","connect.cleanup"],Afe,function(i){var o=i.hover;o&&(n.removeMarker(o,lP),n.removeMarker(o,cP))}),r&&e.on("connect.cleanup",function(i){r.cleanUp(i.context)})}oU.$inject=["injector","eventBus","canvas"];const Zv={__depends__:[$r,qi,Ws],__init__:["connectPreview"],connect:["type",iU],connectPreview:["type",oU]};var Ife="djs-dragger";function Gs(t,e,n,r){this._canvas=e,this._graphicsFactory=n,this._elementFactory=r,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}Gs.$inject=["injector","canvas","graphicsFactory","elementFactory"];Gs.prototype.drawPreview=function(t,e,n){n=n||{};var r=t.connectionPreviewGfx,i=t.getConnection,o=n.source,s=n.target,a=n.waypoints,l=n.connectionStart,c=n.connectionEnd,u=n.noLayout,d=n.noCropping,f=n.noNoop,h,p=this;if(r||(r=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Tv(r),i||(i=t.getConnection=Dfe(function(m,g,v){return p.getConnection(m,g,v)})),e&&(h=i(e,o,s)),!h){!f&&this.drawNoopPreview(r,n);return}h.waypoints=a||[],this._layouter&&!u&&(h.waypoints=this._layouter.layoutConnection(h,{source:o,target:s,connectionStart:l,connectionEnd:c,waypoints:n.waypoints||h.waypoints})),(!h.waypoints||!h.waypoints.length)&&(h.waypoints=[o?Le(o):l,s?Le(s):c]),this._connectionDocking&&(o||s)&&!d&&(h.waypoints=this._connectionDocking.getCroppedWaypoints(h,o,s)),this._graphicsFactory.drawConnection(r,h,{stroke:"var(--element-dragger-color)"})};Gs.prototype.drawNoopPreview=function(t,e){var n=e.source,r=e.target,i=e.connectionStart||Le(n),o=e.connectionEnd||Le(r),s=this.cropWaypoints(i,o,n,r),a=this.createNoopConnection(s[0],s[1]);Ve(t,a)};Gs.prototype.cropWaypoints=function(t,e,n,r){var i=this._graphicsFactory,o=n&&i.getShapePath(n),s=r&&i.getShapePath(r),a=i.getConnectionPath({waypoints:[t,e]});return t=n&&Tx(o,a,!0)||t,e=r&&Tx(s,a,!1)||e,[t,e]};Gs.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&Sn(t.connectionPreviewGfx)};Gs.prototype.getConnection=function(t){var e=Mfe(t);return this._elementFactory.createConnection(e)};Gs.prototype.createConnectionPreviewGfx=function(){var t=Me("g");return Ce(t,{pointerEvents:"none"}),dt(t).add(Ife),Ve(this._canvas.getActiveLayer(),t),t};Gs.prototype.createNoopConnection=function(t,e){return mh([t,e],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function Dfe(t){var e={};return function(n){var r=JSON.stringify(n),i=e[r];return i||(i=e[r]=t.apply(null,arguments)),i}}function Mfe(t){return On(t)?t:{}}const sU={__init__:["connectionPreview"],connectionPreview:["type",Gs]},$fe=new Sh("ps");var Nfe=["marker-start","marker-mid","marker-end"],Lfe=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Ga(t,e,n,r){this._elementRegistry=t,this._canvas=n,this._styles=r}Ga.$inject=["elementRegistry","eventBus","canvas","styles"];Ga.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")};Ga.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)};Ga.prototype.addDragger=function(t,e,n,r="djs-dragger"){n=n||this.getGfx(t);var i=Xq(n),o=n.getBoundingClientRect();return this._cloneMarkers(Gl(i),r),Ce(i,this._styles.cls(r,[],{x:o.top,y:o.left})),Ve(e,i),Ce(i,"data-preview-support-element-id",t.id),i};Ga.prototype.addFrame=function(t,e){var n=Me("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return Ve(e,n),Ce(n,"data-preview-support-element-id",t.id),n};Ga.prototype._cloneMarkers=function(t,e="djs-dragger",n=t){var r=this;t.childNodes&&t.childNodes.forEach(i=>{r._cloneMarkers(i,e,n)}),zfe(t)&&Nfe.forEach(function(i){if(Ce(t,i)){var o=jfe(t,i,r._canvas.getContainer());o&&r._cloneMarker(n,t,o,i,e)}})};Ga.prototype._cloneMarker=function(t,e,n,r,i="djs-dragger"){var o=[n.id,i,$fe.next()].join("-"),s=Ue("marker#"+n.id,t);t=t||this._canvas._svg;var a=s||Xq(n);a.id=o,dt(a).add(i);var l=Ue(":scope > defs",t);l||(l=Me("defs"),Ve(t,l)),Ve(l,a);var c=Ffe(a.id);Ce(e,r,c)};function jfe(t,e,n){var r=Bfe(Ce(t,e));return Ue("marker#"+r,n||document)}function Bfe(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function Ffe(t){return"url(#"+t+")"}function zfe(t){return Lfe.indexOf(t.nodeName)!==-1}const Tu={__init__:["previewSupport"],previewSupport:["type",Ga]},Qp="complex-preview";class aU{constructor(e,n,r){this._canvas=e,this._graphicsFactory=n,this._previewSupport=r,this._markers=[]}create(e){this.cleanUp();const{created:n=[],moved:r=[],removed:i=[],resized:o=[]}=e,s=this._canvas.getLayer(Qp);n.filter(a=>!qfe(a)).forEach(a=>{let l;Tt(a)?(l=this._graphicsFactory._createContainer("connection",Me("g")),this._graphicsFactory.drawConnection(Gl(l),a)):(l=this._graphicsFactory._createContainer("shape",Me("g")),this._graphicsFactory.drawShape(Gl(l),a),Hn(l,a.x,a.y)),this._previewSupport.addDragger(a,s,l)}),r.forEach(({element:a,delta:l})=>{this._previewSupport.addDragger(a,s,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"]);const c=this._previewSupport.addDragger(a,s);Tt(a)?Hn(c,l.x,l.y):Hn(c,a.x+l.x,a.y+l.y)}),i.forEach(a=>{this._previewSupport.addDragger(a,s,void 0,"djs-dragging"),this._canvas.addMarker(a,"djs-element-hidden"),this._markers.push([a,"djs-element-hidden"])}),o.forEach(({shape:a,bounds:l})=>{this._canvas.addMarker(a,"djs-hidden"),this._markers.push([a,"djs-hidden"]),this._previewSupport.addDragger(a,s,void 0,"djs-dragging");const c=this._graphicsFactory._createContainer("shape",Me("g"));this._graphicsFactory.drawShape(Gl(c),a,{width:l.width,height:l.height}),Hn(c,l.x,l.y),this._previewSupport.addDragger(a,s,c)})}cleanUp(){Tv(this._canvas.getLayer(Qp)),this._markers.forEach(([e,n])=>this._canvas.removeMarker(e,n)),this._markers=[]}show(){this._canvas.showLayer(Qp)}hide(){this._canvas.hideLayer(Qp)}}aU.$inject=["canvas","graphicsFactory","previewSupport"];function qfe(t){return t.hidden}const Vfe={__depends__:[Tu],__init__:["complexPreview"],complexPreview:["type",aU]};var OS=["top","bottom","left","right"],Zp=10;function RS(t,e){xe.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(i){var o=i.context,s=o.connection,a=s.source,l=s.target,c=o.hints||{};c.createElementsBehavior!==!1&&(n(a),n(l))}),this.postExecuted(["label.create"],function(i){var o=i.context,s=o.shape,a=o.hints||{};a.createElementsBehavior!==!1&&n(s.labelTarget)}),this.postExecuted(["elements.create"],function(i){var o=i.context,s=o.elements,a=o.hints||{};a.createElementsBehavior!==!1&&s.forEach(function(l){n(l)})});function n(i){if(jv(i)&&!Tt(i)){var o=Wfe(i);o&&r(i,o)}}function r(i,o){var s=Le(i),a=i.label,l=Le(a);if(a.parent){var c=De(i),u;switch(o){case"top":u={x:s.x,y:c.top-Zp-a.height/2};break;case"left":u={x:c.left-Zp-a.width/2,y:s.y};break;case"bottom":u={x:s.x,y:c.bottom+Zp+a.height/2};break;case"right":u={x:c.right+Zp+a.width/2,y:s.y};break}var d=oo(u,l);e.moveShape(a,d)}}}Oe(RS,xe);RS.$inject=["eventBus","modeling"];function Hfe(t){var e=t.host,n=Le(t),r=Ft(n,e),i;r.indexOf("-")>=0?i=r.split("-"):i=[r];var o=OS.filter(function(s){return i.indexOf(s)===-1});return o}function Ufe(t){var e=Le(t),n=[].concat(t.incoming.map(function(r){return r.waypoints[r.waypoints.length-2]}),t.outgoing.map(function(r){return r.waypoints[1]})).map(function(r){return lU(e,r)});return n}function Wfe(t){var e=Le(t.label),n=Le(t),r=lU(n,e);if(Gfe(r)){var i=Ufe(t);if(t.host){var o=Hfe(t);i=i.concat(o)}var s=OS.filter(function(a){return i.indexOf(a)===-1});if(s.indexOf(r)===-1)return s[0]}}function lU(t,e){return Ft(e,t,5)}function Gfe(t){return OS.indexOf(t)!==-1}function PS(t){xe.call(this,t),this.preExecute("shape.append",function(e){var n=e.source,r=e.shape;e.position||($(r,"bpmn:TextAnnotation")?e.position={x:n.x+n.width/2+75,y:n.y-50-r.height/2}:e.position={x:n.x+n.width+80+r.width/2,y:n.y+n.height/2})},!0)}Oe(PS,xe);PS.$inject=["eventBus"];function AS(t,e){t.invoke(xe,this),this.postExecute("shape.move",function(n){var r=n.newParent,i=n.shape,o=Xe(i.incoming.concat(i.outgoing),function(s){return $(s,"bpmn:Association")});ee(o,function(s){e.moveConnection(s,{x:0,y:0},r)})},!0)}Oe(AS,xe);AS.$inject=["injector","modeling"];var uP=500;function Jv(t,e){e.invoke(xe,this),this._bpmnReplace=t;var n=this;this.postExecuted("elements.create",uP,function(r){var i=r.elements;i=i.filter(function(o){var s=o.host;return dP(o,s)}),i.length===1&&i.map(function(o){return i.indexOf(o)}).forEach(function(o){var s=i[o];r.elements[o]=n._replaceShape(i[o],s)})},!0),this.preExecute("elements.move",uP,function(r){var i=r.shapes,o=r.newHost;if(i.length===1){var s=i[0];dP(s,o)&&(r.shapes=[n._replaceShape(s,o)])}},!0)}Jv.$inject=["bpmnReplace","injector"];Oe(Jv,xe);Jv.prototype._replaceShape=function(t,e){var n=Kfe(t),r={type:"bpmn:BoundaryEvent",host:e};return n&&(r.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(t,r,{layoutConnection:!1})};function Kfe(t){var e=ve(t),n=e.eventDefinitions;return n&&n[0]}function dP(t,e){return!ht(t)&&Qe(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!e}function TS(t,e){xe.call(this,t);function n(r){return Xe(r.attachers,function(i){return $(i,"bpmn:BoundaryEvent")})}this.postExecute("connection.create",function(r){var i=r.context.source,o=r.context.target,s=n(o);$(i,"bpmn:EventBasedGateway")&&$(o,"bpmn:ReceiveTask")&&s.length>0&&e.removeElements(s)}),this.postExecute("connection.reconnect",function(r){var i=r.context.oldSource,o=r.context.newSource;$(i,"bpmn:Gateway")&&$(o,"bpmn:EventBasedGateway")&&ee(o.outgoing,function(s){var a=s.target,l=n(a);$(a,"bpmn:ReceiveTask")&&l.length>0&&e.removeElements(l)})})}TS.$inject=["eventBus","modeling"];Oe(TS,xe);function IS(t,e,n){xe.call(this,t),this.preExecute("shape.replace",a,!0),this.postExecuted("shape.replace",l,!0),this.preExecute("connection.create",i,!0),this.postExecuted("connection.delete",r,!0),this.postExecuted("connection.reconnect",o,!0),this.postExecuted("element.updateProperties",s,!0);function r(g){const v=g.source,y=g.target;Gc(v)&&xd(y)&&u(y)}function i(g){const v=g.connection,y=g.source,_=g.target;Gc(y)&&Jp(_)&&(c(_),f(y,[v]))}function o(g){const v=g.newTarget,y=g.oldSource,_=g.oldTarget;if(_!==v){const b=y;xd(_)&&u(_),Gc(b)&&Jp(v)&&c(v)}}function s(g){const{element:v}=g;xd(v)?(d(v),h(v)):Jp(v)&&p(v)}function a(g){const{newData:v,oldShape:y}=g;if(Gc(g.oldShape)&&v.eventDefinitionType!=="bpmn:CompensateEventDefinition"||v.type!=="bpmn:BoundaryEvent"){const _=y.outgoing.find(({target:b})=>xd(b));_&&_.target&&(g._connectionTarget=_.target)}else if(!Gc(g.oldShape)&&v.eventDefinitionType==="bpmn:CompensateEventDefinition"&&v.type==="bpmn:BoundaryEvent"){const _=y.outgoing.find(({target:b})=>Jp(b));_&&_.target&&(g._connectionTarget=_.target),m(y)}}function l(g){const{_connectionTarget:v,newShape:y}=g;v&&e.connect(y,v)}function c(g){e.updateProperties(g,{isForCompensation:!0})}function u(g){e.updateProperties(g,{isForCompensation:void 0})}function d(g){for(const v of g.incoming)n.canConnect(v.source,g)||e.removeConnection(v);for(const v of g.outgoing)n.canConnect(g,v.target)||e.removeConnection(v)}function f(g,v){g.outgoing.filter(b=>$(b,"bpmn:Association")).filter(b=>xd(b.target)&&!v.includes(b)).forEach(b=>e.removeConnection(b))}function h(g){const v=g.attachers.slice();v.length&&e.removeElements(v)}function p(g){const v=g.incoming.filter(y=>Gc(y.source));e.removeElements(v)}function m(g){const v=g.outgoing.filter(y=>$(y,"bpmn:SequenceFlow"));e.removeElements(v)}}Oe(IS,xe);IS.$inject=["eventBus","modeling","bpmnRules"];function xd(t){const e=ve(t);return e&&e.get("isForCompensation")}function Gc(t){return t&&$(t,"bpmn:BoundaryEvent")&&Eu(t,"bpmn:CompensateEventDefinition")}function Jp(t){return t&&$(t,"bpmn:Activity")&&!Un(t)}function DS(t){t.invoke(xe,this),this.preExecute("shape.create",1500,function(e){var n=e.context,r=n.parent,i=n.shape;$(r,"bpmn:Lane")&&!$(i,"bpmn:Lane")&&(n.parent=j0(r,"bpmn:Participant"))})}DS.$inject=["injector"];Oe(DS,xe);function MS(t,e){xe.call(this,t),this.preExecute("shape.create",function(n){var r=n.context,i=r.shape;if($(i,"bpmn:DataObjectReference")&&i.type!=="label"){var o=e.create("bpmn:DataObject");i.businessObject.dataObjectRef=o}})}MS.$inject=["eventBus","bpmnFactory"];Oe(MS,xe);var Kx=20,Xx=20,cU=30,e1=2e3;function $S(t,e,n){xe.call(this,e),e.on(["create.start","shape.move.start"],e1,function(i){var o=i.context,s=o.shape,a=t.getRootElement();if(!(!$(s,"bpmn:Participant")||!$(a,"bpmn:Process")||!a.children.length)){var l=a.children.filter(function(d){return!$(d,"bpmn:Group")&&!ht(d)&&!Tt(d)});if(l.length){var c=Cn(l),u=Xfe(s,c);re(s,u),o.createConstraints=Yfe(s,c)}}}),e.on("create.start",e1,function(i){var o=i.context,s=o.shape,a=t.getRootElement(),l=t.getGraphics(a);function c(u){u.element=a,u.gfx=l}$(s,"bpmn:Participant")&&$(a,"bpmn:Process")&&(e.on("element.hover",e1,c),e.once("create.cleanup",function(){e.off("element.hover",c)}))});function r(){var i=t.getRootElement();return $(i,"bpmn:Collaboration")?i:n.makeCollaboration()}this.preExecute("elements.create",e1,function(i){var o=i.elements,s=i.parent,a=Qfe(o),l;a&&$(s,"bpmn:Process")&&(i.parent=r(),l=i.hints=i.hints||{},l.participant=a,l.process=s,l.processRef=ve(a).get("processRef"))},!0),this.preExecute("shape.create",function(i){var o=i.parent,s=i.shape;$(s,"bpmn:Participant")&&$(o,"bpmn:Process")&&(i.parent=r(),i.process=o,i.processRef=ve(s).get("processRef"))},!0),this.execute("shape.create",function(i){var o=i.hints||{},s=i.process||o.process,a=i.shape,l=o.participant;s&&(!l||a===l)&&ve(a).set("processRef",ve(s))},!0),this.revert("shape.create",function(i){var o=i.hints||{},s=i.process||o.process,a=i.processRef||o.processRef,l=i.shape,c=o.participant;s&&(!c||l===c)&&ve(l).set("processRef",a)},!0),this.postExecute("shape.create",function(i){var o=i.hints||{},s=i.process||i.hints.process,a=i.shape,l=o.participant;if(s){var c=s.children.slice();l?a===l&&n.moveElements(c,{x:0,y:0},l):n.moveElements(c,{x:0,y:0},a)}},!0)}$S.$inject=["canvas","eventBus","modeling"];Oe($S,xe);function Xfe(t,e){e={width:e.width+Kx*2+cU,height:e.height+Xx*2};var n=Math.max(t.width,e.width),r=Math.max(t.height,e.height);return{x:-n/2,y:-r/2,width:n,height:r}}function Yfe(t,e){return e=De(e),{bottom:e.top+t.height/2-Xx,left:e.right-t.width/2+Kx,top:e.bottom-t.height/2+Xx,right:e.left+t.width/2-Kx-cU}}function Qfe(t){return Ge(t,function(e){return $(e,"bpmn:Participant")})}var fP="__targetRef_placeholder";function NS(t,e){xe.call(this,t),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],hP(o)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],hP(o));function n(s,a,l){var c=s.get("dataInputAssociations");return Ge(c,function(u){return u!==l&&u.targetRef===a})}function r(s,a){var l=s.get("properties"),c=Ge(l,function(u){return u.name===fP});return!c&&a&&(c=e.create("bpmn:Property",{name:fP}),un(l,c)),c}function i(s,a){var l=r(s);l&&(n(s,l,a)||nn(s.get("properties"),l))}function o(s){var a=s.context,l=a.connection,c=l.businessObject,u=l.target,d=u&&u.businessObject,f=a.newTarget,h=f&&f.businessObject,p=a.oldTarget||a.target,m=p&&p.businessObject,g=l.businessObject,v;m&&m!==d&&i(m,c),h&&h!==d&&i(h,c),d?(v=r(d,!0),g.targetRef=v):g.targetRef=null}}NS.$inject=["eventBus","bpmnFactory"];Oe(NS,xe);function hP(t){return function(e){var n=e.context,r=n.connection;if($(r,"bpmn:DataInputAssociation"))return t(e)}}function e2(t){this._bpmnUpdater=t}e2.$inject=["bpmnUpdater"];e2.prototype.execute=function(t){var e=t.dataStoreBo,n=t.dataStoreDi,r=t.newSemanticParent,i=t.newDiParent;return t.oldSemanticParent=e.$parent,t.oldDiParent=n.$parent,this._bpmnUpdater.updateSemanticParent(e,r),this._bpmnUpdater.updateDiParent(n,i),[]};e2.prototype.revert=function(t){var e=t.dataStoreBo,n=t.dataStoreDi,r=t.oldSemanticParent,i=t.oldDiParent;return this._bpmnUpdater.updateSemanticParent(e,r),this._bpmnUpdater.updateDiParent(n,i),[]};function LS(t,e,n,r){xe.call(this,r),e.registerHandler("dataStore.updateContainment",e2);function i(){return n.filter(function(a){return $(a,"bpmn:Participant")&&ve(a).processRef})[0]}function o(a){return a.children.filter(function(l){return $(l,"bpmn:DataStoreReference")&&!l.labelTarget})}function s(a,l){var c=a.businessObject||a;if(l=l||i(),l){var u=l.businessObject||l;e.execute("dataStore.updateContainment",{dataStoreBo:c,dataStoreDi:ft(a),newSemanticParent:u.processRef||u,newDiParent:ft(l)})}}this.preExecute("shape.create",function(a){var l=a.context,c=l.shape;$(c,"bpmn:DataStoreReference")&&c.type!=="label"&&(l.hints||(l.hints={}),l.hints.autoResize=!1)}),this.preExecute("elements.move",function(a){var l=a.context,c=l.shapes,u=c.filter(function(d){return $(d,"bpmn:DataStoreReference")});u.length&&(l.hints||(l.hints={}),l.hints.autoResize=c.filter(function(d){return!$(d,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(a){var l=a.context,c=l.shape,u=c.parent;$(c,"bpmn:DataStoreReference")&&c.type!=="label"&&$(u,"bpmn:Collaboration")&&s(c)}),this.postExecute("shape.move",function(a){var l=a.context,c=l.shape,u=l.oldParent,d=c.parent;if(!$(u,"bpmn:Collaboration")&&$(c,"bpmn:DataStoreReference")&&c.type!=="label"&&$(d,"bpmn:Collaboration")){var f=$(u,"bpmn:Participant")?u:Jfe(u,"bpmn:Participant");s(c,f)}}),this.postExecute("shape.delete",function(a){var l=a.context,c=l.shape,u=t.getRootElement();Qe(c,["bpmn:Participant","bpmn:SubProcess"])&&$(u,"bpmn:Collaboration")&&o(u).filter(function(d){return Zfe(d,c)}).forEach(function(d){s(d)})}),this.postExecute("canvas.updateRoot",function(a){var l=a.context,c=l.oldRoot,u=l.newRoot,d=o(c);d.forEach(function(f){$(u,"bpmn:Process")&&s(f,u)})})}LS.$inject=["canvas","commandStack","elementRegistry","eventBus"];Oe(LS,xe);function Zfe(t,e){for(var n=t.businessObject||t,r=e.businessObject||e;n.$parent;){if(n.$parent===r.processRef||r)return!0;n=n.$parent}return!1}function Jfe(t,e){for(;t.parent;){if($(t.parent,e))return t.parent;t=t.parent}}var Og=Math.max,Rg=Math.min,ehe=20;function uU(t,e){return{top:t.top-e.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:t.left-e.left}}function the(t,e,n){var r=n.x,i=n.y,o={x:t.x,y:t.y,width:t.width,height:t.height};return e.indexOf("n")!==-1?(o.y=t.y+i,o.height=t.height-i):e.indexOf("s")!==-1&&(o.height=t.height+i),e.indexOf("e")!==-1?o.width=t.width+r:e.indexOf("w")!==-1&&(o.x=t.x+r,o.width=t.width-r),o}function nhe(t,e){return{x:t.x+(e.left||0),y:t.y+(e.top||0),width:t.width-(e.left||0)+(e.right||0),height:t.height-(e.top||0)+(e.bottom||0)}}function t1(t,e,n){var r=e[t],i=n.min&&n.min[t],o=n.max&&n.max[t];return He(i)&&(r=(/top|left/.test(t)?Rg:Og)(r,i)),He(o)&&(r=(/top|left/.test(t)?Og:Rg)(r,o)),r}function rhe(t,e){if(!e)return t;var n=De(t);return Mv({top:t1("top",n,e),right:t1("right",n,e),bottom:t1("bottom",n,e),left:t1("left",n,e)})}function ihe(t,e,n,r){var i=De(e),o={top:/n/.test(t)?i.bottom-n.height:i.top,left:/w/.test(t)?i.right-n.width:i.left,bottom:/s/.test(t)?i.top+n.height:i.bottom,right:/e/.test(t)?i.left+n.width:i.right},s=r?De(r):o,a={top:Rg(o.top,s.top),left:Rg(o.left,s.left),bottom:Og(o.bottom,s.bottom),right:Og(o.right,s.right)};return Mv(a)}function wd(t,e){return typeof t<"u"?t:ehe}function ohe(t,e){var n,r,i,o;return typeof e=="object"?(n=wd(e.left),r=wd(e.right),i=wd(e.top),o=wd(e.bottom)):n=r=i=o=wd(e),{x:t.x-n,y:t.y-i,width:t.width+n+r,height:t.height+i+o}}function she(t){return!(t.waypoints||t.type==="label")}function dU(t,e){var n;if(t.length===void 0?n=Xe(t.children,she):n=t,n.length)return ohe(Cn(n),e)}var ra=Math.abs;function ahe(t,e){return uU(De(e),De(t))}var lhe=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],xi=30;function t2(t,e){return e=e||[],t.children.filter(function(n){$(n,"bpmn:Lane")&&(t2(n,e),e.push(n))}),e}function Ka(t){return t.children.filter(function(e){return $(e,"bpmn:Lane")})}function Si(t){return j0(t,lhe)||t}function che(t,e){var n=Si(t),r=$(n,"bpmn:Process")?[]:[n],i=t2(n,r),o=De(t),s=De(e),a=ahe(t,e),l=[],c=In(t);return i.forEach(function(u){if(u!==t){var d=c?0:a.top,f=c?a.right:0,h=c?0:a.bottom,p=c?a.left:0,m=De(u);a.top&&(ra(m.bottom-o.top)<10&&(h=s.top-m.bottom),ra(m.top-o.top)<5&&(d=s.top-m.top)),a.left&&(ra(m.right-o.left)<10&&(f=s.left-m.right),ra(m.left-o.left)<5&&(p=s.left-m.left)),a.bottom&&(ra(m.top-o.bottom)<10&&(d=s.bottom-m.top),ra(m.bottom-o.bottom)<5&&(h=s.bottom-m.bottom)),a.right&&(ra(m.left-o.right)<10&&(p=s.right-m.left),ra(m.right-o.right)<5&&(f=s.right-m.right)),(d||f||h||p)&&l.push({shape:u,newBounds:nhe(u,{top:d,right:f,bottom:h,left:p})})}}),l}var uhe=500;function jS(t,e){xe.call(this,t);function n(r,i){var o=In(r),s=Ka(i),a=[],l=[],c=[],u=[];if(bc(s,function(g){return o?g.y>r.y?l.push(g):a.push(g):g.x>r.x?u.push(g):c.push(g),g.children}),!!s.length){var d;o?l.length&&a.length?d=r.height/2:d=r.height:u.length&&c.length?d=r.width/2:d=r.width;var f,h,p,m;a.length&&(f=e.calculateAdjustments(a,"y",d,r.y-10),e.makeSpace(f.movingShapes,f.resizingShapes,{x:0,y:d},"s")),l.length&&(h=e.calculateAdjustments(l,"y",-d,r.y+r.height+10),e.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:-d},"n")),c.length&&(p=e.calculateAdjustments(c,"x",d,r.x-10),e.makeSpace(p.movingShapes,p.resizingShapes,{x:d,y:0},"e")),u.length&&(m=e.calculateAdjustments(u,"x",-d,r.x+r.width+10),e.makeSpace(m.movingShapes,m.resizingShapes,{x:-d,y:0},"w"))}}this.postExecuted("shape.delete",uhe,function(r){var i=r.context,o=i.hints,s=i.shape,a=i.oldParent;$(s,"bpmn:Lane")&&(o&&o.nested||n(s,a))})}jS.$inject=["eventBus","spaceTool"];Oe(jS,xe);var pP=500;function n2(t,e){e.invoke(xe,this),this._bpmnReplace=t;var n=this;this.postExecuted("elements.create",pP,function(r){var i=r.elements;i.filter(function(o){var s=o.host;return mP(o,s)}).map(function(o){return i.indexOf(o)}).forEach(function(o){r.elements[o]=n._replaceShape(i[o])})},!0),this.preExecute("elements.move",pP,function(r){var i=r.shapes,o=r.newHost;i.forEach(function(s,a){var l=s.host;mP(s,fhe(i,l)?l:o)&&(i[a]=n._replaceShape(s))})},!0)}n2.$inject=["bpmnReplace","injector"];Oe(n2,xe);n2.prototype._replaceShape=function(t){var e=dhe(t),n;return e?n={type:"bpmn:IntermediateCatchEvent",eventDefinitionType:e.$type}:n={type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(t,n,{layoutConnection:!1})};function dhe(t){var e=ve(t),n=e.eventDefinitions;return n&&n[0]}function mP(t,e){return!ht(t)&&$(t,"bpmn:BoundaryEvent")&&!e}function fhe(t,e){return t.indexOf(e)!==-1}function BS(t,e,n){xe.call(this,t);function r(i,o,s){var a=o.waypoints,l,c,u,d,f,h,p,m=i.outgoing.slice(),g=i.incoming.slice(),v;He(s.width)?v=Le(s):v=s;var y=Vx(a,v);if(y){if(l=a.slice(0,y.index),c=a.slice(y.index+(y.bendpoint?1:0)),!l.length||!c.length)return;u=y.bendpoint?a[y.index]:v,(l.length===1||!gP(i,l[l.length-1]))&&l.push(vP(u)),(c.length===1||!gP(i,c[0]))&&c.unshift(vP(u))}d=o.source,f=o.target,e.canConnect(d,i,o)&&(n.reconnectEnd(o,i,l||v),h=o),e.canConnect(i,f,o)&&(h?p=n.connect(i,f,{type:o.type,waypoints:c}):(n.reconnectStart(o,i,c||v),p=o));var _=[].concat(h&&Xe(g,function(b){return b.source===h.source})||[],p&&Xe(m,function(b){return b.target===p.target})||[]);_.length&&n.removeElements(_)}this.preExecute("elements.move",function(i){var o=i.newParent,s=i.shapes,a=i.delta,l=s[0];if(!(!l||!o)){o&&o.waypoints&&(i.newParent=o=o.parent);var c=Le(l),u={x:c.x+a.x,y:c.y+a.y},d=Ge(o.children,function(f){var h=e.canInsert(s,f);return h&&Vx(f.waypoints,u)});d&&(i.targetFlow=d,i.position=u)}},!0),this.postExecuted("elements.move",function(i){var o=i.shapes,s=i.targetFlow,a=i.position;s&&r(o[0],s,a)},!0),this.preExecute("shape.create",function(i){var o=i.parent,s=i.shape;e.canInsert(s,o)&&(i.targetFlow=o,i.parent=o.parent)},!0),this.postExecuted("shape.create",function(i){var o=i.shape,s=i.targetFlow,a=i.position;s&&r(o,s,a)},!0)}Oe(BS,xe);BS.$inject=["eventBus","bpmnRules","modeling"];function gP(t,e){var n=e.x,r=e.y;return n>=t.x&&n<=t.x+t.width&&r>=t.y&&r<=t.y+t.height}function vP(t){return re({},t)}function FS(t,e){xe.call(this,t),this.preExecuted("connection.create",function(n){var r=n.context,i=r.connection,o=r.source,s=r.target,a=r.hints;if(!(a&&a.createElementsBehavior===!1)&&Kc(i)){var l=[];$(o,"bpmn:EventBasedGateway")?l=s.incoming.filter(c=>c!==i&&Kc(c)):l=s.incoming.filter(c=>c!==i&&Kc(c)&&$(c.source,"bpmn:EventBasedGateway")),l.forEach(function(c){e.removeConnection(c)})}}),this.preExecuted("shape.replace",function(n){var r=n.context,i=r.newShape;if($(i,"bpmn:EventBasedGateway")){var o=i.outgoing.filter(Kc).reduce(function(s,a){return s.includes(a.target)?s:s.concat(a.target)},[]);o.forEach(function(s){s.incoming.filter(Kc).forEach(function(a){const l=s.incoming.filter(Kc).filter(function(c){return c.source===i});(a.source!==i||l.length>1)&&e.removeConnection(a)})})}})}FS.$inject=["eventBus","modeling"];Oe(FS,xe);function Kc(t){return $(t,"bpmn:SequenceFlow")}var n1=1500,yP=2e3;function fU(t,e,n){e.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],n1,function(r){var i=r.context,o=i.shape||r.shape,s=r.hover;$(s,"bpmn:Lane")&&!Qe(o,["bpmn:Lane","bpmn:Participant"])&&(r.hover=Si(s),r.hoverGfx=t.getGraphics(r.hover));var a=n.getRootElement();s!==a&&(o.labelTarget||Qe(o,["bpmn:Group","bpmn:TextAnnotation"]))&&(r.hover=a,r.hoverGfx=t.getGraphics(r.hover))}),e.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],n1,function(r){var i=r.hover;$(i,"bpmn:Lane")&&(r.hover=Si(i)||i,r.hoverGfx=t.getGraphics(r.hover))}),e.on(["bendpoint.move.hover"],n1,function(r){var i=r.context,o=r.hover,s=i.type;$(o,"bpmn:Lane")&&/reconnect/.test(s)&&(r.hover=Si(o)||o,r.hoverGfx=t.getGraphics(r.hover))}),e.on(["connect.start"],n1,function(r){var i=r.context,o=i.start;$(o,"bpmn:Lane")&&(i.start=Si(o)||o)}),e.on("shape.move.start",yP,function(r){var i=r.shape;$(i,"bpmn:Lane")&&(r.shape=Si(i)||i)}),e.on("spaceTool.move",yP,function(r){var i=r.hover;i&&$(i,"bpmn:Lane")&&(r.hover=Si(i))})}fU.$inject=["elementRegistry","eventBus","canvas"];function hhe(t){return t.create("bpmn:Category")}function phe(t){return t.create("bpmn:CategoryValue")}function mhe(t,e,n){return un(e.get("categoryValue"),t),t.$parent=e,un(n.get("rootElements"),e),e.$parent=n,t}function ghe(t){var e=t.$parent;return e&&(nn(e.get("categoryValue"),t),t.$parent=null),t}function vhe(t){var e=t.$parent;return e&&(nn(e.get("rootElements"),t),t.$parent=null),t}var bP=770;function zS(t,e,n,r,i,o){i.invoke(xe,this);function s(){return n.filter(function(p){return $(p,"bpmn:Group")})}function a(p,m){return p.some(function(g){var v=ve(g),y=v.categoryValueRef&&v.categoryValueRef.$parent;return y===m})}function l(p,m){return p.some(function(g){var v=ve(g);return v.categoryValueRef===m})}function c(p,m,g){var v=s().filter(function(y){return y.businessObject!==g});m&&!a(v,m)&&vhe(m),p&&!l(v,p)&&ghe(p)}function u(p,m){return mhe(p,m,e.getDefinitions())}function d(p,m){var g=ve(p),v=g.categoryValueRef;v||(v=g.categoryValueRef=m.categoryValue=m.categoryValue||phe(t));var y=v.$parent;y||(y=v.$parent=m.category=m.category||hhe(t)),u(v,y,e.getDefinitions())}function f(p,m){var g=m.category,v=m.categoryValue,y=ve(p);v?(y.categoryValueRef=null,c(v,g,y)):c(null,y.categoryValueRef.$parent,y)}this.execute("label.create",function(p){var m=p.context,g=m.labelTarget;$(g,"bpmn:Group")&&d(g,m)}),this.revert("label.create",function(p){var m=p.context,g=m.labelTarget;$(g,"bpmn:Group")&&f(g,m)}),this.execute("shape.delete",function(p){var m=p.context,g=m.shape,v=ve(g);if(!(!$(g,"bpmn:Group")||g.labelTarget)){var y=m.categoryValue=v.categoryValueRef,_;y&&(_=m.category=y.$parent,c(y,_,v),v.categoryValueRef=null)}}),this.reverted("shape.delete",function(p){var m=p.context,g=m.shape;if(!(!$(g,"bpmn:Group")||g.labelTarget)){var v=m.category,y=m.categoryValue,_=ve(g);y&&(_.categoryValueRef=y,u(y,v))}}),this.execute("shape.create",function(p){var m=p.context,g=m.shape;!$(g,"bpmn:Group")||g.labelTarget||ve(g).categoryValueRef&&d(g,m)}),this.reverted("shape.create",function(p){var m=p.context,g=m.shape;!$(g,"bpmn:Group")||g.labelTarget||ve(g).categoryValueRef&&f(g,m)});function h(p,m){var g=t.create(p.$type);return o.copyElement(p,g,null,m)}r.on("copyPaste.copyElement",bP,function(p){var m=p.descriptor,g=p.element;if(!(!$(g,"bpmn:Group")||g.labelTarget)){var v=ve(g);if(v.categoryValueRef){var y=v.categoryValueRef;m.categoryValue=h(y,!0),y.$parent&&(m.category=h(y.$parent,!0))}}}),r.on("copyPaste.pasteElement",bP,function(p){var m=p.descriptor,g=m.businessObject,v=m.categoryValue,y=m.category;v&&(v=g.categoryValueRef=h(v)),y&&(v.$parent=h(y)),delete m.category,delete m.categoryValue})}zS.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"];Oe(zS,xe);function Yx(t,e,n,r){var i,o,s,a,l;return i=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y),i==0?null:(o=t.y-n.y,s=t.x-n.x,l=(r.x-n.x)*o-(r.y-n.y)*s,a=l/i,{x:Math.round(t.x+a*(e.x-t.x)),y:Math.round(t.y+a*(e.y-t.y))})}function hU(t){function e(r,i,o){var s={x:o.x,y:o.y-50},a={x:o.x-50,y:o.y},l=Yx(r,i,o,s),c=Yx(r,i,o,a),u;l&&c?_P(l,o)>_P(c,o)?u=c:u=l:u=l||c,r.original=u}function n(r){var i=r.waypoints;e(i[0],i[1],Le(r.source)),e(i[i.length-1],i[i.length-2],Le(r.target))}t.on("bpmnElement.added",function(r){var i=r.element;i.waypoints&&n(i)})}hU.$inject=["eventBus"];function _P(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qS(t){xe.call(this,t);var e=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(n){var r=n.context.shape,i=ve(r),o=ft(r);if(Qe(i,e)){var s=o.get("isHorizontal");s===void 0&&(s=!0),o.set("isHorizontal",s)}})}qS.$inject=["eventBus"];Oe(qS,xe);var pU=Math.sqrt,mU=Math.min,yhe=Math.max,xP=Math.abs;function wP(t){return Math.pow(t,2)}function Ed(t,e){return pU(wP(t.x-e.x)+wP(t.y-e.y))}function bhe(t,e){var n=0,r,i,o,s,a,l,c,u,d,f,h;for(n=0;n<e.length-1;n++){if(r=e[n],i=e[n+1],SP(r,i)?c=[r]:(o=Ed(t,r),s=Ed(t,i),l=mU(o,s),c=_he(r,i,t,l)),c.length<1)throw new Error("expected between [1, 2] circle -> line intersections");c.length===1&&(u={type:"bendpoint",position:c[0],segmentIndex:n,bendpointIndex:SP(r,c[0])?n:n+1}),c.length===2&&(a=whe(c[0],c[1]),u={type:"segment",position:a,segmentIndex:n,relativeLocation:Ed(r,a)/Ed(r,i)}),d=Ed(u.position,t),(!h||f>d)&&(h=u,f=d)}return h}function _he(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=n.x-t.x,a=n.y-t.y,l=i*i+o*o,c=i*s+o*a,u=s*s+a*a-r*r,d=c/l,f=u/l,h=d*d-f;if(h<0&&h>-1e-6&&(h=0),h<0)return[];var p=pU(h),m=-d+p,g=-d-p,v={x:t.x-i*m,y:t.y-o*m};if(h===0)return[v];var y={x:t.x-i*g,y:t.y-o*g};return[v,y].filter(function(_){return xhe(_,t,e)})}function xhe(t,e,n){return EP(t.x,e.x,n.x)&&EP(t.y,e.y,n.y)}function EP(t,e,n){return t>=mU(e,n)-Pg&&t<=yhe(e,n)+Pg}function whe(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}var Pg=.1;function SP(t,e){return xP(t.x-e.x)<=Pg&&xP(t.y-e.y)<=Pg}function Ehe(t,e,n,r){var i=n.segmentIndex,o=e.length-t.length;if(r.segmentMove){var s=r.segmentMove.segmentStartIndex,a=r.segmentMove.newSegmentStartIndex;return i===s?a:i>=a?i+o<a?a:i+o:i}if(r.bendpointMove){var l=r.bendpointMove.insert,c=r.bendpointMove.bendpointIndex,u;if(o===0)return i;if(i>=c&&(u=l?i+1:i-1),i<c&&(u=i,l&&n.type!=="bendpoint"&&c-1===i)){var d=vU(e,c);d<n.relativeLocation&&u++}return u}return o===0?i:r.connectionStart&&i===0?0:r.connectionEnd&&i===t.length-2?e.length-2:Math.floor((e.length-2)/2)}function gU(t,e,n,r){var i=0,o=0,s={point:t,delta:{x:0,y:0}},a=bhe(t,n),l=a.segmentIndex,c=Ehe(n,e,a,r);if(c<0||c>e.length-2||c===null)return s;var u=CP(n,l),d=CP(e,c),f=a.position,h=Che(u,f),p=She(u,d);if(a.type==="bendpoint"){var m=e.length-n.length,g=a.bendpointIndex,v=n[g];if(e.indexOf(v)!==-1)return s;if(m===0){var y=e[g];return i=y.x-a.position.x,o=y.y-a.position.y,{delta:{x:i,y:o},point:{x:t.x+i,y:t.y+o}}}m<0&&g!==0&&g<n.length-1&&(h=vU(n,g))}var _={x:(d[1].x-d[0].x)*h+d[0].x,y:(d[1].y-d[0].y)*h+d[0].y},b=gfe({x:t.x-f.x,y:t.y-f.y},p);return i=_.x+b.x-t.x,o=_.y+b.y-t.y,{point:Cs(_),delta:Cs({x:i,y:o})}}function vU(t,e){var n=Cg(t[e-1],t[e]),r=Cg(t[e],t[e+1]),i=n/(n+r);return i}function She(t,e){var n=XR(t),r=XR(e);return r-n}function CP(t,e){return[t[e],t[e+1]]}function Che(t,e){var n=Cg(t[0],t[1]),r=Cg(t[0],e);return n===0?0:r/n}function khe(t,e,n,r){var i=Le(t);return gU(i,e,n,r).delta}function Ah(t,e,n){var r=mf(e),i=mf(n),o=oo(t,r),s={x:o.x*(n.width/e.width),y:o.y*(n.height/e.height)};return Cs({x:i.x+s.x,y:i.y+s.y})}function kP(t,e,n){var r=mf(t),i=mf(e),o=mf(n),s=oo(t,r),a=oo(r,i),l=Ohe(r,e,n);if(l)return l;var c={x:a.x*(n.width/e.width),y:a.y*(n.height/e.height)},u={x:o.x+c.x,y:o.y+c.y};return Cs({x:u.x+s.x-t.x,y:u.y+s.y-t.y})}function Ohe(t,e,n){var r=De(e),i=De(n);if(Rhe(r,i))return null;var o=Ft(e,t),s,a,l;if(o==="top")s={x:0,y:i.bottom-r.bottom};else if(o==="bottom")s={x:0,y:i.top-r.top};else if(o==="right")s={x:i.left-r.left,y:0};else if(o==="left")s={x:i.right-r.right,y:0};else return null;return a={x:t.x+s.x,y:t.y+s.y},l=Ft(n,a),l!==o?null:s}function Rhe(t,e){return Phe(t,e)||Ahe(t,e)}function Phe(t,e){return t.right!==e.right&&t.left!==e.left}function Ahe(t,e){return t.top!==e.top&&t.bottom!==e.bottom}var OP="name",RP="text";function VS(t,e,n,r){xe.call(this,t),this.postExecute("element.updateProperties",i),this.postExecute("element.updateModdleProperties",s=>{ve(s.context.element)===s.context.moddleElement&&i(s)});function i(s){var a=s.context,l=a.element,c=a.properties;if(OP in c&&e.updateLabel(l,c[OP]),RP in c&&$(l,"bpmn:TextAnnotation")){var u=r.getTextAnnotationBounds({x:l.x,y:l.y,width:l.width,height:l.height},c[RP]||"");e.updateLabel(l,c.text,u)}}this.postExecute(["shape.create","connection.create"],function(s){var a=s.context,l=a.hints||{};if(l.createElementsBehavior!==!1){var c=a.shape||a.connection;ht(c)||!rc(c)||Di(c)&&e.updateLabel(c,Di(c))}}),this.postExecute("shape.delete",function(s){var a=s.context,l=a.labelTarget,c=a.hints||{};l&&c.unsetLabel!==!1&&e.updateLabel(l,null,null,{removeShape:!1})});function o(s){var a=s.context,l=a.connection,c=l.label,u=re({},a.hints),d=a.newWaypoints||l.waypoints,f=a.oldWaypoints;return typeof u.startChanged>"u"&&(u.startChanged=!!u.connectionStart),typeof u.endChanged>"u"&&(u.endChanged=!!u.connectionEnd),khe(c,d,f,u)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var a=s.context,l=a.hints||{};if(l.labelBehavior!==!1){var c=a.connection,u=c.label,d;!u||!u.parent||(d=o(s),e.moveShape(u,d))}}),this.postExecute(["shape.replace"],function(s){var a=s.context,l=a.newShape,c=a.oldShape,u=ve(l);u&&rc(u)&&c.label&&l.label&&(l.label.x=c.label.x,l.label.y=c.label.y)}),this.postExecute("shape.resize",function(s){var a=s.context,l=a.shape,c=a.newBounds,u=a.oldBounds;if(jv(l)){var d=l.label,f=Le(d),h=Dhe(u),p=Ihe(f,h),m=The(p,u,c);e.moveShape(d,m)}})}Oe(VS,xe);VS.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];function The(t,e,n){var r=Ah(t,e,n);return Cs(oo(r,t))}function Ihe(t,e){if(e.length){var n=Mhe(t,e);return SS(t,n)}}function Dhe(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}function Mhe(t,e){var n=e.map(function(i){return{line:i,distance:UH(t,i)}}),r=br(n,"distance");return r[0].line}function $he(t,e,n,r){return gU(t,e,n,r).point}function HS(t,e){xe.call(this,t);function n(r,i){var o=r.context,s=o.connection,a=re({},o.hints),l=o.newWaypoints||s.waypoints,c=o.oldWaypoints;return typeof a.startChanged>"u"&&(a.startChanged=!!a.connectionStart),typeof a.endChanged>"u"&&(a.endChanged=!!a.connectionEnd),$he(i,l,c,a)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(r){var i=r.context,o=i.connection,s=o.outgoing,a=o.incoming;a.forEach(function(l){var c=l.waypoints[l.waypoints.length-1],u=n(r,c),d=[].concat(l.waypoints.slice(0,-1),[u]);e.updateWaypoints(l,d)}),s.forEach(function(l){var c=l.waypoints[0],u=n(r,c),d=[].concat([u],l.waypoints.slice(1));e.updateWaypoints(l,d)})}),this.postExecute(["connection.move"],function(r){var i=r.context,o=i.connection,s=o.outgoing,a=o.incoming,l=i.delta;a.forEach(function(c){var u=c.waypoints[c.waypoints.length-1],d={x:u.x+l.x,y:u.y+l.y},f=[].concat(c.waypoints.slice(0,-1),[d]);e.updateWaypoints(c,f)}),s.forEach(function(c){var u=c.waypoints[0],d={x:u.x+l.x,y:u.y+l.y},f=[].concat([d],c.waypoints.slice(1));e.updateWaypoints(c,f)})})}Oe(HS,xe);HS.$inject=["eventBus","modeling"];function r2(t,e,n){var r=o2(t),i=bU(r,e),o=r[0];return i.length?i[i.length-1]:Ah(o.original||o,n,e)}function i2(t,e,n){var r=o2(t),i=bU(r,e),o=r[r.length-1];return i.length?i[0]:Ah(o.original||o,n,e)}function US(t,e,n){var r=o2(t),i=yU(e,n),o=r[0];return Ah(o.original||o,i,e)}function WS(t,e,n){var r=o2(t),i=yU(e,n),o=r[r.length-1];return Ah(o.original||o,i,e)}function yU(t,e){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}}function o2(t){var e=t.waypoints;if(!e.length)throw new Error("connection#"+t.id+": no waypoints");return e}function bU(t,e){var n=Nn(t,Lhe);return Xe(n,function(r){return Nhe(r,e)})}function Nhe(t,e){return Ft(e,t,1)==="intersect"}function Lhe(t){return t.original||t}function GS(t,e){xe.call(this,t),this.postExecute("shape.replace",function(n){var r=n.oldShape,i=n.newShape;if(jhe(r,i)){var o=Bhe(r);o.incoming.forEach(function(s){var a=i2(s,i,r);e.reconnectEnd(s,i,a)}),o.outgoing.forEach(function(s){var a=r2(s,i,r);e.reconnectStart(s,i,a)})}},!0)}GS.$inject=["eventBus","modeling"];Oe(GS,xe);function jhe(t,e){return $(t,"bpmn:Participant")&&rt(t)&&$(e,"bpmn:Participant")&&!rt(e)}function Bhe(t){var e=gh([t],!1),n=[],r=[];return e.forEach(function(i){i!==t&&(i.incoming.forEach(function(o){$(o,"bpmn:MessageFlow")&&n.push(o)}),i.outgoing.forEach(function(o){$(o,"bpmn:MessageFlow")&&r.push(o)}))},[]),{incoming:n,outgoing:r}}const Fhe=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function _U(t){const e=ve(t);if(!$(e,"bpmn:BoundaryEvent")&&!($(e,"bpmn:StartEvent")&&Un(e.$parent)))return!1;const n=e.get("eventDefinitions");return!n||!n.length?!1:Fhe.some(r=>$(n[0],r))}function xU(t){return $(t,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function KS(t,e){t.invoke(xe,this),this.postExecuted("shape.replace",function(n){const r=n.context.oldShape,i=n.context.newShape,o=n.context.hints;if(!_U(i))return;const s=xU(i);if(o.targetElement&&o.targetElement[s]!==void 0)return;const l=ve(r).get(s),c=ve(i).get(s);l!==c&&e.updateProperties(i,{[s]:l})})}KS.$inject=["injector","modeling"];Oe(KS,xe);function XS(t,e){xe.call(this,t),this.preExecute("shape.resize",function(n){var r=n.shape,i=ft(r),o=i&&i.get("label"),s=o&&o.get("bounds");s&&e.updateModdleProperties(r,o,{bounds:void 0})},!0)}Oe(XS,xe);XS.$inject=["eventBus","modeling"];function YS(t,e,n){xe.call(this,t),this.preExecute("shape.delete",function(r){var i=r.context.shape;if(!(i.incoming.length!==1||i.outgoing.length!==1)){var o=i.incoming[0],s=i.outgoing[0];if(!(!$(o,"bpmn:SequenceFlow")||!$(s,"bpmn:SequenceFlow"))&&e.canConnect(o.source,s.target,o)){var a=zhe(o.waypoints,s.waypoints);n.reconnectEnd(o,s.target,a)}}})}Oe(YS,xe);YS.$inject=["eventBus","bpmnRules","modeling"];function Xc(t){return t.original||t}function zhe(t,e){var n=Yx(Xc(t[t.length-2]),Xc(t[t.length-1]),Xc(e[1]),Xc(e[0]));return n?[].concat(t.slice(0,t.length-1),[n],e.slice(1)):[Xc(t[0]),Xc(e[e.length-1])]}function QS(t,e){xe.call(this,t),this.preExecute("shape.delete",function(n){var r=n.shape,i=r.parent;$(r,"bpmn:Participant")&&(n.collaborationRoot=i)},!0),this.postExecute("shape.delete",function(n){var r=n.collaborationRoot;if(r&&!r.businessObject.participants.length){var i=e.makeProcess(),o=r.children.slice();e.moveElements(o,{x:0,y:0},i)}},!0)}QS.$inject=["eventBus","modeling"];Oe(QS,xe);function ZS(t,e,n,r){xe.call(this,t);var i=r.get("dragging",!1);function o(l){var c=l.source,u=l.target,d=l.parent;if(d){var f,h;$(l,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(c,u)||(h=!0),n.canConnectMessageFlow(c,u)&&(f="bpmn:MessageFlow")),$(l,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(c,u)||(h=!0),n.canConnectSequenceFlow(c,u)&&(f="bpmn:SequenceFlow")),h&&e.removeConnection(l),f&&e.connect(c,u,{type:f,waypoints:l.waypoints.slice()})}}function s(l){var c=l.context,u=c.connection,d=c.newSource||u.source,f=c.newTarget||u.target,h,p;h=n.canConnect(d,f),!(!h||h.type===u.type)&&(p=e.connect(d,f,{type:h.type,associationDirection:h.associationDirection,waypoints:u.waypoints.slice()}),u.parent&&e.removeConnection(u),c.connection=p,i&&a(u,p))}function a(l,c){var u=i.context(),d=u&&u.payload.previousSelection,f;!d||!d.length||(f=d.indexOf(l),f!==-1&&d.splice(f,1,c))}this.postExecuted("elements.move",function(l){var c=l.closure,u=c.allConnections;ee(u,o)},!0),this.preExecute("connection.reconnect",s),this.postExecuted("element.updateProperties",function(l){var c=l.context,u=c.properties,d=c.element,f=d.businessObject,h;u.default&&(h=Ge(d.outgoing,io({id:d.businessObject.default.id})),h&&e.updateProperties(h,{conditionExpression:void 0})),u.conditionExpression&&f.sourceRef.default===f&&e.updateProperties(d.source,{default:void 0})})}Oe(ZS,xe);ZS.$inject=["eventBus","modeling","bpmnRules","injector"];function s2(t,e,n,r,i,o){r.invoke(xe,this),this._bpmnReplace=t,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.create"],500,function(s){var a=s.context,l=a.parent,c=a.elements,u=cn(c,function(d,f){var h=e.canReplace([f],f.host||f.parent||l);return h?d.concat(h.replacements):d},[]);u.length&&this._replaceElements(c,u)},this),this.postExecuted(["elements.move"],500,function(s){var a=s.context,l=a.newParent,c=a.newHost,u=[];ee(a.closure.topLevel,function(f){Un(f)?u=u.concat(f.children):u=u.concat(f)}),u.length===1&&c&&(l=c);var d=e.canReplace(u,l);d&&this._replaceElements(u,d.replacements,c)},this),this.postExecute(["shape.replace"],1500,function(s){var a=s.context,l=a.oldShape,c=a.newShape,u=l.attachers,d;u&&u.length&&(d=e.canReplace(u,c),this._replaceElements(u,d.replacements))},this),this.postExecuted(["shape.replace"],1500,function(s){var a=s.context,l=a.oldShape,c=a.newShape;i.unclaimId(l.businessObject.id,l.businessObject),i.updateProperties(c,{id:l.id})})}Oe(s2,xe);s2.prototype._replaceElements=function(t,e){var n=this._elementRegistry,r=this._bpmnReplace,i=this._selection;ee(e,function(o){var s={type:o.newElementType},a=n.get(o.oldElementId),l=t.indexOf(a);t[l]=r.replaceElement(a,s,{select:!1})}),e&&i.select(t)};s2.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var qhe=1500,Vhe={width:140,height:120},JS={width:300,height:60},eC={width:60,height:300},$m={width:300,height:150},Nm={width:150,height:300},wU={width:140,height:120},EU={width:50,height:30};function SU(t){t.on("resize.start",qhe,function(e){var n=e.context,r=n.shape,i=n.direction,o=n.balanced;($(r,"bpmn:Lane")||$(r,"bpmn:Participant"))&&(n.resizeConstraints=Khe(r,i,o)),$(r,"bpmn:SubProcess")&&rt(r)&&(n.minDimensions=wU),$(r,"bpmn:TextAnnotation")&&(n.minDimensions=EU)})}SU.$inject=["eventBus"];var ia=Math.abs,Hhe=Math.min,Uhe=Math.max;function CU(t,e,n,r){var i=t[e];t[e]=i===void 0?n:r(n,i)}function Yc(t,e,n){return CU(t,e,n,Hhe)}function Qc(t,e,n){return CU(t,e,n,Uhe)}var Whe={top:20,left:50,right:20,bottom:20},Ghe={top:50,left:20,right:20,bottom:20};function Khe(t,e,n){var r=Si(t),i=!0,o=!0,s=t2(r,[r]),a=De(t),l={},c={},u=In(t),d=u?JS:eC;/n/.test(e)?c.top=a.bottom-d.height:/e/.test(e)?c.right=a.left+d.width:/s/.test(e)?c.bottom=a.top+d.height:/w/.test(e)&&(c.left=a.right-d.width),s.forEach(function(p){var m=De(p);u?(m.top<a.top-10&&(i=!1),m.bottom>a.bottom+10&&(o=!1)):(m.left<a.left-10&&(i=!1),m.right>a.right+10&&(o=!1)),/n/.test(e)&&(n&&ia(a.top-m.bottom)<10&&Qc(l,"top",m.top+d.height),ia(a.top-m.top)<5&&Yc(c,"top",m.bottom-d.height)),/e/.test(e)&&(n&&ia(a.right-m.left)<10&&Yc(l,"right",m.right-d.width),ia(a.right-m.right)<5&&Qc(c,"right",m.left+d.width)),/s/.test(e)&&(n&&ia(a.bottom-m.top)<10&&Yc(l,"bottom",m.bottom-d.height),ia(a.bottom-m.bottom)<5&&Qc(c,"bottom",m.top+d.height)),/w/.test(e)&&(n&&ia(a.left-m.right)<10&&Qc(l,"left",m.left+d.width),ia(a.left-m.left)<5&&Yc(c,"left",m.right-d.width))});var f=r.children.filter(function(p){return!p.hidden&&!p.waypoints&&($(p,"bpmn:FlowElement")||$(p,"bpmn:Artifact"))}),h=u?Whe:Ghe;return f.forEach(function(p){var m=De(p);/n/.test(e)&&(!u||i)&&Yc(c,"top",m.top-h.top),/e/.test(e)&&(u||o)&&Qc(c,"right",m.right+h.right),/s/.test(e)&&(!u||o)&&Qc(c,"bottom",m.bottom+h.bottom),/w/.test(e)&&(u||i)&&Yc(c,"left",m.left-h.left)}),{min:c,max:l}}var PP=1001;function kU(t,e){t.on("resize.start",PP+500,function(n){var r=n.context,i=r.shape;($(i,"bpmn:Lane")||$(i,"bpmn:Participant"))&&(r.balanced=!M0(n))}),t.on("resize.end",PP,function(n){var r=n.context,i=r.shape,o=r.canExecute,s=r.newBounds;if($(i,"bpmn:Lane")||$(i,"bpmn:Participant"))return o&&(s=sV(s),e.resizeLane(i,s,r.balanced)),!1})}kU.$inject=["eventBus","modeling"];var Xhe=500;function tC(t,e,n,r,i){n.invoke(xe,this);function o(u){return Qe(u,["bpmn:ReceiveTask","bpmn:SendTask"])||Yhe(u,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function s(u){var d=t.getDefinitions(),f=d.get("rootElements");return!!Ge(f,io({id:u.id}))}function a(u){if($(u,"bpmn:ErrorEventDefinition"))return"errorRef";if($(u,"bpmn:EscalationEventDefinition"))return"escalationRef";if($(u,"bpmn:MessageEventDefinition"))return"messageRef";if($(u,"bpmn:SignalEventDefinition"))return"signalRef"}function l(u){if(Qe(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.get("messageRef");var d=u.get("eventDefinitions"),f=d[0];return f.get(a(f))}function c(u,d){if(Qe(u,["bpmn:ReceiveTask","bpmn:SendTask"]))return u.set("messageRef",d);var f=u.get("eventDefinitions"),h=f[0];return h.set(a(h),d)}this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var d=u.shape||u.element;if(o(d)){var f=ve(d),h=l(f),p;h&&!s(h)&&(p=t.getDefinitions().get("rootElements"),un(p,h),u.addedRootElement=h)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(u){var d=u.addedRootElement;if(d){var f=t.getDefinitions().get("rootElements");nn(f,d)}},!0),e.on("copyPaste.copyElement",function(u){var d=u.descriptor,f=u.element;if(!(f.labelTarget||!o(f))){var h=ve(f),p=l(h);p&&(d.referencedRootElement=p)}}),e.on("copyPaste.pasteElement",Xhe,function(u){var d=u.descriptor,f=d.businessObject,h=d.referencedRootElement;h&&(s(h)||(h=r.copyElement(h,i.create(h.$type))),c(f,h),delete d.referencedRootElement)})}tC.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"];Oe(tC,xe);function Yhe(t,e){return Fe(e)||(e=[e]),zs(e,function(n){return Eu(t,n)})}var OU=Math.max;function RU(t){t.on("spaceTool.getMinDimensions",function(e){var n=e.shapes,r=e.axis,i=e.start,o={};return ee(n,function(s){var a=s.id;$(s,"bpmn:Participant")&&(o[a]=Zhe(s,r,i)),$(s,"bpmn:Lane")&&(o[a]=In(s)?JS:eC),$(s,"bpmn:SubProcess")&&rt(s)&&(o[a]=wU),$(s,"bpmn:TextAnnotation")&&(o[a]=EU),$(s,"bpmn:Group")&&(o[a]=Vhe)}),o})}RU.$inject=["eventBus"];function Qhe(t){return t==="x"}function Zhe(t,e,n){var r=In(t);if(!tpe(t))return r?$m:Nm;var i=Qhe(e),o={};return i?r?o=$m:o={width:epe(t,n,i),height:Nm.height}:r?o={width:$m.width,height:Jhe(t,n,i)}:o=Nm,o}function Jhe(t,e,n){var r;return r=npe(t,e,n),OU($m.height,r)}function epe(t,e,n){var r;return r=rpe(t,e,n),OU(Nm.width,r)}function tpe(t){return!!Ka(t).length}function npe(t,e,n){var r=Ka(t),i;return i=nC(r,e,n),t.height-i.height+JS.height}function rpe(t,e,n){var r=Ka(t),i;return i=nC(r,e,n),t.width-i.width+eC.width}function nC(t,e,n){var r,i,o;for(r=0;r<t.length;r++)if(i=t[r],!n&&e>=i.y&&e<=i.y+i.height||n&&e>=i.x&&e<=i.x+i.width)return o=Ka(i),o.length?nC(o,e,n):i}var AP=400,ipe=600,TP={x:180,y:160};function Xa(t,e,n,r,i,o,s){xe.call(this,e),this._canvas=t,this._eventBus=e,this._modeling=n,this._elementFactory=r,this._bpmnFactory=i,this._bpmnjs=o,this._elementRegistry=s;var a=this;function l(d){return $(d,"bpmn:SubProcess")&&!rt(d)}function c(d){var f=d.shape,h=d.newRootElement,p=ve(f);h=a._addDiagram(h||p),d.newRootElement=t.addRootElement(h)}function u(d){var f=d.shape,h=ve(f);a._removeDiagram(h);var p=d.newRootElement=s.get(ps(h));t.removeRootElement(p)}this.executed("shape.create",function(d){var f=d.shape;l(f)&&c(d)},!0),this.postExecuted("shape.create",function(d){var f=d.shape,h=d.newRootElement;!h||!f.children||(a._showRecursively(f.children),a._moveChildrenToShape(f,h))},!0),this.reverted("shape.create",function(d){var f=d.shape;l(f)&&u(d)},!0),this.preExecuted("shape.delete",function(d){var f=d.shape;if(l(f)){var h=s.get(ps(f));h&&n.removeElements(h.children.slice())}},!0),this.executed("shape.delete",function(d){var f=d.shape;l(f)&&u(d)},!0),this.reverted("shape.delete",function(d){var f=d.shape;l(f)&&c(d)},!0),this.preExecuted("shape.replace",function(d){var f=d.oldShape,h=d.newShape;!l(f)||!l(h)||(d.oldRoot=t.removeRootElement(ps(f)))},!0),this.postExecuted("shape.replace",function(d){var f=d.newShape,h=d.oldRoot,p=t.findRoot(ps(f));if(!(!h||!p)){var m=h.children;n.moveElements(m,{x:0,y:0},p)}},!0),this.executed("element.updateProperties",function(d){var f=d.element;if($(f,"bpmn:SubProcess")){var h=d.properties,p=d.oldProperties,m=p.id,g=h.id;if(m!==g){if(Tm(f)){s.updateId(f,pl(g)),s.updateId(m,g);return}var v=s.get(pl(m));v&&s.updateId(pl(m),pl(g))}}},!0),this.reverted("element.updateProperties",function(d){var f=d.element;if($(f,"bpmn:SubProcess")){var h=d.properties,p=d.oldProperties,m=p.id,g=h.id;if(m!==g){if(Tm(f)){s.updateId(f,pl(m)),s.updateId(g,m);return}var v=s.get(pl(g));v&&s.updateId(v,pl(m))}}},!0),e.on("element.changed",function(d){var f=d.element;if(Tm(f)){var h=f,p=s.get(_R(h));!p||p===h||e.fire("element.changed",{element:p})}}),this.executed("shape.toggleCollapse",AP,function(d){var f=d.shape;$(f,"bpmn:SubProcess")&&(rt(f)?u(d):(c(d),a._showRecursively(f.children)))},!0),this.reverted("shape.toggleCollapse",AP,function(d){var f=d.shape;$(f,"bpmn:SubProcess")&&(rt(f)?u(d):(c(d),a._showRecursively(f.children)))},!0),this.postExecuted("shape.toggleCollapse",ipe,function(d){var f=d.shape;if($(f,"bpmn:SubProcess")){var h=d.newRootElement;h&&(rt(f)?a._moveChildrenToShape(h,f):a._moveChildrenToShape(f,h))}},!0),e.on("copyPaste.createTree",function(d){var f=d.element,h=d.children;if(l(f)){var p=ps(f),m=s.get(p);m&&h.push.apply(h,m.children)}}),e.on("copyPaste.copyElement",function(d){var f=d.descriptor,h=d.element,p=d.elements,m=h.parent,g=$(ft(m),"bpmndi:BPMNPlane");if(g){var v=_R(m),y=Ge(p,function(_){return _.id===v});y&&(f.parent=y.id)}}),e.on("copyPaste.pasteElement",function(d){var f=d.descriptor;f.parent&&(l(f.parent)||f.parent.hidden)&&(f.hidden=!0)})}Oe(Xa,xe);Xa.prototype._moveChildrenToShape=function(t,e){var n=this._modeling,r=t.children,i;if(r){r=r.concat(r.reduce(function(c,u){return u.label&&u.label.parent!==t?c.concat(u.label):c},[]));var o=r.filter(function(c){return!c.hidden});if(!o.length){n.moveElements(r,{x:0,y:0},e,{autoResize:!1});return}var s=Cn(o);if(!e.x)i={x:TP.x-s.x,y:TP.y-s.y};else{var a=Le(e),l=Le(s);i={x:a.x-l.x,y:a.y-l.y}}n.moveElements(r,i,e,{autoResize:!1})}};Xa.prototype._showRecursively=function(t,e){var n=this,r=[];return t.forEach(function(i){i.hidden=!!e,r=r.concat(i),i.children&&(r=r.concat(n._showRecursively(i.children,i.collapsed||e)))}),r};Xa.prototype._addDiagram=function(t){var e=this._bpmnjs,n=e.getDefinitions().diagrams;return t.businessObject||(t=this._createNewDiagram(t)),n.push(t.di.$parent),t};Xa.prototype._createNewDiagram=function(t){var e=this._bpmnFactory,n=this._elementFactory,r=e.create("bpmndi:BPMNPlane",{bpmnElement:t}),i=e.create("bpmndi:BPMNDiagram",{plane:r});r.$parent=i;var o=n.createRoot({id:ps(t),type:t.$type,di:r,businessObject:t,collapsed:!0});return o};Xa.prototype._removeDiagram=function(t){var e=this._bpmnjs,n=e.getDefinitions().diagrams,r=Ge(n,function(i){return i.plane.bpmnElement.id===t.id});return n.splice(n.indexOf(r),1),r};Xa.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"];function rC(t,e){t.invoke(xe,this),this.postExecuted("shape.replace",function(n){var r=n.context.oldShape,i=n.context.newShape;if(!(!$(i,"bpmn:SubProcess")||$(i,"bpmn:AdHocSubProcess")||!($(r,"bpmn:Task")||$(r,"bpmn:CallActivity"))||!rt(i))){var o=ope(i);e.createShape({type:"bpmn:StartEvent"},o,i)}})}rC.$inject=["injector","modeling"];Oe(rC,xe);function ope(t){return{x:t.x+t.width/6,y:t.y+t.height/2}}function iC(t){xe.call(this,t),this.preExecute("connection.create",function(e){const{target:n}=e;$(n,"bpmn:TextAnnotation")&&(e.parent=n.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(e){const n=e.shapes||[e.shape];n.length===1&&$(n[0],"bpmn:TextAnnotation")&&(e.hints=e.hints||{},e.hints.autoResize=!1)},!0)}Oe(iC,xe);iC.$inject=["eventBus"];function oC(t,e){xe.call(this,t),this.postExecuted("shape.toggleCollapse",1500,function(n){var r=n.shape;if(rt(r))return;var i=gh(r);i.forEach(function(s){var a=s.incoming.slice(),l=s.outgoing.slice();ee(a,function(c){o(c,!0)}),ee(l,function(c){o(c,!1)})});function o(s,a){i.indexOf(s.source)!==-1&&i.indexOf(s.target)!==-1||(a?e.reconnectEnd(s,r,Le(r)):e.reconnectStart(s,r,Le(r)))}},!0)}Oe(oC,xe);oC.$inject=["eventBus","modeling"];var y3=500;function sC(t,e,n){xe.call(this,t);function r(s){s.length&&s.forEach(function(a){a.type==="label"&&!a.businessObject.name&&(a.hidden=!0)})}function i(s,a){var l=s.children,c=a,u,d;return u=spe(l).concat([s]),d=dU(u),d?(c.width=Math.max(d.width,c.width),c.height=Math.max(d.height,c.height),c.x=d.x+(d.width-c.width)/2,c.y=d.y+(d.height-c.height)/2):(c.x=s.x+(s.width-c.width)/2,c.y=s.y+(s.height-c.height)/2),c}function o(s,a){return{x:s.x+(s.width-a.width)/2,y:s.y+(s.height-a.height)/2,width:a.width,height:a.height}}this.executed(["shape.toggleCollapse"],y3,function(s){var a=s.context,l=a.shape;$(l,"bpmn:SubProcess")&&(l.collapsed?ft(l).isExpanded=!1:(r(l.children),ft(l).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],y3,function(s){var a=s.context,l=a.shape;l.collapsed?ft(l).isExpanded=!1:ft(l).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],y3,function(s){var a=s.context.shape,l=e.getDefaultSize(a),c;a.collapsed?c=o(a,l):c=i(a,l),n.resizeShape(a,c,null,{autoResize:a.collapsed?!1:"nwse"})})}Oe(sC,xe);sC.$inject=["eventBus","elementFactory","modeling"];function spe(t){return t.filter(function(e){return!e.hidden})}function aC(t,e,n,r){e.invoke(xe,this),this.preExecute("shape.delete",function(i){var o=i.context,s=o.shape,a=s.businessObject;ht(s)||($(s,"bpmn:Participant")&&rt(s)&&n.ids.unclaim(a.processRef.id),r.unclaimId(a.id,a))}),this.preExecute("connection.delete",function(i){var o=i.context,s=o.connection,a=s.businessObject;r.unclaimId(a.id,a)}),this.preExecute("canvas.updateRoot",function(){var i=t.getRootElement(),o=i.businessObject;$(i,"bpmn:Collaboration")&&n.ids.unclaim(o.id)})}Oe(aC,xe);aC.$inject=["canvas","injector","moddle","modeling"];function lC(t,e){xe.call(this,t),this.preExecute("connection.delete",function(n){var r=n.context,i=r.connection,o=i.source;ape(i,o)&&e.updateProperties(o,{default:null})})}Oe(lC,xe);lC.$inject=["eventBus","modeling"];function ape(t,e){if(!$(t,"bpmn:SequenceFlow"))return!1;var n=ve(e),r=ve(t);return n.get("default")===r}var lpe=500,cpe=5e3;function cC(t,e){xe.call(this,t);var n;function r(){return n=n||new upe,n.enter(),n}function i(){if(!n)throw new Error("out of bounds release");return n}function o(){if(!n)throw new Error("out of bounds release");var a=n.leave();return a&&(e.updateLaneRefs(n.flowNodes,n.lanes),n=null),a}var s=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(s,cpe,function(a){r()}),this.postExecuted(s,lpe,function(a){o()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(a){var l=a.context,c=l.shape,u=i();c.labelTarget||($(c,"bpmn:Lane")&&u.addLane(c),$(c,"bpmn:FlowNode")&&u.addFlowNode(c))})}cC.$inject=["eventBus","modeling"];Oe(cC,xe);function upe(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(t){this.lanes.push(t)},this.addFlowNode=function(t){this.flowNodes.push(t)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function uC(t,e){xe.call(this,t),this.postExecuted("elements.create",function(n){const r=n.context,i=r.elements;for(const o of i)dpe(o)&&!hpe(o)&&e.updateProperties(o,{isForCompensation:void 0})})}Oe(uC,xe);uC.$inject=["eventBus","modeling"];function dpe(t){const e=ve(t);return e&&e.isForCompensation}function fpe(t){return t&&$(t,"bpmn:BoundaryEvent")&&Eu(t,"bpmn:CompensateEventDefinition")}function hpe(t){return t.incoming.filter(n=>fpe(n.source)).length>0}const ppe={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",RS],appendBehavior:["type",PS],associationBehavior:["type",AS],attachEventBehavior:["type",Jv],boundaryEventBehavior:["type",TS],compensateBoundaryEventBehaviour:["type",IS],createBehavior:["type",DS],createDataObjectBehavior:["type",MS],createParticipantBehavior:["type",$S],dataInputAssociationBehavior:["type",NS],dataStoreBehavior:["type",LS],deleteLaneBehavior:["type",jS],detachEventBehavior:["type",n2],dropOnFlowBehavior:["type",BS],eventBasedGatewayBehavior:["type",FS],fixHoverBehavior:["type",fU],groupBehavior:["type",zS],importDockingFix:["type",hU],isHorizontalFix:["type",qS],labelBehavior:["type",VS],layoutConnectionBehavior:["type",HS],messageFlowBehavior:["type",GS],nonInterruptingBehavior:["type",KS],removeElementBehavior:["type",YS],removeEmbeddedLabelBoundsBehavior:["type",XS],removeParticipantBehavior:["type",QS],replaceConnectionBehavior:["type",ZS],replaceElementBehaviour:["type",s2],resizeBehavior:["type",SU],resizeLaneBehavior:["type",kU],rootElementReferenceBehavior:["type",tC],spaceToolBehavior:["type",RU],subProcessPlaneBehavior:["type",Xa],subProcessStartEventBehavior:["type",rC],textAnnotationBehavior:["type",iC],toggleCollapseConnectionBehaviour:["type",oC],toggleElementCollapseBehaviour:["type",sC],unclaimIdBehavior:["type",aC],unsetDefaultFlowBehavior:["type",lC],updateFlowNodeRefsBehavior:["type",cC],setCompensationActivityAfterPasteBehavior:["type",uC]};function PU(t,e){var n=Ft(t,e,-15);return n!=="intersect"?n:null}function Xn(t){Nr.call(this,t)}Oe(Xn,Nr);Xn.$inject=["eventBus"];Xn.prototype.init=function(){this.addRule("connection.start",function(t){var e=t.source;return mpe(e)}),this.addRule("connection.create",function(t){var e=t.source,n=t.target,r=t.hints||{},i=r.targetParent,o=r.targetAttach;if(o)return!1;i&&(n.parent=i);try{return Lm(e,n)}finally{i&&(n.parent=null)}}),this.addRule("connection.reconnect",function(t){var e=t.connection,n=t.source,r=t.target;return Lm(n,r,e)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){var e=t.shape,n=t.newBounds;return jU(e,n)}),this.addRule("elements.create",function(t){var e=t.elements,n=t.position,r=t.target;return Tt(r)&&!Ag(e,r)?!1:ui(e,function(i){return Tt(i)?Lm(i.source,i.target,i):i.host?gf(i,i.host,null,n):ew(i,r,null)})}),this.addRule("elements.move",function(t){var e=t.target,n=t.shapes,r=t.position;return gf(n,e,null,r)||NU(n,e,r)||LU(n,e)||Ag(n,e)}),this.addRule("shape.create",function(t){return ew(t.shape,t.target,t.source,t.position)}),this.addRule("shape.attach",function(t){return gf(t.shape,t.target,null,t.position)}),this.addRule("element.copy",function(t){var e=t.element,n=t.elements;return VU(n,e)})};Xn.prototype.canConnectMessageFlow=zU;Xn.prototype.canConnectSequenceFlow=qU;Xn.prototype.canConnectDataAssociation=fC;Xn.prototype.canConnectAssociation=BU;Xn.prototype.canConnectCompensationAssociation=FU;Xn.prototype.canMove=LU;Xn.prototype.canAttach=gf;Xn.prototype.canReplace=NU;Xn.prototype.canDrop=F0;Xn.prototype.canInsert=Ag;Xn.prototype.canCreate=ew;Xn.prototype.canConnect=Lm;Xn.prototype.canResize=jU;Xn.prototype.canCopy=VU;function mpe(t){return Qx(t)?null:Qe(t,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}function Qx(t){return!t||ht(t)}function gpe(t,e){return t===e}function IP(t){do{if($(t,"bpmn:Process"))return ve(t);if($(t,"bpmn:Participant"))return ve(t).processRef||ve(t)}while(t=t.parent)}function Zx(t){return $(t,"bpmn:TextAnnotation")}function dC(t){return $(t,"bpmn:Group")&&!t.labelTarget}function AU(t){return $(t,"bpmn:BoundaryEvent")&&Vo(t,"bpmn:CompensateEventDefinition")}function a2(t){return ve(t).isForCompensation}function vpe(t,e){var n=IP(t),r=IP(e);return n===r}function ype(t){return $(t,"bpmn:InteractionNode")&&!$(t,"bpmn:BoundaryEvent")&&(!$(t,"bpmn:Event")||$(t,"bpmn:ThrowEvent")&&IU(t,"bpmn:MessageEventDefinition"))}function bpe(t){return $(t,"bpmn:InteractionNode")&&!a2(t)&&(!$(t,"bpmn:Event")||$(t,"bpmn:CatchEvent")&&IU(t,"bpmn:MessageEventDefinition"))&&!($(t,"bpmn:BoundaryEvent")&&!Vo(t,"bpmn:MessageEventDefinition"))}function DP(t){for(var e=t;e=e.parent;){if($(e,"bpmn:FlowElementsContainer"))return ve(e);if($(e,"bpmn:Participant"))return ve(e).processRef}return null}function TU(t,e){var n=DP(t),r=DP(e);return n===r}function Vo(t,e){var n=ve(t);return!!Ge(n.eventDefinitions||[],function(r){return $(r,e)})}function IU(t,e){var n=ve(t);return(n.eventDefinitions||[]).every(function(r){return $(r,e)})}function _pe(t){return $(t,"bpmn:FlowNode")&&!$(t,"bpmn:EndEvent")&&!Un(t)&&!($(t,"bpmn:IntermediateThrowEvent")&&Vo(t,"bpmn:LinkEventDefinition"))&&!AU(t)&&!a2(t)}function xpe(t){return $(t,"bpmn:FlowNode")&&!$(t,"bpmn:StartEvent")&&!$(t,"bpmn:BoundaryEvent")&&!Un(t)&&!($(t,"bpmn:IntermediateCatchEvent")&&Vo(t,"bpmn:LinkEventDefinition"))&&!a2(t)}function wpe(t){return $(t,"bpmn:ReceiveTask")||$(t,"bpmn:IntermediateCatchEvent")&&(Vo(t,"bpmn:MessageEventDefinition")||Vo(t,"bpmn:TimerEventDefinition")||Vo(t,"bpmn:ConditionalEventDefinition")||Vo(t,"bpmn:SignalEventDefinition"))}function Epe(t){for(var e=[];t;)t=t.parent,t&&e.push(t);return e}function Jx(t,e){var n=Epe(e);return n.indexOf(t)!==-1}function Lm(t,e,n){if(Qx(t)||Qx(e))return null;if(!$(n,"bpmn:DataAssociation")){if(zU(t,e))return{type:"bpmn:MessageFlow"};if(qU(t,e))return{type:"bpmn:SequenceFlow"}}var r=fC(t,e);return r||(FU(t,e)?{type:"bpmn:Association",associationDirection:"One"}:BU(t,e)?{type:"bpmn:Association",associationDirection:"None"}:!1)}function F0(t,e){return ht(t)||dC(t)?!0:$(e,"bpmn:Participant")&&!rt(e)?!1:$(t,"bpmn:Participant")?$(e,"bpmn:Process")||$(e,"bpmn:Collaboration"):Qe(t,["bpmn:DataInput","bpmn:DataOutput"])&&t.parent?e===t.parent:$(t,"bpmn:Lane")?$(e,"bpmn:Participant")||$(e,"bpmn:Lane"):$(t,"bpmn:BoundaryEvent")&&!Spe(t)?!1:$(t,"bpmn:FlowElement")&&!$(t,"bpmn:DataStoreReference")?$(e,"bpmn:FlowElementsContainer")?rt(e):Qe(e,["bpmn:Participant","bpmn:Lane"]):$(t,"bpmn:DataStoreReference")&&$(e,"bpmn:Collaboration")?zs(ve(e).get("participants"),function(n){return!!n.get("processRef")}):Qe(t,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Qe(e,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):$(t,"bpmn:MessageFlow")?$(e,"bpmn:Collaboration")||t.source.parent==e||t.target.parent==e:!1}function Spe(t){return ve(t).cancelActivity&&(DU(t)||MU(t))}function Cpe(t){return!ht(t)&&$(t,"bpmn:BoundaryEvent")}function kpe(t){return $(t,"bpmn:Lane")}function Ope(t){return Cpe(t)||$(t,"bpmn:IntermediateThrowEvent")&&DU(t)?!0:$(t,"bpmn:IntermediateCatchEvent")&&MU(t)}function DU(t){var e=ve(t);return e&&!(e.eventDefinitions&&e.eventDefinitions.length)}function MU(t){return $U(t,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function $U(t,e){return e.some(function(n){return Vo(t,n)})}function Rpe(t){return $(t,"bpmn:ReceiveTask")&&Ge(t.incoming,function(e){return $(e.source,"bpmn:EventBasedGateway")})}function gf(t,e,n,r){if(Array.isArray(t)||(t=[t]),t.length!==1)return!1;var i=t[0];return ht(i)||!Ope(i)||Un(e)||!$(e,"bpmn:Activity")||a2(e)||r&&!PU(r,e)||Rpe(e)?!1:"attach"}function NU(t,e,n){if(!e)return!1;var r={replacements:[]};return ee(t,function(i){Un(e)||$(i,"bpmn:StartEvent")&&i.type!=="label"&&F0(i,e)&&(jV(i)||r.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),(T0e(i)||I0e(i)||D0e(i))&&r.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"}),$U(i,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&$(e,"bpmn:SubProcess")&&r.replacements.push({oldElementId:i.id,newElementType:"bpmn:StartEvent"})),$(e,"bpmn:Transaction")||Vo(i,"bpmn:CancelEventDefinition")&&i.type!=="label"&&($(i,"bpmn:EndEvent")&&F0(i,e)&&r.replacements.push({oldElementId:i.id,newElementType:"bpmn:EndEvent"}),$(i,"bpmn:BoundaryEvent")&&gf(i,e,null,n)&&r.replacements.push({oldElementId:i.id,newElementType:"bpmn:BoundaryEvent"}))}),r.replacements.length?r:!1}function LU(t,e){return zs(t,kpe)?!1:e?t.every(function(n){return F0(n,e)}):!0}function ew(t,e,n,r){return e?ht(t)||dC(t)?!0:gpe(n,e)||n&&Jx(n,e)?!1:F0(t,e)||Ag(t,e):!1}function jU(t,e){return $(t,"bpmn:SubProcess")?rt(t)&&(!e||e.width>=100&&e.height>=80):!!($(t,"bpmn:Lane")||$(t,"bpmn:Participant")||Zx(t)||dC(t))}function Ppe(t,e){var n=Zx(t),r=Zx(e);return(n||r)&&n!==r}function BU(t,e){return Jx(e,t)||Jx(t,e)?!1:Ppe(t,e)?!0:!!fC(t,e)}function FU(t,e){return TU(t,e)&&AU(t)&&$(e,"bpmn:Activity")&&!Tpe(e,t)&&!Un(e)}function zU(t,e){return MP(t)&&!MP(e)?!1:ype(t)&&bpe(e)&&!vpe(t,e)}function qU(t,e){return _pe(t)&&xpe(e)&&TU(t,e)&&!($(t,"bpmn:EventBasedGateway")&&!wpe(e))}function fC(t,e){return Qe(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Qe(e,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:Qe(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Qe(t,["bpmn:Activity","bpmn:CatchEvent"])?{type:"bpmn:DataOutputAssociation"}:!1}function Ag(t,e,n){if(!e)return!1;if(Array.isArray(t)){if(t.length!==1)return!1;t=t[0]}return e.source===t||e.target===t?!1:Qe(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!ht(e)&&$(t,"bpmn:FlowNode")&&!$(t,"bpmn:BoundaryEvent")&&F0(t,e.parent)}function Ape(t,e){return t&&e&&t.indexOf(e)!==-1}function VU(t,e){return ht(e)?!0:!($(e,"bpmn:Lane")&&!Ape(t,e.parent))}function MP(t){return j0(t,"bpmn:Process")||j0(t,"bpmn:Collaboration")}function Tpe(t,e){return t.attachers.includes(e)}const Ipe={__depends__:[qi],__init__:["bpmnRules"],bpmnRules:["type",Xn]};var Dpe=2e3;function HU(t,e){t.on("saveXML.start",Dpe,n);function n(){var r=e.getRootElements();ee(r,function(i){var o=ft(i),s,a;s=gh([i],!1),s=Xe(s,function(l){return l!==i&&!l.labelTarget}),a=Nn(s,ft),o.set("planeElement",a)})}}HU.$inject=["eventBus","canvas"];const Mpe={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",HU]};function l2(t){xe.call(this,t);var e=this;this.preExecute(["shape.create","connection.create"],function(n){var r=n.context,i=r.shape||r.connection,o=r.parent,s=e.getOrdering(i,o);s&&(s.parent!==void 0&&(r.parent=s.parent),r.parentIndex=s.index)}),this.preExecute(["shape.move","connection.move"],function(n){var r=n.context,i=r.shape||r.connection,o=r.newParent||i.parent,s=e.getOrdering(i,o);s&&(s.parent!==void 0&&(r.newParent=s.parent),r.newParentIndex=s.index)})}l2.prototype.getOrdering=function(t,e){return null};Oe(l2,xe);function hC(t,e){l2.call(this,t);var n=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function r(s){if(s.labelTarget)return{level:10};var a=Ge(n,function(l){return Qe(s,[l.type])});return a&&a.order||{level:1}}function i(s){var a=s.order;if(a||(s.order=a=r(s)),!a)throw new Error(`no order for <${s.id}>`);return a}function o(s,a,l){for(var c=a;c&&!Qe(c,l);)c=c.parent;if(!c)throw new Error(`no parent for <${s.id}> in <${a&&a.id}>`);return c}this.getOrdering=function(s,a){if(s.labelTarget||$(s,"bpmn:TextAnnotation"))return{parent:e.findRoot(a)||e.getRootElement(),index:-1};var l=i(s);l.containers&&(a=o(s,a,l.containers));var c=a.children.indexOf(s),u=Fq(a.children,function(d){return!s.labelTarget&&d.labelTarget?!1:l.level<i(d).level});return u!==-1&&c!==-1&&c<u&&(u-=1),{index:u,parent:a}}}hC.$inject=["eventBus","canvas"];Oe(hC,l2);const $pe={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",hC]};function Th(){}Th.prototype.get=function(){return this._data};Th.prototype.set=function(t){this._data=t};Th.prototype.clear=function(){var t=this._data;return delete this._data,t};Th.prototype.isEmpty=function(){return!this._data};const pC={clipboard:["type",Th]};var Npe="drop-ok",$P="drop-not-ok",NP="attach-ok",LP="new-parent",jP="create",Lpe=2e3;function UU(t,e,n,r,i){function o(l,c,u,d,f){if(!c)return!1;l=Xe(l,function(y){var _=y.labelTarget;return!y.parent&&!(ht(y)&&l.indexOf(_)!==-1)});var h=Ge(l,function(y){return!Tt(y)}),p=!1,m=!1,g=!1;FP(l)&&(p=i.allowed("shape.attach",{position:u,shape:h,target:c})),p||(FP(l)?g=i.allowed("shape.create",{position:u,shape:h,source:d,target:c}):g=i.allowed("elements.create",{elements:l,position:u,target:c}));var v=f.connectionTarget;return g||p?(h&&d&&(m=i.allowed("connection.create",{source:v===d?h:d,target:v===d?d:h,hints:{targetParent:c,targetAttach:p}})),{attach:p,connect:m}):g===null||p===null?null:!1}function s(l,c){[NP,Npe,$P,LP].forEach(function(u){u===c?t.addMarker(l,u):t.removeMarker(l,u)})}n.on(["create.move","create.hover"],function(l){var c=l.context,u=c.elements,d=l.hover,f=c.source,h=c.hints||{};if(!d){c.canExecute=!1,c.target=null;return}BP(l);var p={x:l.x,y:l.y},m=c.canExecute=d&&o(u,d,p,f,h);d&&m!==null&&(c.target=d,m&&m.attach?s(d,NP):s(d,m?LP:$P))}),n.on(["create.end","create.out","create.cleanup"],function(l){var c=l.hover;c&&s(c,null)}),n.on("create.end",function(l){var c=l.context,u=c.source,d=c.shape,f=c.elements,h=c.target,p=c.canExecute,m=p&&p.attach,g=p&&p.connect,v=c.hints||{};if(p===!1||!h)return!1;BP(l);var y={x:l.x,y:l.y};g?d=r.appendShape(u,d,y,h,{attach:m,connection:g===!0?{}:g,connectionTarget:v.connectionTarget}):(f=r.createElements(f,y,h,re({},v,{attach:m})),d=Ge(f,function(_){return!Tt(_)})),re(c,{elements:f,shape:d}),re(l,{elements:f,shape:d})});function a(){var l=e.context();l&&l.prefix===jP&&e.cancel()}n.on("create.init",function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],Lpe,function(){n.off("elements.changed",a)})}),this.start=function(l,c,u){Fe(c)||(c=[c]);var d=Ge(c,function(p){return!Tt(p)});if(d){u=re({elements:c,hints:{},shape:d},u||{}),ee(c,function(p){He(p.x)||(p.x=0),He(p.y)||(p.y=0)});var f=Xe(c,function(p){return!p.hidden}),h=Cn(f);ee(c,function(p){Tt(p)&&(p.waypoints=Nn(p.waypoints,function(m){return{x:m.x-h.x-h.width/2,y:m.y-h.y-h.height/2}})),re(p,{x:p.x-h.x-h.width/2,y:p.y-h.y-h.height/2})}),e.init(l,jP,{cursor:"grabbing",autoActivate:!0,data:{shape:d,elements:c,context:u}})}}}UU.$inject=["canvas","dragging","eventBus","modeling","rules"];function BP(t){var e=t.context,n=e.createConstraints;n&&(n.left&&(t.x=Math.max(t.x,n.left)),n.right&&(t.x=Math.min(t.x,n.right)),n.top&&(t.y=Math.max(t.y,n.top)),n.bottom&&(t.y=Math.min(t.y,n.bottom)))}function FP(t){return t&&t.length===1&&!Tt(t[0])}var jpe=750;function WU(t,e,n,r,i){function o(s){var a=Me("g");Ce(a,i.cls("djs-drag-group",["no-events"]));var l=Me("g");return s.forEach(function(c){var u;c.hidden||(c.waypoints?(u=n._createContainer("connection",l),n.drawConnection(Gl(u),c)):(u=n._createContainer("shape",l),n.drawShape(Gl(u),c),Hn(u,c.x,c.y)),r.addDragger(c,a,u))}),a}e.on("create.move",jpe,function(s){var a=s.hover,l=s.context,c=l.elements,u=l.dragGroup;u||(u=l.dragGroup=o(c));var d;a?(u.parentNode||(d=t.getActiveLayer(),Ve(d,u)),Hn(u,s.x,s.y)):Sn(u)}),e.on("create.cleanup",function(s){var a=s.context,l=a.dragGroup;l&&Sn(l)})}WU.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const Iu={__depends__:[Ws,Tu,qi,$r],__init__:["create","createPreview"],create:["type",UU],createPreview:["type",WU]};function mC(t){var e=this;this._lastMoveEvent=null;function n(r){e._lastMoveEvent=r}t.on("canvas.init",function(r){var i=e._svg=r.svg;i.addEventListener("mousemove",n)}),t.on("canvas.destroy",function(){e._lastMouseEvent=null,e._svg.removeEventListener("mousemove",n)})}mC.$inject=["eventBus"];mC.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||Bpe(0,0)};function Bpe(t,e){var n=document.createEvent("MouseEvent"),r=t,i=e,o=t,s=e;return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,r,i,o,s,!1,!1,!1,!1,0,null),n}const Ih={__init__:["mouse"],mouse:["type",mC]};function vo(t,e,n,r,i,o,s,a){this._canvas=t,this._create=e,this._clipboard=n,this._elementFactory=r,this._eventBus=i,this._modeling=o,this._mouse=s,this._rules=a,i.on("copyPaste.copyElement",function(l){var c=l.descriptor,u=l.element,d=l.elements;c.priority=1,c.id=u.id;var f=Ge(d,function(h){return h===u.parent});f&&(c.parent=u.parent.id),Fpe(u)&&(c.priority=2,c.host=u.host.id),Tt(u)&&(c.priority=3,c.source=u.source.id,c.target=u.target.id,c.waypoints=zpe(u)),ht(u)&&(c.priority=4,c.labelTarget=u.labelTarget.id),ee(["x","y","width","height"],function(h){He(u[h])&&(c[h]=u[h])}),c.hidden=u.hidden,c.collapsed=u.collapsed}),i.on("copyPaste.pasteElements",function(l){var c=l.hints;re(c,{createElementsBehavior:!1})})}vo.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];vo.prototype.copy=function(t){var e,n;return Fe(t)||(t=t?[t]:[]),e=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}),e===!1?n={}:n=this.createTree(Fe(e)?e:t),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:n}),n};vo.prototype.paste=function(t){var e=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var r=this._createElements(e);if(t&&t.element&&t.point)return this._paste(r,t.element,t.point,n);this._create.start(this._mouse.getLastMoveEvent(),r,{hints:n||{}})}};vo.prototype._paste=function(t,e,n,r){ee(t,function(o){He(o.x)||(o.x=0),He(o.y)||(o.y=0)});var i=Cn(t);return ee(t,function(o){Tt(o)&&(o.waypoints=Nn(o.waypoints,function(s){return{x:s.x-i.x-i.width/2,y:s.y-i.y-i.height/2}})),re(o,{x:o.x-i.x-i.width/2,y:o.y-i.y-i.height/2})}),this._modeling.createElements(t,n,e,re({},r))};vo.prototype._createElements=function(t){var e=this,n=this._eventBus,r={},i=[];return ee(t,function(o,s){o=br(o,"priority"),ee(o,function(a){var l=re({},Qo(a,["priority"]));r[a.parent]?l.parent=r[a.parent]:delete l.parent,n.fire("copyPaste.pasteElement",{cache:r,descriptor:l});var c;if(Tt(l)){l.source=r[a.source],l.target=r[a.target],c=r[a.id]=e.createConnection(l),i.push(c);return}if(ht(l)){l.labelTarget=r[l.labelTarget],c=r[a.id]=e.createLabel(l),i.push(c);return}l.host&&(l.host=r[l.host]),c=r[a.id]=e.createShape(l),i.push(c)})}),i};vo.prototype.createConnection=function(t){var e=this._elementFactory.createConnection(Qo(t,["id"]));return e};vo.prototype.createLabel=function(t){var e=this._elementFactory.createLabel(Qo(t,["id"]));return e};vo.prototype.createShape=function(t){var e=this._elementFactory.createShape(Qo(t,["id"]));return e};vo.prototype.hasRelations=function(t,e){var n,r,i;return!(Tt(t)&&(r=Ge(e,io({id:t.source.id})),i=Ge(e,io({id:t.target.id})),!r||!i)||ht(t)&&(n=Ge(e,io({id:t.labelTarget.id})),!n))};vo.prototype.createTree=function(t){var e=this._rules,n=this,r={},i=[],o=Dv(t);function s(c,u){return e.allowed("element.copy",{element:c,elements:u})}function a(c,u){var d=Ge(i,function(f){return c===f.element});if(!d){i.push({element:c,depth:u});return}d.depth<u&&(i=l(d,i),i.push({element:d.element,depth:u}))}function l(c,u){var d=u.indexOf(c);return d!==-1&&u.splice(d,1),u}return bc(o,function(c,u,d){if(ht(c))return;ee(c.labels,function(p){a(p,d)});function f(p){p&&p.length&&ee(p,function(m){ee(m.labels,function(g){a(g,d)}),a(m,d)})}ee([c.attachers,c.incoming,c.outgoing],f),a(c,d);var h=[];return c.children&&(h=c.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:c,children:h}),h}),t=Nn(i,function(c){return c.element}),i=Nn(i,function(c){return c.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:c.descriptor,element:c.element,elements:t}),c}),i=br(i,function(c){return c.descriptor.priority}),t=Nn(i,function(c){return c.element}),ee(i,function(c){var u=c.depth;if(!n.hasRelations(c.element,t)){qP(c.element,t);return}if(!s(c.element,t)){qP(c.element,t);return}r[u]||(r[u]=[]),r[u].push(c.descriptor)}),r};function Fpe(t){return!!t.host}function zpe(t){return Nn(t.waypoints,function(e){return e=zP(e),e.original&&(e.original=zP(e.original)),e})}function zP(t){return re({},t)}function qP(t,e){var n=e.indexOf(t);return n===-1?e:e.splice(n,1)}const qpe={__depends__:[pC,Iu,Ih,qi],__init__:["copyPaste"],copyPaste:["type",vo]};function b3(t,e,n){Fe(n)||(n=[n]),ee(n,function(r){Oa(t[r])||(e[r]=t[r])})}var _3=750;function GU(t,e,n){function r(l,c){var u=t.create(l.$type);return n.copyElement(l,u,null,c)}e.on("copyPaste.copyElement",_3,function(l){var c=l.descriptor,u=l.element,d=ve(u);if(ht(u))return c;var f=c.businessObject=r(d,!0),h=c.di=r(ft(u),!0);h.bpmnElement=f,b3(f,c,"name"),b3(h,c,"isExpanded"),d.default&&(c.default=d.default.id)});var i="-bpmn-js-refs";function o(l){return l[i]=l[i]||{}}function s(l,c){l[i]=c}function a(l,c,u){var d=ve(l);return l.default&&(u[l.default]={element:d,property:"default"}),l.host&&(ve(l).attachedToRef=ve(c[l.host])),Qo(u,cn(u,function(f,h,p){var m=h.element,g=h.property;return p===l.id&&(m.set(g,d),f.push(l.id)),f},[]))}e.on("copyPaste.pasteElement",function(l){var c=l.cache,u=l.descriptor,d=u.businessObject,f=u.di;if(ht(u)){u.businessObject=ve(c[u.labelTarget]),u.di=ft(c[u.labelTarget]);return}d=u.businessObject=r(d),f=u.di=r(f),f.bpmnElement=d,b3(u,d,["isExpanded","name"]),u.type=d.$type}),e.on("copyPaste.copyElement",_3,function(l){var c=l.descriptor,u=l.element;if($(u,"bpmn:Participant")){var d=ve(u);d.processRef&&(c.processRef=r(d.processRef,!0))}}),e.on("copyPaste.pasteElement",function(l){var c=l.descriptor,u=c.processRef;u&&(c.processRef=r(u))}),e.on("copyPaste.pasteElement",_3,function(l){var c=l.cache,u=l.descriptor;s(c,a(u,c,o(c)))})}GU.$inject=["bpmnFactory","eventBus","moddleCopy"];const Vpe=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"],Hpe=["errorRef","escalationRef","messageRef","signalRef"];function Dh(t,e,n){this._bpmnFactory=e,this._eventBus=t,this._moddle=n,t.on("moddleCopy.canCopyProperties",r=>{const{propertyNames:i}=r;if(!(!i||!i.length))return br(i,o=>o==="extensionElements")}),t.on("moddleCopy.canCopyProperty",r=>{const{parent:i,property:o,propertyName:s}=r,a=On(i)&&i.$descriptor;if(s&&Hpe.includes(s))return o;if(s&&Vpe.includes(s)||s&&a&&!Ge(a.properties,io({name:s})))return!1}),t.on("moddleCopy.canSetCopiedProperty",r=>{const{property:i}=r;if($(i,"bpmn:ExtensionElements")&&(!i.values||!i.values.length))return!1})}Dh.$inject=["eventBus","bpmnFactory","moddle"];Dh.prototype.copyElement=function(t,e,n,r=!1){n&&!Fe(n)&&(n=[n]),n=n||tw(t.$descriptor);const i=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:t,targetElement:e,clone:r});return i===!1||(Fe(i)&&(n=i),ee(n,o=>{let s;gr(t,o)&&(s=t.get(o));const a=this.copyProperty(s,e,o,r);!Jt(a)||this._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:e,property:a,propertyName:o})===!1||e.set(o,a)})),e};Dh.prototype.copyProperty=function(t,e,n,r=!1){let i=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:e,property:t,propertyName:n,clone:r});if(i===!1)return;if(i)return On(i)&&i.$type&&!i.$parent&&(i.$parent=e),i;const o=this._moddle.getPropertyDescriptor(e,n);if(!o.isReference)return o.isId?t&&this._copyId(t,e,r):Fe(t)?cn(t,(s,a)=>{const l=this.copyProperty(a,e,n,r);return l?s.concat(l):s},[]):On(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:(i=this._bpmnFactory.create(t.$type),i.$parent=e,i=this.copyElement(t,i,null,r),i):t};Dh.prototype._copyId=function(t,e,n=!1){if(n)return t;if(!this._moddle.ids.assigned(t))return this._moddle.ids.claim(t,e),t};function tw(t,e){return cn(t.properties,(n,r)=>e&&r.default?n:n.concat(r.name),[])}const KU={__depends__:[qpe],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",GU],moddleCopy:["type",Dh]};var VP=Math.round;function gC(t,e){this._modeling=t,this._eventBus=e}gC.$inject=["modeling","eventBus"];gC.prototype.replaceElement=function(t,e,n){if(t.waypoints)return null;var r=this._modeling,i=this._eventBus;i.fire("replace.start",{element:t,attrs:e,hints:n});var o=e.width||t.width,s=e.height||t.height,a=e.x||t.x,l=e.y||t.y,c=VP(a+o/2),u=VP(l+s/2),d=r.replaceShape(t,re({},e,{x:c,y:u,width:o,height:s}),n);return i.fire("replace.end",{element:t,newElement:d,hints:n}),d};function XU(t,e){e.on("replace.end",500,function(n){const{newElement:r,hints:i={}}=n;i.select!==!1&&t.select(r)})}XU.$inject=["selection","eventBus"];const YU={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",XU],replace:["type",gC]};function Upe(t,e,n){Fe(n)||(n=[n]),ee(n,function(r){Oa(t[r])||(e[r]=t[r])})}var Wpe=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Gpe(t,e){var n=t&&gr(t,"collapsed")?t.collapsed:!rt(t),r;return e&&(gr(e,"collapsed")||gr(e,"isExpanded"))?r=gr(e,"collapsed")?e.collapsed:!e.isExpanded:r=n,n!==r}function QU(t,e,n,r,i,o){function s(a,l,c){c=c||{};var u=l.type,d=a.businessObject;if(r1(d)&&(u==="bpmn:SubProcess"||u==="bpmn:AdHocSubProcess")&&Gpe(a,l))return r.toggleCollapse(a),a;var f=t.create(u),h={type:u,businessObject:f};h.di={},u==="bpmn:ExclusiveGateway"&&(h.di.isMarkerVisible=!0),Upe(a.di,h.di,["fill","stroke","background-color","border-color","color"]);var p=tw(d.$descriptor),m=tw(f.$descriptor,!0),g=Kpe(p,m);re(f,Ii(l,Wpe));var v=Xe(g,function(b){return b==="eventDefinitions"?HP(a,l.eventDefinitionType):b==="loopCharacteristics"?!Un(f):gr(f,b)||b==="processRef"&&l.isExpanded===!1||b==="triggeredByEvent"?!1:b==="isForCompensation"?!Un(f):!0});if(f=n.copyElement(d,f,v),l.eventDefinitionType&&(HP(f,l.eventDefinitionType)||(h.eventDefinitionType=l.eventDefinitionType,h.eventDefinitionAttrs=l.eventDefinitionAttrs)),$(d,"bpmn:Activity")){if(r1(d))h.isExpanded=rt(a);else if(l&&gr(l,"isExpanded")){h.isExpanded=l.isExpanded;var y=e.getDefaultSize(f,{isExpanded:h.isExpanded});h.width=y.width,h.height=y.height,h.x=a.x-(h.width-a.width)/2,h.y=a.y-(h.height-a.height)/2}rt(a)&&!$(d,"bpmn:Task")&&h.isExpanded&&(h.width=a.width,h.height=a.height)}if(r1(d)&&!r1(f)&&(c.moveChildren=!1),$(d,"bpmn:Participant")){l.isExpanded===!0?f.processRef=t.create("bpmn:Process"):c.moveChildren=!1;var _=In(a);ft(a).isHorizontal||(ft(h).isHorizontal=_),h.width=_?a.width:e.getDefaultSize(h).width,h.height=_?e.getDefaultSize(h).height:a.height}return o.allowed("shape.resize",{shape:f})||(h.height=e.getDefaultSize(h).height,h.width=e.getDefaultSize(h).width),f.name=d.name,Qe(d,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Qe(f,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(f.default=d.default),l.host&&!$(d,"bpmn:BoundaryEvent")&&$(f,"bpmn:BoundaryEvent")&&(h.host=l.host),(h.type==="bpmn:DataStoreReference"||h.type==="bpmn:DataObjectReference")&&(h.x=a.x+(a.width-h.width)/2),i.replaceElement(a,h,{...c,targetElement:l})}this.replaceElement=s}QU.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];function r1(t){return $(t,"bpmn:SubProcess")}function HP(t,e){var n=ve(t);return e&&n.get("eventDefinitions").some(function(r){return $(r,e)})}function Kpe(t,e){return t.filter(function(n){return e.includes(n)})}const ZU={__depends__:[KU,YU,$r],bpmnReplace:["type",QU]};var Xpe=250;function Ec(t){this._eventBus=t,this._tools=[],this._active=null}Ec.$inject=["eventBus"];Ec.prototype.registerTool=function(t,e){var n=this._tools;if(!e)throw new Error(`A tool has to be registered with it's "events"`);n.push(t),this.bindEvents(t,e)};Ec.prototype.isActive=function(t){return t&&this._active===t};Ec.prototype.length=function(t){return this._tools.length};Ec.prototype.setActive=function(t){var e=this._eventBus;this._active!==t&&(this._active=t,e.fire("tool-manager.update",{tool:t}))};Ec.prototype.bindEvents=function(t,e){var n=this._eventBus,r=[];n.on(e.tool+".init",function(i){var o=i.context;if(!o.reactivate&&this.isActive(t)){this.setActive(null);return}this.setActive(t)},this),ee(e,function(i){r.push(i+".ended"),r.push(i+".canceled")}),n.on(r,Xpe,function(i){this._active&&(Ype(i)||this.setActive(null))},this)};function Ype(t){var e=t.originalEvent&&t.originalEvent.target;return e&&Mr(e,'.group[data-group="tools"]')}const c2={__depends__:[Ws],__init__:["toolManager"],toolManager:["type",Ec]};function Qpe(t,e){if(t==="x"){if(e>0)return"e";if(e<0)return"w"}if(t==="y"){if(e>0)return"s";if(e<0)return"n"}return null}function Zpe(t,e){var n=[];return ee(t.concat(e),function(r){var i=r.incoming,o=r.outgoing;ee(i.concat(o),function(s){var a=s.source,l=s.target;(Sd(t,a)||Sd(t,l)||Sd(e,a)||Sd(e,l))&&(Sd(n,s)||n.push(s))})}),n}function Sd(t,e){return t.indexOf(e)!==-1}function Jpe(t,e,n){var r=t.x,i=t.y,o=t.width,s=t.height,a=n.x,l=n.y;switch(e){case"n":return{x:r,y:i+l,width:o,height:s-l};case"s":return{x:r,y:i,width:o,height:s+l};case"w":return{x:r+a,y:i,width:o-a,height:s};case"e":return{x:r,y:i,width:o+a,height:s};default:throw new Error("unknown direction: "+e)}}var x3=Math.abs,e1e=Math.round,us={x:"width",y:"height"},JU="crosshair",oa={n:"top",w:"left",s:"bottom",e:"right"},t1e=1500,i1={n:"s",w:"e",s:"n",e:"w"},o1=20;function Vi(t,e,n,r,i,o,s){this._canvas=t,this._dragging=e,this._eventBus=n,this._modeling=r,this._rules=i,this._toolManager=o,this._mouse=s;var a=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",function(l){n.once("spaceTool.selection.ended",function(){a.activateMakeSpace(l.originalEvent)})}),n.on("spaceTool.move",t1e,function(l){var c=l.context,u=c.initialized;u||(u=c.initialized=a.init(l,c)),u&&WP(l)}),n.on("spaceTool.end",function(l){var c=l.context,u=c.axis,d=c.direction,f=c.movingShapes,h=c.resizingShapes,p=c.start;if(c.initialized){WP(l);var m={x:0,y:0};m[u]=e1e(l["d"+u]),a.makeSpace(f,h,m,d,p),n.once("spaceTool.ended",function(g){a.activateSelection(g.originalEvent,!0,!0)})}})}Vi.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];Vi.prototype.activateSelection=function(t,e,n){this._dragging.init(t,"spaceTool.selection",{autoActivate:e,cursor:JU,data:{context:{reactivate:n}},trapClick:!1})};Vi.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:JU,data:{context:{}}})};Vi.prototype.makeSpace=function(t,e,n,r,i){return this._modeling.createSpace(t,e,n,r,i)};Vi.prototype.init=function(t,e){var n=x3(t.dx)>x3(t.dy)?"x":"y",r=t["d"+n],i=t[n]-r;if(x3(r)<5)return!1;r<0&&(r*=-1),M0(t)&&(r*=-1);var o=Qpe(n,r),s=this._canvas.getRootElement();!Eg(t)&&t.hover&&(s=t.hover);var a=[...gh(s,!0),...s.attachers||[]],l=this.calculateAdjustments(a,n,r,i),c=this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:l.resizingShapes,start:i}),u=n1e(l,n,o,i,c);return re(e,l,{axis:n,direction:o,spaceToolConstraints:u,start:i}),qv("resize-"+(n==="x"?"ew":"ns")),!0};Vi.prototype.calculateAdjustments=function(t,e,n,r){var i=this._rules,o=[],s=[],a=[],l=[];function c(f){o.includes(f)||o.push(f);var h=f.label;h&&!o.includes(h)&&o.push(h)}function u(f){s.includes(f)||s.push(f)}ee(t,function(f){if(!(!f.parent||ht(f))){if(Tt(f)){l.push(f);return}var h=f[e],p=h+f[us[e]];if(r1e(f)&&(n>0&&Le(f)[e]>r||n<0&&Le(f)[e]<r)){a.push(f);return}if(n>0&&h>r||n<0&&p<r){c(f);return}if(h<r&&p>r&&i.allowed("shape.resize",{shape:f})){u(f);return}}}),ee(o,function(f){var h=f.attachers;h&&ee(h,function(p){c(p)})});var d=o.concat(s);return ee(a,function(f){var h=f.host;$l(d,h)&&c(f)}),d=o.concat(s),ee(l,function(f){var h=f.source,p=f.target,m=f.label;$l(d,h)&&$l(d,p)&&m&&c(m)}),{movingShapes:o,resizingShapes:s}};Vi.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};Vi.prototype.isActive=function(){var t=this._dragging.context();return t?/^spaceTool/.test(t.prefix):!1};function UP(t){return{top:t.top-o1,right:t.right+o1,bottom:t.bottom+o1,left:t.left-o1}}function WP(t){var e=t.context,n=e.spaceToolConstraints;if(n){var r,i;He(n.left)&&(r=Math.max(t.x,n.left),t.dx=t.dx+r-t.x,t.x=r),He(n.right)&&(r=Math.min(t.x,n.right),t.dx=t.dx+r-t.x,t.x=r),He(n.top)&&(i=Math.max(t.y,n.top),t.dy=t.dy+i-t.y,t.y=i),He(n.bottom)&&(i=Math.min(t.y,n.bottom),t.dy=t.dy+i-t.y,t.y=i)}}function n1e(t,e,n,r,i){var o=t.movingShapes,s=t.resizingShapes;if(s.length){var a={},l,c;return ee(s,function(u){var d=u.attachers,f=u.children,h=De(u),p=Xe(f,function(I){return!Tt(I)&&!ht(I)&&!$l(o,I)&&!$l(s,I)}),m=Xe(f,function(I){return!Tt(I)&&!ht(I)&&$l(o,I)}),g,v,y,_=[],b=[],x,w,E,S;p.length&&(v=UP(De(Cn(p))),g=r-h[oa[n]]+v[oa[n]],n==="n"?a.bottom=c=He(c)?Math.min(c,g):g:n==="w"?a.right=c=He(c)?Math.min(c,g):g:n==="s"?a.top=l=He(l)?Math.max(l,g):g:n==="e"&&(a.left=l=He(l)?Math.max(l,g):g)),m.length&&(y=UP(De(Cn(m))),g=r-y[oa[i1[n]]]+h[oa[i1[n]]],n==="n"?a.bottom=c=He(c)?Math.min(c,g):g:n==="w"?a.right=c=He(c)?Math.min(c,g):g:n==="s"?a.top=l=He(l)?Math.max(l,g):g:n==="e"&&(a.left=l=He(l)?Math.max(l,g):g)),d&&d.length&&(d.forEach(function(I){$l(o,I)?_.push(I):b.push(I)}),_.length&&(x=De(Cn(_.map(Le))),w=h[oa[i1[n]]]-(x[oa[i1[n]]]-r)),b.length&&(E=De(Cn(b.map(Le))),S=E[oa[n]]-(h[oa[n]]-r)),n==="n"?(g=Math.min(w||1/0,S||1/0),a.bottom=c=He(c)?Math.min(c,g):g):n==="w"?(g=Math.min(w||1/0,S||1/0),a.right=c=He(c)?Math.min(c,g):g):n==="s"?(g=Math.max(w||-1/0,S||-1/0),a.top=l=He(l)?Math.max(l,g):g):n==="e"&&(g=Math.max(w||-1/0,S||-1/0),a.left=l=He(l)?Math.max(l,g):g));var k=i&&i[u.id];k&&(n==="n"?(g=r+u[us[e]]-k[us[e]],a.bottom=c=He(c)?Math.min(c,g):g):n==="w"?(g=r+u[us[e]]-k[us[e]],a.right=c=He(c)?Math.min(c,g):g):n==="s"?(g=r-u[us[e]]+k[us[e]],a.top=l=He(l)?Math.max(l,g):g):n==="e"&&(g=r-u[us[e]]+k[us[e]],a.left=l=He(l)?Math.max(l,g):g))}),a}}function $l(t,e){return t.indexOf(e)!==-1}function r1e(t){return!!t.host}var w3="djs-dragging",GP="djs-resizing",i1e=250,s1=Math.max;function eW(t,e,n,r,i){function o(s,a){ee(s,function(l){i.addDragger(l,a),n.addMarker(l,w3)})}t.on("spaceTool.selection.start",function(s){var a=n.getLayer("space"),l=s.context,c={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},u=Me("g");Ce(u,r.cls("djs-crosshair-group",["no-events"])),Ve(a,u);var d=Me("path");Ce(d,"d",c.x),dt(d).add("djs-crosshair"),Ve(u,d);var f=Me("path");Ce(f,"d",c.y),dt(f).add("djs-crosshair"),Ve(u,f),l.crosshairGroup=u}),t.on("spaceTool.selection.move",function(s){var a=s.context.crosshairGroup;Hn(a,s.x,s.y)}),t.on("spaceTool.selection.cleanup",function(s){var a=s.context,l=a.crosshairGroup;l&&Sn(l)}),t.on("spaceTool.move",i1e,function(s){var a=s.context,l=a.line,c=a.axis,u=a.movingShapes,d=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var f=n.getLayer("space");l=Me("path"),Ce(l,"d","M0,0 L0,0"),dt(l).add("djs-crosshair"),Ve(f,l),a.line=l;var h=Me("g");Ce(h,r.cls("djs-drag-group",["no-events"])),Ve(n.getActiveLayer(),h),o(u,h);var p=a.movingConnections=e.filter(function(b){var x=!1;ee(u,function(k){ee(k.outgoing,function(I){b===I&&(x=!0)})});var w=!1;ee(u,function(k){ee(k.incoming,function(I){b===I&&(w=!0)})});var E=!1;ee(d,function(k){ee(k.outgoing,function(I){b===I&&(E=!0)})});var S=!1;return ee(d,function(k){ee(k.incoming,function(I){b===I&&(S=!0)})}),Tt(b)&&(x||E)&&(w||S)});o(p,h),a.dragGroup=h}if(!a.frameGroup){var m=Me("g");Ce(m,r.cls("djs-frame-group",["no-events"])),Ve(n.getActiveLayer(),m);var g=[];ee(d,function(b){var x=i.addFrame(b,m),w=x.getBBox();g.push({element:x,initialBounds:w}),n.addMarker(b,GP)}),a.frameGroup=m,a.frames=g}var v={x:"M"+s.x+", -10000 L"+s.x+", 10000",y:"M -10000, "+s.y+" L 10000, "+s.y};Ce(l,{d:v[c]});var y={x:"y",y:"x"},_={x:s.dx,y:s.dy};_[y[a.axis]]=0,Hn(a.dragGroup,_.x,_.y),ee(a.frames,function(b){var x=b.element,w=b.initialBounds,E,S;a.direction==="e"?Ce(x,{width:s1(w.width+_.x,5)}):(E=s1(w.width-_.x,5),Ce(x,{width:E,x:w.x+w.width-E})),a.direction==="s"?Ce(x,{height:s1(w.height+_.y,5)}):(S=s1(w.height-_.y,5),Ce(x,{height:S,y:w.y+w.height-S}))})}}),t.on("spaceTool.cleanup",function(s){var a=s.context,l=a.movingShapes,c=a.movingConnections,u=a.resizingShapes,d=a.line,f=a.dragGroup,h=a.frameGroup;ee(l,function(p){n.removeMarker(p,w3)}),ee(c,function(p){n.removeMarker(p,w3)}),f&&(Sn(d),Sn(f)),ee(u,function(p){n.removeMarker(p,GP)}),h&&Sn(h)})}eW.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const o1e={__init__:["spaceToolPreview"],__depends__:[Ws,qi,c2,Tu,Ih],spaceTool:["type",Vi],spaceToolPreview:["type",eW]};function u2(t,e){t.invoke(Vi,this),this._canvas=e}u2.$inject=["injector","canvas"];Oe(u2,Vi);u2.prototype.calculateAdjustments=function(t,e,n,r){var i=this._canvas.getRootElement(),o=t[0]===i?null:t[0],s=[];o&&(s=Ov(eV(i.children.filter(c=>$(c,"bpmn:Artifact")),Cn(o))));const a=[...t,...s];var l=Vi.prototype.calculateAdjustments.call(this,a,e,n,r);return l.resizingShapes=l.resizingShapes.filter(function(c){return!($(c,"bpmn:TextAnnotation")||s1e(c)&&(e==="y"&&In(c)||e==="x"&&!In(c)))}),l};function s1e(t){return $(t,"bpmn:Participant")&&!ve(t).processRef}const tW={__depends__:[o1e],spaceTool:["type",u2]};function jt(t,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}jt.$inject=["eventBus","injector"];jt.prototype.execute=function(t,e){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:t,context:e};this._pushAction(n),this._internalExecute(n),this._popAction()};jt.prototype.canExecute=function(t,e){const n={command:t,context:e},r=this._getHandler(t);let i=this._fire(t,"canExecute",n);if(i===void 0){if(!r)return!1;r.canExecute&&(i=r.canExecute(e))}return i};jt.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,t!==!1&&this._fire("changed",{trigger:"clear"})};jt.prototype.undo=function(){let t=this._getUndoAction(),e;if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};jt.prototype.redo=function(){let t=this._getRedoAction(),e;if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};jt.prototype.register=function(t,e){this._setHandler(t,e)};jt.prototype.registerHandler=function(t,e){if(!t||!e)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(e);this.register(t,n)};jt.prototype.canUndo=function(){return!!this._getUndoAction()};jt.prototype.canRedo=function(){return!!this._getRedoAction()};jt.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};jt.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};jt.prototype._internalUndo=function(t){const e=t.command,n=t.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",t),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(t),this._fire(e,"reverted",t)})};jt.prototype._fire=function(t,e,n){arguments.length<3&&(n=e,e=null);const r=e?[t+"."+e,e]:[t];let i;n=this._eventBus.createEvent(n);for(const o of r)if(i=this._eventBus.fire("commandStack."+o,n),n.cancelBubble)break;return i};jt.prototype._createId=function(){return this._uid++};jt.prototype._atomicDo=function(t){const e=this._currentExecution;e.atomic=!0;try{t()}finally{e.atomic=!1}};jt.prototype._internalExecute=function(t,e){const n=t.command,r=t.context,i=this._getHandler(n);if(!i)throw new Error("no command handler registered for <"+n+">");this._pushAction(t),e||(this._fire(n,"preExecute",t),i.preExecute&&i.preExecute(r),this._fire(n,"preExecuted",t)),this._atomicDo(()=>{this._fire(n,"execute",t),i.execute&&this._markDirty(i.execute(r)),this._executedAction(t,e),this._fire(n,"executed",t)}),e||(this._fire(n,"postExecute",t),i.postExecute&&i.postExecute(r),this._fire(n,"postExecuted",t)),this._popAction()};jt.prototype._pushAction=function(t){const e=this._currentExecution,n=e.actions,r=n[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=r&&r.id||this._createId()),n.push(t)};jt.prototype._popAction=function(){const t=this._currentExecution,e=t.trigger,n=t.actions,r=t.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:qq("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),t.trigger=null)};jt.prototype._markDirty=function(t){const e=this._currentExecution;t&&(t=Fe(t)?t:[t],e.dirty=e.dirty.concat(t))};jt.prototype._executedAction=function(t,e){const n=++this._stackIdx;e||this._stack.splice(n,this._stack.length,t)};jt.prototype._revertedAction=function(t){this._stackIdx--};jt.prototype._getHandler=function(t){return this._handlerMap[t]};jt.prototype._setHandler=function(t,e){if(!t||!e)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=e};const d2={commandStack:["type",jt]};function ka(t,e){if(typeof e!="function")throw new Error("removeFn iterator must be a function");if(t){for(var n;n=t[0];)e(n);return t}}var a1e=250,KP=1400;function vC(t,e,n){xe.call(this,e);var r=t.get("movePreview",!1);e.on("shape.move.start",KP,function(i){var o=i.context,s=o.shapes,a=o.validatedShapes;o.shapes=XP(s),o.validatedShapes=XP(a)}),r&&e.on("shape.move.start",a1e,function(i){var o=i.context,s=o.shapes,a=[];ee(s,function(l){ee(l.labels,function(c){!c.hidden&&o.shapes.indexOf(c)===-1&&a.push(c),l.labelTarget&&a.push(l)})}),ee(a,function(l){r.makeDraggable(o,l,!0)})}),this.preExecuted("elements.move",KP,function(i){var o=i.context,s=o.closure,a=s.enclosedElements,l=[];ee(a,function(c){ee(c.labels,function(u){a[u.id]||l.push(u)})}),s.addAll(l)}),this.preExecute(["connection.delete","shape.delete"],function(i){var o=i.context,s=o.connection||o.shape;ka(s.labels,function(a){n.removeShape(a,{nested:!0})})}),this.execute("shape.delete",function(i){var o=i.context,s=o.shape,a=s.labelTarget;a&&(o.labelTargetIndex=XE(a.labels,s),o.labelTarget=a,s.labelTarget=null)}),this.revert("shape.delete",function(i){var o=i.context,s=o.shape,a=o.labelTarget,l=o.labelTargetIndex;a&&(un(a.labels,s,l),s.labelTarget=a)})}Oe(vC,xe);vC.$inject=["injector","eventBus","modeling"];function XP(t){return Xe(t,function(e){return t.indexOf(e.labelTarget)===-1})}const l1e={__init__:["labelSupport"],labelSupport:["type",vC]};var c1e=251,YP=1401,QP="attach-ok";function yC(t,e,n,r,i){xe.call(this,e);var o=t.get("movePreview",!1);e.on("shape.move.start",YP,function(s){var a=s.context,l=a.shapes,c=a.validatedShapes;a.shapes=u1e(l),a.validatedShapes=d1e(c)}),o&&e.on("shape.move.start",c1e,function(s){var a=s.context,l=a.shapes,c=nw(l);ee(c,function(u){o.makeDraggable(a,u,!0),ee(u.labels,function(d){o.makeDraggable(a,d,!0)})})}),o&&e.on("shape.move.start",function(s){var a=s.context,l=a.shapes;if(l.length===1){var c=l[0],u=c.host;u&&(n.addMarker(u,QP),e.once(["shape.move.out","shape.move.cleanup"],function(){n.removeMarker(u,QP)}))}}),this.preExecuted("elements.move",YP,function(s){var a=s.context,l=a.closure,c=a.shapes,u=nw(c);ee(u,function(d){l.add(d,l.topLevel[d.host.id])})}),this.postExecuted("elements.move",function(s){var a=s.context,l=a.shapes,c=a.newHost,u;c&&l.length!==1||(c?u=l:u=Xe(l,function(d){var f=d.host;return f1e(d)&&!h1e(l,f)}),ee(u,function(d){i.updateAttachment(d,c)}))}),this.postExecuted("elements.move",function(s){var a=s.context.shapes;ee(a,function(l){ee(l.attachers,function(c){ee(c.outgoing.slice(),function(u){var d=r.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});d||i.removeConnection(u)}),ee(c.incoming.slice(),function(u){var d=r.allowed("connection.reconnect",{connection:u,source:u.source,target:u.target});d||i.removeConnection(u)})})})}),this.postExecute("shape.create",function(s){var a=s.context,l=a.shape,c=a.host;c&&i.updateAttachment(l,c)}),this.postExecute("shape.replace",function(s){var a=s.context,l=a.oldShape,c=a.newShape;ka(l.attachers,function(u){var d=r.allowed("elements.move",{target:c,shapes:[u]});d==="attach"?i.updateAttachment(u,c):i.removeShape(u)}),c.attachers.length&&ee(c.attachers,function(u){var d=kP(u,l,c);i.moveShape(u,d,u.parent)})}),this.postExecute("shape.resize",function(s){var a=s.context,l=a.shape,c=a.oldBounds,u=a.newBounds,d=l.attachers,f=a.hints||{};f.attachSupport!==!1&&ee(d,function(h){var p=kP(h,c,u);i.moveShape(h,p,h.parent),ee(h.labels,function(m){i.moveShape(m,p,m.parent)})})}),this.preExecute("shape.delete",function(s){var a=s.context.shape;ka(a.attachers,function(l){i.removeShape(l)}),a.host&&i.updateAttachment(a,null)})}Oe(yC,xe);yC.$inject=["injector","eventBus","canvas","rules","modeling"];function nw(t){return HE(Nn(t,function(e){return e.attachers||[]}))}function u1e(t){var e=nw(t);return mae("id",t,e)}function d1e(t){var e=vc(t,"id");return Xe(t,function(n){for(;n;){if(n.host&&e[n.host.id])return!1;n=n.parent}return!0})}function f1e(t){return!!t.host}function h1e(t,e){return t.indexOf(e)!==-1}const p1e={__depends__:[qi],__init__:["attachSupport"],attachSupport:["type",yC]};function Hi(t){this._model=t}Hi.$inject=["moddle"];Hi.prototype._needsId=function(t){return Qe(t,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])};Hi.prototype._ensureId=function(t){if(t.id){this._model.ids.claim(t.id,t);return}var e;$(t,"bpmn:Activity")?e="Activity":$(t,"bpmn:Event")?e="Event":$(t,"bpmn:Gateway")?e="Gateway":Qe(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])?e="Flow":e=(t.$type||"").replace(/^[^:]*:/g,""),e+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(e,t))};Hi.prototype.create=function(t,e){var n=this._model.create(t,e||{});return this._ensureId(n),n};Hi.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})};Hi.prototype.createDiShape=function(t,e){return this.create("bpmndi:BPMNShape",re({bpmnElement:t,bounds:this.createDiBounds()},e))};Hi.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)};Hi.prototype.createDiWaypoints=function(t){var e=this;return Nn(t,function(n){return e.createDiWaypoint(n)})};Hi.prototype.createDiWaypoint=function(t){return this.create("dc:Point",Ii(t,["x","y"]))};Hi.prototype.createDiEdge=function(t,e){return this.create("bpmndi:BPMNEdge",re({bpmnElement:t,waypoint:this.createDiWaypoints([])},e))};Hi.prototype.createDiPlane=function(t,e){return this.create("bpmndi:BPMNPlane",re({bpmnElement:t},e))};function Jr(t,e,n){xe.call(this,t),this._bpmnFactory=e;var r=this;function i(h){var p=h.context,m=p.hints||{},g;!p.cropped&&m.createElementsBehavior!==!1&&(g=p.connection,g.waypoints=n.getCroppedWaypoints(g),p.cropped=!0)}this.executed(["connection.layout","connection.create"],i),this.reverted(["connection.layout"],function(h){delete h.context.cropped});function o(h){var p=h.context;r.updateParent(p.shape||p.connection,p.oldParent)}function s(h){var p=h.context,m=p.shape||p.connection,g=p.parent||p.newParent;r.updateParent(m,g)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Fr(o)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Fr(s));function a(h){var p=h.context,m=p.oldRoot,g=m.children;ee(g,function(v){$(v,"bpmn:BaseElement")&&r.updateParent(v)})}this.executed(["canvas.updateRoot"],a),this.reverted(["canvas.updateRoot"],a);function l(h){var p=h.context.shape;$(p,"bpmn:BaseElement")&&r.updateBounds(p)}this.executed(["shape.move","shape.create","shape.resize"],Fr(function(h){h.context.shape.type!=="label"&&l(h)})),this.reverted(["shape.move","shape.create","shape.resize"],Fr(function(h){h.context.shape.type!=="label"&&l(h)})),t.on("shape.changed",function(h){h.element.type==="label"&&l({context:{shape:h.element}})});function c(h){r.updateConnection(h.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Fr(c)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Fr(c));function u(h){r.updateConnectionWaypoints(h.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Fr(u)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Fr(u)),this.executed("connection.reconnect",Fr(function(h){var p=h.context,m=p.connection,g=p.oldSource,v=p.newSource,y=ve(m),_=ve(g),b=ve(v);y.conditionExpression&&!Qe(b,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(p.oldConditionExpression=y.conditionExpression,delete y.conditionExpression),g!==v&&_.default===y&&(p.oldDefault=_.default,delete _.default)})),this.reverted("connection.reconnect",Fr(function(h){var p=h.context,m=p.connection,g=p.oldSource,v=p.newSource,y=ve(m),_=ve(g),b=ve(v);p.oldConditionExpression&&(y.conditionExpression=p.oldConditionExpression),p.oldDefault&&(_.default=p.oldDefault,delete b.default)}));function d(h){r.updateAttachment(h.context)}this.executed(["element.updateAttachment"],Fr(d)),this.reverted(["element.updateAttachment"],Fr(d)),this.executed("element.updateLabel",Fr(f)),this.reverted("element.updateLabel",Fr(f));function f(h){const{element:p}=h.context,m=Di(p),g=ft(p),v=g&&g.get("label");rc(p)||Tm(p)||(m&&!v?g.set("label",e.create("bpmndi:BPMNLabel")):!m&&v&&g.set("label",void 0))}}Oe(Jr,xe);Jr.$inject=["eventBus","bpmnFactory","connectionDocking"];Jr.prototype.updateAttachment=function(t){var e=t.shape,n=e.businessObject,r=e.host;n.attachedToRef=r&&r.businessObject};Jr.prototype.updateParent=function(t,e){if(!ht(t)&&!($(t,"bpmn:DataStoreReference")&&t.parent&&$(t.parent,"bpmn:Collaboration"))){var n=t.parent,r=t.businessObject,i=ft(t),o=n&&n.businessObject,s=ft(n);$(t,"bpmn:FlowNode")&&this.updateFlowNodeRefs(r,o,e&&e.businessObject),$(t,"bpmn:DataOutputAssociation")&&(t.source?o=t.source.businessObject:o=null),$(t,"bpmn:DataInputAssociation")&&(t.target?o=t.target.businessObject:o=null),this.updateSemanticParent(r,o),$(t,"bpmn:DataObjectReference")&&r.dataObjectRef&&this.updateSemanticParent(r.dataObjectRef,o),this.updateDiParent(i,s)}};Jr.prototype.updateBounds=function(t){var e=ft(t),n=g1e(t);if(n){var r=oo(n,e.get("bounds"));re(n,{x:t.x+r.x,y:t.y+r.y})}var i=ht(t)?this._getLabel(e):e,o=i.bounds;o||(o=this._bpmnFactory.createDiBounds(),i.set("bounds",o)),re(o,{x:t.x,y:t.y,width:t.width,height:t.height})};Jr.prototype.updateFlowNodeRefs=function(t,e,n){if(n!==e){var r,i;$(n,"bpmn:Lane")&&(r=n.get("flowNodeRef"),nn(r,t)),$(e,"bpmn:Lane")&&(i=e.get("flowNodeRef"),un(i,t))}};Jr.prototype.updateDiConnection=function(t,e,n){var r=ft(t),i=ft(e),o=ft(n);r.sourceElement&&r.sourceElement.bpmnElement!==ve(e)&&(r.sourceElement=e&&i),r.targetElement&&r.targetElement.bpmnElement!==ve(n)&&(r.targetElement=n&&o)};Jr.prototype.updateDiParent=function(t,e){if(e&&!$(e,"bpmndi:BPMNPlane")&&(e=e.$parent),t.$parent!==e){var n=(e||t.$parent).get("planeElement");e?(n.push(t),t.$parent=e):(nn(n,t),t.$parent=null)}};function m1e(t){for(;t&&!$(t,"bpmn:Definitions");)t=t.$parent;return t}Jr.prototype.getLaneSet=function(t){var e,n;return $(t,"bpmn:Lane")?(e=t.childLaneSet,e||(e=this._bpmnFactory.create("bpmn:LaneSet"),t.childLaneSet=e,e.$parent=t),e):($(t,"bpmn:Participant")&&(t=t.processRef),n=t.get("laneSets"),e=n[0],e||(e=this._bpmnFactory.create("bpmn:LaneSet"),e.$parent=t,n.push(e)),e)};Jr.prototype.updateSemanticParent=function(t,e,n){var r;if(t.$parent!==e&&!(($(t,"bpmn:DataInput")||$(t,"bpmn:DataOutput"))&&($(e,"bpmn:Participant")&&"processRef"in e&&(e=e.processRef),"ioSpecification"in e&&e.ioSpecification===t.$parent))){if($(t,"bpmn:Lane"))e&&(e=this.getLaneSet(e)),r="lanes";else if($(t,"bpmn:FlowElement")){if(e){if($(e,"bpmn:Participant"))e=e.processRef;else if($(e,"bpmn:Lane"))do e=e.$parent.$parent;while($(e,"bpmn:Lane"))}r="flowElements"}else if($(t,"bpmn:Artifact")){for(;e&&!$(e,"bpmn:Process")&&!$(e,"bpmn:SubProcess")&&!$(e,"bpmn:Collaboration");)if($(e,"bpmn:Participant")){e=e.processRef;break}else e=e.$parent;r="artifacts"}else if($(t,"bpmn:MessageFlow"))r="messageFlows";else if($(t,"bpmn:Participant")){r="participants";var i=t.processRef,o;i&&(o=m1e(t.$parent||e),t.$parent&&(nn(o.get("rootElements"),i),i.$parent=null),e&&(un(o.get("rootElements"),i),i.$parent=o))}else $(t,"bpmn:DataOutputAssociation")?r="dataOutputAssociations":$(t,"bpmn:DataInputAssociation")&&(r="dataInputAssociations");if(!r)throw new Error(`no parent for <${t.id}> in <${e.id}>`);var s;if(t.$parent&&(s=t.$parent.get(r),nn(s,t)),e?(s=e.get(r),s.push(t),t.$parent=e):t.$parent=null,n){var a=n.get(r);nn(s,t),e&&(a||(a=[],e.set(r,a)),a.push(t))}}};Jr.prototype.updateConnectionWaypoints=function(t){var e=ft(t);e.set("waypoint",this._bpmnFactory.createDiWaypoints(t.waypoints))};Jr.prototype.updateConnection=function(t){var e=t.connection,n=ve(e),r=e.source,i=ve(r),o=e.target,s=ve(e.target),a;if($(n,"bpmn:DataAssociation"))$(n,"bpmn:DataInputAssociation")?(n.get("sourceRef")[0]=i,a=t.parent||t.newParent||s,this.updateSemanticParent(n,s,a)):$(n,"bpmn:DataOutputAssociation")&&(a=t.parent||t.newParent||i,this.updateSemanticParent(n,i,a),n.targetRef=s);else{var l=$(n,"bpmn:SequenceFlow");n.sourceRef!==i&&(l&&(nn(n.sourceRef&&n.sourceRef.get("outgoing"),n),i&&i.get("outgoing")&&i.get("outgoing").push(n)),n.sourceRef=i),n.targetRef!==s&&(l&&(nn(n.targetRef&&n.targetRef.get("incoming"),n),s&&s.get("incoming")&&s.get("incoming").push(n)),n.targetRef=s)}this.updateConnectionWaypoints(e),this.updateDiConnection(e,r,o)};Jr.prototype._getLabel=function(t){return t.label||(t.label=this._bpmnFactory.createDiLabel()),t.label};function Fr(t){return function(e){var n=e.context,r=n.shape||n.connection||n.element;$(r,"bpmn:BaseElement")&&t(e)}}function g1e(t){if($(t,"bpmn:Activity")){var e=ft(t);if(e){var n=e.get("label");if(n)return n.get("bounds")}}}function Ya(t,e){Fi.call(this),this._bpmnFactory=t,this._moddle=e}Oe(Ya,Fi);Ya.$inject=["bpmnFactory","moddle"];Ya.prototype._baseCreate=Fi.prototype.create;Ya.prototype.create=function(t,e){if(t==="label"){var n=e.di||this._bpmnFactory.createDiLabel();return this._baseCreate(t,re({type:"label",di:n},Lf,e))}return this.createElement(t,e)};Ya.prototype.createElement=function(t,e){e=re({},e||{});var n,r=e.businessObject,i=e.di;if(!r){if(!e.type)throw new Error("no shape type specified");r=this._bpmnFactory.create(e.type),DV(r)}if(!y1e(i)){var o=re({},i||{},{id:r.id+"_di"});t==="root"?i=this._bpmnFactory.createDiPlane(r,o):t==="connection"?i=this._bpmnFactory.createDiEdge(r,o):i=this._bpmnFactory.createDiShape(r,o)}$(r,"bpmn:Group")&&(e=re({isFrame:!0},e)),e=v1e(r,e,["processRef","isInterrupting","associationDirection","isForCompensation"]),e.isExpanded&&(e=rw(i,e,"isExpanded")),Qe(r,["bpmn:Lane","bpmn:Participant"])&&(e=rw(i,e,"isHorizontal")),$(r,"bpmn:SubProcess")&&(e.collapsed=!rt(r,i)),$(r,"bpmn:ExclusiveGateway")&&(gr(i,"isMarkerVisible")?i.isMarkerVisible===void 0&&(i.isMarkerVisible=!1):i.isMarkerVisible=!0),Jt(e.triggeredByEvent)&&(r.triggeredByEvent=e.triggeredByEvent,delete e.triggeredByEvent),Jt(e.cancelActivity)&&(r.cancelActivity=e.cancelActivity,delete e.cancelActivity);var s,a;return e.eventDefinitionType&&(s=r.get("eventDefinitions")||[],a=this._bpmnFactory.create(e.eventDefinitionType,e.eventDefinitionAttrs),e.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(a.condition=this._bpmnFactory.create("bpmn:FormalExpression")),s.push(a),a.$parent=r,r.eventDefinitions=s,delete e.eventDefinitionType),n=this.getDefaultSize(r,i),e=re({id:r.id},n,e,{businessObject:r,di:i}),this._baseCreate(t,e)};Ya.prototype.getDefaultSize=function(t,e){var n=ve(t);if(e=e||ft(t),$(n,"bpmn:SubProcess"))return rt(n,e)?{width:350,height:200}:{width:100,height:80};if($(n,"bpmn:Task"))return{width:100,height:80};if($(n,"bpmn:Gateway"))return{width:50,height:50};if($(n,"bpmn:Event"))return{width:36,height:36};if($(n,"bpmn:Participant")){var r=e.isHorizontal===void 0||e.isHorizontal===!0;return rt(n,e)?r?{width:600,height:250}:{width:250,height:600}:r?{width:400,height:60}:{width:60,height:400}}return $(n,"bpmn:Lane")?{width:400,height:100}:$(n,"bpmn:DataObjectReference")?{width:36,height:50}:$(n,"bpmn:DataStoreReference")?{width:50,height:50}:$(n,"bpmn:TextAnnotation")?{width:100,height:30}:$(n,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}};Ya.prototype.createParticipantShape=function(t){return On(t)||(t={isExpanded:t}),t=re({type:"bpmn:Participant"},t||{}),t.isExpanded!==!1&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t)};function v1e(t,e,n){return ee(n,function(r){e=rw(t,e,r)}),e}function rw(t,e,n){return e[n]===void 0?e:(t[n]=e[n],Qo(e,[n]))}function y1e(t){return Qe(t,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}function f2(t,e){this._modeling=t,this._canvas=e}f2.$inject=["modeling","canvas"];f2.prototype.preExecute=function(t){var e=this._modeling,n=t.elements,r=t.alignment;ee(n,function(i){var o={x:0,y:0};Jt(r.left)?o.x=r.left-i.x:Jt(r.right)?o.x=r.right-i.width-i.x:Jt(r.center)?o.x=r.center-Math.round(i.width/2)-i.x:Jt(r.top)?o.y=r.top-i.y:Jt(r.bottom)?o.y=r.bottom-i.height-i.y:Jt(r.middle)&&(o.y=r.middle-Math.round(i.height/2)-i.y),e.moveElements([i],o,i.parent)})};f2.prototype.postExecute=function(t){};function h2(t){this._modeling=t}h2.$inject=["modeling"];h2.prototype.preExecute=function(t){var e=t.source;if(!e)throw new Error("source required");var n=t.target||e.parent,r=t.shape,i=t.hints||{};r=t.shape=this._modeling.createShape(r,t.position,n,{attach:i.attach}),t.shape=r};h2.prototype.postExecute=function(t){var e=t.hints||{};b1e(t.source,t.shape)||(e.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))};function b1e(t,e){return zs(t.outgoing,function(n){return n.target===e})}function p2(t,e){this._canvas=t,this._layouter=e}p2.$inject=["canvas","layouter"];p2.prototype.execute=function(t){var e=t.connection,n=t.source,r=t.target,i=t.parent,o=t.parentIndex,s=t.hints;if(!n||!r)throw new Error("source and target required");if(!i)throw new Error("parent required");return e.source=n,e.target=r,e.waypoints||(e.waypoints=this._layouter.layoutConnection(e,s)),this._canvas.addConnection(e,i,o),e};p2.prototype.revert=function(t){var e=t.connection;return this._canvas.removeConnection(e),e.source=null,e.target=null,e};var a1=Math.round;function bC(t){this._modeling=t}bC.$inject=["modeling"];bC.prototype.preExecute=function(t){var e=t.elements,n=t.parent,r=t.parentIndex,i=t.position,o=t.hints,s=this._modeling;ee(e,function(d){He(d.x)||(d.x=0),He(d.y)||(d.y=0)});var a=Xe(e,function(d){return!d.hidden}),l=Cn(a);ee(e,function(d){Tt(d)&&(d.waypoints=Nn(d.waypoints,function(f){return{x:a1(f.x-l.x-l.width/2+i.x),y:a1(f.y-l.y-l.height/2+i.y)}})),re(d,{x:a1(d.x-l.x-l.width/2+i.x),y:a1(d.y-l.y-l.height/2+i.y)})});var c=Dv(e),u={};ee(e,function(d){if(Tt(d)){u[d.id]=He(r)?s.createConnection(u[d.source.id],u[d.target.id],r,d,d.parent||n,o):s.createConnection(u[d.source.id],u[d.target.id],d,d.parent||n,o);return}var f=re({},o);c.indexOf(d)===-1&&(f.autoResize=!1),ht(d)&&(f=Qo(f,["attach"])),u[d.id]=He(r)?s.createShape(d,Ii(d,["x","y","width","height"]),d.parent||n,r,f):s.createShape(d,Ii(d,["x","y","width","height"]),d.parent||n,f)}),t.elements=Ov(u)};var ZP=Math.round;function Qa(t){this._canvas=t}Qa.$inject=["canvas"];Qa.prototype.execute=function(t){var e=t.shape,n=t.position,r=t.parent,i=t.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return n.width!==void 0?re(e,n):re(e,{x:n.x-ZP(e.width/2),y:n.y-ZP(e.height/2)}),this._canvas.addShape(e,r,i),e};Qa.prototype.revert=function(t){var e=t.shape;return this._canvas.removeShape(e),e};function Mh(t){Qa.call(this,t)}Oe(Mh,Qa);Mh.$inject=["canvas"];var _1e=Qa.prototype.execute;Mh.prototype.execute=function(t){var e=t.shape;return w1e(e),e.labelTarget=t.labelTarget,_1e.call(this,t)};var x1e=Qa.prototype.revert;Mh.prototype.revert=function(t){return t.shape.labelTarget=null,x1e.call(this,t)};function w1e(t){["width","height"].forEach(function(e){typeof t[e]>"u"&&(t[e]=0)})}function $h(t,e){this._canvas=t,this._modeling=e}$h.$inject=["canvas","modeling"];$h.prototype.preExecute=function(t){var e=this._modeling,n=t.connection;ka(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),ka(n.outgoing,function(r){e.removeConnection(r,{nested:!0})})};$h.prototype.execute=function(t){var e=t.connection,n=e.parent;return t.parent=n,t.parentIndex=XE(n.children,e),t.source=e.source,t.target=e.target,this._canvas.removeConnection(e),e.source=null,e.target=null,e};$h.prototype.revert=function(t){var e=t.connection,n=t.parent,r=t.parentIndex;return e.source=t.source,e.target=t.target,un(n.children,e,r),this._canvas.addConnection(e,n),e};function _C(t,e){this._modeling=t,this._elementRegistry=e}_C.$inject=["modeling","elementRegistry"];_C.prototype.postExecute=function(t){var e=this._modeling,n=this._elementRegistry,r=t.elements;ee(r,function(i){n.get(i.id)&&(i.waypoints?e.removeConnection(i):e.removeShape(i))})};function Nh(t,e){this._canvas=t,this._modeling=e}Nh.$inject=["canvas","modeling"];Nh.prototype.preExecute=function(t){var e=this._modeling,n=t.shape;ka(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),ka(n.outgoing,function(r){e.removeConnection(r,{nested:!0})}),ka(n.children,function(r){Tt(r)?e.removeConnection(r,{nested:!0}):e.removeShape(r,{nested:!0})})};Nh.prototype.execute=function(t){var e=this._canvas,n=t.shape,r=n.parent;return t.oldParent=r,t.oldParentIndex=XE(r.children,n),e.removeShape(n),n};Nh.prototype.revert=function(t){var e=this._canvas,n=t.shape,r=t.oldParent,i=t.oldParentIndex;return un(r.children,n,i),e.addShape(n,r),n};function m2(t){this._modeling=t}m2.$inject=["modeling"];var JP={x:"y",y:"x"};m2.prototype.preExecute=function(t){var e=this._modeling,n=t.groups,r=t.axis,i=t.dimension;function o(g,v){g.range.min=Math.min(v[r],g.range.min),g.range.max=Math.max(v[r]+v[i],g.range.max)}function s(g){return g[r]+g[i]/2}function a(g){return g.length-1}function l(g){return g.max-g.min}function c(g,v){var y={y:0};y[r]=g-s(v),y[r]&&(y[JP[r]]=0,e.moveElements([v],y,v.parent))}var u=n[0],d=a(n),f=n[d],h,p,m=0;ee(n,function(g,v){var y,_,b;if(g.elements.length<2){v&&v!==n.length-1&&(o(g,g.elements[0]),m+=l(g.range));return}y=br(g.elements,r),_=y[0],v===d&&(_=y[a(y)]),b=s(_),g.range=null,ee(y,function(x){if(c(b,x),g.range===null){g.range={min:x[r],max:x[r]+x[i]};return}o(g,x)}),v&&v!==n.length-1&&(m+=l(g.range))}),p=Math.abs(f.range.min-u.range.max),h=Math.round((p-m)/(n.length-1)),!(h<n.length-1)&&ee(n,function(g,v){var y={},_;g===u||g===f||(_=n[v-1],g.range.max=0,ee(g.elements,function(b,x){y[JP[r]]=0,y[r]=_.range.max-b[r]+h,g.range.min!==b[r]&&(y[r]+=b[r]-g.range.min),y[r]&&e.moveElements([b],y,b.parent),g.range.max=Math.max(b[r]+b[i],x?g.range.max:0)}))})};m2.prototype.postExecute=function(t){};function g2(t,e){this._layouter=t,this._canvas=e}g2.$inject=["layouter","canvas"];g2.prototype.execute=function(t){var e=t.connection,n=e.waypoints;return re(t,{oldWaypoints:n}),e.waypoints=this._layouter.layoutConnection(e,t.hints),e};g2.prototype.revert=function(t){var e=t.connection;return e.waypoints=t.oldWaypoints,e};function xC(){}xC.prototype.execute=function(t){var e=t.connection,n=t.delta,r=t.newParent||e.parent,i=t.newParentIndex,o=e.parent;return t.oldParent=o,t.oldParentIndex=nn(o.children,e),un(r.children,e,i),e.parent=r,ee(e.waypoints,function(s){s.x+=n.x,s.y+=n.y,s.original&&(s.original.x+=n.x,s.original.y+=n.y)}),e};xC.prototype.revert=function(t){var e=t.connection,n=e.parent,r=t.oldParent,i=t.oldParentIndex,o=t.delta;return nn(n.children,e),un(r.children,e,i),e.parent=r,ee(e.waypoints,function(s){s.x-=o.x,s.y-=o.y,s.original&&(s.original.x-=o.x,s.original.y-=o.y)}),e};function wC(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}wC.prototype.add=function(t,e){return this.addAll([t],e)};wC.prototype.addAll=function(t,e){var n=sle(t,!!e,this);return re(this,n),this};function Lh(t){this._modeling=t}Lh.prototype.moveRecursive=function(t,e,n){return t?this.moveClosure(this.getClosure(t),e,n):[]};Lh.prototype.moveClosure=function(t,e,n,r,i){var o=this._modeling,s=t.allShapes,a=t.allConnections,l=t.enclosedConnections,c=t.topLevel,u=!1;i&&i.parent===n&&(u=!0),ee(s,function(d){o.moveShape(d,e,c[d.id]&&!u&&n,{recurse:!1,layout:!1})}),ee(a,function(d){var f=!!s[d.source.id],h=!!s[d.target.id];l[d.id]&&f&&h?o.moveConnection(d,e,c[d.id]&&!u&&n):o.layoutConnection(d,{connectionStart:f&&US(d,d.source,e),connectionEnd:h&&WS(d,d.target,e)})})};Lh.prototype.getClosure=function(t){return new wC().addAll(t,!0)};function v2(t){this._helper=new Lh(t)}v2.$inject=["modeling"];v2.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)};v2.prototype.postExecute=function(t){var e=t.hints,n;e&&e.primaryShape&&(n=e.primaryShape,e.oldParent=n.parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,n)};function Sc(t){this._modeling=t,this._helper=new Lh(t)}Sc.$inject=["modeling"];Sc.prototype.execute=function(t){var e=t.shape,n=t.delta,r=t.newParent||e.parent,i=t.newParentIndex,o=e.parent;return t.oldBounds=Ii(e,["x","y","width","height"]),t.oldParent=o,t.oldParentIndex=nn(o.children,e),un(r.children,e,i),re(e,{parent:r,x:e.x+n.x,y:e.y+n.y}),e};Sc.prototype.postExecute=function(t){var e=t.shape,n=t.delta,r=t.hints,i=this._modeling;r.layout!==!1&&(ee(e.incoming,function(o){i.layoutConnection(o,{connectionEnd:WS(o,e,n)})}),ee(e.outgoing,function(o){i.layoutConnection(o,{connectionStart:US(o,e,n)})})),r.recurse!==!1&&this.moveChildren(t)};Sc.prototype.revert=function(t){var e=t.shape,n=t.oldParent,r=t.oldParentIndex,i=t.delta;return un(n.children,e,r),re(e,{parent:n,x:e.x-i.x,y:e.y-i.y}),e};Sc.prototype.moveChildren=function(t){var e=t.delta,n=t.shape;this._helper.moveRecursive(n.children,e,null)};Sc.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};function jh(t){this._modeling=t}jh.$inject=["modeling"];jh.prototype.execute=function(t){var e=t.newSource,n=t.newTarget,r=t.connection,i=t.dockingOrPoints;if(!e&&!n)throw new Error("newSource or newTarget required");return Fe(i)&&(t.oldWaypoints=r.waypoints,r.waypoints=i),e&&(t.oldSource=r.source,r.source=e),n&&(t.oldTarget=r.target,r.target=n),r};jh.prototype.postExecute=function(t){var e=t.connection,n=t.newSource,r=t.newTarget,i=t.dockingOrPoints,o=t.hints||{},s={};o.connectionStart&&(s.connectionStart=o.connectionStart),o.connectionEnd&&(s.connectionEnd=o.connectionEnd),o.layoutConnection!==!1&&(n&&(!r||o.docking==="source")&&(s.connectionStart=s.connectionStart||eA(Fe(i)?i[0]:i)),r&&(!n||o.docking==="target")&&(s.connectionEnd=s.connectionEnd||eA(Fe(i)?i[i.length-1]:i)),o.newWaypoints&&(s.waypoints=o.newWaypoints),this._modeling.layoutConnection(e,s))};jh.prototype.revert=function(t){var e=t.oldSource,n=t.oldTarget,r=t.oldWaypoints,i=t.connection;return e&&(i.source=e),n&&(i.target=n),r&&(i.waypoints=r),i};function eA(t){return t.original||t}function Ks(t,e){this._modeling=t,this._rules=e}Ks.$inject=["modeling","rules"];Ks.prototype.preExecute=function(t){var e=this,n=this._modeling,r=this._rules,i=t.oldShape,o=t.newData,s=t.hints||{},a;function l(p,m,g){return r.allowed("connection.reconnect",{connection:g,source:p,target:m})}var c={x:o.x,y:o.y},u={x:i.x,y:i.y,width:i.width,height:i.height};a=t.newShape=t.newShape||e.createShape(o,c,i.parent,s),i.host&&n.updateAttachment(a,i.host);var d;s.moveChildren!==!1&&(d=i.children.slice(),n.moveElements(d,{x:0,y:0},a,s));var f=i.incoming.slice(),h=i.outgoing.slice();ee(f,function(p){var m=p.source,g=l(m,a,p);g&&e.reconnectEnd(p,a,i2(p,a,u),s)}),ee(h,function(p){var m=p.target,g=l(a,m,p);g&&e.reconnectStart(p,a,r2(p,a,u),s)})};Ks.prototype.postExecute=function(t){var e=t.oldShape;this._modeling.removeShape(e)};Ks.prototype.execute=function(t){};Ks.prototype.revert=function(t){};Ks.prototype.createShape=function(t,e,n,r){return this._modeling.createShape(t,e,n,r)};Ks.prototype.reconnectStart=function(t,e,n,r){this._modeling.reconnectStart(t,e,n,r)};Ks.prototype.reconnectEnd=function(t,e,n,r){this._modeling.reconnectEnd(t,e,n,r)};function Bh(t){this._modeling=t}Bh.$inject=["modeling"];Bh.prototype.execute=function(t){var e=t.shape,n=t.newBounds,r=t.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:e.width,height:e.height,x:e.x,y:e.y},re(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};Bh.prototype.postExecute=function(t){var e=this._modeling,n=t.shape,r=t.oldBounds,i=t.hints||{};i.layout!==!1&&(ee(n.incoming,function(o){e.layoutConnection(o,{connectionEnd:i2(o,n,r)})}),ee(n.outgoing,function(o){e.layoutConnection(o,{connectionStart:r2(o,n,r)})}))};Bh.prototype.revert=function(t){var e=t.shape,n=t.oldBounds;return re(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};function Za(t){this._modeling=t}Za.$inject=["modeling"];Za.prototype.preExecute=function(t){var e=t.delta,n=t.direction,r=t.movingShapes,i=t.resizingShapes,o=t.start,s={};this.moveShapes(r,e),ee(i,function(a){s[a.id]=S1e(a)}),this.resizeShapes(i,e,n),this.updateConnectionWaypoints(Zpe(r,i),e,n,o,r,i,s)};Za.prototype.execute=function(){};Za.prototype.revert=function(){};Za.prototype.moveShapes=function(t,e){var n=this;ee(t,function(r){n._modeling.moveShape(r,e,null,{autoResize:!1,layout:!1,recurse:!1})})};Za.prototype.resizeShapes=function(t,e,n){var r=this;ee(t,function(i){var o=Jpe(i,n,e);r._modeling.resizeShape(i,o,null,{attachSupport:!1,autoResize:!1,layout:!1})})};Za.prototype.updateConnectionWaypoints=function(t,e,n,r,i,o,s){var a=this,l=i.concat(o);ee(t,function(c){var u=c.source,d=c.target,f=E1e(c),h=nW(n),p={};sa(l,u)&&sa(l,d)?(f=Nn(f,function(m){return nA(m,r,n)&&(m[h]=m[h]+e[h]),m.original&&nA(m.original,r,n)&&(m.original[h]=m.original[h]+e[h]),m}),a._modeling.updateWaypoints(c,f,{labelBehavior:!1})):(sa(l,u)||sa(l,d))&&(sa(i,u)?p.connectionStart=US(c,u,e):sa(i,d)?p.connectionEnd=WS(c,d,e):sa(o,u)?p.connectionStart=r2(c,u,s[u.id]):sa(o,d)&&(p.connectionEnd=i2(c,d,s[d.id])),a._modeling.layoutConnection(c,p))})};function tA(t){return re({},t)}function E1e(t){return Nn(t.waypoints,function(e){return e=tA(e),e.original&&(e.original=tA(e.original)),e})}function nW(t){switch(t){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function nA(t,e,n){var r=nW(n);if(/e|s/.test(n))return t[r]>e;if(/n|w/.test(n))return t[r]<e}function sa(t,e){return t.indexOf(e)!==-1}function S1e(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}function y2(t){this._modeling=t}y2.$inject=["modeling"];y2.prototype.execute=function(t){var e=t.shape,n=e.children;t.oldChildrenVisibility=rW(n),e.collapsed=!e.collapsed;var r=iW(n,e.collapsed);return[e].concat(r)};y2.prototype.revert=function(t){var e=t.shape,n=t.oldChildrenVisibility,r=e.children,i=oW(r,n);return e.collapsed=!e.collapsed,[e].concat(i)};function rW(t){var e={};return ee(t,function(n){e[n.id]=n.hidden,n.children&&(e=re({},e,rW(n.children)))}),e}function iW(t,e){var n=[];return ee(t,function(r){r.hidden=e,n=n.concat(r),r.children&&(n=n.concat(iW(r.children,r.collapsed||e)))}),n}function oW(t,e){var n=[];return ee(t,function(r){r.hidden=e[r.id],n=n.concat(r),r.children&&(n=n.concat(oW(r.children,e)))}),n}function b2(t){this._modeling=t}b2.$inject=["modeling"];b2.prototype.execute=function(t){var e=t.shape,n=t.newHost,r=e.host;return t.oldHost=r,t.attacherIdx=sW(r,e),aW(n,e),e.host=n,e};b2.prototype.revert=function(t){var e=t.shape,n=t.newHost,r=t.oldHost,i=t.attacherIdx;return e.host=r,sW(n,e),aW(r,e,i),e};function sW(t,e){return nn(t&&t.attachers,e)}function aW(t,e,n){if(t){var r=t.attachers;r||(t.attachers=r=[]),un(r,e,n)}}function EC(){}EC.prototype.execute=function(t){var e=t.connection,n=t.newWaypoints;return t.oldWaypoints=e.waypoints,e.waypoints=n,e};EC.prototype.revert=function(t){var e=t.connection,n=t.oldWaypoints;return e.waypoints=n,e};function kt(t,e,n){this._eventBus=t,this._elementFactory=e,this._commandStack=n;var r=this;t.on("diagram.init",function(){r.registerHandlers(n)})}kt.$inject=["eventBus","elementFactory","commandStack"];kt.prototype.getHandlers=function(){return{"shape.append":h2,"shape.create":Qa,"shape.delete":Nh,"shape.move":Sc,"shape.resize":Bh,"shape.replace":Ks,"shape.toggleCollapse":y2,spaceTool:Za,"label.create":Mh,"connection.create":p2,"connection.delete":$h,"connection.move":xC,"connection.layout":g2,"connection.updateWaypoints":EC,"connection.reconnect":jh,"elements.create":bC,"elements.move":v2,"elements.delete":_C,"elements.distribute":m2,"elements.align":f2,"element.updateAttachment":b2}};kt.prototype.registerHandlers=function(t){ee(this.getHandlers(),function(e,n){t.registerHandler(n,e)})};kt.prototype.moveShape=function(t,e,n,r,i){typeof r=="object"&&(i=r,r=null);var o={shape:t,delta:e,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("shape.move",o)};kt.prototype.updateAttachment=function(t,e){var n={shape:t,newHost:e};this._commandStack.execute("element.updateAttachment",n)};kt.prototype.moveElements=function(t,e,n,r){r=r||{};var i=r.attach,o=n,s;i===!0?(s=n,o=n.parent):i===!1&&(s=null);var a={shapes:t,delta:e,newParent:o,newHost:s,hints:r};this._commandStack.execute("elements.move",a)};kt.prototype.moveConnection=function(t,e,n,r,i){typeof r=="object"&&(i=r,r=void 0);var o={connection:t,delta:e,newParent:n,newParentIndex:r,hints:i||{}};this._commandStack.execute("connection.move",o)};kt.prototype.layoutConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.layout",n)};kt.prototype.createConnection=function(t,e,n,r,i,o){typeof n=="object"&&(o=i,i=r,r=n,n=void 0),r=this._create("connection",r);var s={source:t,target:e,parent:i,parentIndex:n,connection:r,hints:o};return this._commandStack.execute("connection.create",s),s.connection};kt.prototype.createShape=function(t,e,n,r,i){typeof r!="number"&&(i=r,r=void 0),i=i||{};var o=i.attach,s,a;t=this._create("shape",t),o?(s=n.parent,a=n):s=n;var l={position:e,shape:t,parent:s,parentIndex:r,host:a,hints:i};return this._commandStack.execute("shape.create",l),l.shape};kt.prototype.createElements=function(t,e,n,r,i){Fe(t)||(t=[t]),typeof r!="number"&&(i=r,r=void 0),i=i||{};var o={position:e,elements:t,parent:n,parentIndex:r,hints:i};return this._commandStack.execute("elements.create",o),o.elements};kt.prototype.createLabel=function(t,e,n,r){n=this._create("label",n);var i={labelTarget:t,position:e,parent:r||t.parent,shape:n};return this._commandStack.execute("label.create",i),i.shape};kt.prototype.appendShape=function(t,e,n,r,i){i=i||{},e=this._create("shape",e);var o={source:t,position:n,target:r,shape:e,connection:i.connection,connectionParent:i.connectionParent,hints:i};return this._commandStack.execute("shape.append",o),o.shape};kt.prototype.removeElements=function(t){var e={elements:t};this._commandStack.execute("elements.delete",e)};kt.prototype.distributeElements=function(t,e,n){var r={groups:t,axis:e,dimension:n};this._commandStack.execute("elements.distribute",r)};kt.prototype.removeShape=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.delete",n)};kt.prototype.removeConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.delete",n)};kt.prototype.replaceShape=function(t,e,n){var r={oldShape:t,newData:e,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape};kt.prototype.alignElements=function(t,e){var n={elements:t,alignment:e};this._commandStack.execute("elements.align",n)};kt.prototype.resizeShape=function(t,e,n,r){var i={shape:t,newBounds:e,minBounds:n,hints:r};this._commandStack.execute("shape.resize",i)};kt.prototype.createSpace=function(t,e,n,r,i){var o={delta:n,direction:r,movingShapes:t,resizingShapes:e,start:i};this._commandStack.execute("spaceTool",o)};kt.prototype.updateWaypoints=function(t,e,n){var r={connection:t,newWaypoints:e,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)};kt.prototype.reconnect=function(t,e,n,r,i){var o={connection:t,newSource:e,newTarget:n,dockingOrPoints:r,hints:i||{}};this._commandStack.execute("connection.reconnect",o)};kt.prototype.reconnectStart=function(t,e,n,r){r||(r={}),this.reconnect(t,e,t.target,n,re(r,{docking:"source"}))};kt.prototype.reconnectEnd=function(t,e,n,r){r||(r={}),this.reconnect(t,t.source,e,n,re(r,{docking:"target"}))};kt.prototype.connect=function(t,e,n,r){return this.createConnection(t,e,n||{},t.parent,r)};kt.prototype._create=function(t,e){return Ble(e)?e:this._elementFactory.create(t,e)};kt.prototype.toggleCollapse=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.toggleCollapse",n)};function Fh(t){this._elementRegistry=t}Fh.$inject=["elementRegistry"];Fh.prototype.execute=function(t){var e=t.element,n=t.moddleElement,r=t.properties;if(!n)throw new Error("<moddleElement> required");var i=t.changed||this._getVisualReferences(n).concat(e),o=t.oldProperties||C1e(n,js(r));return lW(n,r),t.oldProperties=o,t.changed=i,i};Fh.prototype.revert=function(t){var e=t.oldProperties,n=t.moddleElement,r=t.changed;return lW(n,e),r};Fh.prototype._getVisualReferences=function(t){var e=this._elementRegistry;return $(t,"bpmn:DataObject")?k1e(t,e):[]};function C1e(t,e){return cn(e,function(n,r){return n[r]=t.get(r),n},{})}function lW(t,e){ee(e,function(n,r){t.set(r,n)})}function k1e(t,e){return e.filter(function(n){return $(n,"bpmn:DataObjectReference")&&ve(n).dataObjectRef===t})}var Cd="default",Os="id",cW="di",O1e={width:0,height:0};function zh(t,e,n,r){this._elementRegistry=t,this._moddle=e,this._modeling=n,this._textRenderer=r}zh.$inject=["elementRegistry","moddle","modeling","textRenderer"];zh.prototype.execute=function(t){var e=t.element,n=[e];if(!e)throw new Error("element required");var r=this._elementRegistry,i=this._moddle.ids,o=e.businessObject,s=I1e(t.properties),a=t.oldProperties||R1e(e,s);return uW(s,o)&&(i.unclaim(o[Os]),r.updateId(e,s[Os]),i.claim(s[Os],o)),Cd in s&&(s[Cd]&&n.push(r.get(s[Cd].id)),o[Cd]&&n.push(r.get(o[Cd].id))),dW(e,s),t.oldProperties=a,t.changed=n,n};zh.prototype.postExecute=function(t){var e=t.element,n=e.label,r=n&&ve(n).name;if(r){var i=this._textRenderer.getExternalLabelBounds(n,r);this._modeling.resizeShape(n,i,O1e)}};zh.prototype.revert=function(t){var e=t.element,n=t.properties,r=t.oldProperties,i=e.businessObject,o=this._elementRegistry,s=this._moddle.ids;return dW(e,r),uW(n,i)&&(s.unclaim(n[Os]),o.updateId(e,r[Os]),s.claim(r[Os],i)),t.changed};function uW(t,e){return Os in t&&t[Os]!==e[Os]}function R1e(t,e){var n=js(e),r=t.businessObject,i=ft(t);return cn(n,function(o,s){return s!==cW?o[s]=r.get(s):o[s]=P1e(i,js(e.di)),o},{})}function P1e(t,e){return cn(e,function(n,r){return n[r]=t&&t.get(r),n},{})}function dW(t,e){var n=t.businessObject,r=ft(t);ee(e,function(i,o){o!==cW?n.set(o,i):r&&A1e(r,i)})}function A1e(t,e){ee(e,function(n,r){t.set(r,n)})}var T1e=["default"];function I1e(t){var e=re({},t);return T1e.forEach(function(n){n in t&&(e[n]=ve(e[n]))}),e}function _2(t,e){this._canvas=t,this._modeling=e}_2.$inject=["canvas","modeling"];_2.prototype.execute=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,i=e.getRootElement(),o=i.businessObject,s=o.$parent,a=ft(i);return e.setRootElement(n),e.removeRootElement(i),un(s.rootElements,r),r.$parent=s,nn(s.rootElements,o),o.$parent=null,i.di=null,a.bpmnElement=r,n.di=a,t.oldRoot=i,[]};_2.prototype.revert=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,i=t.oldRoot,o=i.businessObject,s=r.$parent,a=ft(n);return e.setRootElement(i),e.removeRootElement(n),nn(s.rootElements,r),r.$parent=null,un(s.rootElements,o),o.$parent=s,n.di=null,a.bpmnElement=o,i.di=a,[]};function SC(t,e){this._modeling=t,this._spaceTool=e}SC.$inject=["modeling","spaceTool"];SC.prototype.preExecute=function(t){var e=this._spaceTool,n=this._modeling,r=t.shape,i=t.location,o=Si(r),s=o===r,a=s?r:r.parent,l=Ka(a),c=In(r);if(c?i==="left"?i="top":i==="right"&&(i="bottom"):i==="top"?i="left":i==="bottom"&&(i="right"),!l.length){var u=c?{x:r.x+xi,y:r.y,width:r.width-xi,height:r.height}:{x:r.x,y:r.y+xi,width:r.width,height:r.height-xi};n.createShape({type:"bpmn:Lane",isHorizontal:c},u,a)}var d=[];bc(o,function(b){return d.push(b),b.label&&d.push(b.label),b===r?[]:Xe(b.children,function(x){return x!==r})});var f,h,p,m,g;i==="top"?(f=-120,h=r.y,p=h+10,m="n",g="y"):i==="left"?(f=-120,h=r.x,p=h+10,m="w",g="x"):i==="bottom"?(f=120,h=r.y+r.height,p=h-10,m="s",g="y"):i==="right"&&(f=120,h=r.x+r.width,p=h-10,m="e",g="x");var v=e.calculateAdjustments(d,g,f,p),y=c?{x:0,y:f}:{x:f,y:0};e.makeSpace(v.movingShapes,v.resizingShapes,y,m,p);var _=c?{x:r.x+(s?xi:0),y:h-(i==="top"?120:0),width:r.width-(s?xi:0),height:120}:{x:h-(i==="left"?120:0),y:r.y+(s?xi:0),width:120,height:r.height-(s?xi:0)};t.newLane=n.createShape({type:"bpmn:Lane",isHorizontal:c},_,a)};function CC(t){this._modeling=t}CC.$inject=["modeling"];CC.prototype.preExecute=function(t){var e=this._modeling,n=t.shape,r=t.count,i=Ka(n),o=i.length;if(o>r)throw new Error(`more than <${r}> child lanes`);var s=In(n),a=s?n.height:n.width,l=Math.round(a/r),c,u,d,f;for(f=0;f<r;f++)f===r-1?c=a-l*f:c=l,u=s?{x:n.x+xi,y:n.y+f*l,width:n.width-xi,height:c}:{x:n.x+f*l,y:n.y+xi,width:c,height:n.height-xi},f<o?e.resizeShape(i[f],u):(d={type:"bpmn:Lane",isHorizontal:s},e.createShape(d,u,n))};function qh(t,e){this._modeling=t,this._spaceTool=e}qh.$inject=["modeling","spaceTool"];qh.prototype.preExecute=function(t){var e=t.shape,n=t.newBounds,r=t.balanced;r!==!1?this.resizeBalanced(e,n):this.resizeSpace(e,n)};qh.prototype.resizeBalanced=function(t,e){var n=this._modeling,r=che(t,e);n.resizeShape(t,e),r.forEach(function(i){n.resizeShape(i.shape,i.newBounds)})};qh.prototype.resizeSpace=function(t,e){var n=this._spaceTool,r=De(t),i=De(e),o=uU(i,r),s=Si(t),a=[],l=[];bc(s,function(p){return a.push(p),($(p,"bpmn:Lane")||$(p,"bpmn:Participant"))&&l.push(p),p.children});var c,u,d,f,h;(o.bottom||o.top)&&(c=o.bottom||o.top,u=t.y+(o.bottom?t.height:0)+(o.bottom?-10:10),d=o.bottom?"s":"n",f=o.top>0||o.bottom<0?-c:c,h=n.calculateAdjustments(a,"y",f,u),n.makeSpace(h.movingShapes,h.resizingShapes,{x:0,y:c},d)),(o.left||o.right)&&(c=o.right||o.left,u=t.x+(o.right?t.width:0)+(o.right?-10:100),d=o.right?"e":"w",f=o.left>0||o.right<0?-c:c,h=n.calculateAdjustments(l,"x",f,u),n.makeSpace(h.movingShapes,h.resizingShapes,{x:c,y:0},d))};var qf="flowNodeRef",kC="lanes";function Vh(t){this._elementRegistry=t}Vh.$inject=["elementRegistry"];Vh.prototype._computeUpdates=function(t,e){var n=[],r=[],i={},o=[];function s(u,d){var f=De(d),h={x:u.x+u.width/2,y:u.y+u.height/2};return h.x>f.left&&h.x<f.right&&h.y>f.top&&h.y<f.bottom}function a(u){n.indexOf(u)===-1&&(o.push(u),n.push(u))}function l(u){var d=Si(u);return i[d.id]||(i[d.id]=t2(d)),i[d.id]}function c(u){if(!u.parent)return[];var d=l(u);return d.filter(function(f){return s(u,f)}).map(function(f){return f.businessObject})}return e.forEach(function(u){var d=Si(u);if(!(!d||n.indexOf(d)!==-1)){var f=d.children.filter(function(h){return $(h,"bpmn:FlowNode")});f.forEach(a),n.push(d)}}),t.forEach(a),o.forEach(function(u){var d=u.businessObject,f=d.get(kC),h=f.slice(),p=c(u);r.push({flowNode:d,remove:h,add:p})}),e.forEach(function(u){var d=u.businessObject;u.parent||d.get(qf).forEach(function(f){r.push({flowNode:f,remove:[d],add:[]})})}),r};Vh.prototype.execute=function(t){var e=t.updates;return e||(e=t.updates=this._computeUpdates(t.flowNodeShapes,t.laneShapes)),e.forEach(function(n){var r=n.flowNode,i=r.get(kC);n.remove.forEach(function(o){nn(i,o),nn(o.get(qf),r)}),n.add.forEach(function(o){un(i,o),un(o.get(qf),r)})}),[]};Vh.prototype.revert=function(t){var e=t.updates;return e.forEach(function(n){var r=n.flowNode,i=r.get(kC);n.add.forEach(function(o){nn(i,o),nn(o.get(qf),r)}),n.remove.forEach(function(o){un(i,o),un(o.get(qf),r)})}),[]};function x2(t){this._moddle=t}x2.$inject=["moddle"];x2.prototype.execute=function(t){var e=this._moddle.ids,n=t.id,r=t.element,i=t.claiming;return i?e.claim(n,r):e.unclaim(n),[]};x2.prototype.revert=function(t){var e=this._moddle.ids,n=t.id,r=t.element,i=t.claiming;return i?e.unclaim(n):e.claim(n,r),[]};var D1e={fill:void 0,stroke:void 0};function OC(t){this._commandStack=t,this._normalizeColor=function(e){if(e){if(kn(e)){var n=M1e(e);if(n)return n}throw new Error(`invalid color value: ${e}`)}}}OC.$inject=["commandStack"];OC.prototype.postExecute=function(t){var e=t.elements,n=t.colors||D1e,r=this,i={};"fill"in n&&re(i,{"background-color":this._normalizeColor(n.fill)}),"stroke"in n&&re(i,{"border-color":this._normalizeColor(n.stroke)}),ee(e,function(o){var s=Tt(o)?Ii(i,["border-color"]):i,a=ft(o);if($1e(s),ht(o))r._commandStack.execute("element.updateModdleProperties",{element:o,moddleElement:a.label,properties:{color:i["border-color"]}});else{if(!Qe(a,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;r._commandStack.execute("element.updateProperties",{element:o,properties:{di:s}})}})};function M1e(t){var e=document.createElement("canvas").getContext("2d");return e.fillStyle="transparent",e.fillStyle=t,/^#[0-9a-fA-F]{6}$/.test(e.fillStyle)?e.fillStyle:null}function $1e(t){"border-color"in t&&(t.stroke=t["border-color"]),"background-color"in t&&(t.fill=t["background-color"])}var N1e={width:0,height:0};function fW(t,e,n){function r(l,c){var u=l.label||l,d=l.labelTarget||l;return j0e(u,c),[u,d]}function i(l){var c=l.element,u=c.businessObject,d=l.newLabel;if(!ht(c)&&rc(c)&&!jv(c)&&!rA(d)){var f=7,h=aS(c);h={x:h.x,y:h.y+f},t.createLabel(c,h,{id:u.id+"_label",businessObject:u,di:c.di})}}function o(l){return l.oldLabel=Di(l.element),r(l.element,l.newLabel)}function s(l){return r(l.element,l.oldLabel)}function a(l){var c=l.element,u=c.label||c,d=l.newLabel,f=l.newBounds,h=l.hints||{};if(!(!ht(u)&&!$(u,"bpmn:TextAnnotation"))){if(ht(u)&&rA(d)){h.removeShape!==!1&&t.removeShape(u,{unsetLabel:!1});return}var p=Di(c);typeof f>"u"&&(f=e.getExternalLabelBounds(u,p)),f&&t.resizeShape(u,f,N1e)}}this.preExecute=i,this.execute=o,this.revert=s,this.postExecute=a}fW.$inject=["modeling","textRenderer","bpmnFactory"];function rA(t){return!t||!t.trim()}function lr(t,e,n,r){kt.call(this,t,e,n),this._bpmnRules=r}Oe(lr,kt);lr.$inject=["eventBus","elementFactory","commandStack","bpmnRules"];lr.prototype.getHandlers=function(){var t=kt.prototype.getHandlers.call(this);return t["element.updateModdleProperties"]=Fh,t["element.updateProperties"]=zh,t["canvas.updateRoot"]=_2,t["lane.add"]=SC,t["lane.resize"]=qh,t["lane.split"]=CC,t["lane.updateRefs"]=Vh,t["id.updateClaim"]=x2,t["element.setColor"]=OC,t["element.updateLabel"]=fW,t};lr.prototype.updateLabel=function(t,e,n,r){this._commandStack.execute("element.updateLabel",{element:t,newLabel:e,newBounds:n,hints:r||{}})};lr.prototype.connect=function(t,e,n,r){var i=this._bpmnRules;if(n||(n=i.canConnect(t,e)),!!n)return this.createConnection(t,e,n,t.parent,r)};lr.prototype.updateModdleProperties=function(t,e,n){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:n})};lr.prototype.updateProperties=function(t,e){this._commandStack.execute("element.updateProperties",{element:t,properties:e})};lr.prototype.resizeLane=function(t,e,n){this._commandStack.execute("lane.resize",{shape:t,newBounds:e,balanced:n})};lr.prototype.addLane=function(t,e){var n={shape:t,location:e};return this._commandStack.execute("lane.add",n),n.newLane};lr.prototype.splitLane=function(t,e){this._commandStack.execute("lane.split",{shape:t,count:e})};lr.prototype.makeCollaboration=function(){var t=this._create("root",{type:"bpmn:Collaboration"}),e={newRoot:t};return this._commandStack.execute("canvas.updateRoot",e),t};lr.prototype.makeProcess=function(){var t=this._create("root",{type:"bpmn:Process"}),e={newRoot:t};return this._commandStack.execute("canvas.updateRoot",e),t};lr.prototype.updateLaneRefs=function(t,e){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:t,laneShapes:e})};lr.prototype.claimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e,claiming:!0})};lr.prototype.unclaimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e})};lr.prototype.setColor=function(t,e){t.length||(t=[t]),this._commandStack.execute("element.setColor",{elements:t,colors:e})};function RC(){}RC.prototype.layoutConnection=function(t,e){return e=e||{},[e.connectionStart||Le(e.source||t.source),e.connectionEnd||Le(e.target||t.target)]};var l1=20,L1e=5,Tg=Math.round,iA=20,j1e={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function B1e(t,e){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[e].test(t)}function F1e(t,e){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(e)}function hW(t,e,n){var r=Ft(e,t,L1e),i=n.split(":")[0],o=Tg((e.x-t.x)/2+t.x),s=Tg((e.y-t.y)/2+t.y),a,l,c=F1e(i,r),u=/h|r|l/.test(i),d=!1,f=!1;return c?(a=u?{x:o,y:t.y}:{x:t.x,y:s},l=u?"h:h":"v:v"):(d=B1e(r,i),l=u?"h:v":"v:h",d?u?(f=s===t.y,a={x:t.x+l1*(/l/.test(i)?-1:1),y:f?s+l1:s}):(f=o===t.x,a={x:f?o+l1:o,y:t.y+l1*(/t/.test(i)?-1:1)}):a={x:o,y:s}),{waypoints:PC(t,a,l).concat(a),directions:l,turnNextDirections:f}}function z1e(t,e,n){return hW(t,e,n)}function q1e(t,e,n){var r=hW(e,t,oA(n));return{waypoints:r.waypoints.slice().reverse(),directions:oA(r.directions),turnNextDirections:r.turnNextDirections}}function V1e(t,e){var n=t.directions.split(":")[1],r=e.directions.split(":")[0];t.turnNextDirections&&(n=n=="h"?"v":"h"),e.turnNextDirections&&(r=r=="h"?"v":"h");var i=n+":"+r,o=PC(t.waypoints[t.waypoints.length-1],e.waypoints[0],i);return{waypoints:o,directions:i}}function oA(t){return t.split(":").reverse().join(":")}function H1e(t,e,n){var r=Tg((e.x-t.x)/2+t.x),i=Tg((e.y-t.y)/2+t.y);if(n==="h:v")return[{x:e.x,y:t.y}];if(n==="v:h")return[{x:t.x,y:e.y}];if(n==="h:h")return[{x:r,y:t.y},{x:r,y:e.y}];if(n==="v:v")return[{x:t.x,y:i},{x:e.x,y:i}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function PC(t,e,n){if(n=n||"h:h",!J1e(n))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(pW(n)){var r=z1e(t,e,n),i=q1e(t,e,n),o=V1e(r,i);return[].concat(r.waypoints,o.waypoints,i.waypoints)}return H1e(t,e,n)}function U1e(t,e,n){var r=PC(t,e,n);return r.unshift(t),r.push(e),mW(r)}function W1e(t,e,n,r,i){var o=i&&i.preferredLayouts||[],s=zq(o,"straight")[0]||"h:h",a=j1e[s]||0,l=Ft(t,e,a),c=Z1e(l,s);n=n||Le(t),r=r||Le(e);var u=c.split(":"),d=aA(n,t,u[0],eme(l)),f=aA(r,e,u[1],l);return U1e(d,f,c)}function G1e(t,e,n,r,i,o){Fe(n)&&(i=n,o=r,n=Le(t),r=Le(e)),o=re({preferredLayouts:[]},o),i=i||[];var s=o.preferredLayouts,a=s.indexOf("straight")!==-1,l;return l=a&&X1e(t,e,n,r,o),l||(l=o.connectionEnd&&Q1e(e,t,r,i),l)||(l=o.connectionStart&&Y1e(t,e,n,i),l)?l:!o.connectionStart&&!o.connectionEnd&&i&&i.length?i:W1e(t,e,n,r,o)}function K1e(t,e,n){return t>=e&&t<=n}function sA(t,e,n){var r={x:"width",y:"height"};return K1e(e[t],n[t],n[t]+n[r[t]])}function X1e(t,e,n,r,i){var o={},s,a;return a=Ft(t,e),/^(top|bottom|left|right)$/.test(a)?(/top|bottom/.test(a)&&(s="x"),/left|right/.test(a)&&(s="y"),i.preserveDocking==="target"?sA(s,r,t)?(o[s]=r[s],[{x:o.x!==void 0?o.x:n.x,y:o.y!==void 0?o.y:n.y,original:{x:o.x!==void 0?o.x:n.x,y:o.y!==void 0?o.y:n.y}},{x:r.x,y:r.y}]):null:sA(s,n,e)?(o[s]=n[s],[{x:n.x,y:n.y},{x:o.x!==void 0?o.x:r.x,y:o.y!==void 0?o.y:r.y,original:{x:o.x!==void 0?o.x:r.x,y:o.y!==void 0?o.y:r.y}}]):null):null}function Y1e(t,e,n,r){return AC(t,e,n,r)}function Q1e(t,e,n,r){var i=r.slice().reverse();return i=AC(t,e,n,i),i?i.reverse():null}function AC(t,e,n,r){function i(u){return u.length<3?!0:u.length>4?!1:!!Ge(u,function(d,f){var h=u[f-1];return h&&vh(d,h)<3})}function o(u,d,f){var h=ys(d,u);switch(h){case"v":return{x:f.x,y:u.y};case"h":return{x:u.x,y:f.y}}return{x:u.x,y:u.y}}function s(u,d,f){var h;for(h=u.length-2;h!==0;h--)if(eR(u[h],d,iA)||eR(u[h],f,iA))return u.slice(h);return u}if(i(r))return null;var a=r[0],l=r.slice(),c;return l[0]=n,l[1]=o(l[1],a,n),c=s(l,t,e),c!==l&&(l=AC(t,e,n,c)),l&&ys(l)?null:l}function Z1e(t,e){if(pW(e))return e;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return e}}function J1e(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}function pW(t){return t&&/t|r|b|l/.test(t)}function eme(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}function aA(t,e,n,r){if(n==="h"&&(n=/left/.test(r)?"l":"r"),n==="v"&&(n=/top/.test(r)?"t":"b"),n==="t")return{original:t,x:t.x,y:e.y};if(n==="r")return{original:t,x:e.x+e.width,y:t.y};if(n==="b")return{original:t,x:t.x,y:e.y+e.height};if(n==="l")return{original:t,x:e.x,y:t.y};throw new Error("unexpected dockingDirection: <"+n+">")}function mW(t){return t.reduce(function(e,n,r){var i=e[e.length-1],o=t[r+1];return YE(i,o,n,0)||e.push(n),e},[])}var tme=-10,nme=40,rme={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},ime={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},TC={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Qd={top:"t",right:"r",bottom:"b",left:"l"};function w2(t){this._elementRegistry=t}Oe(w2,RC);w2.prototype.layoutConnection=function(t,e){e||(e={});var n=e.source||t.source,r=e.target||t.target,i=e.waypoints||t.waypoints,o=e.connectionStart,s=e.connectionEnd,a=this._elementRegistry,l,c;if(o||(o=lA(i&&i[0],n)),s||(s=lA(i&&i[i.length-1],r)),($(t,"bpmn:Association")||$(t,"bpmn:DataAssociation"))&&i&&!cA(n,r))return[].concat([o],i.slice(1,-1),[s]);var u=LH(n,a)?rme:ime;return $(t,"bpmn:MessageFlow")?l=sme(n,r,u):($(t,"bpmn:SequenceFlow")||cA(n,r))&&(n===r?l={preferredLayouts:fme(n,t,u)}:$(n,"bpmn:BoundaryEvent")?l={preferredLayouts:hme(n,r,s,u)}:Vf(n)||Vf(r)?l={preferredLayouts:u.subProcess,preserveDocking:lme(n)}:$(n,"bpmn:Gateway")?l={preferredLayouts:u.fromGateway}:$(r,"bpmn:Gateway")?l={preferredLayouts:u.toGateway}:l={preferredLayouts:u.default}),l&&(l=re(l,e),c=mW(G1e(n,r,o,s,i,l))),c||[o,s]};function ome(t){var e=t.host;return Ft(Le(t),e,tme)}function sme(t,e,n){return{preferredLayouts:n.messageFlow,preserveDocking:ame(t,e)}}function ame(t,e){return $(e,"bpmn:Participant")?"source":$(t,"bpmn:Participant")?"target":Vf(e)?"source":Vf(t)||$(e,"bpmn:Event")?"target":$(t,"bpmn:Event")?"source":null}function lme(t){return Vf(t)?"target":"source"}function lA(t,e){return t?t.original||t:Le(e)}function cA(t,e){return $(e,"bpmn:Activity")&&$(t,"bpmn:BoundaryEvent")&&e.businessObject.isForCompensation}function Vf(t){return $(t,"bpmn:SubProcess")&&rt(t)}function Nl(t,e){return t===e}function cme(t,e){return e.indexOf(t)!==-1}function z0(t){var e=/right|left/.exec(t);return e&&e[0]}function q0(t){var e=/top|bottom/.exec(t);return e&&e[0]}function uA(t,e){return TC[t]===e}function ume(t,e){var n=z0(t),r=TC[n];return e.indexOf(r)!==-1}function dme(t,e){var n=q0(t),r=TC[n];return e.indexOf(r)!==-1}function gW(t){return t==="right"||t==="left"}function fme(t,e,n){var r=e.waypoints,i=r&&r.length&&Ft(r[0],t);return i==="top"?n.loop.fromTop:i==="right"?n.loop.fromRight:i==="left"?n.loop.fromLeft:n.loop.fromBottom}function hme(t,e,n,r){var i=Le(t),o=Le(e),s=ome(t),a,l,c=Nl(t.host,e),u=cme(s,["top","right","bottom","left"]),d=Ft(o,i,{x:t.width/2+e.width/2,y:t.height/2+e.height/2});return c?pme(s,u,t,e,n,r):(a=mme(s,d,u,r.isHorizontal),l=gme(s,d,u,r.isHorizontal),[a+":"+l])}function pme(t,e,n,r,i,o){var s=e?t:o.isHorizontal?q0(t):z0(t),a=Qd[s],l;return e?gW(t)?l=dA("y",n,r,i)?"h":o.boundaryLoop.alternateHorizontalSide:l=dA("x",n,r,i)?"v":o.boundaryLoop.alternateVerticalSide:l=o.boundaryLoop.default,[a+":"+l]}function dA(t,e,n,r){var i=nme;return!(E3(t,r,n,i)||E3(t,r,{x:n.x+n.width,y:n.y+n.height},i)||E3(t,r,Le(e),i))}function E3(t,e,n,r){return Math.abs(e[t]-n[t])<r}function mme(t,e,n,r){if(n)return Qd[t];var i=q0(t),o=z0(t),s=q0(e),a=z0(e);if(r){if(Nl(i,s)||uA(o,a))return Qd[i]}else if(Nl(o,a)||uA(i,s))return Qd[o];return Qd[r?o:i]}function gme(t,e,n,r){return n?gW(t)?ume(t,e)||Nl(t,e)?"h":"v":dme(t,e)||Nl(t,e)?"v":"h":r?Nl(q0(t),q0(e))?"h":"v":Nl(z0(t),z0(e))?"v":"h"}w2.$inject=["elementRegistry"];function fA(t){return re({original:t.point.original||t.point},t.actual)}function Xs(t,e){this._elementRegistry=t,this._graphicsFactory=e}Xs.$inject=["elementRegistry","graphicsFactory"];Xs.prototype.getCroppedWaypoints=function(t,e,n){e=e||t.source,n=n||t.target;var r=this.getDockingPoint(t,e,!0),i=this.getDockingPoint(t,n),o=t.waypoints.slice(r.idx+1,i.idx);return o.unshift(fA(r)),o.push(fA(i)),o};Xs.prototype.getDockingPoint=function(t,e,n){var r=t.waypoints,i,o,s;return i=n?0:r.length-1,o=r[i],s=this._getIntersection(e,t,n),{point:o,actual:s||o,idx:i}};Xs.prototype._getIntersection=function(t,e,n){var r=this._getShapePath(t),i=this._getConnectionPath(e);return Tx(r,i,n)};Xs.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)};Xs.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)};Xs.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const vW={__init__:["modeling","bpmnUpdater"],__depends__:[ppe,Ipe,Mpe,$pe,ZU,d2,l1e,p1e,$r,Ch,tW],bpmnFactory:["type",Hi],bpmnUpdater:["type",Jr],elementFactory:["type",Ya],modeling:["type",lr],layouter:["type",w2],connectionDocking:["type",Xs]},hA=Math.round;function E2(t,e,n,r,i,o){this._complexPreview=t,this._connectionDocking=e,this._elementFactory=n,this._eventBus=r,this._layouter=i,this._rules=o}E2.prototype.create=function(t,e,n){const r=this._complexPreview,i=this._connectionDocking,o=this._elementFactory,s=this._eventBus,a=this._layouter,l=this._rules,c=o.createShape(re({type:e},n)),u=s.fire("autoPlace",{source:t,shape:c});if(!u)return;re(c,{x:u.x-hA(c.width/2),y:u.y-hA(c.height/2)});const d=l.allowed("connection.create",{source:t,target:c,hints:{targetParent:t.parent}});let f=null;d&&(f=o.createConnection(d),f.waypoints=a.layoutConnection(f,{source:t,target:c}),f.waypoints=i.getCroppedWaypoints(f,t,c)),r.create({created:[c,f].filter(h=>!A0(h))})};E2.prototype.cleanUp=function(){this._complexPreview.cleanUp()};E2.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const vme={__depends__:[wS,Vfe,vW],__init__:["appendPreview"],appendPreview:["type",E2]};var pA=Math.min,mA=Math.max;function S3(t){t.preventDefault()}function vf(t){t.stopPropagation()}function yme(t){return t.nodeType===Node.TEXT_NODE}function bme(t){return[].slice.call(t)}function yo(t){this.container=t.container,this.parent=at('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Ue("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=Ir(this.autoResize,this),this.handlePaste=Ir(this.handlePaste,this)}yo.prototype.create=function(t,e,n,r){var i=this,o=this.parent,s=this.content,a=this.container;r=this.options=r||{},e=this.style=e||{};var l=Ii(e,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);re(o.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var c=Ii(e,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return re(s.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),r.centerVertically&&re(s.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),s.innerText=n,Be.bind(s,"keydown",this.keyHandler),Be.bind(s,"mousedown",vf),Be.bind(s,"paste",i.handlePaste),r.autoResize&&Be.bind(s,"input",this.autoResize),r.resizable&&this.resizable(e),a.appendChild(o),this.setSelection(s.lastChild,s.lastChild&&s.lastChild.length),o};yo.prototype.handlePaste=function(t){var e=this.options,n=this.style;t.preventDefault();var r;if(t.clipboardData?r=t.clipboardData.getData("text/plain"):r=window.clipboardData.getData("Text"),this.insertText(r),e.autoResize){var i=this.autoResize(n);i&&this.resizeHandler(i)}};yo.prototype.insertText=function(t){t=_me(t);var e=document.execCommand("insertText",!1,t);e||this._insertTextIE(t)};yo.prototype._insertTextIE=function(t){var e=this.getSelection(),n=e.startContainer,r=e.endContainer,i=e.startOffset,o=e.endOffset,s=e.commonAncestorContainer,a=bme(s.childNodes),l,c;if(yme(s)){var u=n.textContent;n.textContent=u.substring(0,i)+t+u.substring(o),l=n,c=i+t.length}else if(n===this.content&&r===this.content){var d=document.createTextNode(t);this.content.insertBefore(d,a[i]),l=d,c=d.textContent.length}else{var f=a.indexOf(n),h=a.indexOf(r);a.forEach(function(p,m){m===f?p.textContent=n.textContent.substring(0,i)+t+r.textContent.substring(o):m>f&&m<=h&&Gn(p)}),l=n,c=i+t.length}l&&c!==void 0&&setTimeout(function(){self.setSelection(l,c)})};yo.prototype.autoResize=function(){var t=this.parent,e=this.content,n=parseInt(this.style.fontSize)||12;if(e.scrollHeight>t.offsetHeight||e.scrollHeight<t.offsetHeight-n){var r=t.getBoundingClientRect(),i=e.scrollHeight;t.style.height=i+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:i-r.height})}};yo.prototype.resizable=function(){var t=this,e=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,i=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,s=parseInt(this.style.maxHeight)||1/0;if(!n){n=this.resizeHandle=at('<div class="djs-direct-editing-resize-handle"></div>');var a,l,c,u,d=function(p){S3(p),vf(p),a=p.clientX,l=p.clientY;var m=e.getBoundingClientRect();c=m.width,u=m.height,Be.bind(document,"mousemove",f),Be.bind(document,"mouseup",h)},f=function(p){S3(p),vf(p);var m=pA(mA(c+p.clientX-a,r),o),g=pA(mA(u+p.clientY-l,i),s);e.style.width=m+"px",e.style.height=g+"px",t.resizeHandler({width:c,height:u,dx:p.clientX-a,dy:p.clientY-l})},h=function(p){S3(p),vf(p),Be.unbind(document,"mousemove",f,!1),Be.unbind(document,"mouseup",h,!1)};Be.bind(n,"mousedown",d)}re(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),e.appendChild(n)};yo.prototype.destroy=function(){var t=this.parent,e=this.content,n=this.resizeHandle;e.innerText="",t.removeAttribute("style"),e.removeAttribute("style"),Be.unbind(e,"keydown",this.keyHandler),Be.unbind(e,"mousedown",vf),Be.unbind(e,"input",this.autoResize),Be.unbind(e,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Gn(n)),Gn(t)};yo.prototype.getValue=function(){return this.content.innerText.trim()};yo.prototype.getSelection=function(){var t=window.getSelection(),e=t.getRangeAt(0);return e};yo.prototype.setSelection=function(t,e){var n=document.createRange();t===null?n.selectNodeContents(this.content):(n.setStart(t,e),n.setEnd(t,e));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)};function _me(t){return t.replace(/\r\n|\r|\n/g,`
`)}function Ui(t,e){this._eventBus=t,this._canvas=e,this._providers=[],this._textbox=new yo({container:e.getContainer(),keyHandler:Ir(this._handleKey,this),resizeHandler:Ir(this._handleResize,this)})}Ui.$inject=["eventBus","canvas"];Ui.prototype.registerProvider=function(t){this._providers.push(t)};Ui.prototype.isActive=function(t){return!!(this._active&&(!t||this._active.element===t))};Ui.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};Ui.prototype._fire=function(t,e){this._eventBus.fire("directEditing."+t,e||{active:this._active})};Ui.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()};Ui.prototype.complete=function(){var t=this._active;if(t){var e,n=t.context.bounds,r=this.$textbox.getBoundingClientRect(),i=this.getValue(),o=t.context.text;(i!==o||r.height!==n.height||r.width!==n.width)&&(e=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,i,t.context.text,{x:r.left-e.left,y:r.top-e.top,width:r.width,height:r.height})),this._fire("complete"),this.close()}};Ui.prototype.getValue=function(){return this._textbox.getValue()};Ui.prototype._handleKey=function(t){t.stopPropagation();var e=t.keyCode||t.charCode;if(e===27)return t.preventDefault(),this.cancel();if(e===13&&!t.shiftKey)return t.preventDefault(),this.complete()};Ui.prototype._handleResize=function(t){this._fire("resize",t)};Ui.prototype.activate=function(t){this.isActive()&&this.cancel();var e,n=Ge(this._providers,function(r){return(e=r.activate(t))?r:null});return e&&(this.$textbox=this._textbox.create(e.bounds,e.style,e.text,e.options),this._active={element:t,context:e,provider:n},e.options&&e.options.resizable&&(this.resizable=!0),this._fire("activate")),!!e};const IC={__depends__:[Fv],__init__:["directEditing"],directEditing:["type",Ui]};function xme(t){return function(e){var n=e.target,r=ve(t),i=r.eventDefinitions&&r.eventDefinitions[0],o=r.$type===n.type,s=(i&&i.$type)===n.eventDefinitionType,a=!!n.triggeredByEvent==!!r.triggeredByEvent,l=n.isExpanded===void 0||n.isExpanded===rt(t);return!o||!s||!a||!l}}var wme=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Eme=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],Sme=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Cme=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],kme=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],Ome=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Rme=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],yW=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Pme=yW,gA=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],Ame=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Tme=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Ime=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],Dme=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Mme=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],$me=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(t){var e="Empty pool/participant";return t.children&&t.children.length&&(e+=" (removes content)"),e},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],Nme={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]};const vA={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function Wi(t,e,n,r,i,o,s,a){this._bpmnFactory=t,this._popupMenu=e,this._modeling=n,this._moddle=r,this._bpmnReplace=i,this._rules=o,this._translate=s,this._moddleCopy=a,this._register()}Wi.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"];Wi.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)};Wi.prototype.getPopupMenuEntries=function(t){var e=t.businessObject,n=this._rules,r=[],i,o=[];if(Fe(t)||!n.allowed("shape.replace",{element:t}))return{};var s=xme(t);return $(e,"bpmn:DataObjectReference")?this._createEntries(t,Ame):$(e,"bpmn:DataStoreReference")&&!$(t.parent,"bpmn:Collaboration")?this._createEntries(t,Tme):($(e,"bpmn:Event")&&!$(e,"bpmn:BoundaryEvent")&&(i=e.get("eventDefinitions")[0]?.$type,r=Nme[i]||[],!Un(e.$parent)&&$(e.$parent,"bpmn:SubProcess")&&(r=Xe(r,function(a){return a.target.type!=="bpmn:StartEvent"}))),$(e,"bpmn:StartEvent")&&!$(e.$parent,"bpmn:SubProcess")?(o=Xe(wme.concat(r),s),this._createEntries(t,o)):$(e,"bpmn:Participant")?(o=Xe($me,function(a){return rt(t)!==a.target.isExpanded}),this._createEntries(t,o)):$(e,"bpmn:StartEvent")&&Un(e.$parent)?(o=Xe(Dme.concat(r),function(a){var l=a.target,c=l.isInterrupting!==!1,u=e.isInterrupting===c;return s(a)||!s(a)&&!u}),this._createEntries(t,o)):$(e,"bpmn:StartEvent")&&!Un(e.$parent)&&$(e.$parent,"bpmn:SubProcess")?(o=Xe(Eme.concat(r),s),this._createEntries(t,o)):$(e,"bpmn:EndEvent")?(o=Xe(Cme.concat(r),function(a){var l=a.target;return l.eventDefinitionType=="bpmn:CancelEventDefinition"&&!$(e.$parent,"bpmn:Transaction")?!1:s(a)}),this._createEntries(t,o)):$(e,"bpmn:BoundaryEvent")?(o=Xe(Ime,function(a){var l=a.target;if(l.eventDefinitionType=="bpmn:CancelEventDefinition"&&!$(e.attachedToRef,"bpmn:Transaction"))return!1;var c=l.cancelActivity!==!1,u=e.cancelActivity==c;return s(a)||!s(a)&&!u}),this._createEntries(t,o)):$(e,"bpmn:IntermediateCatchEvent")||$(e,"bpmn:IntermediateThrowEvent")?(o=Xe(Sme.concat(r),s),this._createEntries(t,o)):$(e,"bpmn:Gateway")?(o=Xe(kme,s),this._createEntries(t,o)):$(e,"bpmn:Transaction")?(o=Xe(yW,s),this._createEntries(t,o)):Un(e)&&rt(t)?(o=Xe(Pme,s),this._createEntries(t,o)):$(e,"bpmn:AdHocSubProcess")&&rt(t)?(o=Xe(Rme,s),this._createEntries(t,o)):$(e,"bpmn:SubProcess")&&rt(t)?(o=Xe(Ome,s),this._createEntries(t,o)):$(e,"bpmn:SubProcess")&&!rt(t)?(o=Xe(gA,function(a){var l=a.target.type===t.type,c=a.target.isExpanded===!0;return l===c}),this._createEntries(t,o)):$(e,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(t,Mme):$(e,"bpmn:FlowNode")?(o=Xe(gA,s),this._createEntries(t,o)):{})};Wi.prototype.getPopupMenuHeaderEntries=function(t){var e={};return $(t,"bpmn:Activity")&&!Un(t)&&(e={...e,...this._getLoopCharacteristicsHeaderEntries(t)}),$(t,"bpmn:DataObjectReference")&&(e={...e,...this._getCollectionHeaderEntries(t)}),$(t,"bpmn:Participant")&&(e={...e,...this._getParticipantMultiplicityHeaderEntries(t)}),_U(t)&&(e={...e,...this._getNonInterruptingHeaderEntries(t)}),e};Wi.prototype._createEntries=function(t,e){var n={},r=this;return ee(e,function(i){n[i.actionName]=r._createEntry(i,t)}),n};Wi.prototype._createSequenceFlowEntries=function(t,e){var n=ve(t),r={},i=this._modeling,o=this._moddle,s=this;return ee(e,function(a){switch(a.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&($(n.sourceRef,"bpmn:ExclusiveGateway")||$(n.sourceRef,"bpmn:InclusiveGateway")||$(n.sourceRef,"bpmn:ComplexGateway")||$(n.sourceRef,"bpmn:Activity"))&&(r={...r,[a.actionName]:s._createEntry(a,t,function(){i.updateProperties(t.source,{default:n})})});break;case"replace-with-conditional-flow":!n.conditionExpression&&$(n.sourceRef,"bpmn:Activity")&&(r={...r,[a.actionName]:s._createEntry(a,t,function(){var l=o.create("bpmn:FormalExpression",{body:""});i.updateProperties(t,{conditionExpression:l})})});break;default:$(n.sourceRef,"bpmn:Activity")&&n.conditionExpression&&(r={...r,[a.actionName]:s._createEntry(a,t,function(){i.updateProperties(t,{conditionExpression:void 0})})}),($(n.sourceRef,"bpmn:ExclusiveGateway")||$(n.sourceRef,"bpmn:InclusiveGateway")||$(n.sourceRef,"bpmn:ComplexGateway")||$(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n&&(r={...r,[a.actionName]:s._createEntry(a,t,function(){i.updateProperties(t.source,{default:void 0})})})}}),r};Wi.prototype._createEntry=function(t,e,n){var r=this._translate,i=this._bpmnReplace.replaceElement,o=function(){return i(e,t.target)},s=t.label;return s&&typeof s=="function"&&(s=s(e)),n=n||o,{label:r(s),className:t.className,action:n}};Wi.prototype._getLoopCharacteristicsHeaderEntries=function(t){var e=this,n=this._translate;function r(c,u){if(u.active){e._modeling.updateProperties(t,{loopCharacteristics:void 0});return}var d=t.businessObject.get("loopCharacteristics");d&&$(d,u.options.loopCharacteristics)?e._modeling.updateModdleProperties(t,d,{isSequential:u.options.isSequential}):(d=e._moddle.create(u.options.loopCharacteristics,{isSequential:u.options.isSequential}),e._modeling.updateProperties(t,{loopCharacteristics:d}))}var i=ve(t),o=i.loopCharacteristics,s,a,l;return o&&(s=o.isSequential,a=o.isSequential===void 0,l=o.isSequential!==void 0&&!o.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:n("Parallel multi-instance"),active:l,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:n("Sequential multi-instance"),active:s,action:r,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:n("Loop"),active:a,action:r,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}};Wi.prototype._getCollectionHeaderEntries=function(t){var e=this,n=this._translate,r=t.businessObject.dataObjectRef;if(!r)return{};function i(s,a){e._modeling.updateModdleProperties(t,r,{isCollection:!a.active})}var o=r.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:n("Collection"),active:o,action:i}}};Wi.prototype._getParticipantMultiplicityHeaderEntries=function(t){var e=this,n=this._bpmnFactory,r=this._translate;function i(s,a){var l=a.active,c;l||(c=n.create("bpmn:ParticipantMultiplicity")),e._modeling.updateProperties(t,{participantMultiplicity:c})}var o=t.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:r("Participant multiplicity"),active:!!o,action:i}}};Wi.prototype._getNonInterruptingHeaderEntries=function(t){const e=this._translate,n=ve(t),r=this,i=xU(t),o=$(t,"bpmn:BoundaryEvent")?vA["intermediate-event-non-interrupting"]:vA["start-event-non-interrupting"],s=!n[i];return{"toggle-non-interrupting":{imageHtml:o,title:e("Toggle non-interrupting"),active:s,action:function(){r._modeling.updateProperties(t,{[i]:!!s})}}}};const Lme={__depends__:[Gv,ZU,wS],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Wi]};function Hh(t,e,n,r,i,o,s,a,l,c,u,d,f){t=t||{},r.registerProvider(this),this._contextPad=r,this._modeling=i,this._elementFactory=o,this._connect=s,this._create=a,this._popupMenu=l,this._canvas=c,this._rules=u,this._translate=d,this._eventBus=n,this._appendPreview=f,t.autoPlace!==!1&&(this._autoPlace=e.get("autoPlace",!1)),n.on("create.end",250,function(h){var p=h.context,m=p.shape;if(!(!M0(h)||!r.isOpen(m))){var g=r.getEntries(m);g.replace&&g.replace.action.click(h,m)}}),n.on("contextPad.close",function(){f.cleanUp()})}Hh.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"];Hh.prototype.getMultiElementContextPadEntries=function(t){var e=this._modeling,n={};return this._isDeleteAllowed(t)&&re(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(r,i){e.removeElements(i.slice())}}}}),n};Hh.prototype._isDeleteAllowed=function(t){var e=this._rules.allowed("elements.delete",{elements:t});return Fe(e)?ui(t,n=>e.includes(n)):e};Hh.prototype.getContextPadEntries=function(t){var e=this._contextPad,n=this._modeling,r=this._elementFactory,i=this._connect,o=this._create,s=this._popupMenu,a=this._autoPlace,l=this._translate,c=this._appendPreview,u={};if(t.type==="label")return this._isDeleteAllowed([t])&&re(u,p()),u;var d=t.businessObject;function f(_,b){i.start(_,b)}function h(_,b){n.removeElements([b])}function p(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:l("Delete"),action:{click:h}}}}function m(_){var b=5,x=e.getPad(_).html,w=x.getBoundingClientRect(),E={x:w.left,y:w.bottom+b};return E}function g(_,b,x,w){function E(I,M){var R=r.createShape(re({type:_},w));o.start(I,R,{source:M})}var S=a?function(I,M){var R=r.createShape(re({type:_},w));a.append(M,R)}:E,k=a?function(I,M){return c.create(M,_,w),()=>{c.cleanUp()}}:null;return{group:"model",className:b,title:x,action:{dragstart:E,click:S,hover:k}}}function v(_){return function(b,x){n.splitLane(x,_),e.open(x,!0)}}if(Qe(d,["bpmn:Lane","bpmn:Participant"])&&rt(t)){var y=Ka(t);re(u,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:l("Add lane above"),action:{click:function(_,b){n.addLane(b,"top")}}}}),y.length<2&&((In(t)?t.height>=120:t.width>=120)&&re(u,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:l("Divide into two lanes"),action:{click:v(2)}}}),(In(t)?t.height>=180:t.width>=180)&&re(u,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:l("Divide into three lanes"),action:{click:v(3)}}})),re(u,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:l("Add lane below"),action:{click:function(_,b){n.addLane(b,"bottom")}}}})}return $(d,"bpmn:FlowNode")&&($(d,"bpmn:EventBasedGateway")?re(u,{"append.receive-task":g("bpmn:ReceiveTask","bpmn-icon-receive-task",l("Append receive task")),"append.message-intermediate-event":g("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",l("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":g("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",l("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":g("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",l("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":g("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",l("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):yA(d,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?re(u,{"append.compensation-activity":g("bpmn:Task","bpmn-icon-task",l("Append compensation activity"),{isForCompensation:!0})}):!$(d,"bpmn:EndEvent")&&!d.isForCompensation&&!yA(d,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!Un(d)&&re(u,{"append.end-event":g("bpmn:EndEvent","bpmn-icon-end-event-none",l("Append end event")),"append.gateway":g("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",l("Append gateway")),"append.append-task":g("bpmn:Task","bpmn-icon-task",l("Append task")),"append.intermediate-event":g("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",l("Append intermediate/boundary event"))})),s.isEmpty(t,"bpmn-replace")||re(u,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:l("Change element"),action:{click:function(_,b){var x=re(m(b),{cursor:{x:_.x,y:_.y}});s.open(b,"bpmn-replace",x,{title:l("Change element"),width:300,search:!0})}}}}),$(d,"bpmn:SequenceFlow")&&re(u,{"append.text-annotation":g("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),$(d,"bpmn:MessageFlow")&&re(u,{"append.text-annotation":g("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),Qe(d,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&re(u,{"append.text-annotation":g("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect to other element"),action:{click:f,dragstart:f}}}),$(d,"bpmn:TextAnnotation")&&re(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using association"),action:{click:f,dragstart:f}}}),Qe(d,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&re(u,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:l("Connect using data input association"),action:{click:f,dragstart:f}}}),$(d,"bpmn:Group")&&re(u,{"append.text-annotation":g("bpmn:TextAnnotation","bpmn-icon-text-annotation",l("Add text annotation"))}),this._isDeleteAllowed([t])&&re(u,p()),u};function yA(t,e,n){var r=t.$instanceOf(e),i=!1,o=t.eventDefinitions||[];return ee(o,function(s){s.$type===n&&(i=!0)}),r&&i}const jme={__depends__:[vme,IC,gS,$r,Zv,Iu,Lme],__init__:["contextPadProvider"],contextPadProvider:["type",Hh]};var Bme={horizontal:["x","width"],vertical:["y","height"]},bA=5;function Ys(t,e){this._modeling=t,this._filters=[],this.registerFilter(function(n){var r=e.allowed("elements.distribute",{elements:n});return Fe(r)?r:r?n:[]})}Ys.$inject=["modeling","rules"];Ys.prototype.registerFilter=function(t){if(typeof t!="function")throw new Error("the filter has to be a function");this._filters.push(t)};Ys.prototype.trigger=function(t,e){var n=this._modeling,r,i;if(!(t.length<3)&&(this._setOrientation(e),i=this._filterElements(t),r=this._createGroups(i),!(r.length<=2)))return n.distributeElements(r,this._axis,this._dimension),r};Ys.prototype._filterElements=function(t){var e=this._filters,n=this._axis,r=this._dimension,i=[].concat(t);return e.length?(ee(e,function(o){i=o(i,n,r)}),i):t};Ys.prototype._createGroups=function(t){var e=[],n=this,r=this._axis,i=this._dimension;if(!r)throw new Error('must have a defined "axis" and "dimension"');var o=br(t,r);return ee(o,function(s,a){var l=n._findRange(s,r,i),c,u=e[e.length-1];u&&n._hasIntersection(u.range,l)?e[e.length-1].elements.push(s):(c={range:l,elements:[s]},e.push(c))}),e};Ys.prototype._setOrientation=function(t){var e=Bme[t];this._axis=e[0],this._dimension=e[1]};Ys.prototype._hasIntersection=function(t,e){return Math.max(t.min,t.max)>=Math.min(e.min,e.max)&&Math.min(t.min,t.max)<=Math.max(e.min,e.max)};Ys.prototype._findRange=function(t){var e=t[this._axis],n=t[this._dimension];return{min:e+bA,max:e+n-bA}};const bW={__init__:["distributeElements"],distributeElements:["type",Ys]};function S2(t){Nr.call(this,t)}S2.$inject=["eventBus"];Oe(S2,Nr);S2.prototype.init=function(){this.addRule("elements.distribute",function(t){var e=t.elements;return e=Xe(e,function(n){var r=Qe(n,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(n.labelTarget||r)}),e=Dv(e),e.length<3?!1:e})};var _A={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`},Fme=900;function Uh(t,e,n,r){this._distributeElements=e,this._translate=n,this._popupMenu=t,this._rules=r,t.registerProvider("align-elements",Fme,this)}Uh.$inject=["popupMenu","distributeElements","translate","rules"];Uh.prototype.getPopupMenuEntries=function(t){var e={};return this._isAllowed(t)&&re(e,this._getEntries(t)),e};Uh.prototype._isAllowed=function(t){return this._rules.allowed("elements.distribute",{elements:t})};Uh.prototype._getEntries=function(t){var e=this._distributeElements,n=this._translate,r=this._popupMenu,i={"distribute-elements-horizontal":{group:"distribute",title:n("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:_A.horizontal,action:function(o,s){e.trigger(t,"horizontal"),r.close()}},"distribute-elements-vertical":{group:"distribute",title:n("Distribute elements vertically"),imageHtml:_A.vertical,action:function(o,s){e.trigger(t,"vertical"),r.close()}}};return i};const zme={__depends__:[Gv,bW],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",S2],distributeElementsMenuProvider:["type",Uh]};var _W="is not a registered action",qme="is already registered";function Lr(t,e){this._actions={};var n=this;t.on("diagram.init",function(){n._registerDefaultActions(e),t.fire("editorActions.init",{editorActions:n})})}Lr.$inject=["eventBus","injector"];Lr.prototype._registerDefaultActions=function(t){var e=t.get("commandStack",!1),n=t.get("modeling",!1),r=t.get("selection",!1),i=t.get("zoomScroll",!1),o=t.get("copyPaste",!1),s=t.get("canvas",!1),a=t.get("rules",!1),l=t.get("keyboardMove",!1),c=t.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),o&&r&&this.register("copy",function(){var u=r.get();if(u.length)return o.copy(u)}),o&&this.register("paste",function(){o.paste()}),i&&this.register("stepZoom",function(u){i.stepZoom(u.value)}),s&&this.register("zoom",function(u){s.zoom(u.value)}),n&&r&&a&&this.register("removeSelection",function(){var u=r.get();if(u.length){var d=a.allowed("elements.delete",{elements:u}),f;d!==!1&&(Fe(d)?f=d:f=u,f.length&&n.removeElements(f.slice()))}}),l&&this.register("moveCanvas",function(u){l.moveCanvas(u)}),c&&this.register("moveSelection",function(u){c.moveSelection(u.direction,u.accelerated)})};Lr.prototype.trigger=function(t,e){if(!this._actions[t])throw DC(t,_W);return this._actions[t](e)};Lr.prototype.register=function(t,e){var n=this;if(typeof t=="string")return this._registerAction(t,e);ee(t,function(r,i){n._registerAction(i,r)})};Lr.prototype._registerAction=function(t,e){if(this.isRegistered(t))throw DC(t,qme);this._actions[t]=e};Lr.prototype.unregister=function(t){if(!this.isRegistered(t))throw DC(t,_W);this._actions[t]=void 0};Lr.prototype.getActions=function(){return Object.keys(this._actions)};Lr.prototype.isRegistered=function(t){return!!this._actions[t]};function DC(t,e){return new Error(t+" "+e)}const xW={__init__:["editorActions"],editorActions:["type",Lr]};function C2(t){t.invoke(Lr,this)}Oe(C2,Lr);C2.$inject=["injector"];C2.prototype._registerDefaultActions=function(t){Lr.prototype._registerDefaultActions.call(this,t);var e=t.get("canvas",!1),n=t.get("elementRegistry",!1),r=t.get("selection",!1),i=t.get("spaceTool",!1),o=t.get("lassoTool",!1),s=t.get("handTool",!1),a=t.get("globalConnect",!1),l=t.get("distributeElements",!1),c=t.get("alignElements",!1),u=t.get("directEditing",!1),d=t.get("searchPad",!1),f=t.get("modeling",!1),h=t.get("contextPad",!1);e&&n&&r&&this._registerAction("selectElements",function(){var p=e.getRootElement(),m=n.filter(function(g){return g!==p});return r.select(m),m}),i&&this._registerAction("spaceTool",function(){i.toggle()}),o&&this._registerAction("lassoTool",function(){o.toggle()}),s&&this._registerAction("handTool",function(){s.toggle()}),a&&this._registerAction("globalConnectTool",function(){a.toggle()}),r&&l&&this._registerAction("distributeElements",function(p){var m=r.get(),g=p.type;m.length&&l.trigger(m,g)}),r&&c&&this._registerAction("alignElements",function(p){var m=r.get(),g=[],v=p.type;m.length&&(g=Xe(m,function(y){return!$(y,"bpmn:Lane")}),c.trigger(g,v))}),r&&f&&this._registerAction("setColor",function(p){var m=r.get();m.length&&f.setColor(m,p)}),r&&u&&this._registerAction("directEditing",function(){var p=r.get();p.length&&u.activate(p[0])}),d&&this._registerAction("find",function(){d.toggle()}),e&&f&&this._registerAction("moveToOrigin",function(){var p=e.getRootElement(),m,g;$(p,"bpmn:Collaboration")?g=n.filter(function(v){return $(v.parent,"bpmn:Collaboration")}):g=n.filter(function(v){return v!==p&&!$(v.parent,"bpmn:SubProcess")}),m=Cn(g),f.moveElements(g,{x:-m.x,y:-m.y},p)}),r&&h&&this._registerAction("replaceElement",function(p){h.triggerEntry("replace","click",p)})};const Vme={__depends__:[xW],editorActions:["type",C2]};function wW(t){t.on(["create.init","shape.move.init"],function(e){var n=e.context,r=e.shape;Qe(r,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(n.gridSnappingContext||(n.gridSnappingContext={}),n.gridSnappingContext.snapLocation="top-left")})}wW.$inject=["eventBus"];var jm=10;function C3(t,e,n){return n||(n="round"),Math[n](t/e)*e}var Hme=1200,Ume=800;function Ja(t,e,n){var r=!n||n.active!==!1;this._eventBus=e;var i=this;e.on("diagram.init",Ume,function(){i.setActive(r)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],Hme,function(o){var s=o.originalEvent;if(!(!i.active||s&&Pi(s))){var a=o.context,l=a.gridSnappingContext;l||(l=a.gridSnappingContext={}),["x","y"].forEach(function(c){var u={},d=Gme(o,c,t);d&&(u.offset=d);var f=Wme(o,c);f&&re(u,f),B0(o,c)||i.snapEvent(o,c,u)})}})}Ja.prototype.snapEvent=function(t,e,n){var r=this.snapValue(t[e],n);mn(t,e,r)};Ja.prototype.getGridSpacing=function(){return jm};Ja.prototype.snapValue=function(t,e){var n=0;e&&e.offset&&(n=e.offset),t+=n,t=C3(t,jm);var r,i;return e&&e.min&&(r=e.min,He(r)&&(r=C3(r+n,jm,"ceil"),t=Math.max(t,r))),e&&e.max&&(i=e.max,He(i)&&(i=C3(i+n,jm,"floor"),t=Math.min(t,i))),t-=n,t};Ja.prototype.isActive=function(){return this.active};Ja.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})};Ja.prototype.toggleActive=function(){this.setActive(!this.active)};Ja.$inject=["elementRegistry","eventBus","config.gridSnapping"];function Wme(t,e){var n=t.context,r=n.createConstraints,i=n.resizeConstraints||{},o=n.gridSnappingContext,s=o.snapConstraints;if(s&&s[e])return s[e];s||(s=o.snapConstraints={}),s[e]||(s[e]={});var a=n.direction;r&&(Bm(e)?(s.x.min=r.left,s.x.max=r.right):(s.y.min=r.top,s.y.max=r.bottom));var l=i.min,c=i.max;return l&&(Bm(e)?wA(a)?s.x.max=l.left:s.x.min=l.right:xA(a)?s.y.max=l.top:s.y.min=l.bottom),c&&(Bm(e)?wA(a)?s.x.min=c.left:s.x.max=c.right:xA(a)?s.y.min=c.top:s.y.max=c.bottom),s[e]}function Gme(t,e,n){var r=t.context,i=t.shape,o=r.gridSnappingContext,s=o.snapLocation,a=o.snapOffset;return a&&He(a[e])||(a||(a=o.snapOffset={}),He(a[e])||(a[e]=0),!i)||(n.get(i.id)||(Bm(e)?a[e]+=i[e]+i.width/2:a[e]+=i[e]+i.height/2),!s)||(e==="x"?/left/.test(s)?a[e]-=i.width/2:/right/.test(s)&&(a[e]+=i.width/2):/top/.test(s)?a[e]-=i.height/2:/bottom/.test(s)&&(a[e]+=i.height/2)),a[e]}function Bm(t){return t==="x"}function xA(t){return t.indexOf("n")!==-1}function wA(t){return t.indexOf("w")!==-1}function Cc(t,e){xe.call(this,t),this._gridSnapping=e;var n=this;this.preExecute("shape.resize",function(r){var i=r.context,o=i.hints||{},s=o.autoResize;if(s){var a=i.shape,l=i.newBounds;kn(s)?i.newBounds=n.snapComplex(l,s):i.newBounds=n.snapSimple(a,l)}})}Cc.$inject=["eventBus","gridSnapping","modeling"];Oe(Cc,xe);Cc.prototype.snapSimple=function(t,e){var n=this._gridSnapping;return e.width=n.snapValue(e.width,{min:e.width}),e.height=n.snapValue(e.height,{min:e.height}),e.x=t.x+t.width/2-e.width/2,e.y=t.y+t.height/2-e.height/2,e};Cc.prototype.snapComplex=function(t,e){return/w|e/.test(e)&&(t=this.snapHorizontally(t,e)),/n|s/.test(e)&&(t=this.snapVertically(t,e)),t};Cc.prototype.snapHorizontally=function(t,e){var n=this._gridSnapping,r=/w/.test(e),i=/e/.test(e),o={};return o.width=n.snapValue(t.width,{min:t.width}),i&&(r?(o.x=n.snapValue(t.x,{max:t.x}),o.width+=n.snapValue(t.x-o.x,{min:t.x-o.x})):t.x=t.x+t.width-o.width),re(t,o),t};Cc.prototype.snapVertically=function(t,e){var n=this._gridSnapping,r=/n/.test(e),i=/s/.test(e),o={};return o.height=n.snapValue(t.height,{min:t.height}),r&&(i?(o.y=n.snapValue(t.y,{max:t.y}),o.height+=n.snapValue(t.y-o.y,{min:t.y-o.y})):t.y=t.y+t.height-o.height),re(t,o),t};var Kme=2e3;function EW(t,e){t.on(["spaceTool.move","spaceTool.end"],Kme,function(n){var r=n.context;if(r.initialized){var i=r.axis,o;i==="x"?(o=e.snapValue(n.dx),n.x=n.x+o-n.dx,n.dx=o):(o=e.snapValue(n.dy),n.y=n.y+o-n.dy,n.dy=o)}})}EW.$inject=["eventBus","gridSnapping"];const Xme={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Cc],gridSnappingSpaceToolBehavior:["type",EW]},SW={__depends__:[Xme],__init__:["gridSnapping"],gridSnapping:["type",Ja]};var Yme=2e3;function CW(t,e,n){t.on("autoPlace",Yme,function(r){var i=r.source,o=Le(i),s=r.shape,a=jH(i,s,n);return["x","y"].forEach(function(l){var c={};a[l]!==o[l]&&(a[l]>o[l]?c.min=a[l]:c.max=a[l],$(s,"bpmn:TextAnnotation")&&(Qme(l)?c.offset=-s.width/2:c.offset=-s.height/2),a[l]=e.snapValue(a[l],c))}),a})}CW.$inject=["eventBus","gridSnapping","elementRegistry"];function Qme(t){return t==="x"}var Zme=1750;function kW(t,e,n){e.on(["create.start","shape.move.start"],Zme,function(r){var i=r.context,o=i.shape,s=t.getRootElement();if(!(!$(o,"bpmn:Participant")||!$(s,"bpmn:Process")||!s.children.length)){var a=i.createConstraints;a&&(o.width=n.snapValue(o.width,{min:o.width}),o.height=n.snapValue(o.height,{min:o.height}))}})}kW.$inject=["canvas","eventBus","gridSnapping"];var Jme=3e3;function k2(t,e,n){xe.call(this,t),this._gridSnapping=e;var r=this;this.postExecuted(["connection.create","connection.layout"],Jme,function(i){var o=i.context,s=o.connection,a=o.hints||{},l=s.waypoints;a.connectionStart||a.connectionEnd||a.createElementsBehavior===!1||ege(l)&&n.updateWaypoints(s,r.snapMiddleSegments(l))})}k2.$inject=["eventBus","gridSnapping","modeling"];Oe(k2,xe);k2.prototype.snapMiddleSegments=function(t){var e=this._gridSnapping,n;t=t.slice();for(var r=1;r<t.length-2;r++)n=rge(e,t[r],t[r+1]),t[r]=n[0],t[r+1]=n[1];return t};function ege(t){return t.length>3}function tge(t){return t==="h"}function nge(t){return t==="v"}function rge(t,e,n){var r=ys(e,n),i={};return tge(r)&&(i.y=t.snapValue(e.y)),nge(r)&&(i.x=t.snapValue(e.x)),("x"in i||"y"in i)&&(e=re({},e,i),n=re({},n,i)),[e,n]}const ige={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",CW],gridSnappingParticipantBehavior:["type",kW],gridSnappingLayoutConnectionBehavior:["type",k2]},oge={__depends__:[SW,ige],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",wW]};var sge=30,OW=30;function Wh(t,e){this._interactionEvents=e;var n=this;t.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(r){var i=r.element,o=r.gfx;if($(i,"bpmn:Lane"))return n._createParticipantHit(i,o);if($(i,"bpmn:Participant"))return rt(i)?n._createParticipantHit(i,o):n._createDefaultHit(i,o);if($(i,"bpmn:SubProcess"))return rt(i)?n._createSubProcessHit(i,o):n._createDefaultHit(i,o)})}Wh.$inject=["eventBus","interactionEvents"];Wh.prototype._createDefaultHit=function(t,e){return this._interactionEvents.removeHits(e),this._interactionEvents.createDefaultHit(t,e),!0};Wh.prototype._createParticipantHit=function(t,e){this._interactionEvents.removeHits(e),this._interactionEvents.createBoxHit(e,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"click-stroke",{width:t.width,height:t.height});var n=In(t)?{width:sge,height:t.height}:{width:t.width,height:OW};return this._interactionEvents.createBoxHit(e,"all",n),!0};Wh.prototype._createSubProcessHit=function(t,e){return this._interactionEvents.removeHits(e),this._interactionEvents.createBoxHit(e,"no-move",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"click-stroke",{width:t.width,height:t.height}),this._interactionEvents.createBoxHit(e,"all",{width:t.width,height:OW}),!0};const age={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Wh]};function O2(t){t.invoke(Hs,this)}Oe(O2,Hs);O2.$inject=["injector"];O2.prototype.registerBindings=function(t,e){Hs.prototype.registerBindings.call(this,t,e);function n(r,i){e.isRegistered(r)&&t.addListener(i)}n("selectElements",function(r){var i=r.keyEvent;if(t.isKey(["a","A"],i)&&t.isCmd(i))return e.trigger("selectElements"),!0}),n("find",function(r){var i=r.keyEvent;if(t.isKey(["f","F"],i)&&t.isCmd(i))return e.trigger("find"),!0}),n("spaceTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["s","S"],i))return e.trigger("spaceTool"),!0}),n("lassoTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["l","L"],i))return e.trigger("lassoTool"),!0}),n("handTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["h","H"],i))return e.trigger("handTool"),!0}),n("globalConnectTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["c","C"],i))return e.trigger("globalConnectTool"),!0}),n("directEditing",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["e","E"],i))return e.trigger("directEditing"),!0}),n("replaceElement",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["r","R"],i))return e.trigger("replaceElement",i),!0})};const lge={__depends__:[kh],__init__:["keyboardBindings"],keyboardBindings:["type",O2]};var cge={moveSpeed:1,moveSpeedAccelerated:10},uge=1500,EA="left",SA="up",CA="right",kA="down",dge={ArrowLeft:EA,Left:EA,ArrowUp:SA,Up:SA,ArrowRight:CA,Right:CA,ArrowDown:kA,Down:kA},fge={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function RW(t,e,n,r,i){var o=this;this._config=re({},cge,t||{}),e.addListener(uge,function(s){var a=s.keyEvent,l=dge[a.key];if(l&&!e.isCmd(a)){var c=e.isShift(a);return o.moveSelection(l,c),!0}}),this.moveSelection=function(s,a){var l=i.get();if(l.length){var c=this._config[a?"moveSpeedAccelerated":"moveSpeed"],u=fge[s](c),d=r.allowed("elements.move",{shapes:l});d&&n.moveElements(l,u)}}}RW.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const PW={__depends__:[kh,$r],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",RW]};var OA=10;function Gh(t,e,n,r){this._dragging=r,this._rules=e;var i=this;function o(l,c){var u=l.shape,d=l.direction,f=l.resizeConstraints,h;l.delta=c,h=the(u,d,c),l.newBounds=rhe(h,f),l.canExecute=i.canResize(l)}function s(l){var c=l.resizeConstraints,u=l.minBounds;c===void 0&&(u===void 0&&(u=i.computeMinResizeBox(l)),l.resizeConstraints={min:De(u)})}function a(l){var c=l.shape,u=l.canExecute,d=l.newBounds;if(u){if(d=sV(d),!hge(c,d))return;n.resizeShape(c,d)}}t.on("resize.start",function(l){s(l.context)}),t.on("resize.move",function(l){var c={x:l.dx,y:l.dy};o(l.context,c)}),t.on("resize.end",function(l){a(l.context)})}Gh.prototype.canResize=function(t){var e=this._rules,n=Ii(t,["newBounds","shape","delta","direction"]);return e.allowed("shape.resize",n)};Gh.prototype.activate=function(t,e,n){var r=this._dragging,i,o;if(typeof n=="string"&&(n={direction:n}),i=re({shape:e},n),o=i.direction,!o)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");r.init(t,AW(e,o),"resize",{autoActivate:!0,cursor:pge(o),data:{shape:e,context:i}})};Gh.prototype.computeMinResizeBox=function(t){var e=t.shape,n=t.direction,r,i;return r=t.minDimensions||{width:OA,height:OA},i=dU(e,t.childrenBoxPadding),ihe(n,e,r,i)};Gh.$inject=["eventBus","rules","modeling","dragging"];function hge(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function AW(t,e){var n=Le(t),r=De(t),i={x:n.x,y:n.y};return e.indexOf("n")!==-1?i.y=r.top:e.indexOf("s")!==-1&&(i.y=r.bottom),e.indexOf("e")!==-1?i.x=r.right:e.indexOf("w")!==-1&&(i.x=r.left),i}function pge(t){var e="resize-";return t==="n"||t==="s"?e+"ns":t==="e"||t==="w"?e+"ew":t==="nw"||t==="se"?e+"nwse":e+"nesw"}var RA="djs-resizing",PA="resize-not-ok",mge=500;function TW(t,e,n){function r(o){var s=o.shape,a=o.newBounds,l=o.frame;l||(l=o.frame=n.addFrame(s,e.getActiveLayer()),e.addMarker(s,RA)),a.width>5&&Ce(l,{x:a.x,width:a.width}),a.height>5&&Ce(l,{y:a.y,height:a.height}),o.canExecute?dt(l).remove(PA):dt(l).add(PA)}function i(o){var s=o.shape,a=o.frame;a&&Sn(o.frame),e.removeMarker(s,RA)}t.on("resize.move",mge,function(o){r(o.context)}),t.on("resize.cleanup",function(o){i(o.context)})}TW.$inject=["eventBus","canvas","previewSupport"];var AA=-6,TA=8,IA=20,kd="djs-resizer",gge=["n","w","s","e","nw","ne","se","sw"];function el(t,e,n,r){this._resize=r,this._canvas=e;var i=this;t.on("selection.changed",function(o){var s=o.newSelection;i.removeResizers(),s.length===1&&ee(s,Ir(i.addResizer,i))}),t.on("shape.changed",function(o){var s=o.element;n.isSelected(s)&&(i.removeResizers(),i.addResizer(s))})}el.prototype.makeDraggable=function(t,e,n){var r=this._resize;function i(o){Ua(o)&&r.activate(o,t,n)}Be.bind(e,"mousedown",i),Be.bind(e,"touchstart",i)};el.prototype._createResizer=function(t,e,n,r){var i=this._getResizersParent(),o=vge(r),s=Me("g");dt(s).add(kd),dt(s).add(kd+"-"+t.id),dt(s).add(kd+"-"+r),Ve(i,s);var a=Me("rect");Ce(a,{x:-8/2+o.x,y:-8/2+o.y,width:TA,height:TA}),dt(a).add(kd+"-visual"),Ve(s,a);var l=Me("rect");return Ce(l,{x:-20/2+o.x,y:-20/2+o.y,width:IA,height:IA}),dt(l).add(kd+"-hit"),Ve(s,l),Om(s,e,n),s};el.prototype.createResizer=function(t,e){var n=AW(t,e),r=this._createResizer(t,n.x,n.y,e);this.makeDraggable(t,r,e)};el.prototype.addResizer=function(t){var e=this;Tt(t)||!this._resize.canResize({shape:t})||ee(gge,function(n){e.createResizer(t,n)})};el.prototype.removeResizers=function(){var t=this._getResizersParent();Tv(t)};el.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};el.$inject=["eventBus","canvas","selection","resize"];function vge(t){var e={x:0,y:0};return t.indexOf("e")!==-1?e.x=6:t.indexOf("w")!==-1&&(e.x=AA),t.indexOf("s")!==-1?e.y=6:t.indexOf("n")!==-1&&(e.y=AA),e}const MC={__depends__:[qi,Ws,Tu],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Gh],resizePreview:["type",TW],resizeHandles:["type",el]};var yge=2e3;function Kh(t,e,n,r,i,o,s){this._bpmnFactory=e,this._canvas=n,this._modeling=i,this._textRenderer=s,r.registerProvider(this),t.on("element.dblclick",function(l){a(l.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){r.isActive()&&r.complete()}),t.on(["shape.remove","connection.remove"],yge,function(l){r.isActive(l.element)&&r.cancel()}),t.on(["commandStack.changed"],function(l){r.isActive()&&r.cancel()}),t.on("directEditing.activate",function(l){o.removeResizers()}),t.on("create.end",500,function(l){var c=l.context,u=c.shape,d=l.context.canExecute,f=l.isTouch;f||d&&(c.hints&&c.hints.createElementsBehavior===!1||a(u))}),t.on("autoPlace.end",500,function(l){a(l.shape)});function a(l,c){(c||Qe(l,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||$C(l))&&r.activate(l)}}Kh.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"];Kh.prototype.activate=function(t){var e=Di(t);if(e!==void 0){var n={text:e},r=this.getEditingBBox(t);re(n,r);var i={},o=n.style||{};return re(o,{backgroundColor:null,border:null}),(Qe(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||$C(t))&&re(i,{centerVertically:!0}),rc(t)&&(re(i,{autoResize:!0}),re(o,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),$(t,"bpmn:TextAnnotation")&&(re(i,{resizable:!0,autoResize:!0}),re(o,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),re(n,{options:i,style:o}),n}};Kh.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,r=e.getAbsoluteBBox(n),i={x:r.x+r.width/2,y:r.y+r.height/2},o={x:r.x,y:r.y},s=e.zoom(),a=this._textRenderer.getDefaultStyle(),l=this._textRenderer.getExternalStyle(),c=l.fontSize*s,u=l.lineHeight,d=a.fontSize*s,f=a.lineHeight,h={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if($(t,"bpmn:Lane")||xge(t)){var p=In(t),m=p?{width:r.height,height:30*s,x:r.x-r.height/2+15*s,y:i.y-30*s/2}:{width:r.width,height:30*s};re(o,m),re(h,{fontSize:d+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:p?"rotate(-90deg)":null})}if(_ge(t)){var g=In(t),v=g?{width:r.width,height:r.height}:{width:r.height,height:r.width,x:i.x-r.height/2,y:i.y-r.width/2};re(o,v),re(h,{fontSize:d+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:g?null:"rotate(-90deg)"})}(Qe(t,["bpmn:Task","bpmn:CallActivity"])||$C(t))&&(re(o,{width:r.width,height:r.height}),re(h,{fontSize:d+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),bge(t)&&(re(o,{width:r.width,x:r.x}),re(h,{fontSize:d+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var y=90*s,_=7*s,b=4*s;if(n.labelTarget&&(re(o,{width:y,height:r.height+_+b,x:i.x-y/2,y:r.y-_}),re(h,{fontSize:c+"px",lineHeight:u,paddingTop:_+"px",paddingBottom:b+"px"})),rc(n)&&!jv(n)&&!ht(n)){var x=aS(t),w=e.getAbsoluteBBox({x:x.x,y:x.y,width:0,height:0}),E=c+_+b;re(o,{width:y,height:E,x:w.x-y/2,y:w.y-E/2}),re(h,{fontSize:c+"px",lineHeight:u,paddingTop:_+"px",paddingBottom:b+"px"})}return $(t,"bpmn:TextAnnotation")&&(re(o,{width:r.width,height:r.height,minWidth:30*s,minHeight:10*s}),re(h,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:d+"px",lineHeight:f})),{bounds:o,style:h}};Kh.prototype.update=function(t,e,n,r){var i,o;$(t,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(t),i={x:t.x,y:t.y,width:t.width/o.width*r.width,height:t.height/o.height*r.height}),wge(e)&&(e=null),this._modeling.updateLabel(t,e,i)};function $C(t){return $(t,"bpmn:SubProcess")&&!rt(t)}function bge(t){return $(t,"bpmn:SubProcess")&&rt(t)}function _ge(t){return $(t,"bpmn:Participant")&&!rt(t)}function xge(t){return $(t,"bpmn:Participant")&&rt(t)}function wge(t){return!t||!t.trim()}var DA="djs-element-hidden",MA="djs-label-hidden";function IW(t,e,n){var r=this,i=e.getDefaultLayer(),o,s,a;t.on("directEditing.activate",function(l){var c=l.active;if(o=c.element.label||c.element,$(o,"bpmn:TextAnnotation")){s=e.getAbsoluteBBox(o),a=Me("g");var u=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:o.width,containerHeight:o.height,position:{mx:0,my:0}}),d=r.path=Me("path");Ce(d,{d:u,strokeWidth:2,stroke:Ege(o)}),Ve(a,d),Ve(i,a),Hn(a,o.x,o.y)}$(o,"bpmn:TextAnnotation")||o.labelTarget?e.addMarker(o,DA):($(o,"bpmn:Task")||$(o,"bpmn:CallActivity")||$(o,"bpmn:SubProcess")||$(o,"bpmn:Participant")||$(o,"bpmn:Lane"))&&e.addMarker(o,MA)}),t.on("directEditing.resize",function(l){if($(o,"bpmn:TextAnnotation")){var c=l.height,u=l.dy,d=Math.max(o.height/s.height*(c+u),0),f=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:o.width,containerHeight:d,position:{mx:0,my:0}});Ce(r.path,{d:f})}}),t.on(["directEditing.complete","directEditing.cancel"],function(l){var c=l.active;c&&(e.removeMarker(c.element.label||c.element,DA),e.removeMarker(o,MA)),o=void 0,s=void 0,a&&(Sn(a),a=void 0)})}IW.$inject=["eventBus","canvas","pathMap"];function Ege(t,e){var n=ft(t);return n.get("stroke")||e||"black"}const Sge={__depends__:[Ch,MC,IC],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Kh],labelEditingPreview:["type",IW]};var Cge=new Sh("tt");function kge(t){var e=at('<div class="djs-tooltip-container" />');return tr(e,{position:"absolute",width:"0",height:"0"}),t.insertBefore(e,t.firstChild),e}function Oge(t,e,n){tr(t,{left:e+"px",top:n+"px"})}function NC(t,e){t.style.display=e===!1?"none":""}var DW="djs-tooltip",k3="."+DW;function jr(t,e){this._eventBus=t,this._canvas=e,this._ids=Cge,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=kge(e.getContainer());var n=this;rr.bind(this._tooltipRoot,k3,"mousedown",function(r){r.stopPropagation()}),rr.bind(this._tooltipRoot,k3,"mouseover",function(r){n.trigger("mouseover",r)}),rr.bind(this._tooltipRoot,k3,"mouseout",function(r){n.trigger("mouseout",r)}),this._init()}jr.$inject=["eventBus","canvas"];jr.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=re({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e};jr.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,r=this.get(Vn(n,"data-tooltip-id"));r&&(t==="mouseover"&&r.timeout&&this.clearTimeout(r),t==="mouseout"&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))};jr.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]};jr.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}};jr.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout(function(){e.remove(t)},t.timeout)}};jr.prototype.remove=function(t){var e=this.get(t);e&&(Gn(e.html),Gn(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])};jr.prototype.show=function(){NC(this._tooltipRoot)};jr.prototype.hide=function(){NC(this._tooltipRoot,!1)};jr.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,r="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r};jr.prototype._addTooltip=function(t){var e=t.id,n=t.html,r,i=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),kn(n)&&(n=at(n)),r=at('<div data-tooltip-id="'+e+'" class="'+DW+'">'),tr(r,{position:"absolute"}),r.appendChild(n),t.type&&et(r).add("djs-tooltip-"+t.type),t.className&&et(r).add(t.className),t.htmlContainer=r,i.appendChild(r),this._tooltips[e]=t,this._updateTooltip(t)};jr.prototype._updateTooltip=function(t){var e=t.position,n=t.htmlContainer;Oge(n,e.x,e.y)};jr.prototype._updateTooltipVisibilty=function(t){ee(this._tooltips,function(e){var n=e.show,r=e.htmlContainer,i=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(i=!1),NC(r,i))})};jr.prototype._init=function(){var t=this;function e(n){t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}this._eventBus.on("canvas.viewbox.changing",function(n){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){e(n.viewbox)})};const Rge={__init__:["tooltips"],tooltips:["type",jr]};var Pge="flow elements must be children of pools/participants",Age="Data object must be placed within a pool/participant.";function MW(t,e,n){function r(i,o,s){e.add({position:{x:i.x+5,y:i.y+5},type:"error",timeout:2e3,html:"<div>"+o+"</div>"})}t.on(["shape.move.rejected","create.rejected"],function(i){var o=i.context,s=o.shape,a=o.target;$(a,"bpmn:Collaboration")&&($(s,"bpmn:FlowNode")?r(i,n(Pge)):$(s,"bpmn:DataObjectReference")&&r(i,n(Age)))})}MW.$inject=["eventBus","tooltips","translate"];const Tge={__depends__:[Rge],__init__:["modelingFeedback"],modelingFeedback:["type",MW]};var Ige=500,Dge=1e3;function kc(t,e){this._eventBus=t,this.offset=5;var n=e.cls("djs-outline",["no-fill"]),r=this;function i(o){var s=Me("rect");return Ce(s,re({x:0,y:0,rx:4,width:100,height:100},n)),s}t.on(["shape.added","shape.changed"],Ige,function(o){var s=o.element,a=o.gfx,l=Ue(".djs-outline",a);l||(l=r.getOutline(s)||i(),Ve(a,l)),r.updateShapeOutline(l,s)}),t.on(["connection.added","connection.changed"],function(o){var s=o.element,a=o.gfx,l=Ue(".djs-outline",a);l||(l=i(),Ve(a,l)),r.updateConnectionOutline(l,s)})}kc.prototype.updateShapeOutline=function(t,e){var n=!1,r=this._getProviders();r.length&&ee(r,function(i){n=n||i.updateOutline(e,t)}),n||Ce(t,{x:-this.offset,y:-this.offset,width:e.width+this.offset*2,height:e.height+this.offset*2})};kc.prototype.updateConnectionOutline=function(t,e){var n=Cn(e);Ce(t,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};kc.prototype.registerProvider=function(t,e){e||(e=t,t=Dge),this._eventBus.on("outline.getProviders",t,function(n){n.providers.push(e)})};kc.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};kc.prototype.getOutline=function(t){var e,n=this._getProviders();return ee(n,function(r){Ct(r.getOutline)&&(e=e||r.getOutline(t))}),e};kc.$inject=["eventBus","styles","elementRegistry"];var c1=6;function LC(t,e,n){this._canvas=e;var r=this;t.on("element.changed",function(i){n.isSelected(i.element)&&r._updateMultiSelectionOutline(n.get())}),t.on("selection.changed",function(i){var o=i.newSelection;r._updateMultiSelectionOutline(o)})}LC.prototype._updateMultiSelectionOutline=function(t){var e=this._canvas.getLayer("selectionOutline");Tv(e);var n=t.length>1,r=this._canvas.getContainer();if(dt(r)[n?"add":"remove"]("djs-multi-select"),!!n){var i=Mge(Cn(t)),o=Me("rect");Ce(o,re({rx:3},i)),dt(o).add("djs-selection-outline"),Ve(e,o)}};LC.$inject=["eventBus","canvas","selection"];function Mge(t){return{x:t.x-c1,y:t.y-c1,width:t.width+c1*2,height:t.height+c1*2}}const jC={__depends__:[$r],__init__:["outline","multiSelectionOutline"],outline:["type",kc],multiSelectionOutline:["type",LC]};var $ge=500,Nge=1250,Lge=1500,Ig=Math.round;function jge(t){return{x:t.x+Ig(t.width/2),y:t.y+Ig(t.height/2)}}function $W(t,e,n,r,i){function o(a,l,c,u){return i.allowed("elements.move",{shapes:a,delta:l,position:c,target:u})}t.on("shape.move.start",Lge,function(a){var l=a.context,c=a.shape,u=r.get().slice();u.indexOf(c)===-1&&(u=[c]),u=Bge(u),re(l,{shapes:u,validatedShapes:u,shape:c})}),t.on("shape.move.start",Nge,function(a){var l=a.context,c=l.validatedShapes,u;if(u=l.canExecute=o(c),!u)return!1}),t.on("shape.move.move",$ge,function(a){var l=a.context,c=l.validatedShapes,u=a.hover,d={x:a.dx,y:a.dy},f={x:a.x,y:a.y},h;if(h=o(c,d,f,u),l.delta=d,l.canExecute=h,h===null){l.target=null;return}l.target=u}),t.on("shape.move.end",function(a){var l=a.context,c=l.delta,u=l.canExecute,d=u==="attach",f=l.shapes;if(u===!1)return!1;c.x=Ig(c.x),c.y=Ig(c.y),!(c.x===0&&c.y===0)&&n.moveElements(f,c,l.target,{primaryShape:l.shape,attach:d})}),t.on("element.mousedown",function(a){if(Ua(a)){var l=Cu(a);if(!l)throw new Error("must supply DOM mousedown event");return s(l,a.element)}});function s(a,l,c,u){if(On(c)&&(u=c,c=!1),!(l.waypoints||!l.parent)&&!dt(a.target).has("djs-hit-no-move")){var d=jge(l);return e.init(a,d,"shape.move",{cursor:"grabbing",autoActivate:c,data:{shape:l,context:u||{}}}),!0}}this.start=s}$W.$inject=["eventBus","dragging","modeling","selection","rules"];function Bge(t){var e=vc(t,"id");return Xe(t,function(n){for(;n=n.parent;)if(e[n.id])return!1;return!0})}var $A=499,O3="djs-dragging",NA="drop-ok",LA="drop-not-ok",jA="new-parent",BA="attach-ok";function NW(t,e,n,r){function i(l){var c=o(l),u=Fge(c);return u}function o(l){var c=gh(l,!0),u=c.flatMap(h=>(h.incoming||[]).concat(h.outgoing||[])),d=c.concat(u),f=[...new Set(d)];return f}function s(l,c){[BA,NA,LA,jA].forEach(function(u){u===c?e.addMarker(l,u):e.removeMarker(l,u)})}function a(l,c,u){r.addDragger(c,l.dragGroup),u&&e.addMarker(c,O3),l.allDraggedElements?l.allDraggedElements.push(c):l.allDraggedElements=[c]}t.on("shape.move.start",$A,function(l){var c=l.context,u=c.shapes,d=c.allDraggedElements,f=i(u);if(!c.dragGroup){var h=Me("g");Ce(h,n.cls("djs-drag-group",["no-events"]));var p=e.getActiveLayer();Ve(p,h),c.dragGroup=h}f.forEach(function(m){r.addDragger(m,c.dragGroup)}),d?d=HE([d,o(u)]):d=o(u),ee(d,function(m){e.addMarker(m,O3)}),c.allDraggedElements=d,c.differentParents=zge(u)}),t.on("shape.move.move",$A,function(l){var c=l.context,u=c.dragGroup,d=c.target,f=c.shape.parent,h=c.canExecute;d&&(h==="attach"?s(d,BA):c.canExecute&&f&&d.id!==f.id?s(d,jA):s(d,c.canExecute?NA:LA)),Hn(u,l.dx,l.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(l){var c=l.context,u=c.target;u&&s(u,null)}),t.on("shape.move.cleanup",function(l){var c=l.context,u=c.allDraggedElements,d=c.dragGroup;ee(u,function(f){e.removeMarker(f,O3)}),d&&Sn(d)}),this.makeDraggable=a}NW.$inject=["eventBus","canvas","styles","previewSupport"];function Fge(t){var e=Xe(t,function(n){return Tt(n)?Ge(t,io({id:n.source.id}))&&Ge(t,io({id:n.target.id})):!0});return e}function zge(t){return pae(vc(t,function(e){return e.parent&&e.parent.id}))!==1}const LW={__depends__:[Fv,$r,jC,qi,Ws,Tu],__init__:["move","movePreview"],move:["type",$W],movePreview:["type",NW]};var jW=".djs-palette-toggle",BW=".entry",qge=jW+", "+BW,iw="djs-palette-",Vge="shown",ow="open",FA="two-column",Hge=1e3;function vn(t,e){this._eventBus=t,this._canvas=e;var n=this;t.on("tool-manager.update",function(r){var i=r.tool;n.updateToolHighlight(i)}),t.on("i18n.changed",function(){n._update()}),t.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}vn.$inject=["eventBus","canvas"];vn.prototype.registerProvider=function(t,e){e||(e=t,t=Hge),this._eventBus.on("palette.getProviders",t,function(n){n.providers.push(e)}),this._rebuild()};vn.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(Wge,{})};vn.prototype._rebuild=function(){if(this._diagramInitialized){var t=this._getProviders();t.length&&(this._container||this._init(),this._update())}};vn.prototype._init=function(){var t=this,e=this._eventBus,n=this._getParentContainer(),r=this._container=at(vn.HTML_MARKUP);n.appendChild(r),et(n).add(iw+Vge),rr.bind(r,qge,"click",function(i){var o=i.delegateTarget;if(Av(o,jW))return t.toggle();t.trigger("click",i)}),Be.bind(r,"mousedown",function(i){i.stopPropagation()}),rr.bind(r,BW,"dragstart",function(i){t.trigger("dragstart",i)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:r})};vn.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};vn.prototype._toggleState=function(t){t=t||{};var e=this._getParentContainer(),n=this._container,r=this._eventBus,i,o=et(n),s=et(e);"twoColumn"in t?i=t.twoColumn:i=this._needsCollapse(e.clientHeight,this._entries||{}),o.toggle(FA,i),s.toggle(iw+FA,i),"open"in t&&(o.toggle(ow,t.open),s.toggle(iw+ow,t.open)),r.fire("palette.changed",{twoColumn:i,open:this.isOpen()})};vn.prototype._update=function(){var t=Ue(".djs-palette-entries",this._container),e=this._entries=this.getEntries();Pv(t),ee(e,function(n,r){var i=n.group||"default",o=Ue("[data-group="+jf(i)+"]",t);o||(o=at('<div class="group"></div>'),Vn(o,"data-group",i),t.appendChild(o));var s=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),a=at(s);if(o.appendChild(a),!n.separator&&(Vn(a,"data-action",r),n.title&&Vn(a,"title",n.title),n.className&&Uge(a,n.className),n.imageUrl)){var l=at("<img>");Vn(l,"src",n.imageUrl),a.appendChild(l)}}),this.open()};vn.prototype.trigger=function(t,e,n){var r,i,o=e.delegateTarget||e.target;return o?(r=Vn(o,"data-action"),i=e.originalEvent||e,this.triggerEntry(r,t,i,n)):e.preventDefault()};vn.prototype.triggerEntry=function(t,e,n,r){var i=this._entries,o,s;if(o=i[t],!!o&&(s=o.action,this._eventBus.fire("palette.trigger",{entry:o,event:n})!==!1)){if(Ct(s)){if(e==="click")return s(n,r)}else if(s[e])return s[e](n,r);n.preventDefault()}};vn.prototype._layoutChanged=function(){this._toggleState({})};vn.prototype._needsCollapse=function(t,e){var n=50,r=Object.keys(e).length*46;return t<r+n};vn.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};vn.prototype.open=function(){this._toggleState({open:!0})};vn.prototype.toggle=function(){this.isOpen()?this.close():this.open()};vn.prototype.isActiveTool=function(t){return t&&this._activeTool===t};vn.prototype.updateToolHighlight=function(t){var e,n;this._toolsContainer||(e=Ue(".djs-palette-entries",this._container),this._toolsContainer=Ue("[data-group=tools]",e)),n=this._toolsContainer,ee(n.children,function(r){var i=r.getAttribute("data-action");if(i){var o=et(r);i=i.replace("-tool",""),o.contains("entry")&&i===t?o.add("highlighted-entry"):o.remove("highlighted-entry")}})};vn.prototype.isOpen=function(){return et(this._container).has(ow)};vn.prototype._getParentContainer=function(){return this._canvas.getContainer()};vn.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function Uge(t,e){var n=et(t),r=Fe(e)?e:e.split(/\s+/g);r.forEach(function(i){n.add(i)})}function Wge(t,e){var n=e.getPaletteEntries();return Ct(n)?n(t):(ee(n,function(r,i){t[i]=r}),t)}const FW={__init__:["palette"],palette:["type",vn]};var zW="crosshair";function Oc(t,e,n,r,i,o,s){this._selection=i,this._dragging=n,this._mouse=s;var a=this,l={create:function(c){var u=e.getActiveLayer(),d;d=c.frame=Me("rect"),Ce(d,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Ve(u,d)},update:function(c){var u=c.frame,d=c.bbox;Ce(u,{x:d.x,y:d.y,width:d.width,height:d.height})},remove:function(c){c.frame&&Sn(c.frame)}};o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(c){var u=c.originalEvent.target;!c.hover&&!(u instanceof SVGElement)||t.once("lasso.selection.ended",function(){a.activateLasso(c.originalEvent,!0)})}),t.on("lasso.end",0,function(c){var u=c.context,d=R3(c),f=r.filter(function(p){return p}),h=Eg(c);a.select(f,d,h?u.selection:[])}),t.on("lasso.start",function(c){var u=c.context;u.bbox=R3(c),l.create(u),u.selection=i.get()}),t.on("lasso.move",function(c){var u=c.context;u.bbox=R3(c),l.update(u)}),t.on("lasso.cleanup",function(c){var u=c.context;l.remove(u)}),t.on("element.mousedown",1500,function(c){if(Eg(c))return a.activateLasso(c.originalEvent),!0})}Oc.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];Oc.prototype.activateLasso=function(t,e){this._dragging.init(t,"lasso",{autoActivate:e,cursor:zW,data:{context:{}}})};Oc.prototype.activateSelection=function(t,e){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:e,cursor:zW,data:{context:{}},keepSelection:!0})};Oc.prototype.select=function(t,e,n=[]){var r=eV(t,e);this._selection.select([...n,...Ov(r)])};Oc.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};Oc.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};function R3(t){var e={x:t.x-t.dx,y:t.y-t.dy},n={x:t.x,y:t.y},r;return e.x<=n.x&&e.y<n.y||e.x<n.x&&e.y<=n.y?r={x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}:e.x>=n.x&&e.y<n.y||e.x>n.x&&e.y<=n.y?r={x:n.x,y:e.y,width:e.x-n.x,height:n.y-e.y}:e.x<=n.x&&e.y>n.y||e.x<n.x&&e.y>=n.y?r={x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y}:e.x>=n.x&&e.y>n.y||e.x>n.x&&e.y>=n.y?r={x:n.x,y:n.y,width:e.x-n.x,height:e.y-n.y}:r={x:n.x,y:n.y,width:0,height:0},r}const qW={__depends__:[c2,Ih],__init__:["lassoTool"],lassoTool:["type",Oc]};var P3=1500,VW="grab";function Du(t,e,n,r,i,o){this._dragging=n,this._mouse=o;var s=this,a=r.get("keyboard",!1);i.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",P3,function(l){if(M0(l))return s.activateMove(l.originalEvent,!0),!1}),a&&a.addListener(P3,function(l){if(!(!zA(l.keyEvent)||s.isActive())){var c=s._mouse.getLastMoveEvent();s.activateMove(c,!!c)}},"keyboard.keydown"),a&&a.addListener(P3,function(l){!zA(l.keyEvent)||!s.isActive()||s.toggle()},"keyboard.keyup"),t.on("hand.end",function(l){var c=l.originalEvent.target;if(!l.hover&&!(c instanceof SVGElement))return!1;t.once("hand.ended",function(){s.activateMove(l.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(l){var c=e.viewbox().scale;e.scroll({dx:l.dx*c,dy:l.dy*c})}),t.on("hand.move.end",function(l){var c=l.context,u=c.reactivate;return!M0(l)&&u&&t.once("hand.move.ended",function(d){s.activateHand(d.originalEvent,!0,!0)}),!1})}Du.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];Du.prototype.activateMove=function(t,e,n){typeof e=="object"&&(n=e,e=!1),this._dragging.init(t,"hand.move",{autoActivate:e,cursor:VW,data:{context:n||{}}})};Du.prototype.activateHand=function(t,e,n){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:e,cursor:VW,data:{context:{reactivate:n}}})};Du.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)};Du.prototype.isActive=function(){var t=this._dragging.context();return t?/^(hand|hand\.move)$/.test(t.prefix):!1};function zA(t){return $n("Space",t)}const HW={__depends__:[c2,Ih],__init__:["handTool"],handTool:["type",Du]};var qA="connect-ok",VA="connect-not-ok";function Mu(t,e,n,r,i,o,s){var a=this;this._dragging=e,this._rules=o,this._mouse=s,i.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(l){var c=l.context,u=l.hover,d=c.canStartConnect=a.canStartConnect(u);d!==null&&(c.startTarget=u,r.addMarker(u,d?qA:VA))}),t.on(["global-connect.out","global-connect.cleanup"],function(l){var c=l.context.startTarget,u=l.context.canStartConnect;c&&r.removeMarker(c,u?qA:VA)}),t.on(["global-connect.ended"],function(l){var c=l.context,u=c.startTarget,d={x:l.x,y:l.y},f=a.canStartConnect(u);if(f)return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),n.start(null,u,d)}),!1})}Mu.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Mu.prototype.start=function(t,e){this._dragging.init(t,"global-connect",{autoActivate:e,trapClick:!1,data:{context:{}}})};Mu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)};Mu.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)};Mu.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const Gge={__depends__:[Zv,qi,Ws,c2,Ih],globalConnect:["type",Mu]};function BC(t,e,n,r,i,o,s,a){this._palette=t,this._create=e,this._elementFactory=n,this._spaceTool=r,this._lassoTool=i,this._handTool=o,this._globalConnect=s,this._translate=a,t.registerProvider(this)}BC.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];BC.prototype.getPaletteEntries=function(){var t={},e=this._create,n=this._elementFactory,r=this._spaceTool,i=this._lassoTool,o=this._handTool,s=this._globalConnect,a=this._translate;function l(d,f,h,p,m){function g(v){var y=n.createShape(re({type:d},m));e.start(v,y)}return{group:f,className:h,title:p,action:{dragstart:g,click:g}}}function c(d){var f=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),h=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:f});e.start(d,[f,h],{hints:{autoSelect:[f]}})}function u(d){e.start(d,n.createParticipantShape())}return re(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:a("Activate hand tool"),action:{click:function(d){o.activateHand(d)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:a("Activate lasso tool"),action:{click:function(d){i.activateSelection(d)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:a("Activate create/remove space tool"),action:{click:function(d){r.activateSelection(d)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:a("Activate global connect tool"),action:{click:function(d){s.start(d)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":l("bpmn:StartEvent","event","bpmn-icon-start-event-none",a("Create start event")),"create.intermediate-event":l("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",a("Create intermediate/boundary event")),"create.end-event":l("bpmn:EndEvent","event","bpmn-icon-end-event-none",a("Create end event")),"create.exclusive-gateway":l("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",a("Create gateway")),"create.task":l("bpmn:Task","activity","bpmn-icon-task",a("Create task")),"create.data-object":l("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",a("Create data object reference")),"create.data-store":l("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",a("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:a("Create expanded sub-process"),action:{dragstart:c,click:c}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:a("Create pool/participant"),action:{dragstart:u,click:u}},"create.group":l("bpmn:Group","artifact","bpmn-icon-group",a("Create group"))}),t};const Kge={__depends__:[FW,Iu,tW,qW,HW,Gge,wr],__init__:["paletteProvider"],paletteProvider:["type",BC]};var Xge=250;function FC(t,e,n,r,i){xe.call(this,t);function o(a){var l=a.canExecute.replacements;ee(l,function(c){var u=c.oldElementId,d={type:c.newElementType};if(!a.visualReplacements[u]){var f=e.get(u);re(d,{x:f.x,y:f.y});var h=n.createShape(d);r.addShape(h,f.parent);var p=Ue('[data-element-id="'+jf(f.id)+'"]',a.dragGroup);p&&Ce(p,{display:"none"});var m=i.addDragger(h,a.dragGroup);a.visualReplacements[u]=m,r.removeShape(h)}})}function s(a){var l=a.visualReplacements;ee(l,function(c,u){var d=Ue('[data-element-id="'+jf(u)+'"]',a.dragGroup);d&&Ce(d,{display:"inline"}),c.remove(),l[u]&&delete l[u]})}t.on("shape.move.move",Xge,function(a){var l=a.context,c=l.canExecute;l.visualReplacements||(l.visualReplacements={}),c&&c.replacements?o(l):s(l)})}FC.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];Oe(FC,xe);const Yge={__depends__:[Tu],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",FC]};var Qge=1250,A3=40,Zge=20,Jge=10,HA=20,UW=["x","y"],eve=Math.abs;function WW(t){t.on(["connect.hover","connect.move","connect.end"],Qge,function(e){var n=e.context,r=n.canExecute,i=n.start,o=n.hover,s=n.source,a=n.target;e.originalEvent&&Pi(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),r&&o&&tve(e,o,ove(o)),o&&ive(r,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(n.connectionStart=Ci(i),Qe(o,["bpmn:Event","bpmn:Gateway"])&&UA(e,Ci(o)),Qe(o,["bpmn:Task","bpmn:SubProcess"])&&nve(e,o),$(s,"bpmn:BoundaryEvent")&&a===s.host&&rve(e)):GW(r,"bpmn:MessageFlow")?($(i,"bpmn:Event")&&(n.connectionStart=Ci(i)),$(o,"bpmn:Event")&&UA(e,Ci(o))):n.connectionStart=n.initialConnectionStart)})}WW.$inject=["eventBus"];function tve(t,e,n){UW.forEach(function(r){var i=KW(r,e);t[r]<e[r]+n?mn(t,r,e[r]+n):t[r]>e[r]+i-n&&mn(t,r,e[r]+i-n)})}function nve(t,e){var n=Ci(e);UW.forEach(function(r){sve(t,e,r)&&mn(t,r,n[r])})}function rve(t){var e=t.context,n=e.source,r=e.target;if(!ave(e)){var i=Ci(n),o=Ft(i,r,-10),s=[];/top|bottom/.test(o)&&s.push("x"),/left|right/.test(o)&&s.push("y"),s.forEach(function(a){var l=t[a],c;eve(l-i[a])<A3&&(l>i[a]?c=i[a]+A3:c=i[a]-A3,mn(t,a,c))})}}function UA(t,e){mn(t,"x",e.x),mn(t,"y",e.y)}function GW(t,e){return t&&t.type===e}function ive(t,e){return zs(e,function(n){return GW(t,n)})}function KW(t,e){return t==="x"?e.width:e.height}function ove(t){return $(t,"bpmn:Task")?Jge:Zge}function sve(t,e,n){return t[n]>e[n]+HA&&t[n]<e[n]+KW(n,e)-HA}function ave(t){var e=t.hover,n=t.source;return e&&n&&e===n}function tl(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}tl.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]};tl.prototype.setSnapOrigin=function(t,e){this._snapOrigins[t]=e,this._snapLocations.indexOf(t)===-1&&this._snapLocations.push(t)};tl.prototype.addDefaultSnap=function(t,e){var n=this._defaultSnaps[t];n||(n=this._defaultSnaps[t]=[]),n.push(e)};tl.prototype.getSnapLocations=function(){return this._snapLocations};tl.prototype.setSnapLocations=function(t){this._snapLocations=t};tl.prototype.pointsForTarget=function(t){var e=t.id||t,n=this._targets[e];return n||(n=this._targets[e]=new R2,n.initDefaults(this._defaultSnaps)),n};function R2(){this._snapValues={}}R2.prototype.add=function(t,e){var n=this._snapValues[t];n||(n=this._snapValues[t]={x:[],y:[]}),n.x.indexOf(e.x)===-1&&n.x.push(e.x),n.y.indexOf(e.y)===-1&&n.y.push(e.y)};R2.prototype.snap=function(t,e,n,r){var i=this._snapValues[e];return i&&Rfe(t[n],i[n],r)};R2.prototype.initDefaults=function(t){var e=this;ee(t||{},function(n,r){ee(n,function(i){e.add(r,i)})})};var lve=1250;function es(t,e,n){var r=this;this._elementRegistry=t,e.on(["create.start","shape.move.start"],function(i){r.initSnap(i)}),e.on(["create.move","create.end","shape.move.move","shape.move.end"],lve,function(i){var o=i.context,s=o.shape,a=o.snapContext,l=o.target;if(!(i.originalEvent&&Pi(i.originalEvent))&&!(B0(i)||!l)){var c=a.pointsForTarget(l);c.initialized||(c=r.addSnapTargetPoints(c,s,l),c.initialized=!0),n.snap(i,c)}}),e.on(["create.cleanup","shape.move.cleanup"],function(){n.hide()})}es.$inject=["elementRegistry","eventBus","snapping"];es.prototype.initSnap=function(t){var e=this._elementRegistry,n=t.context,r=n.shape,i=n.snapContext;i||(i=n.snapContext=new tl);var o;e.get(r.id)?o=Ci(r,t):o={x:t.x+Ci(r).x,y:t.y+Ci(r).y};var s={x:o.x-r.width/2,y:o.y-r.height/2},a={x:o.x+r.width/2,y:o.y+r.height/2};return i.setSnapOrigin("mid",{x:o.x-t.x,y:o.y-t.y}),ht(r)||(i.setSnapOrigin("top-left",{x:s.x-t.x,y:s.y-t.y}),i.setSnapOrigin("bottom-right",{x:a.x-t.x,y:a.y-t.y})),i};es.prototype.addSnapTargetPoints=function(t,e,n){var r=this.getSnapTargets(e,n);return ee(r,function(i){if(ht(i)){ht(e)&&t.add("mid",Ci(i));return}if(Tt(i)){if(i.waypoints.length<3)return;var o=i.waypoints.slice(1,-1);ee(o,function(s){t.add("mid",s)});return}t.add("mid",Ci(i))}),!He(e.x)||!He(e.y)||this._elementRegistry.get(e.id)&&t.add("mid",Ci(e)),t};es.prototype.getSnapTargets=function(t,e){return tU(e).filter(function(n){return!cve(n)})};function cve(t){return!!t.hidden}var WA=1500;function $u(t,e){e.invoke(es,this),t.on(["create.move","create.end"],WA,hve),t.on(["create.move","create.end","shape.move.move","shape.move.end"],WA,function(n){var r=n.context,i=r.canExecute,o=r.target,s=i&&(i==="attach"||i.attach);s&&!B0(n)&&uve(n,o)})}Oe($u,es);$u.$inject=["eventBus","injector"];$u.prototype.initSnap=function(t){var e=es.prototype.initSnap.call(this,t),n=t.shape,r=!!this._elementRegistry.get(n.id);return ee(n.outgoing,function(i){var o=i.waypoints[0];o=o.original||o,e.setSnapOrigin(i.id+"-docking",KA(o,r,t))}),ee(n.incoming,function(i){var o=i.waypoints[i.waypoints.length-1];o=o.original||o,e.setSnapOrigin(i.id+"-docking",KA(o,r,t))}),$(n,"bpmn:Participant")&&e.setSnapLocations(["top-left","bottom-right","mid"]),e};$u.prototype.addSnapTargetPoints=function(t,e,n){es.prototype.addSnapTargetPoints.call(this,t,e,n);var r=this.getSnapTargets(e,n);ee(r,function(o){(fve(o)||dve([e,o],"bpmn:TextAnnotation"))&&(t.add("top-left",JH(o)),t.add("bottom-right",eU(o)))});var i=this._elementRegistry;return ee(e.incoming,function(o){if(i.get(e.id)){GA(r,o.source)||t.add("mid",Le(o.source));var s=o.waypoints[0];t.add(o.id+"-docking",s.original||s)}}),ee(e.outgoing,function(o){if(i.get(e.id)){GA(r,o.target)||t.add("mid",Le(o.target));var s=o.waypoints[o.waypoints.length-1];t.add(o.id+"-docking",s.original||s)}}),$(n,"bpmn:SequenceFlow")&&(t=this.addSnapTargetPoints(t,e,n.parent)),t};$u.prototype.getSnapTargets=function(t,e){return es.prototype.getSnapTargets.call(this,t,e).filter(function(n){return!$(n,"bpmn:Lane")})};function uve(t,e){var n=De(e),r=PU(t,e),i=t.context,o=i.shape,s;o.parent?s={x:0,y:0}:s=Le(o),/top/.test(r)?mn(t,"y",n.top-s.y):/bottom/.test(r)&&mn(t,"y",n.bottom-s.y),/left/.test(r)?mn(t,"x",n.left-s.x):/right/.test(r)&&mn(t,"x",n.right-s.x)}function dve(t,e){return t.every(function(n){return $(n,e)})}function fve(t){return $(t,"bpmn:SubProcess")&&rt(t)?!0:$(t,"bpmn:Participant")}function hve(t){var e=t.context,n=e.createConstraints;if(n){var r=n.top,i=n.right,o=n.bottom,s=n.left;(s&&s>=t.x||i&&i<=t.x)&&mn(t,"x",t.x),(r&&r>=t.y||o&&o<=t.y)&&mn(t,"y",t.y)}}function GA(t,e){return t.indexOf(e)!==-1}function KA(t,e,n){return e?{x:t.x-n.x,y:t.y-n.y}:{x:t.x,y:t.y}}var pve=1250;function Xh(t,e){var n=this;t.on(["resize.start"],function(r){n.initSnap(r)}),t.on(["resize.move","resize.end"],pve,function(r){var i=r.context,o=i.shape,s=o.parent,a=i.direction,l=i.snapContext;if(!(r.originalEvent&&Pi(r.originalEvent))&&!B0(r)){var c=l.pointsForTarget(s);c.initialized||(c=n.addSnapTargetPoints(c,o,s,a),c.initialized=!0),vve(a)&&mn(r,"x",r.x),yve(a)&&mn(r,"y",r.y),e.snap(r,c)}}),t.on(["resize.cleanup"],function(){e.hide()})}Xh.prototype.initSnap=function(t){var e=t.context,n=e.shape,r=e.direction,i=e.snapContext;i||(i=e.snapContext=new tl);var o=XW(n,r);return i.setSnapOrigin("corner",{x:o.x-t.x,y:o.y-t.y}),i};Xh.prototype.addSnapTargetPoints=function(t,e,n,r){var i=this.getSnapTargets(e,n);return ee(i,function(o){t.add("corner",eU(o)),t.add("corner",JH(o))}),t.add("corner",XW(e,r)),t};Xh.$inject=["eventBus","snapping"];Xh.prototype.getSnapTargets=function(t,e){return tU(e).filter(function(n){return!mve(n,t)&&!Tt(n)&&!gve(n)&&!ht(n)})};function XW(t,e){var n=Le(t),r=De(t),i={x:n.x,y:n.y};return e.indexOf("n")!==-1?i.y=r.top:e.indexOf("s")!==-1&&(i.y=r.bottom),e.indexOf("e")!==-1?i.x=r.right:e.indexOf("w")!==-1&&(i.x=r.left),i}function mve(t,e){return t.host===e}function gve(t){return!!t.hidden}function vve(t){return t==="n"||t==="s"}function yve(t){return t==="e"||t==="w"}var bve=7,_ve=1e3;function nl(t){this._canvas=t,this._asyncHide=_u(Ir(this.hide,this),_ve)}nl.$inject=["canvas"];nl.prototype.snap=function(t,e){var n=t.context,r=n.snapContext,i=r.getSnapLocations(),o={x:B0(t,"x"),y:B0(t,"y")};ee(i,function(s){var a=r.getSnapOrigin(s),l={x:t.x+a.x,y:t.y+a.y};if(ee(["x","y"],function(c){var u;o[c]||(u=e.snap(l,s,c,bve),u!==void 0&&(o[c]={value:u,originValue:u-a[c]}))}),o.x&&o.y)return!1}),this.showSnapLine("vertical",o.x&&o.x.value),this.showSnapLine("horizontal",o.y&&o.y.value),ee(["x","y"],function(s){var a=o[s];On(a)&&mn(t,s,a.originValue)})};nl.prototype._createLine=function(t){var e=this._canvas.getLayer("snap"),n=Me("path");return Ce(n,{d:"M0,0 L0,0"}),dt(n).add("djs-snap-line"),Ve(e,n),{update:function(r){He(r)?t==="horizontal"?Ce(n,{d:"M-100000,"+r+" L+100000,"+r,display:""}):Ce(n,{d:"M "+r+",-100000 L "+r+", +100000",display:""}):Ce(n,{display:"none"})}}};nl.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};nl.prototype.showSnapLine=function(t,e){var n=this.getSnapLine(t);n&&n.update(e),this._asyncHide()};nl.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]};nl.prototype.hide=function(){ee(this._snapLines,function(t){t.update()})};const YW={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",es],resizeSnapping:["type",Xh],snapping:["type",nl]},xve={__depends__:[YW],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",WW],createMoveSnapping:["type",$u]};var QW=300;function Ye(t,e,n,r){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=t,this._eventBus=e,this._selection=n,this._translate=r,this._container=this._getBoxHtml(),this._searchInput=Ue(Ye.INPUT_SELECTOR,this._container),this._resultsContainer=Ue(Ye.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),e.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}Ye.$inject=["canvas","eventBus","selection","translate"];Ye.prototype._bindEvents=function(){var t=this;function e(n,r,i,o){t._eventMaps.push({el:n,type:i,listener:rr.bind(n,r,i,o)})}e(document,"html","click",function(n){t.close(!1)}),e(this._container,Ye.INPUT_SELECTOR,"click",function(n){n.stopPropagation(),n.delegateTarget.focus()}),e(this._container,Ye.RESULT_SELECTOR,"mouseover",function(n){n.stopPropagation(),t._scrollToNode(n.delegateTarget),t._preselect(n.delegateTarget)}),e(this._container,Ye.RESULT_SELECTOR,"click",function(n){n.stopPropagation(),t._select(n.delegateTarget)}),e(this._container,Ye.INPUT_SELECTOR,"keydown",function(n){$n("ArrowUp",n)&&n.preventDefault(),$n("ArrowDown",n)&&n.preventDefault()}),e(this._container,Ye.INPUT_SELECTOR,"keyup",function(n){if($n("Escape",n))return t.close();if($n("Enter",n)){var r=t._getCurrentResult();return r?t._select(r):t.close(!1)}if($n("ArrowUp",n))return t._scrollToDirection(!0);if($n("ArrowDown",n))return t._scrollToDirection();$n(["ArrowLeft","ArrowRight"],n)||t._search(n.delegateTarget.value)})};Ye.prototype._unbindEvents=function(){this._eventMaps.forEach(function(t){rr.unbind(t.el,t.type,t.listener)})};Ye.prototype._search=function(t){var e=this;if(this._clearResults(),!!t.trim()){var n=this._searchProvider.find(t);if(n=n.filter(function(i){return!e._canvas.getRootElements().includes(i.element)}),!n.length){this._selection.select(null);return}n.forEach(function(i){var o=i.element.id,s=e._createResultNode(i,o);e._results[o]={element:i.element,node:s}});var r=Ue(Ye.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(r),this._preselect(r)}};Ye.prototype._scrollToDirection=function(t){var e=this._getCurrentResult();if(e){var n=t?e.previousElementSibling:e.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}};Ye.prototype._scrollToNode=function(t){if(!(!t||t===this._getCurrentResult())){var e=t.offsetTop,n=this._resultsContainer.scrollTop,r=e-this._resultsContainer.clientHeight+t.clientHeight;e<n?this._resultsContainer.scrollTop=e:n<r&&(this._resultsContainer.scrollTop=r)}};Ye.prototype._clearResults=function(){Pv(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")};Ye.prototype._getCurrentResult=function(){return Ue(Ye.RESULT_SELECTED_SELECTOR,this._resultsContainer)};Ye.prototype._createResultNode=function(t,e){var n=at(Ye.RESULT_HTML);return t.primaryTokens.length>0&&XA(n,t.primaryTokens,Ye.RESULT_PRIMARY_HTML),XA(n,t.secondaryTokens,Ye.RESULT_SECONDARY_HTML),Vn(n,Ye.RESULT_ID_ATTRIBUTE,e),this._resultsContainer.appendChild(n),n};Ye.prototype.registerProvider=function(t){this._searchProvider=t};Ye.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,et(this._canvas.getContainer()).add("djs-search-open"),et(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))};Ye.prototype.close=function(t=!0){this.isOpen()&&(t&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,et(this._canvas.getContainer()).remove("djs-search-open"),et(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())};Ye.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Ye.prototype.isOpen=function(){return this._open};Ye.prototype._preselect=function(t){var e=this._getCurrentResult();if(t!==e){e&&et(e).remove(Ye.RESULT_SELECTED_CLASS);var n=Vn(t,Ye.RESULT_ID_ATTRIBUTE),r=this._results[n].element;et(t).add(Ye.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(r,{top:QW}),this._selection.select(r),this._eventBus.fire("searchPad.preselected",r)}};Ye.prototype._select=function(t){var e=Vn(t,Ye.RESULT_ID_ATTRIBUTE),n=this._results[e].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(n,{top:QW}),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)};Ye.prototype._getBoxHtml=function(){const t=at(Ye.BOX_HTML),e=Ue(Ye.INPUT_SELECTOR,t);return e&&e.setAttribute("aria-label",this._translate("Search in diagram")),t};function XA(t,e,n){var r=wve(e),i=at(n);i.innerHTML=r,t.appendChild(i)}function wve(t){var e="";return t.forEach(function(n){var r=UV(n.value||n.matched||n.normal),i=n.match||n.matched;i?e+='<b class="'+Ye.RESULT_HIGHLIGHT_CLASS+'">'+r+"</b>":e+=r}),e!==""?e:null}Ye.CONTAINER_SELECTOR=".djs-search-container";Ye.INPUT_SELECTOR=".djs-search-input input";Ye.RESULTS_CONTAINER_SELECTOR=".djs-search-results";Ye.RESULT_SELECTOR=".djs-search-result";Ye.RESULT_SELECTED_CLASS="djs-search-result-selected";Ye.RESULT_SELECTED_SELECTOR="."+Ye.RESULT_SELECTED_CLASS;Ye.RESULT_ID_ATTRIBUTE="data-result-id";Ye.RESULT_HIGHLIGHT_CLASS="djs-search-highlight";Ye.BOX_HTML=`<div class="djs-search-container djs-scrollable">
  <div class="djs-search-input">
    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
    </svg>
    <input type="text" spellcheck="false" />
  </div>
  <div class="djs-search-results" />
</div>`;Ye.RESULT_HTML='<div class="djs-search-result"></div>';Ye.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>';Ye.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const ZW={__depends__:[wr,Su,$r],searchPad:["type",Ye]};function zC(t,e,n,r){this._elementRegistry=t,this._canvas=n,this._search=r,e.registerProvider(this)}zC.$inject=["elementRegistry","searchPad","canvas","search"];zC.prototype.find=function(t){var e=this._canvas.getRootElements(),n=this._elementRegistry.filter(function(r){return!ht(r)&&!e.includes(r)});return this._search(n.map(r=>({element:r,label:Di(r),id:r.id})),t,{keys:["label","id"]}).map(Eve)};function Eve(t){const{item:{element:e},tokens:n}=t;return{element:e,primaryTokens:n.label,secondaryTokens:n.id}}const Sve={__depends__:[ZW,AH],__init__:["bpmnSearch"],bpmnSearch:["type",zC]},Cve="M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",kve="M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",Ove={width:36,height:50},Rve={width:50,height:50};function YA(t,e,n){return Me("path",{d:t,strokeWidth:2,transform:`translate(${e.x}, ${e.y})`,...n})}const f0=5;function P2(t,e){this._styles=e,t.registerProvider(this)}P2.$inject=["outline","styles"];P2.prototype.getOutline=function(t){const e=this._styles.cls("djs-outline",["no-fill"]);var n;if(!ht(t))return $(t,"bpmn:Gateway")?(n=Me("rect"),re(n.style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Ce(n,re({x:2,y:2,rx:4,width:t.width-4,height:t.height-4},e))):Qe(t,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?(n=Me("rect"),Ce(n,re({x:-5,y:-5,rx:14,width:t.width+f0*2,height:t.height+f0*2},e))):$(t,"bpmn:EndEvent")?(n=Me("circle"),Ce(n,re({cx:t.width/2,cy:t.height/2,r:t.width/2+f0+1},e))):$(t,"bpmn:Event")?(n=Me("circle"),Ce(n,re({cx:t.width/2,cy:t.height/2,r:t.width/2+f0},e))):$(t,"bpmn:DataObjectReference")&&QA(t,"bpmn:DataObjectReference")?n=YA(Cve,{x:-6,y:-6},e):$(t,"bpmn:DataStoreReference")&&QA(t,"bpmn:DataStoreReference")&&(n=YA(kve,{x:-6,y:-6},e)),n};P2.prototype.updateOutline=function(t,e){if(!ht(t))return Qe(t,["bpmn:SubProcess","bpmn:Group"])?(Ce(e,{width:t.width+f0*2,height:t.height+f0*2}),!0):!!Qe(t,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};function QA(t,e){var n;return e==="bpmn:DataObjectReference"?n=Ove:e==="bpmn:DataStoreReference"&&(n=Rve),t.width===n.width&&t.height===n.height}const Pve={__depends__:[jC],__init__:["outlineProvider"],outlineProvider:["type",P2]};var Ave='<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>';function Wo(t){wh.call(this,t)}Oe(Wo,wh);Wo.Viewer=Wa;Wo.NavigatedViewer=Bf;Wo.prototype.createDiagram=function(){return this.importXML(Ave)};Wo.prototype._interactionModules=[fS,hS,mS];Wo.prototype._modelingModules=[Hde,wS,qH,ofe,rU,Zv,sU,jme,KU,Iu,zme,Vme,oge,age,lge,PW,Sge,vW,Tge,LW,Kge,Yge,MC,xve,Sve,Pve];Wo.prototype._modules=[].concat(Wa.prototype._modules,Wo.prototype._interactionModules,Wo.prototype._modelingModules);var Yh,qe,JW,Pl,ZA,eG,sw,tG,Hf={},nG=[],Tve=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,A2=Array.isArray;function _s(t,e){for(var n in e)t[n]=e[n];return t}function rG(t){var e=t.parentNode;e&&e.removeChild(t)}function lo(t,e,n){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Yh.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return yf(t,s,r,i,null)}function yf(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++JW,__i:-1,__u:0};return i==null&&qe.vnode!=null&&qe.vnode(o),o}function Ive(){return{current:null}}function co(t){return t.children}function Go(t,e){this.props=t,this.context=e}function V0(t,e){if(e==null)return t.__?V0(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?V0(t):null}function iG(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return iG(t)}}function aw(t){(!t.__d&&(t.__d=!0)&&Pl.push(t)&&!Dg.__r++||ZA!==qe.debounceRendering)&&((ZA=qe.debounceRendering)||eG)(Dg)}function Dg(){var t,e,n,r,i,o,s,a,l;for(Pl.sort(sw);t=Pl.shift();)t.__d&&(e=Pl.length,r=void 0,o=(i=(n=t).__v).__e,a=[],l=[],(s=n.__P)&&((r=_s({},i)).__v=i.__v+1,qe.vnode&&qe.vnode(r),qC(s,r,i,n.__n,s.ownerSVGElement!==void 0,32&i.__u?[o]:null,a,o??V0(i),!!(32&i.__u),l),r.__.__k[r.__i]=r,aG(a,r,l),r.__e!=o&&iG(r)),Pl.length>e&&Pl.sort(sw));Dg.__r=0}function oG(t,e,n,r,i,o,s,a,l,c,u){var d,f,h,p,m,g=r&&r.__k||nG,v=e.length;for(n.__d=l,Dve(n,e,g),l=n.__d,d=0;d<v;d++)(h=n.__k[d])!=null&&typeof h!="boolean"&&typeof h!="function"&&(f=h.__i===-1?Hf:g[h.__i]||Hf,h.__i=d,qC(t,h,f,i,o,s,a,l,c,u),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&VC(f.ref,null,h),u.push(h.ref,h.__c||p,h)),m==null&&p!=null&&(m=p),65536&h.__u||f.__k===h.__k?l=sG(h,l,t):typeof h.type=="function"&&h.__d!==void 0?l=h.__d:p&&(l=p.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=l,n.__e=m}function Dve(t,e,n){var r,i,o,s,a,l=e.length,c=n.length,u=c,d=0;for(t.__k=[],r=0;r<l;r++)(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?yf(null,i,null,null,i):A2(i)?yf(co,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?yf(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=Mve(i,n,s=r+d,u),i.__i=a,o=null,a!==-1&&(u--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==s&&(a===s+1?d++:a>s?u>l-s?d+=a-s:d--:d=a<s&&a==s-1?a-s:0,a!==r+d&&(i.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==t.__d&&(t.__d=V0(o)),lw(o,o,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)(o=n[r])!=null&&(131072&o.__u)==0&&(o.__e==t.__d&&(t.__d=V0(o)),lw(o,o))}function sG(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=sG(r[i],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function Rs(t,e){return e=e||[],t==null||typeof t=="boolean"||(A2(t)?t.some(function(n){Rs(n,e)}):e.push(t)),e}function Mve(t,e,n,r){var i=t.key,o=t.type,s=n-1,a=n+1,l=e[n];if(l===null||l&&i==l.key&&o===l.type)return n;if(r>(l!=null&&(131072&l.__u)==0?1:0))for(;s>=0||a<e.length;){if(s>=0){if((l=e[s])&&(131072&l.__u)==0&&i==l.key&&o===l.type)return s;s--}if(a<e.length){if((l=e[a])&&(131072&l.__u)==0&&i==l.key&&o===l.type)return a;a++}}return-1}function JA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Tve.test(e)?n:n+"px"}function u1(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||JA(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||JA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,o?tT:eT,o)):t.removeEventListener(e,o?tT:eT,o);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function eT(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(qe.event?qe.event(t):t)}function tT(t){return this.l[t.type+!0](qe.event?qe.event(t):t)}function qC(t,e,n,r,i,o,s,a,l,c){var u,d,f,h,p,m,g,v,y,_,b,x,w,E,S,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=e.__e=n.__e]),(u=qe.__b)&&u(e);e:if(typeof k=="function")try{if(v=e.props,y=(u=k.contextType)&&r[u.__c],_=u?y?y.props.value:u.__:r,n.__c?g=(d=e.__c=n.__c).__=d.__E:("prototype"in k&&k.prototype.render?e.__c=d=new k(v,_):(e.__c=d=new Go(v,_),d.constructor=k,d.render=Nve),y&&y.sub(d),d.props=v,d.state||(d.state={}),d.context=_,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),k.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=_s({},d.__s)),_s(d.__s,k.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)k.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(k.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,_),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,_)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,_),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=_,d.props=v,d.__P=t,d.__e=!1,x=qe.__r,w=0,"prototype"in k&&k.prototype.render){for(d.state=d.__s,d.__d=!1,x&&x(e),u=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do d.__d=!1,x&&x(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(r=_s(_s({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),oG(t,A2(S=u!=null&&u.type===co&&u.key==null?u.props.children:u)?S:[S],e,n,r,i,o,s,a,l,c),d.base=e.__e,e.__u&=-161,d.__h.length&&s.push(d),g&&(d.__E=d.__=null)}catch(I){e.__v=null,l||o!=null?(e.__e=a,e.__u|=l?160:32,o[o.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),qe.__e(I,e,n)}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$ve(n.__e,e,n,r,i,o,s,l,c);(u=qe.diffed)&&u(e)}function aG(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)VC(n[r],n[++r],n[++r]);qe.__c&&qe.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){qe.__e(o,i.__v)}})}function $ve(t,e,n,r,i,o,s,a,l){var c,u,d,f,h,p,m,g=n.props,v=e.props,y=e.type;if(y==="svg"&&(i=!0),o!=null){for(c=0;c<o.length;c++)if((h=o[c])&&"setAttribute"in h==!!y&&(y?h.localName===y:h.nodeType===3)){t=h,o[c]=null;break}}if(t==null){if(y===null)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),o=null,a=!1}if(y===null)g===v||a&&t.data===v||(t.data=v);else{if(o=o&&Yh.call(t.childNodes),g=n.props||Hf,!a&&o!=null)for(g={},c=0;c<t.attributes.length;c++)g[(h=t.attributes[c]).name]=h.value;for(c in g)h=g[c],c=="children"||(c=="dangerouslySetInnerHTML"?d=h:c==="key"||c in v||u1(t,c,null,h,i));for(c in v)h=v[c],c=="children"?f=h:c=="dangerouslySetInnerHTML"?u=h:c=="value"?p=h:c=="checked"?m=h:c==="key"||a&&typeof h!="function"||g[c]===h||u1(t,c,h,g[c],i);if(u)a||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),oG(t,A2(f)?f:[f],e,n,r,i&&y!=="foreignObject",o,s,o?o[0]:n.__k&&V0(n,0),a,l),o!=null)for(c=o.length;c--;)o[c]!=null&&rG(o[c]);a||(c="value",p!==void 0&&(p!==t[c]||y==="progress"&&!p||y==="option"&&p!==g[c])&&u1(t,c,p,g[c],!1),c="checked",m!==void 0&&m!==t[c]&&u1(t,c,m,g[c],!1))}return t}function VC(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){qe.__e(r,n)}}function lw(t,e,n){var r,i;if(qe.unmount&&qe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||VC(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){qe.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&lw(r[i],e,n||typeof t.type!="function");n||t.__e==null||rG(t.__e),t.__=t.__e=t.__d=void 0}function Nve(t,e,n){return this.constructor(t,n)}function oc(t,e,n){var r,i,o,s;qe.__&&qe.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],s=[],qC(e,t=(!r&&n||e).__k=lo(co,null,[t]),i||Hf,Hf,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Yh.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,s),aG(o,t,s)}function lG(t,e){oc(t,e,lG)}function Lve(t,e,n){var r,i,o,s,a=_s({},t.props);for(o in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o]===void 0&&s!==void 0?s[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?Yh.call(arguments,2):n),yf(t.type,a,r||t.key,i||t.ref,null)}function rl(t,e){var n={__c:e="__cC"+tG++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(a){a.__e=!0,aw(a)})},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Yh=nG.slice,qe={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},JW=0,Go.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_s({},this.state),typeof t=="function"&&(t=t(_s({},n),this.props)),t&&_s(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),aw(this))},Go.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),aw(this))},Go.prototype.render=co,Pl=[],eG=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sw=function(t,e){return t.__v.__b-e.__v.__b},Dg.__r=0,tG=0;var Ta,Gt,T3,nT,H0=0,cG=[],Fm=[],rT=qe.__b,iT=qe.__r,oT=qe.diffed,sT=qe.__c,aT=qe.unmount;function Nu(t,e){qe.__h&&qe.__h(Gt,t,H0||e),H0=0;var n=Gt.__H||(Gt.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Fm}),n.__[t]}function Mt(t){return H0=1,uG(dG,t)}function uG(t,e,n){var r=Nu(Ta++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):dG(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Gt,!Gt.u)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return f.__c});if(u.every(function(f){return!f.__N}))return!o||o.call(this,a,l,c);var d=!1;return u.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!o||o.call(this,a,l,c))};Gt.u=!0;var o=Gt.shouldComponentUpdate,s=Gt.componentWillUpdate;Gt.componentWillUpdate=function(a,l,c){if(this.__e){var u=o;o=void 0,i(a,l,c),o=u}s&&s.call(this,a,l,c)},Gt.shouldComponentUpdate=i}return r.__N||r.__}function st(t,e){var n=Nu(Ta++,3);!qe.__s&&HC(n.__H,e)&&(n.__=t,n.i=e,Gt.__H.__h.push(n))}function Ia(t,e){var n=Nu(Ta++,4);!qe.__s&&HC(n.__H,e)&&(n.__=t,n.i=e,Gt.__h.push(n))}function Vt(t){return H0=5,Mi(function(){return{current:t}},[])}function jve(t,e,n){H0=6,Ia(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Mi(t,e){var n=Nu(Ta++,7);return HC(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function pi(t,e){return H0=8,Mi(function(){return t},e)}function ts(t){var e=Gt.context[t.__c],n=Nu(Ta++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Gt)),e.props.value):t.__}function Bve(t,e){qe.useDebugValue&&qe.useDebugValue(e?e(t):t)}function Fve(){var t=Nu(Ta++,11);if(!t.__){for(var e=Gt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function zve(){for(var t;t=cG.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(zm),t.__H.__h.forEach(cw),t.__H.__h=[]}catch(e){t.__H.__h=[],qe.__e(e,t.__v)}}qe.__b=function(t){Gt=null,rT&&rT(t)},qe.__r=function(t){iT&&iT(t),Ta=0;var e=(Gt=t.__c).__H;e&&(T3===Gt?(e.__h=[],Gt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Fm,n.__N=n.i=void 0})):(e.__h.forEach(zm),e.__h.forEach(cw),e.__h=[],Ta=0)),T3=Gt},qe.diffed=function(t){oT&&oT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(cG.push(e)!==1&&nT===qe.requestAnimationFrame||((nT=qe.requestAnimationFrame)||qve)(zve)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Fm&&(n.__=n.__V),n.i=void 0,n.__V=Fm})),T3=Gt=null},qe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(zm),n.__h=n.__h.filter(function(r){return!r.__||cw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],qe.__e(r,n.__v)}}),sT&&sT(t,e)},qe.unmount=function(t){aT&&aT(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{zm(r)}catch(i){e=i}}),n.__H=void 0,e&&qe.__e(e,n.__v))};var lT=typeof requestAnimationFrame=="function";function qve(t){var e,n=function(){clearTimeout(r),lT&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);lT&&(e=requestAnimationFrame(n))}function zm(t){var e=Gt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Gt=e}function cw(t){var e=Gt;t.__c=t.__(),Gt=e}function HC(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function dG(t,e){return typeof e=="function"?e(t):e}function fG(t,e){for(var n in e)t[n]=e[n];return t}function uw(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function dw(t){this.props=t}function Vve(t,e){function n(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!s:uw(this.props,i)}function r(i){return this.shouldComponentUpdate=n,lo(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(dw.prototype=new Go).isPureReactComponent=!0,dw.prototype.shouldComponentUpdate=function(t,e){return uw(this.props,t)||uw(this.state,e)};var cT=qe.__b;qe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),cT&&cT(t)};var Hve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Qs(t){function e(n){var r=fG({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=Hve,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var uT=function(t,e){return t==null?null:Rs(Rs(t).map(e))},Uve={map:uT,forEach:uT,count:function(t){return t?Rs(t).length:0},only:function(t){var e=Rs(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Rs},Wve=qe.__e;qe.__e=function(t,e,n,r){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Wve(t,e,n,r)};var dT=qe.unmount;function hG(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=fG({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return hG(r,e,n)})),t}function pG(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return pG(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function qm(){this.__u=0,this.t=null,this.__b=null}function mG(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Gve(t){var e,n,r;function i(o){if(e||(e=t()).then(function(s){n=s.default||s},function(s){r=s}),r)throw r;if(!n)throw e;return lo(n,o)}return i.displayName="Lazy",i.__f=!0,i}function Zd(){this.u=null,this.o=null}qe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),dT&&dT(t)},(qm.prototype=new Go).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=mG(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=pG(l,l.__c.__P,l.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.t.pop();)c.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},qm.prototype.componentWillUnmount=function(){this.t=[]},qm.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=hG(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&lo(co,null,t.fallback);return i&&(i.__u&=-33),[lo(co,null,e.__a?null:t.children),i]};var fT=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Kve(t){return this.getChildContext=function(){return t.context},t.children}function Xve(t){var e=this,n=t.i;e.componentWillUnmount=function(){oc(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),oc(lo(Kve,{context:e.context},t.__v),e.l)}function UC(t,e){var n=lo(Xve,{__v:t,i:e});return n.containerInfo=e,n}(Zd.prototype=new Go).__a=function(t){var e=this,n=mG(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),fT(e,t,r)):i()};n?n(o):o()}},Zd.prototype.render=function(t){this.u=null,this.o=new Map;var e=Rs(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Zd.prototype.componentDidUpdate=Zd.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){fT(t,n,e)})};var gG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Yve=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qve=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zve=/[A-Z0-9]/g,Jve=typeof document<"u",e2e=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function t2e(t,e,n){return e.__k==null&&(e.textContent=""),oc(t,e),typeof n=="function"&&n(),t?t.__c:null}function n2e(t,e,n){return lG(t,e),typeof n=="function"&&n(),t?t.__c:null}Go.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Go.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var hT=qe.event;function r2e(){}function i2e(){return this.cancelBubble}function o2e(){return this.defaultPrevented}qe.event=function(t){return hT&&(t=hT(t)),t.persist=r2e,t.isPropagationStopped=i2e,t.isDefaultPrevented=o2e,t.nativeEvent=t};var WC,s2e={enumerable:!1,configurable:!0,get:function(){return this.class}},pT=qe.vnode;qe.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,i={};for(var o in n){var s=n[o];if(!(o==="value"&&"defaultValue"in n&&s==null||Jve&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var a=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":a==="ondoubleclick"?o="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||e2e(n.type)?a==="onfocus"?o="onfocusin":a==="onblur"?o="onfocusout":Qve.test(o)?o=a:r.indexOf("-")===-1&&Yve.test(o)?o=o.replace(Zve,"-$&").toLowerCase():s===null&&(s=void 0):a=o="oninput",a==="oninput"&&i[o=a]&&(o="oninputCapture"),i[o]=s}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Rs(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Rs(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",s2e)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),e.props=i}(t),t.$$typeof=gG,pT&&pT(t)};var mT=qe.__r;qe.__r=function(t){mT&&mT(t),WC=t.__c};var gT=qe.diffed;qe.diffed=function(t){gT&&gT(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),WC=null};var a2e={ReactCurrentDispatcher:{current:{readContext:function(t){return WC.__n[t.__c].props.value}}}};function l2e(t){return lo.bind(null,t)}function T2(t){return!!t&&t.$$typeof===gG}function c2e(t){return T2(t)&&t.type===co}function u2e(t){return T2(t)?Lve.apply(null,arguments):t}function d2e(t){return!!t.__k&&(oc(null,t),!0)}function f2e(t){return t&&(t.base||t.nodeType===1&&t)||null}var h2e=function(t,e){return t(e)},p2e=function(t,e){return t(e)},m2e=co;function vG(t){t()}function g2e(t){return t}function v2e(){return[!1,vG]}var y2e=Ia,b2e=T2;function _2e(t,e){var n=e(),r=Mt({h:{__:n,v:e}}),i=r[0].h,o=r[1];return Ia(function(){i.__=n,i.v=e,I3(i)&&o({h:i})},[t,n,e]),st(function(){return I3(i)&&o({h:i}),t(function(){I3(i)&&o({h:i})})},[t]),n}function I3(t){var e,n,r=t.v,i=t.__;try{var o=r();return!((e=i)===(n=o)&&(e!==0||1/e==1/n)||e!=e&&n!=n)}catch{return!0}}var ce={useState:Mt,useId:Fve,useReducer:uG,useEffect:st,useLayoutEffect:Ia,useInsertionEffect:y2e,useTransition:v2e,useDeferredValue:g2e,useSyncExternalStore:_2e,startTransition:vG,useRef:Vt,useImperativeHandle:jve,useMemo:Mi,useCallback:pi,useContext:ts,useDebugValue:Bve,version:"17.0.2",Children:Uve,render:t2e,hydrate:n2e,unmountComponentAtNode:d2e,createPortal:UC,createElement:lo,createContext:rl,createFactory:l2e,cloneElement:u2e,createRef:Ive,Fragment:co,isValidElement:T2,isElement:b2e,isFragment:c2e,findDOMNode:f2e,Component:Go,PureComponent:dw,memo:Vve,forwardRef:Qs,flushSync:p2e,unstable_batchedUpdates:h2e,StrictMode:m2e,Suspense:qm,SuspenseList:Zd,lazy:Gve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:a2e},x2e=0;function ge(t,e,n,r,i,o){var s,a,l={};for(a in e)a=="ref"?s=e[a]:l[a]=e[a];var c={type:t,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--x2e,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return qe.vnode&&qe.vnode(c),c}var D3={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vT;function w2e(){return vT||(vT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(D3)),D3.exports}var E2e=w2e();const Dr=pc(E2e),yG=1024;let S2e=0,ki=class{constructor(e,n){this.from=e,this.to=n}};class nt{constructor(e={}){this.id=S2e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ln.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}nt.closedBy=new nt({deserialize:t=>t.split(" ")});nt.openedBy=new nt({deserialize:t=>t.split(" ")});nt.group=new nt({deserialize:t=>t.split(" ")});nt.isolate=new nt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});nt.contextHash=new nt({perNode:!0});nt.lookAhead=new nt({perNode:!0});nt.mounted=new nt({perNode:!0});class Uf{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[nt.mounted.id]}}const C2e=Object.create(null);class Ln{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):C2e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Ln(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(nt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(nt.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}Ln.none=new Ln("",Object.create(null),0,8);class Qh{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new Ln(r.name,i,r.id,r.flags):r)}return new Qh(n)}}const d1=new WeakMap,yT=new WeakMap;var en;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(en||(en={}));class $t{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Uf.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Mg(this.topNode,e)}cursorAt(e,n=0,r=0){let i=d1.get(this)||this.topNode,o=new Mg(i);return o.moveTo(e,n),d1.set(this,o._tree),o}get topNode(){return new Kr(this,0,0,null)}resolve(e,n=0){let r=Wf(d1.get(this)||this.topNode,e,n,!1);return d1.set(this,r),r}resolveInner(e,n=0){let r=Wf(yT.get(this)||this.topNode,e,n,!0);return yT.set(this,r),r}resolveStack(e,n=0){return R2e(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&en.IncludeAnonymous)>0;for(let l=this.cursor(s|en.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:XC(Ln.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new $t(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new $t(Ln.none,n,r,i)))}static build(e){return P2e(e)}}$t.empty=new $t(Ln.none,[],[],0);class GC{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new GC(this.buffer,this.index)}}class Da{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Ln.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!(bG(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,c)}return new Da(o,s,this.set)}}function bG(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Wf(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Kr&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:en.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Kr&&s.index<0&&((i=a.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class _G{cursor(e=0){return new Mg(this,e)}getChild(e,n=null,r=null){let i=bT(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return bT(this,e,n,r)}resolve(e,n=0){return Wf(this,e,n,!1)}resolveInner(e,n=0){return Wf(this,e,n,!0)}matchContext(e){return fw(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Kr extends _G{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],d=l[e]+s.from;if(bG(i,r,d,d+u.length)){if(u instanceof Da){if(o&en.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-d,i);if(f>-1)return new wa(new k2e(s,u,e,d),null,f)}else if(o&en.IncludeAnonymous||!u.type.isAnonymous||KC(u)){let f;if(!(o&en.IgnoreMounts)&&(f=Uf.get(u))&&!f.overlay)return new Kr(f.tree,d,e,s);let h=new Kr(u,d,e,s);return o&en.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&en.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&en.IgnoreOverlays)&&(i=Uf.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new Kr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function bT(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function fw(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class k2e{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class wa extends _G{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new wa(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&en.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new wa(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new wa(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new wa(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new $t(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function xG(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof Kr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new O2e(i,n)}class O2e{constructor(e,n){this.heads=e,this.node=n}get next(){return xG(this.heads)}}function R2e(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Kr?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=Uf.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Kr(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(Wf(a,e,n,!1))}}return i?xG(i):r}class Mg{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Kr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Kr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&en.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&en.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&en.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&en.IncludeAnonymous||a instanceof Da||!a.type.isAnonymous||KC(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new wa(this.buffer,n,this.stack[i]);return this.bufferNode=new wa(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return fw(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return fw(this._tree,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function KC(t){return t.children.some(e=>e instanceof Da||!e.type.isAnonymous||KC(e))}function P2e(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=yG,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new GC(n,n.length):n,l=r.types,c=0,u=0;function d(x,w,E,S,k,I){let{id:M,start:R,end:D,size:C}=a,V=u,J=c;for(;C<0;)if(a.next(),C==-1){let z=o[M];E.push(z),S.push(R-x);return}else if(C==-3){c=M;return}else if(C==-4){u=M;return}else throw new RangeError(`Unrecognized record size: ${C}`);let Y=l[M],j,B,G=R-x;if(D-R<=i&&(B=g(a.pos-w,k))){let z=new Uint16Array(B.size-B.skip),N=a.pos-B.size,F=z.length;for(;a.pos>N;)F=v(B.start,z,F);j=new Da(z,D-B.start,r),G=B.start-x}else{let z=a.pos-C;a.next();let N=[],F=[],W=M>=s?M:-1,X=0,oe=D;for(;a.pos>z;)W>=0&&a.id==W&&a.size>=0?(a.end<=oe-i&&(p(N,F,R,X,a.end,oe,W,V,J),X=N.length,oe=a.end),a.next()):I>2500?f(R,z,N,F):d(R,z,N,F,W,I+1);if(W>=0&&X>0&&X<N.length&&p(N,F,R,X,R,oe,W,V,J),N.reverse(),F.reverse(),W>-1&&X>0){let L=h(Y,J);j=XC(Y,N,F,0,N.length,0,D-R,L,L)}else j=m(Y,N,F,D-R,V-D,J)}E.push(j),S.push(G)}function f(x,w,E,S){let k=[],I=0,M=-1;for(;a.pos>w;){let{id:R,start:D,end:C,size:V}=a;if(V>4)a.next();else{if(M>-1&&D<M)break;M<0&&(M=C-i),k.push(R,D,C),I++,a.next()}}if(I){let R=new Uint16Array(I*4),D=k[k.length-2];for(let C=k.length-3,V=0;C>=0;C-=3)R[V++]=k[C],R[V++]=k[C+1]-D,R[V++]=k[C+2]-D,R[V++]=V;E.push(new Da(R,k[2]-D,r)),S.push(D-x)}}function h(x,w){return(E,S,k)=>{let I=0,M=E.length-1,R,D;if(M>=0&&(R=E[M])instanceof $t){if(!M&&R.type==x&&R.length==k)return R;(D=R.prop(nt.lookAhead))&&(I=S[M]+R.length+D)}return m(x,E,S,k,I,w)}}function p(x,w,E,S,k,I,M,R,D){let C=[],V=[];for(;x.length>S;)C.push(x.pop()),V.push(w.pop()+E-k);x.push(m(r.types[M],C,V,I-k,R-I,D)),w.push(k-E)}function m(x,w,E,S,k,I,M){if(I){let R=[nt.contextHash,I];M=M?[R].concat(M):[R]}if(k>25){let R=[nt.lookAhead,k];M=M?[R].concat(M):[R]}return new $t(x,w,E,S,M)}function g(x,w){let E=a.fork(),S=0,k=0,I=0,M=E.end-i,R={size:0,start:0,skip:0};e:for(let D=E.pos-x;E.pos>D;){let C=E.size;if(E.id==w&&C>=0){R.size=S,R.start=k,R.skip=I,I+=4,S+=4,E.next();continue}let V=E.pos-C;if(C<0||V<D||E.start<M)break;let J=E.id>=s?4:0,Y=E.start;for(E.next();E.pos>V;){if(E.size<0)if(E.size==-3)J+=4;else break e;else E.id>=s&&(J+=4);E.next()}k=Y,S+=C,I+=J}return(w<0||S==x)&&(R.size=S,R.start=k,R.skip=I),R.size>4?R:void 0}function v(x,w,E){let{id:S,start:k,end:I,size:M}=a;if(a.next(),M>=0&&S<s){let R=E;if(M>4){let D=a.pos-(M-4);for(;a.pos>D;)E=v(x,w,E)}w[--E]=R,w[--E]=I-x,w[--E]=k-x,w[--E]=S}else M==-3?c=S:M==-4&&(u=S);return E}let y=[],_=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,y,_,-1,0);let b=(e=t.length)!==null&&e!==void 0?e:y.length?_[0]+y[0].length:0;return new $t(l[t.topID],y.reverse(),_.reverse(),b)}const _T=new WeakMap;function Vm(t,e){if(!t.isAnonymous||e instanceof Da||e.type!=t)return 1;let n=_T.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof $t)){n=1;break}n+=Vm(t,r)}_T.set(e,n)}return n}function XC(t,e,n,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=Vm(t,e[p]);let u=Math.ceil(c*1.5/8),d=[],f=[];function h(p,m,g,v,y){for(let _=g;_<v;){let b=_,x=m[_],w=Vm(t,p[_]);for(_++;_<v;_++){let E=Vm(t,p[_]);if(w+E>=u)break;w+=E}if(_==b+1){if(w>u){let E=p[b];h(E.children,E.positions,0,E.children.length,m[b]+y);continue}d.push(p[b])}else{let E=m[_-1]+p[_-1].length-x;d.push(XC(t,p,m,b,_,x,E,null,l))}f.push(x+y-o)}}return h(e,n,r,i,0),(a||l)(d,f,s)}class Ps{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Ps(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;s&&s.from<d;){let f=s;if(l>=f.from||d<=f.to||c){let h=Math.max(f.from,l)-c,p=Math.min(f.to,d)-c;f=h>=p?null:new Ps(h,p,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),s.to>d)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}let YC=class{startParse(e,n,r){return typeof e=="string"&&(e=new A2e(e)),r=r?r.length?r.map(i=>new ki(i.from,i.to)):[new ki(0,0)]:[new ki(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}};class A2e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function T2e(t){return(e,n,r,i)=>new D2e(e,t,n,r,i)}class xT{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function wT(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class I2e{constructor(e,n,r,i,o,s,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const hw=new nt({perNode:!0});class D2e{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new $t(r.type,r.children,r.positions,r.length,r.propValues.concat([[hw,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[nt.mounted.id]=new Uf(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new N2e(this.fragments),n=null,r=null,i=new Mg(new Kr(this.baseTree,this.ranges[0].from,0,null),en.IncludeAnonymous|en.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let d=u.from+c.pos,f=u.to+c.pos;d>=i.from&&f<=i.to&&!n.ranges.some(h=>h.from<f&&h.to>d)&&n.ranges.push({from:d,to:f})}}a=!1}else if(r&&(s=M2e(r.ranges,i.from,i.to)))a=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||$2e(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new I2e(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=CT(this.ranges,o.overlay||(i.from<i.to?[new ki(i.from,i.to)]:[]));u.length&&wT(u),(u.length||!o.overlay)&&this.inner.push(new xT(o.parser,u.length?o.parser.startParse(this.input,kT(c,u),u):o.parser.startParse(""),o.overlay?o.overlay.map(d=>new ki(d.from-i.from,d.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new ki(i.from,i.to)),l.from<l.to)){let c=n.ranges.length-1;c>=0&&n.ranges[c].to==l.from?n.ranges[c]={from:n.ranges[c].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=CT(this.ranges,n.ranges);c.length&&(wT(c),this.inner.splice(n.index,0,new xT(n.parser,n.parser.startParse(this.input,kT(n.mounts,c),c),n.ranges.map(u=>new ki(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function M2e(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function ET(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function $2e(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,l=[o];function c(u,d,f,h,p,m){let g=n[m],v=[],y=[];ET(s,u,g,v,y,h);let _=a[g+1],b=a[g+2];l.push(v.length);let x=m?c(g+4,a[g+3],s.set.types[a[g]],_,b-_,m-1):e.toTree();return v.push(x),y.push(_-h),ET(s,a[g+3],d,v,y,h),new $t(f,v,y,p)}i.children[o]=c(0,a.length,Ln.none,0,s.length,n.length-1);for(let u of l){let d=t.tree.children[u],f=t.tree.positions[u];t.yield(new Kr(d,f+t.from,u,t._tree))}}class ST{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(en.IncludeAnonymous|en.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,en.IgnoreOverlays|en.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof $t)n=n.children[0];else break}return!1}}let N2e=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(hw))!==null&&n!==void 0?n:r.to,this.inner=new ST(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(hw))!==null&&e!==void 0?e:n.to,this.inner=new ST(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(nt.mounted);if(s&&s.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:s})}}}return i}};function CT(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,a=t[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=a)break;l.to<=s||(n||(r=n=e.slice()),l.from<s?(n[o]=new ki(l.from,s),l.to>a&&n.splice(o+1,0,new ki(a,l.to))):l.to>a?n[o--]=new ki(a,l.to):n.splice(o--,1))}}return r}function L2e(t,e,n,r){let i=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,d=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let f=Math.max(l,n),h=Math.min(u,d,r);f<h&&c.push(new ki(f,h))}if(l=Math.min(u,d),l==1e9)break;u==l&&(s?(s=!1,i++):s=!0),d==l&&(a?(a=!1,o++):a=!0)}return c}function kT(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),a=s+i.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(i.overlay){let u=i.overlay.map(f=>new ki(f.from+r,f.to+r)),d=L2e(e,u,l,c);for(let f=0,h=l;;f++){let p=f==d.length,m=p?c:d[f].from;if(m>h&&n.push(new Ps(h,m,i.tree,-s,o.from>=h||o.openStart,o.to<=m||o.openEnd)),p)break;h=d[f].to}}else n.push(new Ps(l,c,i.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return n}var OT={};class $g{constructor(e,n,r,i,o,s,a,l,c,u=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new $g(e,[],n,r,r,0,[],0,i?new RT(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let h=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,h,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let h=this.stack[l-3];this.state=o.getGoto(h,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,n,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let l=s;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let o=e,{parser:s}=this.p;(i>this.pos||n<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new $g(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new j2e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<n.length;o+=2)(s=n[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(n[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let s=n[o+1];i.some((a,l)=>l&1&&a==s)||i.push(n[o],s)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new RT(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class RT{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class j2e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Ng{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Ng(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Ng(this.stack,this.pos,this.index)}}function f1(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let s=t.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}n?n[i++]=o:n=new e(o)}return n}class Hm{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const PT=new Hm;class B2e{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=PT,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=PT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class w0{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;F2e(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}w0.prototype.contextual=w0.prototype.fallback=w0.prototype.extend=!1;w0.prototype.fallback=w0.prototype.extend=!1;class Lu{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function F2e(t,e,n,r,i,o){let s=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[s])!=0;){let c=t[s+1];for(let h=s+3;h<c;h+=2)if((t[h+1]&a)>0){let p=t[h];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||z2e(p,e.token.value,i,o))){e.acceptToken(p);break}}let u=e.next,d=0,f=t[s+2];if(e.next<0&&f>d&&t[c+f*3-3]==65535){s=t[c+f*3-1];continue e}for(;d<f;){let h=d+f>>1,p=c+h+(h<<1),m=t[p],g=t[p+1]||65536;if(u<m)f=h;else if(u>=g)d=h+1;else{s=t[p+2],e.advance();continue e}}break}}function AT(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function z2e(t,e,n,r){let i=AT(n,r,e);return i<0||AT(n,r,t)<i}const ni=typeof process<"u"&&OT&&/\bparse\b/.test(OT.LOG);let M3=null;function TT(t,e,n){let r=t.cursor(en.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}let q2e=class{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?TT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?TT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[n]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof $t){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(nt.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[n]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+o.length}}};class V2e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Hm)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if((1<<c&s)==0)continue;let u=o[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!u.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Hm,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Hm,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=fs(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(fs(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(fs(a,c+1),n,r,i))}return i}}class H2e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new B2e(n,i),this.tokens=new V2e(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[$g.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new q2e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!r.length){let s=i&&G2e(i);if(s)return ni&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw ni&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return ni&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:o}=this,s=ni?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(nt.contextHash)||0)==u))return e.useNode(d,f),ni&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof $t)||d.children.length==0||d.positions[0]>0)break;let h=d.children[0];if(h instanceof $t&&d.positions[0]==0)d=h;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),ni&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],h=c==l.length||!r,p=h?e:e.split(),m=this.tokens.mainToken;if(p.apply(u,d,m?m.start:p.pos,f),ni&&console.log(s+this.stackID(p)+` (via ${(u&65536)==0?"shift":`reduce of ${o.getName(u&65535)}`} for ${o.getName(d)} @ ${i}${p==e?"":", split"})`),h)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return IT(e,n),!0}}runRecovery(e,n,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],l=n[s<<1],c=n[(s<<1)+1],u=ni?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),ni&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let h=0;d.forceReduce()&&h<10&&(ni&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));h++)ni&&(f=this.stackID(d)+" -> ");for(let h of a.recoverByInsert(l))ni&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ni&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),IT(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),$t.build({buffer:Ng.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(M3||(M3=new WeakMap)).get(e);return n||M3.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function IT(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class U2e{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const $3=t=>t;class W2e{constructor(e){this.start=e.start,this.shift=e.shift||$3,this.reduce=e.reduce||$3,this.reuse=e.reuse||$3,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Gf extends YC{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function o(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=nt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)o(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)o(a[c++],l,d);c++}}}this.nodeSet=new Qh(n.map((a,l)=>Ln.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=yG;let s=f1(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(DT),this.states=f1(e.states,Uint32Array),this.data=f1(e.stateData),this.goto=f1(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new w0(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new H2e(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&r)return l;for(let c=o+(s>>1);o<c;o++)if(i[o]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=fs(r,o+2)];else{if(r[o+1]==2)return fs(r,o+2);break}if(s==n||s==0)return fs(r,o+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=fs(this.data,o+2);else break;i=n(fs(this.data,o+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=fs(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((o,s)=>s&1&&o==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Gf.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=DT(s),s})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let o of e.split(" ")){let s=n.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let s=this.dialects[n[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new U2e(e,r,i)}static deserialize(e){return new Gf(e)}}function fs(t,e){return t[e]|t[e+1]<<16}function G2e(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function DT(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}let K2e=0;class ci{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=K2e++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ci&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new ci(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new Lg(e);return r=>r.modified.indexOf(n)>-1?r:Lg.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let X2e=0;class Lg{constructor(e){this.name=e,this.instances=[],this.id=X2e++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Y2e(n,a.modified));if(r)return r;let i=[],o=new ci(e.name,i,e,n);for(let a of n)a.instances.push(o);let s=Q2e(n);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(Lg.get(a,l));return o}}function Y2e(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Q2e(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Zh(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let h=i[d++];if(d==i.length&&h=="!"){s=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new jg(r,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return wG.add(e)}const wG=new nt;class jg{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}jg.empty=new jg([],2,null);function EG(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function Z2e(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function J2e(t,e,n,r=0,i=t.length){let o=new eye(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class eye{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(s)));let c=i,u=tye(e)||jg.empty,d=Z2e(o,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(nt.mounted);if(f&&f.overlay){let h=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(f.tree.type)),m=e.firstChild();for(let g=0,v=a;;g++){let y=g<f.overlay.length?f.overlay[g]:null,_=y?y.from+a:l,b=Math.max(n,v),x=Math.min(r,_);if(b<x&&m)for(;e.from<x&&(this.highlightRange(e,b,x,i,o),this.startSpan(Math.min(x,e.to),c),!(e.to>=_||!e.nextSibling())););if(!y||_>r)break;v=y.to+a,v>n&&(this.highlightRange(h.cursor(),Math.max(n,y.from+a),Math.min(r,v),"",p),this.startSpan(Math.min(r,v),c))}m&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function tye(t){let e=t.type.prop(wG);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Ie=ci.define,h1=Ie(),ha=Ie(),MT=Ie(ha),$T=Ie(ha),pa=Ie(),p1=Ie(pa),N3=Ie(pa),To=Ie(),gl=Ie(To),Oo=Ie(),Ro=Ie(),pw=Ie(),Od=Ie(pw),m1=Ie(),ne={comment:h1,lineComment:Ie(h1),blockComment:Ie(h1),docComment:Ie(h1),name:ha,variableName:Ie(ha),typeName:MT,tagName:Ie(MT),propertyName:$T,attributeName:Ie($T),className:Ie(ha),labelName:Ie(ha),namespace:Ie(ha),macroName:Ie(ha),literal:pa,string:p1,docString:Ie(p1),character:Ie(p1),attributeValue:Ie(p1),number:N3,integer:Ie(N3),float:Ie(N3),bool:Ie(pa),regexp:Ie(pa),escape:Ie(pa),color:Ie(pa),url:Ie(pa),keyword:Oo,self:Ie(Oo),null:Ie(Oo),atom:Ie(Oo),unit:Ie(Oo),modifier:Ie(Oo),operatorKeyword:Ie(Oo),controlKeyword:Ie(Oo),definitionKeyword:Ie(Oo),moduleKeyword:Ie(Oo),operator:Ro,derefOperator:Ie(Ro),arithmeticOperator:Ie(Ro),logicOperator:Ie(Ro),bitwiseOperator:Ie(Ro),compareOperator:Ie(Ro),updateOperator:Ie(Ro),definitionOperator:Ie(Ro),typeOperator:Ie(Ro),controlOperator:Ie(Ro),punctuation:pw,separator:Ie(pw),bracket:Od,angleBracket:Ie(Od),squareBracket:Ie(Od),paren:Ie(Od),brace:Ie(Od),content:To,heading:gl,heading1:Ie(gl),heading2:Ie(gl),heading3:Ie(gl),heading4:Ie(gl),heading5:Ie(gl),heading6:Ie(gl),contentSeparator:Ie(To),list:Ie(To),quote:Ie(To),emphasis:Ie(To),strong:Ie(To),link:Ie(To),monospace:Ie(To),strikethrough:Ie(To),inserted:Ie(),deleted:Ie(),changed:Ie(),invalid:Ie(),meta:m1,documentMeta:Ie(m1),annotation:Ie(m1),processingInstruction:Ie(m1),definition:ci.defineModifier("definition"),constant:ci.defineModifier("constant"),function:ci.defineModifier("function"),standard:ci.defineModifier("standard"),local:ci.defineModifier("local"),special:ci.defineModifier("special")};for(let t in ne){let e=ne[t];e instanceof ci&&(e.name=t)}EG([{tag:ne.link,class:"tok-link"},{tag:ne.heading,class:"tok-heading"},{tag:ne.emphasis,class:"tok-emphasis"},{tag:ne.strong,class:"tok-strong"},{tag:ne.keyword,class:"tok-keyword"},{tag:ne.atom,class:"tok-atom"},{tag:ne.bool,class:"tok-bool"},{tag:ne.url,class:"tok-url"},{tag:ne.labelName,class:"tok-labelName"},{tag:ne.inserted,class:"tok-inserted"},{tag:ne.deleted,class:"tok-deleted"},{tag:ne.literal,class:"tok-literal"},{tag:ne.string,class:"tok-string"},{tag:ne.number,class:"tok-number"},{tag:[ne.regexp,ne.escape,ne.special(ne.string)],class:"tok-string2"},{tag:ne.variableName,class:"tok-variableName"},{tag:ne.local(ne.variableName),class:"tok-variableName tok-local"},{tag:ne.definition(ne.variableName),class:"tok-variableName tok-definition"},{tag:ne.special(ne.variableName),class:"tok-variableName2"},{tag:ne.definition(ne.propertyName),class:"tok-propertyName tok-definition"},{tag:ne.typeName,class:"tok-typeName"},{tag:ne.namespace,class:"tok-namespace"},{tag:ne.className,class:"tok-className"},{tag:ne.macroName,class:"tok-macroName"},{tag:ne.propertyName,class:"tok-propertyName"},{tag:ne.operator,class:"tok-operator"},{tag:ne.comment,class:"tok-comment"},{tag:ne.meta,class:"tok-meta"},{tag:ne.invalid,class:"tok-invalid"},{tag:ne.punctuation,class:"tok-punctuation"}]);var U0={};const nye=121,QC=122,SG=123,rye=124,NT=128,iye=4,oye=131,sye=7,aye=8,lye=9,cye=10,uye=139,CG=19,dye=140,fye=23,hye=141,pye=27,mye=37,gye=41,vye=145,yye=146,bye=147,_ye=148,xye=47,wye=68,kG=154,OG=70,RG=155,PG=72,Eye=156,Sye=76,Cye=161,kye=79,Oye=80,Rye=81,Pye=167,AG=89,Aye=90,Tye=169,Iye=97,Dye=171,Mye=98,$ye=100,Nye=101,ZC=typeof process<"u"&&U0&&/\bfparse(:dbg)?\b/.test(U0.LOG),JC=typeof process<"u"&&U0&&/\bfparse:dbg\b/.test(U0.LOG),ss=typeof process<"u"&&U0&&/\bcontext\b/.test(U0.LOG),TG=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Lye=IG(`
\r`),LT=42,jye=IG("'./-+*^");function IG(t){return Array.from(t).map(e=>e.charCodeAt(0))}function Bye(t){return t===63||t>=65&&t<=90||t===95||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=55296&&t<=56319||t>=56320&&t<=57343}function Fye(t){return jye.includes(t)}function zye(t){return t>=48&&t<=57||t===183||t>=768&&t<=879||t>=8255&&t<=8256}function qye(t){return TG.includes(t)}function jT(t,e){return e.concat(t.split(/\n/g).join(`
`+e))}function Vye(t,e=0){const n=t.peek(e);return n===LT&&t.peek(e+1)===LT?{offset:2,token:"**"}:Fye(n)?{offset:1,token:String.fromCharCode(n)}:null}function I2(t,e=0,n=!1){for(let r=!1,i=[],o=0;;o++){const s=t.peek(e+o);if(Bye(s)||(r||n)&&zye(s))r||(r=!0),i.push(s);else return i.length?{token:String.fromCharCode(...i),offset:o}:null}}function DG(t,e){for(let n=!1,r=0;;r++){let i=t.peek(e+r);if(qye(i))n||(n=!0);else return n?{token:" ",offset:r}:null}}function Hye(t,e){const n=e.contextKeys(),r=e.tokens;for(let i=0,o=[],s=null;;){const a=r.length+o.length>0,l=o.length>0,c=I2(t,i,a)||a&&Vye(t,i)||l&&DG(t,i);if(!c)return s;const{token:u,offset:d}=c;if(i+=d,u===" ")continue;o=[...o,u];const f=[...r,...o].join(" ");if(n.some(h=>h===f)){const h=o[0];s={token:h,offset:h.length,term:SG}}if(!n.some(h=>h.startsWith(f))){if(BT.some(h=>h===f)){const h=o[0];s={token:h,offset:h.length,term:QC}}if(!BT.some(h=>h.startsWith(f)))return s}}}const Uye={[QC]:"identifier",[SG]:"nameIdentifier"},Wye=new Lu((t,e)=>{JC&&console.log("%s: T <identifier | nameIdentifier>",t.pos);const n=Hye(t,e.context),r=e.context.tokens,i=n||I2(t,0,r.length>0);i&&(t.advance(i.offset),t.acceptToken(n?n.term:QC),ZC&&console.log("%s: MATCH <%s> <%s>",t.pos,n?Uye[n.term]:"identifier",i.token))},{contextual:!0}),Gye=new Lu((t,e)=>{JC&&console.log("%s: T <propertyIdentifier>",t.pos);const n=e.context.tokens,r=I2(t,0,n.length>0);r&&(t.advance(r.offset),t.acceptToken(nye),ZC&&console.log("%s: MATCH <propertyIdentifier> <%s>",t.pos,r.token))}),Kye=new Lu((t,e)=>{JC&&console.log("%s: T <insertSemi>",t.pos);let n,r=!1;for(n=0;;n++){const i=t.peek(n);if(!TG.includes(i)){Lye.includes(i)&&(r=!0);break}}if(r){const i=I2(t,n+1);if(DG(t,n+1)||i&&/^(then|else|return|satisfies)$/.test(i.token))return;ZC&&console.log("%s: MATCH <insertSemi>",t.pos),t.acceptToken(rye)}}),Xye={[Eye]:"FunctionInvocation",[RG]:"FilterExpression",[kG]:"PathExpression"},Yye={[Dye]:"Context",[Tye]:"FunctionDefinition",[oye]:"ForExpression",[Pye]:"List",[dye]:"IfExpression",[hye]:"QuantifiedExpression"},Qye={[Iye]:"Context",[Aye]:"FunctionDefinition",[iye]:"ForExpression",[AG]:"List",[CG]:"IfExpression",[fye]:"QuantifiedExpression",[wye]:"PathExpression",[PG]:"FunctionInvocation",[OG]:"FilterExpression",[gye]:"ArithmeticExpression"};class W0{constructor(e){this.fn=e}get(e){return this.fn(e)}static of(e){return new W0(e)}}const Zye={"date and time":1,date:1,time:1,duration:1},BT=Object.keys(Zye);class Jye{constructor(e={}){this.value=e}getKeys(){return Object.keys(this.value)}get(e){const n=this.value[e],r=this.constructor;return r.isAtomic(n)?n:r.of(n)}set(e,n){return this.constructor.of({...this.value,[e]:n})}merge(e){const n=this.constructor;return new n(n.__merge(this.value,e))}static isAtomic(e){return!e||e instanceof this||e instanceof W0||typeof e!="object"}static of(...e){return e.reduce((n,r)=>n.merge(r),new this({}))}static __unwrap(e){return e?e instanceof this?e.value:typeof e!="object"?{}:{...e}:{}}static __merge(e,n){return cn(this.__unwrap(n),(r,i,o)=>i instanceof W0?{...r,[o]:i}:(i=this.__unwrap(i),gr(r,o)&&(i=this.__merge(this.__unwrap(r[o]),i)),{...r,[o]:i}),this.__unwrap(e))}}class bf{constructor({name:e="Expressions",tokens:n=[],children:r=[],parent:i=null,context:o,value:s,raw:a}){this.name=e,this.tokens=n,this.children=r,this.parent=i,this.context=o,this.value=s,this.raw=a}enterScope(e){const n=this.of({name:e,parent:this});return ss&&console.log("[%s] enter",n.path,n.context),n}exitScope(e){return this.parent?(ss&&console.log(`[%s] exit %o
%s`,this.path,this.context,jT(e,"  ")),this.parent.pushChild(this)):(ss&&console.log(`[%s] NO exit %o
%s`,this.path,this.context,jT(e,"  ")),this)}token(e){return ss&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),e),this.assign({tokens:[...this.tokens,e]})}literal(e){return ss&&console.log("[%s] literal %o",this.path,e),this.pushChild(this.of({name:"Literal",value:e}))}computedValue(){for(let e=this;;e=c0(e.children)){if(!e)return null;if(e.value)return e.value}}contextKeys(){return this.context.getKeys().map(Um)}get path(){return this.parent?.path?.concat(" > ",this.name)||this.name}get(e){const n=[e,e&&Um(e)],r=this.context.getKeys().find(o=>n.includes(Um(o)));if(typeof r>"u")return;const i=this.context.get(r);return i instanceof W0?i.get(this):i}resolveName(){const e=this.tokens.join(" "),n=[],r=this.assign({tokens:n}),i=this.of({name:"VariableName",parent:r,value:this.get(e),raw:e});return ss&&console.log("[%s] resolve name <%s=%s>",i.path,e,this.get(e)),r.pushChild(i)}pushChild(e){if(!e)return this;const n=this.assign({children:[...this.children,e]});return e.parent=n,n}pushChildren(e){let n=this;for(const r of e)n=n.pushChild(r);return n}declareName(){if(this.tokens.length===0)throw Error("no tokens to declare name");const e=this.tokens.join(" ");return ss&&console.log("[%s] declareName <%s>",this.path,e),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:e}))}define(e,n){if(typeof e!="string")return ss&&console.log("[%s] no define <%s=%s>",this.path,e,n),this;ss&&console.log("[%s] define <%s=%s>",this.path,e,n);const r=this.context.set(e,n);return this.assign({context:r})}assign(e={}){return bf.of({...this,...e})}of(e={}){const n={context:this.context,parent:this.parent};return bf.of({...n,...e})}static of(e){const{name:n,tokens:r=[],children:i=[],parent:o=null,context:s,value:a,raw:l}=e;if(!s)throw new Error("must provide <context>");return new bf({name:n,tokens:[...r],children:[...i],context:s,parent:o,value:a,raw:l})}}function Um(t){return t.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function FT(t,e,n){const r=t.children.filter(c=>c.name!==e),i=t.children.filter(c=>c.name===e),o=r[0],s=r[Math.max(1,r.length-1)],a=o?.computedValue(),l=s?.computedValue()||null;return t.assign({children:i}).enterScope(e).pushChildren(r).exitScope(n).define(a,l)}function MG(t={},e=Jye){const n=bf.of({context:e.of(t)});return new W2e({start:n,reduce(r,i,o,s){if(i===CG){const[d,f]=r.children.slice(-2);r=r.assign({value:e.of(d?.computedValue(),f?.computedValue())})}if(i===AG&&(r=r.assign({value:e.of(...r.children.map(d=>d?.computedValue()))})),i===OG){const[d,f]=r.children.slice(-2);r=r.assign({value:d?.computedValue()})}if(i===PG){const[d,...f]=r.children;d?.raw==="get value"&&(r=t3e(r,f))}const a=Yye[i];if(a)return r.enterScope(a);const l=Xye[i];if(l){const{children:d,context:f}=r,h=d.slice(0,-1),p=c0(d);let m=null;return i===kG&&(m=e.of(p?.computedValue())),i===RG&&(m=e.of(f,p?.computedValue()).set("item",p?.computedValue())),r.assign({children:h}).enterScope(l).pushChild(p).assign({context:m||f})}const c=s.read(s.pos,o.pos);if(Qye[i])return r.exitScope(c);if(i===Mye){const d=r.children.filter(p=>p.name!=="ContextEntry"),f=d[0],h=c0(d);return FT(r,"ContextEntry",c).assign({value:e.of(r.value).set(f?.computedValue(),h?.computedValue())})}if(i===sye||i===pye)return FT(r,"InExpression",c);if(i===uye)return r.define("partial",W0.of(d=>c0(d.children)?.computedValue()));if(i===Sye){const d=c0(r.children).computedValue();return r.define(d,1)}if(i===vye||i===yye||i===bye){const d=r.children.slice(0,-1),f=c0(r.children);return r.assign({children:d}).enterScope("ArithmeticExpression").pushChild(f)}if(i===_ye)return r.enterScope("ArithmeticExpression");if(i===lye||i===cye||i===Nye)return r.token(c);if(i===Oye)return r.literal(c.replace(/^"|"$/g,""));if(i===Rye)return r.literal(c==="true");if(i===kye)return r.literal(parseFloat(c));if(i===Cye)return r.literal(null);if(i===xye)return r.resolveName();if(i===aye||i===$ye)return r.declareName();if((i===NT||i===mye)&&r.tokens.length>0)throw new Error("uncleared name");if(i===NT){let d=r;for(;d.parent;)d=d.exitScope(c);return d}return r}})}const e3e=MG({});function t3e(t,e){if(!e.length)return t.assign({value:null});if(e[0].name==="Name"&&(e=n3e(e,["m","key"])),e.length!==2)return t.assign({value:null});const[n,r]=e,i=r?.computedValue(),o=n?.computedValue();return!o||typeof o!="object"||typeof i!="string"?t.assign({value:null}):t.assign({value:[Um(i),i].reduce((s,a)=>o.get(a)||s,null)})}function n3e(t,e){const n={};for(let r=0;r<t.length;r+=2){const[i,o]=t.slice(r,r+2);n[i.value]=o}return e.map(r=>n[r])}function c0(t){return t[t.length-1]}const r3e=Zh({StringLiteral:ne.string,NumericLiteral:ne.number,BooleanLiteral:ne.bool,"AtLiteral!":ne.special(ne.string),CompareOp:ne.compareOperator,ArithOp:ne.arithmeticOperator,"for if then else some every satisfies between return":ne.controlKeyword,"in instance of and or":ne.operatorKeyword,function:ne.definitionKeyword,as:ne.keyword,"Type/...":ne.typeName,Wildcard:ne.special(ne.variableName),null:ne.null,LineComment:ne.lineComment,BlockComment:ne.blockComment,'VariableName! "?"':ne.variableName,"DateTimeConstructor! SpecialFunctionName!":ne.function(ne.special(ne.variableName)),"List Interval":ne.list,Context:ne.definition(ne.literal),"Name!":ne.definition(ne.variableName),"Key/Name! ContextEntryType/Name!":ne.definition(ne.propertyName),"PathExpression/VariableName!":ne.function(ne.propertyName),"FormalParameter/ParameterName!":ne.function(ne.definition(ne.variableName)),"( )":ne.paren,"[ ]":ne.squareBracket,"{ }":ne.brace,".":ne.derefOperator,", ;":ne.separator,"..":ne.punctuation}),i3e={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},$G=Gf.deserialize({version:14,states:"C|O`QYOOO`QYOOO$sQYOOOOQU'#Ce'#CeO$}QYO'#C`O&WQYO'#FQOOQQ'#Ff'#FfO&bQYO'#FfO`QYO'#DVOOQU'#En'#EnO(UQ^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO*RQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO*WOWO'#ESO*RQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*]Q^O'#FSO,SQYO'#EXO,ZQWO'#EYOOQP'#F}'#F}O,`QXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$}QYO'#CsO,kQYO'#DwOOQQ'#Fs'#FsO,pQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,xQWOOO,}QYO'#DRO-tQWO'#FbOOQO'#DT'#DTO.PQYO'#FfO.WQWOOO.}QYO'#CdO/[QYO'#FVOOQQ'#Cc'#CcO/aQYO'#FUOOQQ'#Cb'#CbO/iQYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/nQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1jQYO,59iO1qQYO,59rOOQQ,5:i,5:iO1vQYO,59qOOQU-E8l-E8lO3jQYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3qQYO,5:rOOQQ,5;n,5;nO3{QYO,5:qO4YQWO,5:sO4_QYO,5:tOOQP'#Ee'#EeO5UQXO'#EdOOQO'#Ec'#EcO5]QWO'#EbO5bQWO'#GOO5jQWO,5:{O5oQYO,59ZO/[QYO'#FaOOQQ'#Cw'#CwO5vQYO'#F`OOQQ'#Cv'#CvO6OQYO,59_O6TQYO,5:cO6YQYO,5:mO3tQYO,5:qO6_QYO,5:pO`QYO'#EwQ,xQWOOO`QYO'#EmO7UQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO8OQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$}QYO'#EkO8`QYO,5;pO`QYO1G.fOOQQ'#F]'#F]O9VQYO1G/TO;|QYO1G/]O<WQYO1G/]O<bQYO1G/]OOQQ1G/x1G/xO>UQYO1G/zO>]QYO1G/PO?fQYO1G/RO@oQYO1G/TO`QYO1G/TOOQQ1G/T1G/TOAVQYO1G/^OAtQ^O'#CdOCWQYO'#FqOOQO'#Dz'#DzOCbQWO'#DyOCgQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCoQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOCtQWO,5<]OOQQ1G0_1G0_ODPQWO'#E[OD[QWO'#F|OOQO'#EZ'#EZODdQWO1G0`OOQP'#Eu'#EuODiQXO,5;OO`QYO,5:|ODpQXO'#EvODxQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$}QYO'#ElOEQQYO,5;zO`QYO1G.yOEYQYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOE_QWOOOOQQ-E8h-E8hOEdQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEqQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOFhQYO,5:rOFuQWO7+$oOFzQYO'#D[OOQQ'#DZ'#DZOHnQYO'#D_OHsQYO'#D_OHxQYO'#D_OH}Q`O'#DgOISQ`O'#DjOIXQ`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$}QYO'#ErOI^QWO,5<[OOQQ1G1u1G1uOJdQYO7+%wOJqQYO,5;_OOQO-E8q-E8qOAVQYO,5:vO$}QYO'#EtOKOQWO,5<hOKWQYO7+%zOOQP-E8s-E8sOK_QYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOKiQYO7+$aOKpQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKzQYO7+$eOOQO7+%i7+%iO`QYO,59XOLqQYO<<HZOOQQ<<HZ<<HZO/nQYO'#EoOMzQYO,59vO! nQYO,59yO! sQYO,59yO! xQYO,59yO! }QYO,5:RO$}QYO,5:UO!!lQbO,5:YO!!sQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!}QYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%|QYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&sQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&}QYO1G/eOOQQ1G/e1G/eO!'SQbO'#D]O!'eQ`O'#D[O!'pQ`O1G/mO!'uQWO'#DmO!'zQ`O'#FhOOQO'#Dl'#DlO!(SQ`O1G/pOOQO'#Dq'#DqO!(XQ`O'#FjOOQO'#Dp'#DpO!(aQ`O1G/tOOQQAN?QAN?QO!(fQYOAN=gOOQQ7+%P7+%PO!)]Q`O,59vOOQQ7+%X7+%XO! }QYO,5:XO$}QYO'#EpO!)hQ`O,5<SOOQQ7+%[7+%[O! }QYO'#EqO!)pQ`O,5<UO!)xQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oOAVQYO<<HzOOQQAN>fAN>fO/nQYO'#EoO! }QYO<<HzO!)}Q`O7+%`O!*SQ`O1G/tO!!lQbO,5:YO!*XQ`O'#Dn",stateData:"!*h~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#SO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%VO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXr$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%VO$O#]O#l$UXx$UX~O#l#[X~P&bOv#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.]O`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOr}Os}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/yO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%VO#}$OO$O$PO!g$eX~P%VO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4jO$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%VO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%VO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7aO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8hO_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:`O]yi^yi~P:`O{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%VO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8hO`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8hO`!kOn!hOp$qOr!]Os!]Ot!jO~P8hO!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.]O$O$POx$eX~P%VO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4jO#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%VO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%VOx#}O#}$OO$OuX~P%VOx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIfO!g#ga$O#gax#ga~P%VO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%VOf%zO~P%VOl$Ti$O$Ti~P%VO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%VO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8hO#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! }Ox!mi$O!mi~P%VOT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr$aXs$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%VObai$Oai~P%VO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%VO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:"‚ö† LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:e3e,nodeProps:[["group",-17,4,19,23,29,31,33,41,42,68,70,72,85,86,88,89,90,97,"Expr",47,"Expr Expr",-5,78,79,80,81,82,"Expr Literal"],["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"]],propSources:[r3e],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:".Z~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(u!Q![*p![!]+X!]!^+^!^!_+c!_!`$i!`!a+r!b!c+|!}#O,R#P#Q,W#Q#R&}#S#T,]#o#p.P#q#r.U$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QR$i~!Q!['{!g!h(Z#X#Y(Z~(^R{|(g}!O(g!Q![(m~(jP!Q![(m~(rP$i~!Q![(m~(zQ]~z{)Q!P!Q*X~)TTOz)Qz{)d{;'S)Q;'S;=`*R<%lO)Q~)gVOz)Qz{)d{!P)Q!P!Q)|!Q;'S)Q;'S;=`*R<%lO)Q~*ROQ~~*UP;=`<%l)Q~*^SP~OY*XZ;'S*X;'S;=`*j<%lO*X~*mP;=`<%l*X~*uS$i~!O!P+R!Q![*p!g!h(Z#X#Y(Z~+UP!Q!['{~+^O$]~~+cO$s~R+jP!]QsP!_!`+mP+rOsPR+yP!YQsP!_!`+m~,RO$l~~,WO!i~~,]O!g~~,`WOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y<%lO,]~,{RO;'S,];'S;=`-U;=`O,]~-XXOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y;=`<%l,]<%lO,]~-yO$Z~~-|P;=`<%l,]~.UO#S~~.ZO#R~",tokenizers:[Gye,Wye,Kye,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2544},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:t=>i3e[t]||-1}],tokenPrec:2546});let mw=[],NG=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?NG:mw).push(n=n+t[e])})();function o3e(t){if(t<768)return!1;for(let e=0,n=mw.length;;){let r=e+n>>1;if(t<mw[r])n=r;else if(t>=NG[r])e=r+1;else return!0;if(e==n)return!1}}function zT(t){return t>=127462&&t<=127487}const qT=8205;function s3e(t,e,n=!0,r=!0){return(n?LG:a3e)(t,e,r)}function LG(t,e,n){if(e==t.length)return e;e&&jG(t.charCodeAt(e))&&BG(t.charCodeAt(e-1))&&e--;let r=L3(t,e);for(e+=VT(r);e<t.length;){let i=L3(t,e);if(r==qT||i==qT||n&&o3e(i))e+=VT(i),r=i;else if(zT(i)){let o=0,s=e-2;for(;s>=0&&zT(L3(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function a3e(t,e,n){for(;e>0;){let r=LG(t,e-2,n);if(r<e)return r;e--}return 0}function L3(t,e){let n=t.charCodeAt(e);if(!BG(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return jG(r)?(n-55296<<10)+(r-56320)+65536:n}function jG(t){return t>=56320&&t<57344}function BG(t){return t>=55296&&t<56320}function VT(t){return t<65536?1:2}class wt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=G0(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Bo.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=G0(this,e,n);let r=[];return this.decompose(e,n,r,0),Bo.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new _f(this),o=new _f(e);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new _f(this,e)}iterRange(e,n=this.length){return new FG(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new zG(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?wt.empty:e.length<=32?new En(e):Bo.from(En.split(e,[]))}}class En extends wt{constructor(e,n=l3e(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=e)return new c3e(i,a,r,s);i=a+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new En(HT(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=Wm(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new En(a,s.length+o.length));else{let l=a.length>>1;r.push(new En(a.slice(0,l)),new En(a.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof En))return super.replace(e,n,r);[e,n]=G0(this,e,n);let i=Wm(this.text,Wm(r.text,HT(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new En(i,o):Bo.from(En.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=G0(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new En(r,i)),r=[],i=-1);return i>-1&&n.push(new En(r,i)),n}}class Bo extends wt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&n>=s){let c=i&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!c?r.push(a):a.decompose(e-s,n-s,r,c)}s=l+1}}replace(e,n,r){if([e,n]=G0(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&n<=a){let l=s.replace(e-o,n-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Bo(u,this.length-(n-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=G0(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.sliceString(e-s,n-s,r)),s=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Bo))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],c=e.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new En(h,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function d(h){let p;if(h.lines>o&&h instanceof Bo)for(let m of h.children)d(m);else h.lines>s&&(l>s||!l)?(f(),a.push(h)):h instanceof En&&l&&(p=u[u.length-1])instanceof En&&h.lines+p.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new En(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&f(),l+=h.lines,c+=h.length+1,u.push(h))}function f(){l!=0&&(a.push(u.length==1?u[0]:Bo.from(u,c)),c=-1,l=u.length=0)}for(let h of e)d(h);return f(),a.length==1?a[0]:new Bo(a,n)}}wt.empty=new En([""],0);function l3e(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Wm(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function HT(t,e,n){return Wm(t,[""],e,n)}class _f{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof En?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof En?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof En){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof En?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class FG{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new _f(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class zG{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(wt.prototype[Symbol.iterator]=function(){return this.iter()},_f.prototype[Symbol.iterator]=FG.prototype[Symbol.iterator]=zG.prototype[Symbol.iterator]=function(){return this});let c3e=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function G0(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function kr(t,e,n=!0,r=!0){return s3e(t,e,n,r)}function u3e(t){return t>=56320&&t<57344}function d3e(t){return t>=55296&&t<56320}function Lo(t,e){let n=t.charCodeAt(e);if(!d3e(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return u3e(r)?(n-55296<<10)+(r-56320)+65536:n}function qG(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ya(t){return t<65536?1:2}const gw=/\r\n?|\n/;var nr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(nr||(nr={}));class As{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){vw(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new As(e)}composeDesc(e){return this.empty?e:e.empty?this:VG(this,e)}mapDesc(e,n=!1){return e.empty?this:yw(this,e,n)}mapPos(e,n=-1,r=nr.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>e)return o+(e-i);o+=a}else{if(r!=nr.Simple&&c>=e&&(r==nr.TrackDel&&i<e&&c>e||r==nr.TrackBefore&&i<e||r==nr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new As(e)}static create(e){return new As(e)}}class zn extends As{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return vw(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return yw(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(wt.empty);r.push(s?e.slice(o,o+s):wt.empty)}o+=s}return new zn(n,r)}compose(e){return this.empty?e:e.empty?this:VG(this,e,!0)}map(e,n=!1){return e.empty?this:yw(this,e,n,!0)}iterChanges(e,n=!1){vw(this,e,n)}get desc(){return As.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Kf(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);fr(i,u,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;fr(n,u,d),d>0&&Ea(r,n,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);fr(n,u,-1),fr(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new zn(n,r),filtered:As.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<n&&fr(i,n-s,-1);let d=new zn(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof zn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:h}=u;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let p=h?typeof h=="string"?wt.of(h.split(r||gw)):h:wt.empty,m=p.length;if(d==f&&m==0)return;d<s&&l(),d>s&&fr(i,d-s,-1),fr(i,f-d,m),Ea(o,i,p),s=f}}return c(e),l(!a),a}static empty(e){return new zn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(wt.empty);r[i]=wt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new zn(n,r)}static createSet(e,n){return new zn(e,n)}}function fr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Ea(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(wt.empty);t.push(n)}}function vw(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,d=wt.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,c,o,u,d),i=c,o=u}}}function yw(t,e,n,r=!1){let i=[],o=r?[]:null,s=new Kf(t),a=new Kf(e);for(let l=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);fr(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(fr(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(fr(i,0,s.ins),o&&Ea(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;fr(i,c,l<s.i?s.ins:0),o&&l<s.i&&Ea(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?zn.createSet(i,o):As.create(i);throw new Error("Mismatched change set lengths")}}}function VG(t,e,n=!1){let r=[],i=n?[]:null,o=new Kf(t),s=new Kf(e);for(let a=!1;;){if(o.done&&s.done)return i?zn.createSet(r,i):As.create(r);if(o.ins==0)fr(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)fr(r,0,s.ins,a),i&&Ea(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;fr(r,l,u,a),i&&u&&Ea(i,r,s.text)}else s.ins==-1?(fr(r,o.off?0:o.len,l,a),i&&Ea(i,r,o.textBit(l))):(fr(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Ea(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class Kf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?wt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?wt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ll{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Ll(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Se.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Se.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Se.range(e.anchor,e.head)}static create(e,n,r){return new Ll(e,n,r)}}class Se{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Se.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Se([this.main],0)}addRange(e,n=!0){return Se.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Se.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Se(e.ranges.map(n=>Ll.fromJSON(n)),e.main)}static single(e,n=e){return new Se([Se.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Se.normalized(e.slice(),n);r=o.to}return new Se(e,n)}static cursor(e,n=0,r,i){return Ll.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Ll.create(n,e,48|o):Ll.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?Se.range(l,a):Se.range(a,l))}}return new Se(e,n)}}function HG(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let e9=0;class ze{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=e9++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new ze(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:t9),!!e.static,e.enables)}of(e){return new Gm([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gm(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gm(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function t9(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Gm{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=e9++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&u.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||bw(d,u)){let h=r(d);if(a?!UT(h,d.values[s],i):!i(h,d.values[s]))return d.values[s]=h,1}return 0},reconfigure:(d,f)=>{let h,p=f.config.address[o];if(p!=null){let m=Fg(f,p);if(this.dependencies.every(g=>g instanceof ze?f.facet(g)===d.facet(g):g instanceof yi?f.field(g,!1)==d.field(g,!1):!0)||(a?UT(h=r(d),m,i):i(h=r(d),m)))return d.values[s]=m,0}else h=r(d);return d.values[s]=h,1}}}}function UT(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function bw(t,e){let n=!1;for(let r of e)xf(t,r)&1&&(n=!0);return n}function f3e(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=Fg(l,r[u]);if(i[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)xf(l,c);return l.values[s]=a(l),1},update(l,c){if(!bw(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=bw(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&t9(n,d))return l.values[s]=f,0;let h=a(l);return e.compare(h,f)?(l.values[s]=f,0):(l.values[s]=h,1)}}}const g1=ze.define({static:!0});class yi{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new yi(e9++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(g1).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let o=r.facet(g1),s=i.facet(g1),a;return(a=o.find(l=>l.field==this))&&a!=s.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,g1.of({field:this,create:e})]}get extension(){return this}}const Al={lowest:4,low:3,default:2,high:1,highest:0};function Rd(t){return e=>new UG(e,t)}const ju={highest:Rd(Al.highest),high:Rd(Al.high),default:Rd(Al.default),low:Rd(Al.low),lowest:Rd(Al.lowest)};class UG{constructor(e,n){this.inner=e,this.prec=n}}class Bu{of(e){return new _w(this,e)}reconfigure(e){return Bu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class _w{constructor(e,n){this.compartment=e,this.inner=n}}class Bg{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let f of h3e(e,n,s))f instanceof yi?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(h=>f.slot(h));let u=r?.config.facets;for(let f in o){let h=o[f],p=h[0].facet,m=u&&u[f]||[];if(h.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,t9(m,h))l.push(r.facet(p));else{let g=p.combine(h.map(v=>v.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of h)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=c.length<<1,c.push(v=>g.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(g=>f3e(g,p,h))}}let d=c.map(f=>f(a));return new Bg(e,s,d,a,l,o)}}function h3e(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof _w&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof _w){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof UG)o(s.inner,s.prec);else if(s instanceof yi)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Gm)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Al.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(t,Al.default),r.reduce((s,a)=>s.concat(a))}function xf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Fg(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const WG=ze.define(),xw=ze.define({combine:t=>t.some(e=>e),static:!0}),GG=ze.define({combine:t=>t.length?t[0]:void 0,static:!0}),KG=ze.define(),XG=ze.define(),YG=ze.define(),QG=ze.define({combine:t=>t.length?t[0]:!1});class Rc{constructor(e,n){this.type=e,this.value=n}static define(){return new p3e}}class p3e{of(e){return new Rc(this,e)}}class m3e{constructor(e){this.map=e}of(e){return new Rt(this,e)}}class Rt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Rt(this.type,n)}is(e){return this.type==e}static define(e={}){return new m3e(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Rt.reconfigure=Rt.define();Rt.appendConfig=Rt.define();class or{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&HG(r,n.newLength),o.some(a=>a.type==or.time)||(this.annotations=o.concat(or.time.of(Date.now())))}static create(e,n,r,i,o,s){return new or(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(or.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}or.time=Rc.define();or.userEvent=Rc.define();or.addToHistory=Rc.define();or.remote=Rc.define();function g3e(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function ZG(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=zn.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Rt.mapEffects(t.effects,i).concat(Rt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ww(t,e,n){let r=e.selection,i=E0(e.annotations);return e.userEvent&&(i=i.concat(or.userEvent.of(e.userEvent))),{changes:e.changes instanceof zn?e.changes:zn.of(e.changes||[],n,t.facet(GG)),selection:r&&(r instanceof Se?r:Se.single(r.anchor,r.head)),effects:E0(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function JG(t,e,n){let r=ww(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=ZG(r,ww(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=or.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return y3e(n?v3e(i):i)}function v3e(t){let e=t.startState,n=!0;for(let i of e.facet(KG)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:g3e(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=zn.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=or.create(e,i,t.selection&&t.selection.map(o),Rt.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(XG);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof or?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof or?t=o[0]:t=JG(e,E0(o),!1)}return t}function y3e(t){let e=t.startState,n=e.facet(YG),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=ZG(r,ww(e,o,t.changes.newLength),!0))}return r==t?t:or.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const b3e=[];function E0(t){return t==null?b3e:Array.isArray(t)?t:[t]}var Oi=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Oi||(Oi={}));const _3e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ew;try{Ew=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function x3e(t){if(Ew)return Ew.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"¬Ä"&&(n.toUpperCase()!=n.toLowerCase()||_3e.test(n)))return!0}return!1}function w3e(t){return e=>{if(!/\S/.test(e))return Oi.Space;if(x3e(e))return Oi.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Oi.Word;return Oi.Other}}class Ot{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)xf(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return xf(this,r),Fg(this,r)}update(...e){return JG(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Bu.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Rt.reconfigure)?(n=null,r=a.value):a.is(Rt.appendConfig)&&(n=null,r=E0(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=Bg.resolve(r,i,this),o=new Ot(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(xw)?e.newSelection:e.newSelection.asSingle();new Ot(n,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Se.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=E0(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)o[f]=o[f].map(u);let d=i.mapDesc(c,!0);o.push(l.range.map(d)),i=i.compose(u),s=Rt.mapEffects(s,u).concat(Rt.mapEffects(E0(l.effects),d))}return{changes:i,selection:Se.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof zn?e:zn.of(e,this.doc.length,this.facet(Ot.lineSeparator))}toText(e){return wt.of(e.split(this.facet(Ot.lineSeparator)||gw))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(xf(this,n),Fg(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof yi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return Ot.create({doc:e.doc,selection:Se.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Bg.resolve(e.extensions||[],new Map),r=e.doc instanceof wt?e.doc:wt.of((e.doc||"").split(n.staticFacet(Ot.lineSeparator)||gw)),i=e.selection?e.selection instanceof Se?e.selection:Se.single(e.selection.anchor,e.selection.head):Se.single(0);return HG(i,r.length),n.staticFacet(xw)||(i=i.asSingle()),new Ot(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Ot.tabSize)}get lineBreak(){return this.facet(Ot.lineSeparator)||`
`}get readOnly(){return this.facet(QG)}phrase(e,...n){for(let r of this.facet(Ot.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(WG))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return w3e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=kr(n,s,!1);if(o(n.slice(l,s))!=Oi.Word)break;s=l}for(;a<i;){let l=kr(n,a);if(o(n.slice(a,l))!=Oi.Word)break;a=l}return s==a?null:Se.range(s+r,a+r)}}Ot.allowMultipleSelections=xw;Ot.tabSize=ze.define({combine:t=>t.length?t[0]:4});Ot.lineSeparator=GG;Ot.readOnly=QG;Ot.phrases=ze.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ot.languageData=WG;Ot.changeFilter=KG;Ot.transactionFilter=XG;Ot.transactionExtender=YG;Bu.reconfigure=Rt.define();function D2(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class sc{eq(e){return this==e}range(e,n=e){return Xf.create(e,n,this)}}sc.prototype.startSide=sc.prototype.endSide=0;sc.prototype.point=!1;sc.prototype.mapMode=nr.TrackDel;class Xf{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Xf(e,n,r)}}function Sw(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class n9{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,h;if(u==d){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(f=h=p,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<f)))continue}else if(f=n.mapPos(u,c.startSide),h=n.mapPos(d,c.endSide),f>h||f==h&&c.startSide>0&&c.endSide<=0)continue;(h-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(a=Math.max(a,h-f)),r.push(c),i.push(f-s),o.push(h-s))}return{mapped:r.length?new n9(i,o,r,a):null,pos:s}}}class Dt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Dt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(Sw)),this.isEmpty)return n.length?Dt.of(n):this;let a=new eK(this,null,-1).goto(0),l=0,c=[],u=new K0;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(Xf.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Dt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(d))}}let o=this.nextLayer.map(e);return n.length==0?o:new Dt(r,n,o||Dt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Yf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Yf.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),l=WT(s,a,r),c=new Pd(s,l,o),u=new Pd(a,l,o);r.iterGaps((d,f,h)=>GT(c,d,u,f,h,i)),r.empty&&r.length==0&&GT(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=WT(o,s),l=new Pd(o,a,0).goto(r),c=new Pd(s,a,0).goto(r);for(;;){if(l.to!=c.to||!Cw(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new Pd(e,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),d=s.pointFrom<n?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,d,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new K0;for(let i of e instanceof Xf?[e]:n?E3e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Dt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Dt.empty;i=i.nextLayer)n=new Dt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Dt.empty=new Dt([],[],null,-1);function E3e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Sw(e,r)>0)return t.slice().sort(Sw);e=r}return t}Dt.empty.nextLayer=Dt.empty;class K0{finishChunk(e){this.chunks.push(new n9(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new K0)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Dt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Dt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function WT(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!n?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}class eK{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new eK(s,n,r,o));return i.length==1?i[0]:new Yf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)j3(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)j3(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),j3(this.heap,0)}}}function j3(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Pd{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){v1(this.active,e),v1(this.activeTo,e),v1(this.activeRank,e),this.minActive=KT(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;y1(this.active,n,r),y1(this.activeTo,n,i),y1(this.activeRank,n,o),e&&y1(e,n,this.cursor.from),this.minActive=KT(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&v1(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function GT(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,d=u<0?t.to+l:n.to,f=Math.min(d,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Cw(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,f,t.point,n.point):f>a&&!Cw(t.active,n.active)&&o.compareRange(a,f,t.active,n.active),d>s)break;(c||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(d),a=d,u<=0&&t.next(),u>=0&&n.next()}}function Cw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function v1(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function y1(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function KT(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function M2(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=kr(t,i));return r}function S3e(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=kr(t,i)}return t.length}const kw="Õº",XT=typeof Symbol>"u"?"__"+kw:Symbol.for(kw),Ow=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ma{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],d=/^@(\w+)\b/.exec(s[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(s[0]+";");for(let h in a){let p=a[h];if(/&/.test(h))o(h.split(/,\s*/).map(m=>s.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),p,l);else if(p&&typeof p=="object"){if(!d)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,u,f)}else p!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||f)&&l.push((r&&!d&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=YT[XT]||1;return YT[XT]=e+1,kw+e.toString(36)}static mount(e,n,r){let i=e[Ow],o=r&&r.nonce;i?o&&i.setNonce(o):i=new C3e(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let QT=new Map;class C3e{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=QT.get(r);if(o)return e[Ow]=o;this.sheet=new i.CSSStyleSheet,QT.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Ow]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var $a={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k3e=typeof navigator<"u"&&/Mac/.test(navigator.platform),O3e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var er=0;er<10;er++)$a[48+er]=$a[96+er]=String(er);for(var er=1;er<=24;er++)$a[er+111]="F"+er;for(var er=65;er<=90;er++)$a[er]=String.fromCharCode(er+32),Qf[er]=String.fromCharCode(er);for(var B3 in $a)Qf.hasOwnProperty(B3)||(Qf[B3]=$a[B3]);function R3e(t){var e=k3e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||O3e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Qf:$a)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Zf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Rw(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Km(t,e){if(!e.anchorNode)return!1;try{return Rw(t,e.anchorNode)}catch{return!1}}function X0(t){return t.nodeType==3?lc(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function wf(t,e,n,r){return n?ZT(t,e,n,r,-1)||ZT(t,e,n,r,1):!1}function ac(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function zg(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function ZT(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Xo(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=ac(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Xo(t):0}else return!1}}function Xo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Jh(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function P3e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function tK(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function A3e(t,e,n,r,i,o,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,d=!1;u&&!d;)if(u.nodeType==1){let f,h=u==l.body,p=1,m=1;if(h)f=P3e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();({scaleX:p,scaleY:m}=tK(u,y)),f={left:y.left,right:y.left+u.clientWidth*p,top:y.top,bottom:y.top+u.clientHeight*m}}let g=0,v=0;if(i=="nearest")e.top<f.top?(v=e.top-(f.top+s),n>0&&e.bottom>f.bottom+v&&(v=e.bottom-f.bottom+s)):e.bottom>f.bottom&&(v=e.bottom-f.bottom+s,n<0&&e.top-v<f.top&&(v=e.top-(f.top+s)));else{let y=e.bottom-e.top,_=f.bottom-f.top;v=(i=="center"&&y<=_?e.top+y/2-_/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-_+s)-f.top}if(r=="nearest"?e.left<f.left?(g=e.left-(f.left+o),n>0&&e.right>f.right+g&&(g=e.right-f.right+o)):e.right>f.right&&(g=e.right-f.right+o,n<0&&e.left<f.left+g&&(g=e.left-(f.left+o))):g=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,g||v)if(h)c.scrollBy(g,v);else{let y=0,_=0;if(v){let b=u.scrollTop;u.scrollTop+=v/m,_=(u.scrollTop-b)*m}if(g){let b=u.scrollLeft;u.scrollLeft+=g/p,y=(u.scrollLeft-b)*p}e={left:e.left-y,top:e.top-_,right:e.right-y,bottom:e.bottom-_},y&&Math.abs(y-g)<1&&(r="nearest"),_&&Math.abs(_-v)<1&&(i="nearest")}if(h)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function T3e(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class I3e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Xo(n):0),r,Math.min(e.focusOffset,r?Xo(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Zc=null;function nK(t){if(t.setActive)return t.setActive();if(Zc)return t.focus(Zc);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Zc==null?{get preventScroll(){return Zc={preventScroll:!0},!0}}:void 0),!Zc){Zc=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let JT;function lc(t,e,n=e){let r=JT||(JT=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function S0(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function D3e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function rK(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function M3e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Xo(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Xo(n))}else{if(n==t)return!0;r=ac(n),n=n.parentNode}}function iK(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function oK(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Xo(n)}else if(n.parentNode&&!zg(n))r=ac(n),n=n.parentNode;else return null}}function sK(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!zg(n))r=ac(n)+1,n=n.parentNode;else return null}}class pr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new pr(e.parentNode,ac(e),n)}static after(e,n){return new pr(e.parentNode,ac(e)+1,n)}}const r9=[];class Lt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=Lt.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=eI(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=eI(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Xo(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Lt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>n)return d.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=l,o=c),c>n&&d.dom.parentNode==this.dom){s=l,a=u;break}u=f,c=f+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=r9){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new aK(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Lt.prototype.breakAfter=0;function eI(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class aK{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function lK(t,e,n,r,i,o,s,a,l){let{children:c}=t,u=c.length?c[e]:null,d=o.length?o[o.length-1]:null,f=d?d.breakAfter:s;if(!(e==r&&u&&!s&&!f&&o.length<2&&u.merge(n,i,o.length?d:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&d?.breakAfter)?(e==r&&(h=h.split(i),i=0),!f&&d&&h.merge(0,i,d,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h?.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function cK(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,lK(t,c,u,a,l,r,0,i,o)}let Vr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Pw=typeof document<"u"?document:{documentElement:{style:{}}};const Aw=/Edge\/(\d+)/.exec(Vr.userAgent),uK=/MSIE \d/.test(Vr.userAgent),Tw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vr.userAgent),$2=!!(uK||Tw||Aw),tI=!$2&&/gecko\/(\d+)/i.test(Vr.userAgent),F3=!$2&&/Chrome\/(\d+)/.exec(Vr.userAgent),$3e="webkitFontSmoothing"in Pw.documentElement.style,dK=!$2&&/Apple Computer/.test(Vr.vendor),nI=dK&&(/Mobile\/\w+/.test(Vr.userAgent)||Vr.maxTouchPoints>2);var je={mac:nI||/Mac/.test(Vr.platform),windows:/Win/.test(Vr.platform),linux:/Linux|X11/.test(Vr.platform),ie:$2,ie_version:uK?Pw.documentMode||6:Tw?+Tw[1]:Aw?+Aw[1]:0,gecko:tI,gecko_version:tI?+(/Firefox\/(\d+)/.exec(Vr.userAgent)||[0,0])[1]:0,chrome:!!F3,chrome_version:F3?+F3[1]:0,ios:nI,android:/Android\b/.test(Vr.userAgent),safari:dK,webkit_version:$3e?+(/\bAppleWebKit\/(\d+)/.exec(Vr.userAgent)||[0,0])[1]:0,tabSize:Pw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const N3e=256;class uo extends Lt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof uo)||this.length-(n-e)+r.length>N3e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new uo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new pr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return L3e(this.dom,e,n)}}class Bs extends Lt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(rK(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof Bs&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(cK(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Bs(this.mark,n,s)}domAtPos(e){return fK(this,e)}coordsAt(e,n){return pK(this,e,n)}}function L3e(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?je.chrome||je.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=lc(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return je.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?Jh(l,s<0):l||null}class Sa extends Lt{static create(e,n,r){return new Sa(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Sa.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof Sa)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Sa&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return wt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):wt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?pr.before(this.dom):pr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return Jh(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Y0 extends Lt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Y0&&e.side==this.side}split(){return new Y0(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?pr.before(this.dom):pr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return wt.empty}get isHidden(){return!0}}uo.prototype.children=Sa.prototype.children=Y0.prototype.children=r9;function fK(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new pr(n,0)}function hK(t,e,n){let r,{children:i}=t;n>0&&e instanceof Bs&&i.length&&(r=i[i.length-1])instanceof Bs&&r.mark.eq(e.mark)?hK(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function pK(t,e,n){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let h=c.children[d],p=f+h.length;p>=u&&(h.children.length?a(h,u-f):(!o||o.isHidden&&(n>0||B3e(o,h)))&&(p>u||f==p&&h.getSide()>0)?(o=h,s=u-f):(f<u||f==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-f)),f=p}}a(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):j3e(t)}function j3e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=X0(e);return n[n.length-1]||null}function B3e(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function Iw(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const rI=Object.create(null);function qg(t,e,n){if(t==e)return!0;t||(t=rI),e||(e=rI);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function Dw(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function F3e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Fu{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ai=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ai||(Ai={}));class yt extends sc{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ep(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Na(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=mK(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Na(e,r,i,n,e.widget||null,!0)}static line(e){return new tp(e)}static set(e,n=!1){return Dt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}yt.none=Dt.empty;class ep extends yt{constructor(e){let{start:n,end:r}=mK(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof ep&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&qg(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}ep.prototype.point=!1;class tp extends yt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof tp&&this.spec.class==e.spec.class&&qg(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}tp.prototype.mapMode=nr.TrackBefore;tp.prototype.point=!0;class Na extends yt{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?nr.TrackBefore:nr.TrackAfter:nr.TrackDel}get type(){return this.startSide!=this.endSide?Ai.WidgetRange:this.startSide<=0?Ai.WidgetBefore:Ai.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Na&&z3e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Na.prototype.point=!0;function mK(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function z3e(t,e){return t==e||!!(t&&e&&t.compare(e))}function Xm(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class An extends Lt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof An))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),cK(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new An;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qg(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){hK(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Iw(n,this.attrs||{})),r&&(this.attrs=Iw({class:r},this.attrs||{}))}domAtPos(e){return fK(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(rK(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Dw(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Lt.get(i)instanceof Bs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Lt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!je.ios||!this.children.some(o=>o instanceof uo))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof uo)||/[^ -~]/.test(r.text))return null;let i=X0(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=pK(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof An&&this.children.length==0&&e.children.length==0&&qg(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof An)return o;if(s>n)break}i=s+o.breakAfter}return null}}class Ts extends Lt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof Ts)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?pr.before(this.dom):pr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Ts(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return r9}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):wt.empty}domBoundsAround(){return null}become(e){return e instanceof Ts&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof Mw?null:Jh(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class Mw extends Fu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Ef{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ts&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new An),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(b1(new Y0(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ts)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(b1(new uo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Na){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Na)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ts(r.widget||Q0.block,a,r));else{let l=Sa.create(r.widget||Q0.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(b1(new Y0(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(b1(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new Ef(e,n,r,o);return s.openEnd=Dt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function b1(t,e){for(let n of e)t=new Bs(n,[t],t.length);return t}class Q0 extends Fu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Q0.inline=new Q0("span");Q0.block=new Q0("div");var gn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(gn||(gn={}));const cc=gn.LTR,i9=gn.RTL;function gK(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const q3e=gK("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),V3e=gK("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$w=Object.create(null),Po=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);$w[e]=n,$w[n]=-e}function vK(t){return t<=247?q3e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?V3e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const H3e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ca{get dir(){return this.level%2?i9:cc}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function yK(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!yK(r.inner,i.inner))return!1}return!0}const Nt=[];function U3e(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:n,l=o?256:i;for(let c=s,u=l,d=l;c<a;c++){let f=vK(t.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),Nt[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=s,u=l,d=l;c<a;c++){let f=Nt[c];if(f==128)c<a-1&&u==Nt[c+1]&&u&24?f=Nt[c]=u:Nt[c]=256;else if(f==64){let h=c+1;for(;h<a&&Nt[h]==64;)h++;let p=c&&u==8||h<n&&Nt[h]==8?d==1?1:8:256;for(let m=c;m<h;m++)Nt[m]=p;c=h-1}else f==8&&d==1&&(Nt[c]=1);u=f,f&7&&(d=f)}}}function W3e(t,e,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:n;for(let d=c,f,h,p;d<u;d++)if(h=$w[f=t.charCodeAt(d)])if(h<0){for(let m=a-3;m>=0;m-=3)if(Po[m+1]==-h){let g=Po[m+2],v=g&2?i:g&4?g&1?o:i:0;v&&(Nt[d]=Nt[Po[m]]=v),a=m;break}}else{if(Po.length==189)break;Po[a++]=d,Po[a++]=f,Po[a++]=l}else if((p=Nt[d])==2||p==1){let m=p==i;l=m?0:1;for(let g=a-3;g>=0;g-=3){let v=Po[g+2];if(v&2)break;if(m)Po[g+2]|=2;else{if(v&4)break;Po[g+2]|=4}}}}}function G3e(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=s;l<a;){let c=Nt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Nt[u]==256)u++;else break;let d=o==1,f=(u<e?Nt[u]:r)==1,h=d==f?d?1:2:r;for(let p=u,m=i,g=m?n[m-1].to:t;p>l;)p==g&&(p=n[--m].from,g=m?n[m-1].to:t),Nt[--p]=h;l=u}else o=c,l++}}}function Nw(t,e,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,d=!1;if(c==o.length||l<o[c].from){let m=Nt[l];m!=a&&(u=!1,d=m==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(d)break e;let m=o[c];if(!u)for(let g=m.to,v=c+1;;){if(g==n)break e;if(v<o.length&&o[v].from==g)g=o[v++].to;else{if(Nt[g]==a)break e;break}}if(c++,f)f.push(m);else{m.from>l&&s.push(new Ca(l,m.from,h));let g=m.direction==cc!=!(h%2);Lw(t,g?r+1:r,i,m.inner,m.from,m.to,s),l=m.to}p=m.to}else{if(p==n||(u?Nt[p]!=a:Nt[p]==a))break;p++}f?Nw(t,l,p,r+1,i,f,s):l<p&&s.push(new Ca(l,p,h)),l=p}else for(let l=n,c=o.length;l>e;){let u=!0,d=!1;if(!c||l>o[c-1].to){let m=Nt[l-1];m!=a&&(u=!1,d=m==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(d)break e;let m=o[--c];if(!u)for(let g=m.from,v=c;;){if(g==e)break e;if(v&&o[v-1].to==g)g=o[--v].from;else{if(Nt[g-1]==a)break e;break}}if(f)f.push(m);else{m.to<l&&s.push(new Ca(m.to,l,h));let g=m.direction==cc!=!(h%2);Lw(t,g?r+1:r,i,m.inner,m.from,m.to,s),l=m.from}p=m.from}else{if(p==e||(u?Nt[p-1]!=a:Nt[p-1]==a))break;p--}f?Nw(t,p,l,r+1,i,f,s):p<l&&s.push(new Ca(p,l,h)),l=p}}function Lw(t,e,n,r,i,o,s){let a=e%2?2:1;U3e(t,i,o,r,a),W3e(t,i,o,r,a),G3e(i,o,r,a),Nw(t,i,o,e,n,r,s)}function K3e(t,e,n){if(!t)return[new Ca(0,0,e==i9?1:0)];if(e==cc&&!n.length&&!H3e.test(t))return bK(t.length);if(n.length)for(;t.length>Nt.length;)Nt[Nt.length]=256;let r=[],i=e==cc?0:1;return Lw(t,i,i,n,0,t.length,r),r}function bK(t){return[new Ca(0,t,0)]}let _K="";function X3e(t,e,n,r,i){var o;let s=r.head-t.from,a=Ca.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],c=l.side(i,n);if(s==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!i,n),c=l.side(i,n)}let u=kr(t.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),_K=t.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?Se.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Se.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function Y3e(t,e,n){for(let r=e;r<n;r++){let i=vK(t.charCodeAt(r));if(i==1)return cc;if(i==2||i==4)return i9}return cc}const xK=ze.define(),wK=ze.define(),EK=ze.define(),SK=ze.define(),jw=ze.define(),CK=ze.define(),kK=ze.define(),o9=ze.define(),s9=ze.define(),OK=ze.define({combine:t=>t.some(e=>e)}),Q3e=ze.define({combine:t=>t.some(e=>e)}),RK=ze.define();class C0{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new C0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new C0(Se.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _1=Rt.define({map:(t,e)=>t.map(e)}),PK=Rt.define();function Or(t,e,n){let r=t.facet(SK);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ms=ze.define({combine:t=>t.length?t[0]:!0});let Z3e=0;const Jd=ze.define();class Qr{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new Qr(Z3e++,e,r,i,a=>{let l=[Jd.of(a)];return s&&l.push(Jf.of(c=>{let u=c.plugin(a);return u?s(u):yt.none})),o&&l.push(o(a)),l})}static fromClass(e,n){return Qr.define(r=>new e(r),n)}}class z3{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Or(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Or(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Or(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const AK=ze.define(),a9=ze.define(),Jf=ze.define(),TK=ze.define(),l9=ze.define(),IK=ze.define();function iI(t,e){let n=t.state.facet(IK);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return Dt.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let c=o-e.from,u=s-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let h=a[f].spec.bidiIsolate,p;if(h==null&&(h=Y3e(e.text,c,u)),l>0&&d.length&&(p=d[d.length-1]).to==c&&p.direction==h)p.to=u,d=p.inner;else{let m={from:c,to:u,direction:h,inner:[]};d.push(m),d=m.inner}}}}),i}const DK=ze.define();function c9(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(DK)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const ef=ze.define();class Ti{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Ti(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let d=n[o],f=n[o+1],h=Math.max(a,d),p=Math.min(u,f);if(h<=p&&new Ti(h+c,p+c,h,p).addToSet(r),f>u)break;o+=2}if(!l)return r;new Ti(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class Vg{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=zn.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new Ti(o,s,a,l))),this.changedRanges=i}static create(e,n,r){return new Vg(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class oI extends Lt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=yt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new An],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ti(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!obe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?ebe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Ti(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(je.ie||je.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=rbe(s,a,e.changes);return r=Ti.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=je.chrome||je.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Ts&&s.widget instanceof Mw&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,h,p,m;if(r&&r.range.fromB<d&&r.range.toB>u){let b=Ef.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),x=Ef.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);h=b.breakAtStart,p=b.openStart,m=x.openEnd;let w=this.compositionView(r);x.breakAtStart?w.breakAfter=1:x.content.length&&w.merge(w.length,w.length,x.content[0],!1,x.openStart,0)&&(w.breakAfter=x.content[0].breakAfter,x.content.shift()),b.content.length&&w.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),f=b.content.concat(w).concat(x.content)}else({content:f,breakAtStart:h,openStart:p,openEnd:m}=Ef.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:g,off:v}=o.findPos(c,1),{i:y,off:_}=o.findPos(l,-1);lK(this,y,_,g,v,f,h,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(PK)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new uo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Bs(i,[n],n.length);let r=new An;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=Lt.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(ms)||this.dom.tabIndex>-1)&&Km(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(je.gecko&&a.empty&&!this.hasComposition&&J3e(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new pr(d,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!wf(l.node,l.offset,u.anchorNode,u.anchorOffset)||!wf(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{je.android&&je.chrome&&this.dom.contains(u.focusNode)&&ibe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Zf(this.view.root);if(d)if(a.empty){if(je.gecko){let f=tbe(l.node,l.offset);if(f&&f!=3){let h=(f==1?oK:sK)(l.node,l.offset);h&&(l=new pr(h.node,h.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new pr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new pr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&wf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Zf(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=An.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=Lt.get(n.childNodes[i]);o instanceof An&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Lt.get(n.childNodes[i]);o instanceof An&&(r=o.domAtPos(o.length))}return r?new pr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Lt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof An)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof An&&!(r instanceof An&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof Ts&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof An))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof uo))return null;let o=kr(i.text,r);if(o==r)return null;let s=lc(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==gn.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>i)break;if(c>=r){let h=d.dom.getBoundingClientRect();if(n.push(h.height),s){let p=d.dom.lastChild,m=p?X0(p):[];if(m.length){let g=m[m.length-1],v=l?g.right-h.left:h.right-g.left;v>a&&(a=v,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?gn.RTL:gn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof An){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=X0(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new aK(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(yt.replace({widget:new Mw(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return yt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Jf).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(TK).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Dt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(RK))try{if(c(this.view,e.range,e))return!0}catch(u){Or(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=c9(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;A3e(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==gn.LTR)}}function J3e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function MK(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=oK(n.focusNode,n.focusOffset),i=sK(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=Lt.get(i.node);if(!a||a instanceof uo&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=Lt.get(r.node);!l||l instanceof uo&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function ebe(t,e,n){let r=MK(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new Ti(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let d=i.parentNode;;d=d.parentNode){let f=Lt.get(d);if(f instanceof Bs)u.push({node:d,deco:f.mark});else{if(f instanceof An||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new ep({inclusive:!0,attributes:F3e(d),tagName:d.tagName.toLowerCase()})});else return null}}}function tbe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let nbe=class{constructor(){this.changes=[]}compareRange(e,n){Xm(e,n,this.changes)}comparePoint(e,n){Xm(e,n,this.changes)}boundChange(e){Xm(e,e,this.changes)}};function rbe(t,e,n){let r=new nbe;return Dt.compare(t,e,n,r),r.changes}function ibe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function obe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function sbe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return Se.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=kr(i.text,o,!1):a=kr(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=kr(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=kr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Se.range(s+i.from,a+i.from)}function abe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function lbe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function q3(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function sI(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function aI(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Bw(t,e,n){let r,i,o,s,a=!1,l,c,u,d;for(let p=t.firstChild;p;p=p.nextSibling){let m=X0(p);for(let g=0;g<m.length;g++){let v=m[g];i&&q3(i,v)&&(v=sI(aI(v,i.bottom),i.top));let y=abe(e,v),_=lbe(n,v);if(y==0&&_==0)return p.nodeType==3?lI(p,e,n):Bw(p,e,n);if(!r||s>_||s==_&&o>y){r=p,i=v,o=y,s=_;let b=_?n<v.top?-1:1:y?e<v.left?-1:1:0;a=!b||(b>0?g<m.length-1:g>0)}y==0?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=p,u=v):n<v.top&&(!d||d.top>v.top)&&(c=p,d=v):u&&q3(u,v)?u=aI(u,v.bottom):d&&q3(d,v)&&(d=sI(d,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):d&&d.top<=n&&(r=c,i=d),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return lI(r,f,n);if(a&&r.contentEditable!="false")return Bw(r,f,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function lI(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=lc(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<o){let f=e>=(u.left+u.right)/2,h=f;if((je.chrome||je.gecko)&&lc(t,a).getBoundingClientRect().left==u.right&&(h=!f),d<=0)return{node:t,offset:a+(h?1:0)};i=a+(h?1:0),o=d}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function $K(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let b=t.viewState.heightOracle.textHeight/2,x=!1;l=t.elementAtHeight(f),l.type!=Ai.Text;)for(;f=r>0?l.bottom+b:l.top-b,!(f>=0&&f<=c);){if(x)return n?null:0;x=!0,r=-r}d=a+f;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:cI(t,s,l,u,d);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:cI(t,s,l,u,d);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,g=m.elementFromPoint(u,d);g&&!t.contentDOM.contains(g)&&(g=null),g||(u=Math.max(s.left+1,Math.min(s.right-1,u)),g=m.elementFromPoint(u,d),g&&!t.contentDOM.contains(g)&&(g=null));let v,y=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let b=p.caretPositionFromPoint(u,d);b&&({offsetNode:v,offset:y}=b)}else if(p.caretRangeFromPoint){let b=p.caretRangeFromPoint(u,d);b&&({startContainer:v,startOffset:y}=b,(!t.contentDOM.contains(v)||je.safari&&cbe(v,y,u)||je.chrome&&ube(v,y,u))&&(v=void 0))}v&&(y=Math.min(Xo(v),y))}if(!v||!t.docView.dom.contains(v)){let b=An.find(t.docView,h);if(!b)return f>l.top+l.height/2?l.to:l.from;({node:v,offset:y}=Bw(b.dom,u,d))}let _=t.docView.nearest(v);if(!_)return null;if(_.isWidget&&((o=_.dom)===null||o===void 0?void 0:o.nodeType)==1){let b=_.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(v,y)+_.posAtStart}function cI(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+S3e(s,o,t.state.tabSize)}function cbe(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return lc(t,r-1,r).getBoundingClientRect().left>n}function ube(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():lc(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function dbe(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==Ai.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function fbe(t,e,n,r){let i=dbe(t,e.head,e.assoc||-1),o=!r||i.type!=Ai.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==gn.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Se.cursor(l,n?-1:1)}return Se.cursor(n?i.to:i.from,n?-1:1)}function uI(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=X3e(i,o,s,a,n),u=_K;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function hbe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==Oi.Space&&(i=s),i==s}}function pbe(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return Se.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let h=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),a=(o<0?h.top:h.bottom)+u}let d=l.left+s,f=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=a+(f+h)*o,m=$K(t,{x:d,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let g=t.docView.coordsForChar(m),v=!g||p<g.top?-1:1;return Se.cursor(m,v,void 0,s)}}}function Ym(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||n||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function V3(t,e,n){let r=Ym(t.state.facet(l9).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Se.cursor(r,r<n.from?1:-1)}const tf="Ôøø";class mbe{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Ot.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=tf}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=Lt.get(i),l=Lt.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:zg(i))||zg(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=Lt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(gbe(e,r.node,r.offset)?n:0))}}function gbe(t,e,n){for(;;){if(!e||n<Xo(e))return!1;if(e==t)return!0;n=ac(e)+1,e=e.parentNode}}class dI{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class vbe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=o||s?[]:_be(e),l=new mbe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=xbe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!Rw(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!Rw(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((je.ios||je.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),h=u.from-d,p=u.to-f;(h==0||h==1||d==0)&&(p==0||p==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Se.single(c,l)}}}function NK(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,c=null;(o===8||je.android&&e.text.length<a-s)&&(l=i.to,c="end");let u=bbe(t.state.doc.sliceString(s,a,tf),e.text,l-s,c);u&&(je.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==tf+tf&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:wt.of(e.text.slice(u.from,u.toB).split(tf))})}else r&&(!t.hasFocus&&t.state.facet(ms)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(je.mac||je.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Se.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:wt.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:je.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:wt.of([" "])}),n)return u9(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function u9(t,e,n,r=-1){if(je.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(je.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&S0(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&S0(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&S0(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=ybe(t,e,n));return t.state.facet(CK).some(l=>l(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function ybe(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),u,d=n&&MK(t,n.main.head);if(d){let p=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-p}}else u=t.state.doc.lineAt(o.head);let f=o.to-e.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let m=p.to-f,g=m-c.length;if(p.to-p.from!=h||t.state.sliceDoc(g,m)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let v=i.changes({from:g,to:m,insert:e.insert}),y=p.to-o.to;return{changes:v,range:l?Se.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(v)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function bbe(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.length<e.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function _be(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new dI(n,r)),(i!=n||o!=r)&&e.push(new dI(i,o))),e}function xbe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Se.single(n+e,r+e):null}class wbe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,je.safari&&e.contentDOM.addEventListener("input",()=>null),je.gecko&&jbe(e.contentDOM.ownerDocument)}handleEvent(e){!Abe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Ebe(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&jK.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),je.android&&je.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return je.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=LK.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Sbe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,S0(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:je.safari&&!je.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function fI(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Or(n.state,i)}}}function Ebe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(fI(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(fI(r.value,s))}}for(let r in fo)n(r).handlers.push(fo[r]);for(let r in $i)n(r).observers.push($i[r]);return e}const LK=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Sbe="dthko",jK=[16,17,18,20,91,92,224,225],x1=6;function w1(t){return Math.max(0,t)*.7+8}function Cbe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class kbe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=T3e(e.contentDOM),this.atoms=e.state.facet(l9).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ot.allowMultipleSelections)&&Obe(e,n),this.dragging=Pbe(e,n)&&zK(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Cbe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=c9(this.view);e.clientX-l.left<=i+x1?n=-w1(i-e.clientX):e.clientX+l.right>=s-x1&&(n=w1(e.clientX-s)),e.clientY-l.top<=o+x1?r=-w1(o-e.clientY):e.clientY+l.bottom>=a-x1&&(r=w1(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=Ym(this.atoms,i.from,0);s!=i.from&&(o=Se.cursor(s,-1))}else{let s=Ym(this.atoms,i.from,-1),a=Ym(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Se.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?Se.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Obe(t,e){let n=t.state.facet(xK);return n.length?n[0](e):je.mac?e.metaKey:e.ctrlKey}function Rbe(t,e){let n=t.state.facet(wK);return n.length?n[0](e):je.mac?!e.altKey:!e.ctrlKey}function Pbe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Zf(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Abe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Lt.get(n))&&r.ignoreEvent(e))return!1;return!0}const fo=Object.create(null),$i=Object.create(null),BK=je.ie&&je.ie_version<15||je.ios&&je.webkit_version<604;function Tbe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),FK(t,n.value)},50)}function N2(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function FK(t,e){e=N2(t.state,o9,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(Fw!=null&&n.selection.ranges.every(l=>l.empty)&&Fw==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:d},range:Se.cursor(c.from+d.length)}})}else s?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Se.cursor(l.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}$i.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};fo.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);$i.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};$i.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};fo.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(EK))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Mbe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new kbe(t,e,n,r)),r&&t.observer.ignore(()=>{nK(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function hI(t,e,n,r){if(r==1)return Se.cursor(e,n);if(r==2)return sbe(t.state,e,n);{let i=An.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,Se.range(s,a)}}let pI=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Ibe(t,e,n,r){let i=An.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&pI(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&pI(n,r,a)?1:s&&s.bottom>=r?-1:1}function mI(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Ibe(t,n,e.clientX,e.clientY)}}const Dbe=je.ie&&je.ie_version<=11;let gI=null,vI=0,yI=0;function zK(t){if(!Dbe)return t.detail;let e=gI,n=yI;return gI=t,yI=Date.now(),vI=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(vI+1)%3:1}function Mbe(t,e){let n=mI(t,e),r=zK(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=mI(t,o),c,u=hI(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let d=hI(t,n.pos,n.bias,r),f=Math.min(d.from,u.from),h=Math.max(d.to,u.to);u=f<u.from?Se.range(f,h):Se.range(h,f)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=$be(i,l.pos))?c:a?i.addRange(u):Se.create([u])}}}function $be(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Se.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}fo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=Se.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",N2(t.state,s9,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};fo.dragend=t=>(t.inputState.draggedContent=null,!1);function bI(t,e,n,r){if(n=N2(t.state,o9,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&Rbe(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}fo.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&bI(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return bI(t,e,r,!0),!0}return!1};fo.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=BK?null:e.clipboardData;return n?(FK(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Tbe(t),!1)};function Nbe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Lbe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:N2(t,s9,e.join(t.lineBreak)),ranges:n,linewise:r}}let Fw=null;fo.copy=fo.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Lbe(t.state);if(!n&&!i)return!1;Fw=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=BK?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(Nbe(t,n),!1)};const qK=Rc.define();function VK(t,e){let n=[];for(let r of t.facet(kK)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:qK.of(!0)}):null}function HK(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=VK(t.state,e);n?t.dispatch(n):t.update([])}},10)}$i.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),HK(t)};$i.blur=t=>{t.observer.clearSelectionRange(),HK(t)};$i.compositionstart=$i.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};$i.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,je.chrome&&je.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};$i.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};fo.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return u9(t,{from:l,to:c,insert:t.state.toText(o)},null),!0}}let i;if(je.chrome&&je.android&&(i=LK.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return je.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),je.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>$i.compositionend(t,e),20),!1};const _I=new Set;function jbe(t){_I.has(t)||(_I.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const xI=["pre-wrap","normal","pre-line","break-spaces"];let Z0=!1;function wI(){Z0=!1}class Bbe{constructor(e){this.lineWrapping=e,this.doc=wt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return xI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let a=xI.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Fbe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Fo{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Ai.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Na?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Fo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Wt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Wt||(Wt={}));const Qm=.001;class Rr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qm&&(Z0=!0),this.height=e)}replace(e,n,r){return Rr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],f=o.lineAt(l,Wt.ByPosNoHeight,r.setDoc(n),0,0),h=f.to>=c?f:o.lineAt(c,Wt.ByPosNoHeight,r,0,0);for(d+=h.to-c,c=h.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=o.lineAt(l,Wt.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let p=d9.build(r.setDoc(s),e,u,d);o=Hg(o,o.replace(l,c,p))}return o.updateHeight(r,0)}static empty(){return new li(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new zbe(Rr.of(e.slice(0,n)),s,Rr.of(e.slice(r)))}}function Hg(t,e){return t==e?t:(t.constructor!=e.constructor&&(Z0=!0),e)}Rr.prototype.size=1;class UK extends Rr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Fo(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class li extends UK{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Fo(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof li||i instanceof Jn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Jn?i=new li(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Rr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Jn extends Rr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new Fo(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:u,length:d}=n.doc.line(o+c);return new Fo(u,d,r+a*c,a,0)}}lineAt(e,n,r,i,o){if(n==Wt.ByHeight)return this.blockAt(e,r,i,o);if(n==Wt.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(e);return new Fo(h,p-h,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-s,f=i+a*d+l*(c.from-o-d);return new Fo(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=e,d=i;u<=n;){let f=r.doc.lineAt(u);if(u==e){let p=f.number-a;d+=l*p+c*(e-o-p)}let h=l+c*f.length;s(new Fo(f.from,f.length,d,h,0)),d+=h,u=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Jn?r[r.length-1]=new Jn(o.length+i):r.push(null,new Jn(i-1))}if(e>0){let o=r[0];o instanceof Jn?r[0]=new Jn(e+o.length):r.unshift(new Jn(e-1),null)}return Rr.of(r)}decomposeLeft(e,n){n.push(new Jn(e-1),null)}decomposeRight(e,n){n.push(null,new Jn(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new Jn(i.from-n-1).updateHeight(e,n));a<=o&&i.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=Qm&&(l=-2);let f=new li(u,d);f.outdated=!1,s.push(f),a+=u+1}a<=o&&s.push(null,new Jn(o-a).updateHeight(e,a));let c=Rr.of(s);return(l<0||Math.abs(c.height-this.height)>=Qm||Math.abs(l-this.heightMetrics(e,n).perLine)>=Qm)&&(Z0=!0),Hg(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class zbe extends Rr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==Wt.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Wt.ByPosNoHeight?Wt.ByPosNoHeight:Wt.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,s),n>=l&&this.right.forEachLine(e,n,r,a,l,s);else{let c=this.lineAt(l,Wt.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&EI(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),EI(o,a)}return Rr.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Rr.of(this.break?[e,null,n]:[e,n]):(this.left=Hg(this.left,e),this.right=Hg(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function EI(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Jn&&(r=t[e+1])instanceof Jn&&t.splice(e-1,3,new Jn(n.length+1+r.length))}const qbe=5;class d9{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof li?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new li(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new UK(s,i,r)):(s||o||i>=qbe)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new li(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Jn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof li)return e;let n=new li(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof li)&&!this.isCovered?this.nodes.push(new li(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof li&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new d9(r,e);return Dt.spans(n,r,i,o,0),o.finish(r)}}function Vbe(t,e,n){let r=new Hbe;return Dt.compare(t,e,n,r,0),r.changes}class Hbe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Xm(e,n,this.changes,5)}}function Ube(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Wbe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Gbe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class H3{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return yt.replace({widget:new Kbe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Kbe extends Fu{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class SI{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=CI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(a9).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Bbe(n),this.stateDeco=e.facet(Jf).filter(r=>typeof r!="function"),this.heightMap=Rr.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle.setDoc(e.doc),[new Ti(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=yt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new E1(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?CI:new f9(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(nf(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Jf).filter(u=>typeof u!="function");let i=e.changedRanges,o=Ti.extendWithRanges(i,Vbe(r,this.stateDeco,e?e.changes:zn.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);wI(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Z0)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Q3e)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?gn.RTL:gn.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:b,scaleY:x}=tK(n,a);(b>.005&&Math.abs(this.scaleX-b)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=b,this.scaleY=x,c|=16,s=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=iK(e.scrollDOM);let p=(this.printing?Gbe:Ube)(n,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!Wbe(e.dom))return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(b)&&(s=!0),s||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:x,charWidth:w,textHeight:E}=e.docView.measureTextSize();s=x>0&&i.refresh(o,x,w,E,y/w,b),s&&(e.docView.minWidth=0,c|=16)}m>0&&g>0?u=Math.max(m,g):m<0&&g<0&&(u=Math.min(m,g)),wI();for(let x of this.viewports){let w=x.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(x);this.heightMap=(s?Rr.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle,[new Ti(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new Fbe(x.from,w))}Z0&&(c|=2)}let _=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new E1(i.lineAt(s-r*1e3,Wt.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,Wt.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,Wt.ByPos,o,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new E1(i.lineAt(f-1e3/2,Wt.ByHeight,o,0,0).from,i.lineAt(f+u+1e3/2,Wt.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new E1(this.heightMap.lineAt(r,Wt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Wt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Wt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Wt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new H3(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=gn.LTR&&!r)return[];let a=[],l=(u,d,f,h)=>{if(d-u<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>u&&v<d){l(u,v-10,f,h),l(v+10,d,f,h);return}let g=Ybe(e,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-u)<o&&Math.abs(v.to-d)<o&&!m.some(y=>v.from<y&&v.to>y));if(!g){if(d<f.to&&n&&r&&n.visibleRanges.some(_=>_.from<=d&&_.to>=d)){let _=n.moveToLineBoundary(Se.cursor(d),!1,!0).head;_>u&&(d=_)}let v=this.gapSize(f,u,d,h),y=r||v<2e6?v:2e6;g=new H3(u,d,v,y)}a.push(g)},c=u=>{if(u.length<s||u.type!=Ai.Text)return;let d=Xbe(u.from,u.to,this.stateDeco);if(d.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(f!=null){let y=C1(d,f),_=((this.visibleBottom-this.visibleTop)/2+m)/u.height;g=y-_,v=y+_}else g=(this.visibleTop-u.top-m)/u.height,v=(this.visibleBottom-u.top+m)/u.height;h=S1(d,g),p=S1(d,v)}else{let m=d.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,v=0;if(m>2e6)for(let w of e)w.from>=u.from&&w.from<u.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=w.size-w.displaySize);let y=this.pixelViewport.left+v,_=this.pixelViewport.right+v,b,x;if(f!=null){let w=C1(d,f),E=((_-y)/2+g)/m;b=w-E,x=w+E}else b=(y-g)/m,x=(_+g)/m;h=S1(d,b),p=S1(d,x)}h>u.from&&l(u.from,h,u,d),p<u.to&&l(p,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let o=C1(i,r)-C1(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){H3.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=yt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Dt.spans(n,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||nf(this.heightMap.lineAt(e,Wt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||nf(this.heightMap.lineAt(this.scaler.fromDOM(e),Wt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return nf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class E1{constructor(e,n){this.from=e,this.to=n}}function Xbe(t,e,n){let r=[],i=t,o=0;return Dt.spans(n,t,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function S1({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function C1(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Ybe(t,e){for(let n of t)if(e(n))return n}const CI={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class f9{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Wt.ByPos,e,0,0).top,u=n.lineAt(l,Wt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof f9?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function nf(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Fo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>nf(i,e)):t._content)}const k1=ze.define({combine:t=>t.join(" ")}),zw=ze.define({combine:t=>t.indexOf(!0)>-1}),qw=Ma.newName(),WK=Ma.newName(),GK=Ma.newName(),KK={"&light":"."+WK,"&dark":"."+GK};function Vw(t,e,n){return new Ma(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Qbe=Vw("."+qw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},KK),Zbe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},U3=je.ie&&je.ie_version<=11;class Jbe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new I3e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(je.ie&&je.ie_version<=11||je.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(je.chrome&&je.chrome_version<126)&&(this.editContext=new t5e(e),e.state.facet(ms)&&(e.contentDOM.editContext=this.editContext.editContext)),U3&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ms)?r.root.activeElement!=this.dom:!Km(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(je.ie&&je.ie_version<=11||je.android&&je.chrome)&&!r.state.selection.main.empty&&i.focusNode&&wf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Zf(e.root);if(!n)return!1;let r=je.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&e5e(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Km(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&M3e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Zbe),U3&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),U3&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&S0(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Km(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new vbe(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=NK(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=kI(n,e.previousSibling||e.target.previousSibling,-1),i=kI(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ms)!=e.state.facet(ms)&&(e.view.contentDOM.editContext=e.state.facet(ms)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function kI(t,e,n){for(;e;){let r=Lt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function OI(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return wf(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function e5e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return OI(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?OI(t,n):null}class t5e{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:wt.of(r.text.split(`
`))};if(c.from==this.from&&o<this.from?c.from=o:c.to==this.to&&o>this.to&&(c.to=o),c.from==c.to&&!c.insert.length){let u=Se.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((je.mac||je.android)&&c.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:wt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);u9(e,c,Se.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=this.toEditorPos(o.rangeStart),c=this.toEditorPos(o.rangeEnd);if(l<c){let u=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(yt.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:PK.of(yt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Zf(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,c)=>{if(r)return;let u=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=u,this.to+=u;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class $e{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||D3e(e.parent)||document,this.viewState=new SI(e.state||Ot.create(e)),e.scrollTo&&e.scrollTo.is(_1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Jd).map(i=>new z3(i));for(let i of this.plugins)i.update(this);this.observer=new Jbe(this),this.inputState=new wbe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new oI(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof or?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(qK))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=VK(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(Ot.phrases)!=this.state.facet(Ot.phrases))return this.setState(o);i=Vg.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:h}=f.state.selection;d=new C0(h.empty?h:Se.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of f.effects)h.is(_1)&&(d=h.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=Ug.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(ef)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(k1)!=i.state.facet(k1)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(jw))try{f(i)}catch(h){Or(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!NK(this,u)&&c.force&&S0(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new SI(e),this.plugins=e.facet(Jd).map(r=>new z3(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new oI(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Jd),r=e.state.facet(Jd);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new z3(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Or(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(iK(r))o=-1,s=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,s=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(p){return Or(this.state,p),RI}}),d=Vg.create(this,this.state,[]),f=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=RI)try{let p=c[h];p.write&&p.write(u[h],this)}catch(p){Or(this.state,p)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(jw))a(n)}get themeClasses(){return qw+" "+(this.state.facet(zw)?GK:WK)+" "+this.state.facet(k1)}updateAttrs(){let e=PI(this,AK,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ms)?"true":"false",class:"cm-content",style:`${je.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),PI(this,a9,n);let r=this.observer.ignore(()=>{let i=Dw(this.contentDOM,this.contentAttrs,n),o=Dw(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is($e.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(ef);let e=this.state.facet($e.cspNonce);Ma.mount(this.root,this.styleModules.concat(Qbe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return V3(this,e,uI(this,e,n,r))}moveByGroup(e,n){return V3(this,e,uI(this,e,n,r=>hbe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return Se.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return fbe(this,e,n,r)}moveVertically(e,n,r){return V3(this,e,pbe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),$K(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Ca.find(o,e-i.from,-1,n)];return Jh(r,s.dir==gn.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(OK)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>n5e)return bK(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||yK(o.isolates,r=iI(this,e))))return o.order;r||(r=iI(this,e));let i=K3e(e.text,n,r);return this.bidiCache.push(new Ug(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||je.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{nK(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return _1.of(new C0(typeof e=="number"?Se.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return _1.of(new C0(Se.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Qr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Qr.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ma.newName(),i=[k1.of(r),ef.of(Vw(`.${r}`,e))];return n&&n.dark&&i.push(zw.of(!0)),i}static baseTheme(e){return ju.lowest(ef.of(Vw("."+qw,e,KK)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Lt.get(r)||Lt.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}$e.styleModule=ef;$e.inputHandler=CK;$e.clipboardInputFilter=o9;$e.clipboardOutputFilter=s9;$e.scrollHandler=RK;$e.focusChangeEffect=kK;$e.perLineTextDirection=OK;$e.exceptionSink=SK;$e.updateListener=jw;$e.editable=ms;$e.mouseSelectionStyle=EK;$e.dragMovesSelection=wK;$e.clickAddsSelectionRange=xK;$e.decorations=Jf;$e.outerDecorations=TK;$e.atomicRanges=l9;$e.bidiIsolatedRanges=IK;$e.scrollMargins=DK;$e.darkTheme=zw;$e.cspNonce=ze.define({combine:t=>t.length?t[0]:""});$e.contentAttributes=a9;$e.editorAttributes=AK;$e.lineWrapping=$e.contentAttributes.of({class:"cm-lineWrapping"});$e.announce=Rt.define();const n5e=4096,RI={};class Ug{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:gn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new Ug(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function PI(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&Iw(s,n)}return n}const r5e=je.mac?"mac":je.windows?"win":je.linux?"linux":"key";function i5e(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function O1(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const o5e=ju.default($e.domEventHandlers({keydown(t,e){return c5e(s5e(e.state),t,e,"editor")}})),np=ze.define({enables:o5e}),AI=new WeakMap;function s5e(t){let e=t.facet(np),n=AI.get(e);return n||AI.set(e,n=l5e(e.reduce((r,i)=>r.concat(i),[]))),n}let ba=null;const a5e=4e3;function l5e(t,e=r5e){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var d,f;let h=n[s]||(n[s]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>i5e(v,e));for(let v=1;v<p.length;v++){let y=p.slice(0,v).join(" ");i(y,!0),h[y]||(h[y]={preventDefault:!0,stopPropagation:!1,run:[_=>{let b=ba={view:_,prefix:y,scope:s};return setTimeout(()=>{ba==b&&(ba=null)},a5e),!0}]})}let m=p.join(" ");i(m,!1);let g=h[m]||(h[m]={preventDefault:!1,stopPropagation:!1,run:((f=(d=h._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0),u&&(g.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let f in u)u[f].run.push(h=>d(h,Hw))}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}let Hw=null;function c5e(t,e,n,r){Hw=e;let i=R3e(e),o=Lo(i,0),s=ya(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;ba&&ba.view==n&&ba.scope==r&&(a=ba.prefix+" ",jK.indexOf(e.keyCode)<0&&(c=!0,ba=null));let d=new Set,f=g=>{if(g){for(let v of g.run)if(!d.has(v)&&(d.add(v),v(n)))return g.stopPropagation&&(u=!0),!0;g.preventDefault&&(g.stopPropagation&&(u=!0),c=!0)}return!1},h=t[r],p,m;return h&&(f(h[a+O1(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(je.windows&&e.ctrlKey&&e.altKey)&&(p=$a[e.keyCode])&&p!=i?(f(h[a+O1(p,e,!0)])||e.shiftKey&&(m=Qf[e.keyCode])!=i&&m!=p&&f(h[a+O1(m,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(h[a+O1(i,e,!0)])&&(l=!0),!l&&f(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),Hw=null,l}let u5e=class extends Fu{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?X0(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Jh(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}};function XK(t){let e=Qr.fromClass(class{constructor(n){this.view=n,this.placeholder=t?yt.set([yt.widget({widget:new u5e(t),side:1}).range(0)]):yt.none}get decorations(){return this.view.state.doc.length?yt.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,$e.contentAttributes.of({"aria-placeholder":t})]:e}const Ad="-10000px";class YK{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let d=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function QK(t={}){return Zm.of(t)}function d5e(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Zm=ze.define({combine:t=>{var e,n,r;return{position:je.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||d5e}}}),TI=new WeakMap,h9=Qr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Zm);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new YK(t,p9,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Zm);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Ad,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(je.gecko)n=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Ad&&o.style.left=="0px"){let s=o.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=c9(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(Zm).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=t.pos[a],f=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=Ad;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,m=f.right-f.left,g=(e=TI.get(c))!==null&&e!==void 0?e:f.bottom-f.top,v=c.offset||h5e,y=this.view.textDirection==gn.LTR,_=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(d.left-(h?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,d.left-m+(h?14:0)-v.x),r.right-m),b=this.above[a];!l.strictSide&&(b?d.top-g-p-v.y<r.top:d.bottom+g+p+v.y>r.bottom)&&b==r.bottom-d.bottom>d.top-r.top&&(b=this.above[a]=!b);let x=(b?d.top-r.top:r.bottom-d.bottom)-p;if(x<g&&c.resize!==!1){if(x<this.view.defaultLineHeight){u.style.top=Ad;continue}TI.set(c,g),u.style.height=(g=x)/o+"px"}else u.style.height&&(u.style.height="");let w=b?d.top-g-p-v.y:d.bottom+p+v.y,E=_+m;if(c.overlap!==!0)for(let S of s)S.left<E&&S.right>_&&S.top<w+g&&S.bottom>w&&(w=b?S.top-g-2-p:S.bottom+p+2);if(this.position=="absolute"?(u.style.top=(w-t.parent.top)/o+"px",II(u,(_-t.parent.left)/i)):(u.style.top=w/o+"px",II(u,_/i)),h){let S=d.left+(y?v.x:-v.x)-(_+14-7);h.style.left=S/i+"px"}c.overlap!==!0&&s.push({left:_,top:w,right:E,bottom:w+g}),u.classList.toggle("cm-tooltip-above",b),u.classList.toggle("cm-tooltip-below",!b),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Ad}},{eventObservers:{scroll(){this.maybeMeasure()}}});function II(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const f5e=$e.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),h5e={x:0,y:0},p9=ze.define({enables:[h9,f5e]}),Wg=ze.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class L2{static create(e){return new L2(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new YK(e,Wg,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const p5e=p9.compute([Wg],t=>{let e=t.facet(Wg);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:L2.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class m5e{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof Sa)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==gn.RTL?-1:1;o=n.x<a.left?-c:c}let s=this.source(e,i,o);if(s?.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Or(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(h9),n=e?e.manager.tooltips.findIndex(r=>r.create==L2.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!g5e(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!v5e(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const R1=4;function g5e(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=n-R1&&e.clientX<=r+R1&&e.clientY>=i-R1&&e.clientY<=o+R1}function v5e(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function y5e(t,e={}){let n=Rt.define(),r=yi.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,nr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(b5e)&&(i=[]);return i},provide:i=>Wg.from(i)});return{active:r,extension:[r,Qr.define(i=>new m5e(i,t,r,n,e.hoverTime||300)),p5e]}}function ZK(t,e){let n=t.plugin(h9);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const b5e=Rt.define(),DI=ze.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}}),_5e=Qr.fromClass(class{constructor(t){this.input=t.state.facet(Uw),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(DI);this.top=new P1(t,!0,e.topContainer),this.bottom=new P1(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(DI);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new P1(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new P1(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Uw);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>$e.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class P1{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=MI(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=MI(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function MI(t){let e=t.nextSibling;return t.remove(),e}const Uw=ze.define({enables:_5e});class uc extends sc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}uc.prototype.elementClass="";uc.prototype.toDOM=void 0;uc.prototype.mapMode=nr.TrackBefore;uc.prototype.startSide=uc.prototype.endSide=-1;uc.prototype.point=!0;const W3=ze.define(),x5e=ze.define(),Jm=ze.define(),$I=ze.define({combine:t=>t.some(e=>e)});function w5e(t){return[E5e]}const E5e=Qr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Jm).map(e=>new LI(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet($I),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet($I)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Dt.iter(this.view.state.facet(W3),this.view.viewport.from),r=[],i=this.gutters.map(o=>new S5e(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Ai.Text&&s){Ww(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Ai.Text){Ww(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Jm),n=t.state.facet(Jm),r=t.docChanged||t.heightChanged||t.viewportChanged||!Dt.eq(t.startState.facet(W3),t.state.facet(W3),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new LI(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>$e.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==gn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function NI(t){return Array.isArray(t)?t:[t]}function Ww(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class S5e{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Dt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let a=new JK(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];Ww(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(x5e)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class LI{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=NI(n.markers(e)),n.initialSpacer&&(this.spacer=new JK(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=NI(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Dt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class JK{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),C5e(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function C5e(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const k5e=ze.define(),O5e=ze.define(),h0=ze.define({combine(t){return D2(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class G3 extends uc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function K3(t,e){return t.state.facet(h0).formatNumber(e,t.state)}const R5e=Jm.compute([h0],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(k5e)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new G3(K3(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(O5e)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(h0)!=e.state.facet(h0),initialSpacer(e){return new G3(K3(e,jI(e.state.doc.lines)))},updateSpacer(e,n){let r=K3(n.view,jI(n.view.state.doc.lines));return r==e.number?e:new G3(r)},domEventHandlers:t.facet(h0).domEventHandlers}));function eX(t={}){return[h0.of(t),w5e(),R5e]}function jI(t){let e=9;for(;e<t;)e=e*10+9;return e}var X3;const p0=new nt;function P5e(t){return ze.define({combine:t?e=>e.concat(t):void 0})}const A5e=new nt;class eo{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ot.prototype.hasOwnProperty("tree")||Object.defineProperty(Ot.prototype,"tree",{get(){return jn(this)}}),this.parser=n,this.extension=[eu.of(this),Ot.languageData.of((o,s,a)=>{let l=BI(o,s,a),c=l.type.prop(p0);if(!c)return[];let u=o.facet(c),d=l.type.prop(A5e);if(d){let f=l.resolve(s-l.from,a);for(let h of d)if(h.test(f,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return BI(e,n,r).type.prop(p0)==this.data}findRegions(e){let n=e.facet(eu);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(p0)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(nt.mounted);if(a){if(a.tree.prop(p0)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof $t&&i(c,o.positions[l]+s)}};return i(jn(e),0),r}get allowsNesting(){return!0}}eo.setState=Rt.define();function BI(t,e,n){let r=t.facet(eu),i=jn(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,en.ExcludeBuffers))o.type.isTop&&(i=o);return i}class eh extends eo{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=P5e(e.languageData);return new eh(n,e.parser.configure({props:[p0.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new eh(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function jn(t){let e=t.field(eo.state,!1);return e?e.tree:$t.empty}class T5e{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Td=null;class Gg{constructor(e,n,r=[],i,o,s,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Gg(e,n,[],$t.empty,0,r,[],null)}startParse(){return this.parser.startParse(new T5e(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=$t.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Ps.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Ps.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Td;Td=this;try{return e()}finally{Td=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=FI(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Ps.applyChanges(r,l),i=$t.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new Gg(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=FI(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends YC{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Td;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new $t(Ln.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Td}}function FI(t,e,n){return Ps.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class J0{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new J0(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Gg.create(e.facet(eu).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new J0(r)}}eo.state=yi.define({create:J0.init,update(t,e){for(let n of e.effects)if(n.is(eo.setState))return n.value;return e.startState.facet(eu)!=e.state.facet(eu)?J0.init(e.state):t.apply(e)}});let tX=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(tX=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Y3=typeof navigator<"u"&&(!((X3=navigator.scheduling)===null||X3===void 0)&&X3.isInputPending)?()=>navigator.scheduling.isInputPending():null,I5e=Qr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(eo.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(eo.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=tX(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(eo.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Y3?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>Y3&&Y3()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:eo.setState.of(new J0(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Or(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),eu=ze.define({combine(t){return t.length?t[0]:null},enables:t=>[eo.state,I5e,$e.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class nX{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const D5e=ze.define(),j2=ze.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Kg(t){let e=t.facet(j2);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function th(t,e){let n="",r=t.tabSize,i=t.facet(j2)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function m9(t,e){t instanceof Ot&&(t=new B2(t));for(let r of t.state.facet(D5e)){let i=r(t,e);if(i!==void 0)return i}let n=jn(t.state);return n.length>=e?M5e(t,n,e):null}class B2{constructor(e,n={}){this.state=e,this.options=n,this.unit=Kg(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return M2(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const rX=new nt;function M5e(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return iX(r,t,n)}function iX(t,e,n){for(let r=t;r;r=r.next){let i=N5e(r.node);if(i)return i(g9.create(e,n,r))}return 0}function $5e(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function N5e(t){let e=t.type.prop(rX);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(nt.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>oX(s,!0,1,void 0,o&&!$5e(s)?i.from:void 0)}return t.parent==null?L5e:null}function L5e(){return 0}class g9 extends B2{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new g9(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(j5e(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return iX(this.context.next,this.base,this.pos)}}function j5e(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function B5e(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let c=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function zI({closing:t,align:e=!0,units:n=1}){return r=>oX(r,e,n,t)}function oX(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?B5e(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function Q3({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const F5e=200;function sX(){return Ot.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+F5e)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=m9(s,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],h=th(s,d);f!=h&&l.push({from:u.from,to:u.from+f.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const aX=new nt;function Sf(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Pc{constructor(e,n){this.specs=e;let r;function i(a){let l=Ma.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof eo?a=>a.prop(p0)==s.data:s?a=>a==s:void 0,this.style=EG(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Ma(r):null,this.themeType=n.themeType}static define(e,n){return new Pc(e,n||{})}}const Gw=ze.define(),z5e=ze.define({combine(t){return t.length?[t[0]]:null}});function Z3(t){let e=t.facet(Gw);return e.length?e:t.facet(z5e)}function F2(t,e){let n=[V5e],r;return t instanceof Pc&&(t.module&&n.push($e.styleModule.of(t.module)),r=t.themeType),r?n.push(Gw.computeN([$e.darkTheme],i=>i.facet($e.darkTheme)==(r=="dark")?[t]:[])):n.push(Gw.of(t)),n}class q5e{constructor(e){this.markCache=Object.create(null),this.tree=jn(e.state),this.decorations=this.buildDeco(e,Z3(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=jn(e.state),r=Z3(e.state),i=r!=Z3(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return yt.none;let r=new K0;for(let{from:i,to:o}of e.visibleRanges)J2e(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=yt.mark({class:l})))},i,o);return r.finish()}}const V5e=ju.high(Qr.fromClass(q5e,{decorations:t=>t.decorations})),H5e=$e.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),lX=1e4,cX="()[]{}",uX=ze.define({combine(t){return D2(t,{afterCursor:!0,brackets:cX,maxScanDistance:lX,renderMatch:G5e})}}),U5e=yt.mark({class:"cm-matchingBracket"}),W5e=yt.mark({class:"cm-nonmatchingBracket"});function G5e(t){let e=[],n=t.matched?U5e:W5e;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const K5e=yi.define({create(){return yt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(uX);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Ho(e.state,i.head,-1,r)||i.head>0&&Ho(e.state,i.head-1,1,r)||r.afterCursor&&(Ho(e.state,i.head,1,r)||i.head<e.state.doc.length&&Ho(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return yt.set(n,!0)},provide:t=>$e.decorations.from(t)}),X5e=[K5e,H5e];function dX(t={}){return[uX.of(t),X5e]}const Y5e=new nt;function Kw(t,e,n){let r=t.prop(e<0?nt.openedBy:nt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Xw(t){let e=t.type.prop(Y5e);return e?e(t.node):t}function Ho(t,e,n,r={}){let i=r.maxScanDistance||lX,o=r.brackets||cX,s=jn(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=Kw(l.type,n,o);if(c&&l.from<l.to){let u=Xw(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Q5e(t,e,n,l,u,c,o)}}return Z5e(t,e,n,s,a.type,i,o)}function Q5e(t,e,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a?.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let d=Xw(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Kw(u.type,n,s))c++;else if(Kw(u.type,-n,s)){if(c==0){let d=Xw(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Z5e(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=o;){let h=u.value;n<0&&(f+=h.length);let p=e+f*n;for(let m=n>0?0:h.length-1,g=n>0?h.length:-1;m!=g;m+=n){let v=s.indexOf(h[m]);if(!(v<0||r.resolveInner(p+m,1).type!=i))if(v%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};d--}}n>0&&(f+=h.length)}return u.done?{start:c,matched:!1}:null}const J5e=Object.create(null),qI=[Ln.none],VI=[],HI=Object.create(null),e4e=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])e4e[t]=t4e(J5e,e);function J3(t,e){VI.indexOf(t)>-1||(VI.push(t),console.warn(e))}function t4e(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||ne[c];u?typeof u=="function"?l.length?l=l.map(u):J3(c,`Modifier ${c} used at start of tag`):l.length?J3(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:J3(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=HI[i];if(o)return o.id;let s=HI[i]=Ln.define({id:qI.length,name:r,props:[Zh({[r]:n})]});return qI.push(s),s.id}gn.RTL,gn.LTR;class fX{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=jn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(hX(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function UI(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function n4e(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=UI(e)+UI(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function v9(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:n4e(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}class WI{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Kl(t){return t.selection.main.from}function hX(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const y9=Rc.define();function r4e(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:Se.cursor(a.from+o+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const GI=new WeakMap;function i4e(t){if(!Array.isArray(t))return t;let e=GI.get(t);return e||GI.set(t,e=v9(t)),e}const Xg=Rt.define(),nh=Rt.define();class o4e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Lo(e,n),i=ya(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(Lo(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let y=Lo(e,0),_=ya(y),b=_==e.length?0:-100;if(y!=n[0])if(y==r[0])b+=-200;else return null;return this.ret(b,[0,_])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let y=0,_=Math.min(e.length,200);y<_&&c<l;){let b=Lo(e,y);(b==n[c]||b==r[c])&&(i[c++]=y),y+=ya(b)}if(c<l)return null}let u=0,d=0,f=!1,h=0,p=-1,m=-1,g=/[a-z]/.test(e),v=!0;for(let y=0,_=Math.min(e.length,200),b=0;y<_&&d<l;){let x=Lo(e,y);a<0&&(u<l&&x==n[u]&&(o[u++]=y),h<l&&(x==n[h]||x==r[h]?(h==0&&(p=y),m=y+1,h++):h=0));let w,E=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(w=qG(x))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!y||E==1&&g||b==0&&E!=0)&&(n[d]==x||r[d]==x&&(f=!0)?s[d++]=y:s.length&&(v=!1)),b=E,y+=ya(x)}return d==l&&s[0]==0&&v?this.result(-100+(f?-200:0),s,e):h==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==l?this.ret(-900-e.length,[p,m]):d==l?this.result(-100+(f?-200:0)+-700+(v?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?ya(Lo(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class s4e{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const qn=ze.define({combine(t){return D2(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:a4e,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>KI(e(r),n(r)),optionClass:(e,n)=>r=>KI(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function KI(t,e){return t?e?t+" "+e:t:e}function a4e(t,e,n,r,i,o){let s=t.textDirection==gn.RTL,a=s,l=!1,c="top",u,d,f=e.left-i.left,h=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&f<Math.min(p,h)?a=!1:!a&&h<Math.min(p,f)&&(a=!0),p<=(a?f:h))u=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,d=Math.min(400,a?f:h);else{l=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=m||y>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let g=(e.bottom-e.top)/o.offsetHeight,v=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${u/g}px; max-width: ${d/v}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function l4e(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<o.length;){let u=o[c++],d=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function eb(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class c4e{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,a=e.state.facet(qn);this.optionContent=l4e(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=eb(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(qn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:nh.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=eb(o.length,s,e.state.facet(qn).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=eb(n.options.length,n.selected,this.view.state.facet(qn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>Or(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&d4e(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(qn).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=o&&(s>r.from||r.from==0))if(o=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let h=f(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function u4e(t,e){return n=>new c4e(n,t,e)}function d4e(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function XI(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function f4e(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(f=>f.name==d)||r.push(typeof u=="string"?{name:d}:u)}},o=e.facet(qn);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new WI(d,c.source,u?u(d):[],1e9-n.length));else{let d=e.sliceDoc(c.from,c.to),f,h=o.filterStrict?new s4e(d):new o4e(d);for(let p of c.result.options)if(f=h.match(p.label)){let m=p.displayLabel?u?u(p,f.matched):[]:f.matched;i(new WI(p,c.source,m,f.score+(p.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(f,h)=>{var p,m;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((m=h.rank)!==null&&m!==void 0?m:1e9)||(f.name<h.name?-1:1)};for(let f of r.sort(d))u-=1e5,c[f.name]=u;for(let f of n){let{section:h}=f.completion;h&&(f.score+=c[typeof h=="string"?h:h.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of n.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):XI(c.completion)>XI(a)&&(s[s.length-1]=c),a=c.completion}return s}class m0{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new m0(this.options,YI(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,s){if(i&&!s&&e.some(c=>c.isPending))return i.setDisabled();let a=f4e(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(qn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new m0(a,YI(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:y4e,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new m0(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new m0(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Yg{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Yg(g4e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(qn),o=(r.override||n.languageDataAt("autocomplete",Kl(n)).map(i4e)).map(l=>(this.active.find(u=>u.source==l)||new Ri(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,c)=>l==this.active[c])&&(o=this.active);let s=this.open,a=e.effects.some(l=>l.is(b9));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!h4e(o,this.active)||a?s=m0.build(o,n,this.id,s,r,a):s&&s.disabled&&!o.some(l=>l.isPending)&&(s=null),!s&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new Ri(l.source,0):l));for(let l of e.effects)l.is(mX)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new Yg(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?p4e:m4e}}function h4e(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const p4e={"aria-autocomplete":"list"},m4e={};function YI(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const g4e=[];function pX(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(y9);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ri{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=pX(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ri(i.source,0)),r&4&&i.state==0&&(i=new Ri(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(Xg))i=new Ri(i.source,1,o.value);else if(o.is(nh))i=new Ri(i.source,0);else if(o.is(b9))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Kl(e.state))}}class k0 extends Ri{constructor(e,n,r,i,o,s){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Kl(e.state);if(a>s||!i||n&2&&(Kl(e.startState)==this.from||a<this.limit))return new Ri(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return v4e(i.validFor,e.state,o,s)?new k0(this.source,this.explicit,l,i,o,s):i.update&&(i=i.update(i,o,s,new fX(e.state,a,!1)))?new k0(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Kl(e.state)):new Ri(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new k0(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ri(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function v4e(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):hX(t,!0).test(i)}const b9=Rt.define({map(t,e){return t.map(n=>n.map(e))}}),mX=Rt.define(),Hr=yi.define({create(){return Yg.start()},update(t,e){return t.update(e)},provide:t=>[p9.from(t,e=>e.tooltip),$e.contentAttributes.from(t,e=>e.attrs)]});function _9(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Hr).active.find(i=>i.source==e.source);return r instanceof k0?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},r4e(t.state,n,r.from,r.to)),{annotations:y9.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const y4e=u4e(Hr,_9);function A1(t,e="option"){return n=>{let r=n.state.field(Hr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(qn).interactionDelay)return!1;let i=1,o;e=="page"&&(o=ZK(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:mX.of(a)}),!0}}const b4e=t=>{let e=t.state.field(Hr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(qn).interactionDelay?!1:_9(t,e.open.options[e.open.selected])},QI=t=>t.state.field(Hr,!1)?(t.dispatch({effects:Xg.of(!0)}),!0):!1,_4e=t=>{let e=t.state.field(Hr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:nh.of(null)}),!0)};class x4e{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const w4e=50,E4e=1e3,S4e=Qr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Hr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Hr),n=t.state.facet(qn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Hr)==e)return;let r=t.transactions.some(o=>{let s=pX(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>w4e&&Date.now()-s.time>E4e){for(let a of s.context.abortListeners)try{a()}catch(l){Or(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(Xg)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Hr);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Kl(e),r=new fX(e,n,t.explicit,this.view),i=new x4e(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:nh.of(null)}),Or(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(qn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(qn),r=this.view.state.field(Hr);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=Kl(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(a,o.done.from+(o.active.explicit?0:1)),c=new k0(o.active.source,o.active.explicit,l,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:a);for(let u of o.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new Ri(o.active.source,0);for(let l of o.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:b9.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Hr,!1);if(e&&e.tooltip&&this.view.state.facet(qn).closeOnBlur){let n=e.open&&ZK(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:nh.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Xg.of(!1)}),20),this.composing=0}}}),C4e=typeof navigator=="object"&&/Win/.test(navigator.platform),k4e=ju.highest($e.domEventHandlers({keydown(t,e){let n=e.state.field(Hr,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(C4e&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&_9(e,r),!1}})),gX=$e.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"¬∑¬∑¬∑"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'∆í'"}},".cm-completionIcon-class":{"&:after":{content:"'‚óã'"}},".cm-completionIcon-interface":{"&:after":{content:"'‚óå'"}},".cm-completionIcon-variable":{"&:after":{content:"'ùë•'"}},".cm-completionIcon-constant":{"&:after":{content:"'ùê∂'"}},".cm-completionIcon-type":{"&:after":{content:"'ùë°'"}},".cm-completionIcon-enum":{"&:after":{content:"'‚à™'"}},".cm-completionIcon-property":{"&:after":{content:"'‚ñ°'"}},".cm-completionIcon-keyword":{"&:after":{content:"'üîëÔ∏é'"}},".cm-completionIcon-namespace":{"&:after":{content:"'‚ñ¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class O4e{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class x9{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,nr.TrackDel),r=e.mapPos(this.to,1,nr.TrackDel);return n==null||r==null?null:new x9(this.field,n,r)}}class w9{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=s,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(j2);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new x9(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],o;for(let s of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1,u=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(a!=null?n[d].seq==a:u&&n[d].name==u)&&(c=d);if(c<0){let d=0;for(;d<n.length&&(a==null||n[d].seq!=null&&n[d].seq<a);)d++;n.splice(d,0,{seq:a,name:u}),c=d;for(let f of i)f.field>=c&&f.field++}i.push(new O4e(c,r.length,o.index,o.index+u.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}s=s.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(s)}return new w9(r,i)}}let R4e=yt.widget({widget:new class extends Fu{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),P4e=yt.mark({class:"cm-snippetField"});class zu{constructor(e,n){this.ranges=e,this.active=n,this.deco=yt.set(e.map(r=>(r.from==r.to?R4e:P4e).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new zu(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const rp=Rt.define({map(t,e){return t&&t.map(e)}}),A4e=Rt.define(),rh=yi.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(rp))return n.value;if(n.is(A4e)&&t)return new zu(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>$e.decorations.from(t,e=>e?e.deco:yt.none)});function E9(t,e){return Se.create(t.filter(n=>n.field==e).map(n=>Se.range(n.from,n.to)))}function T4e(t){let e=w9.parse(t);return(n,r,i,o)=>{let{text:s,ranges:a}=e.instantiate(n.state,i),{main:l}=n.state.selection,c={changes:{from:i,to:o==l.from?l.to:o,insert:wt.of(s)},scrollIntoView:!0,annotations:r?[y9.of(r),or.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=E9(a,0)),a.some(u=>u.field>0)){let u=new zu(a,0),d=c.effects=[rp.of(u)];n.state.field(rh,!1)===void 0&&d.push(Rt.appendConfig.of([rh,N4e,L4e,gX]))}n.dispatch(n.state.update(c))}}function vX(t){return({state:e,dispatch:n})=>{let r=e.field(rh,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(s=>s.field==i+t);return n(e.update({selection:E9(r.ranges,i),effects:rp.of(o?null:new zu(r.ranges,i)),scrollIntoView:!0})),!0}}const I4e=({state:t,dispatch:e})=>t.field(rh,!1)?(e(t.update({effects:rp.of(null)})),!0):!1,D4e=vX(1),M4e=vX(-1),$4e=[{key:"Tab",run:D4e,shift:M4e},{key:"Escape",run:I4e}],ZI=ze.define({combine(t){return t.length?t[0]:$4e}}),N4e=ju.highest(np.compute([ZI],t=>t.facet(ZI)));function Io(t,e){return Object.assign(Object.assign({},e),{apply:T4e(t)})}const L4e=$e.domEventHandlers({mousedown(t,e){let n=e.state.field(rh,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:E9(n.ranges,i.field),effects:rp.of(n.ranges.some(o=>o.field>i.field)?new zu(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Qg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},jl=Rt.define({map(t,e){let n=e.mapPos(t,-1,nr.TrackAfter);return n??void 0}}),S9=new class extends sc{};S9.startSide=1;S9.endSide=-1;const yX=yi.define({create(){return Dt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(jl)&&(t=t.update({add:[S9.range(n.value,n.value+1)]}));return t}});function bX(){return[z4e,yX]}const tb="()[]{}<>¬´¬ª¬ª¬´ÔºªÔºΩÔΩõÔΩù";function j4e(t){for(let e=0;e<tb.length;e+=2)if(tb.charCodeAt(e)==t)return tb.charAt(e+1);return qG(t<128?t:t+1)}function B4e(t,e){return t.languageDataAt("closeBrackets",e)[0]||Qg}const F4e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),z4e=$e.inputHandler.of((t,e,n,r)=>{if((F4e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ya(Lo(r,0))==1||e!=i.from||n!=i.to)return!1;let o=q4e(t.state,r);return o?(t.dispatch(o),!0):!1});function q4e(t,e){let n=B4e(t,t.selection.main.head),r=n.brackets||Qg.brackets;for(let i of r){let o=j4e(Lo(i,0));if(e==i)return o==i?U4e(t,i,r.indexOf(i+i+i)>-1,n):V4e(t,i,o,n.before||Qg.before);if(e==o&&_X(t,t.selection.main.from))return H4e(t,i,o)}return null}function _X(t,e){let n=!1;return t.field(yX).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function C9(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ya(Lo(n,0)))}function V4e(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:jl.of(s.to+e.length),range:Se.range(s.anchor+e.length,s.head+e.length)};let a=C9(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:jl.of(s.head+e.length),range:Se.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function H4e(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&C9(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Se.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function U4e(t,e,n,r){let i=r.stringPrefixes||Qg.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:jl.of(a.to+e.length),range:Se.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=C9(t.doc,l),u;if(c==e){if(JI(t,l))return{changes:{insert:e+e,from:l},effects:jl.of(l+e.length),range:Se.cursor(l+e.length)};if(_X(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Se.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=eD(t,l-2*e.length,i))>-1&&JI(t,u))return{changes:{insert:e+e+e+e,from:l},effects:jl.of(l+e.length),range:Se.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Oi.Word&&eD(t,l,i)>-1&&!W4e(t,l,e,i))return{changes:{insert:e+e,from:l},effects:jl.of(l+e.length),range:Se.cursor(l+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function JI(t,e){let n=jn(t).resolveInner(e+1);return n.parent&&n.from==e}function W4e(t,e,n,r){let i=jn(t).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function eD(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Oi.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=Oi.Word)return o}return-1}function G4e(t={}){return[k4e,Hr,qn.of(t),S4e,X4e,gX]}const K4e=[{key:"Ctrl-Space",run:QI},{mac:"Alt-`",run:QI},{key:"Escape",run:_4e},{key:"ArrowDown",run:A1(!0)},{key:"ArrowUp",run:A1(!1)},{key:"PageDown",run:A1(!0,"page")},{key:"PageUp",run:A1(!1,"page")},{key:"Enter",run:b4e}],X4e=ju.highest(np.computeN([qn],t=>t.facet(qn).defaultKeymap?[K4e]:[])),Y4e=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=O9(t.state,n.from);return r.line?Q4e(t):r.block?J4e(t):!1};function k9(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Q4e=k9(n6e,0),Z4e=k9(xX,0),J4e=k9((t,e)=>xX(t,e,t6e(e)),0);function O9(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Id=50;function e6e(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Id,r),s=t.sliceDoc(i,i+Id),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*Id?u=d=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Id),d=t.sliceDoc(i-Id,i));let f=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(d)[0].length,p=d.length-h-n.length;return u.slice(f,f+e.length)==e&&d.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(d.charAt(p-1))?1:0}}:null}function t6e(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function xX(t,e,n=e.selection.ranges){let r=n.map(o=>O9(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>e6e(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function n6e(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,c=O9(e,o).line;if(c){for(let u=o;u<=s;){let d=e.doc.lineAt(u);if(d.from>i&&(o==s||s>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,h=f==d.length,p=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:p,token:c,indent:f,empty:h,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}function qu(t,e){return Se.create(t.ranges.map(e),t.mainIndex)}function ns(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function bo({state:t,dispatch:e},n){let r=qu(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ns(t,r)),!0)}function z2(t,e){return Se.cursor(e?t.to:t.from)}function wX(t,e){return bo(t,n=>n.empty?t.moveByChar(n,e):z2(n,e))}function Sr(t){return t.textDirectionAt(t.state.selection.main.head)==gn.LTR}const EX=t=>wX(t,!Sr(t)),SX=t=>wX(t,Sr(t));function CX(t,e){return bo(t,n=>n.empty?t.moveByGroup(n,e):z2(n,e))}const r6e=t=>CX(t,!Sr(t)),i6e=t=>CX(t,Sr(t));function o6e(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function q2(t,e,n){let r=jn(t).resolveInner(e.head),i=n?nt.closedBy:nt.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;o6e(t,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=n?Ho(t,r.from,1):Ho(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,Se.cursor(a,n?-1:1)}const s6e=t=>bo(t,e=>q2(t.state,e,!Sr(t))),a6e=t=>bo(t,e=>q2(t.state,e,Sr(t)));function kX(t,e){return bo(t,n=>{if(!n.empty)return z2(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const OX=t=>kX(t,!1),RX=t=>kX(t,!0);function PX(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet($e.scrollMargins)){let s=o(t);s?.top&&(n=Math.max(s?.top,n)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function AX(t,e){let n=PX(t),{state:r}=t,i=qu(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):z2(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=$e.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch(ns(r,i),{effects:o}),!0}const tD=t=>AX(t,!1),Yw=t=>AX(t,!0);function il(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Se.cursor(r.from+o))}return i}const l6e=t=>bo(t,e=>il(t,e,!0)),c6e=t=>bo(t,e=>il(t,e,!1)),u6e=t=>bo(t,e=>il(t,e,!Sr(t))),d6e=t=>bo(t,e=>il(t,e,Sr(t))),f6e=t=>bo(t,e=>Se.cursor(t.lineBlockAt(e.head).from,1)),h6e=t=>bo(t,e=>Se.cursor(t.lineBlockAt(e.head).to,-1));function p6e(t,e,n){let r=!1,i=qu(t.selection,o=>{let s=Ho(t,o.head,-1)||Ho(t,o.head,1)||o.head>0&&Ho(t,o.head-1,1)||o.head<t.doc.length&&Ho(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return Se.cursor(a)});return r?(e(ns(t,i)),!0):!1}const m6e=({state:t,dispatch:e})=>p6e(t,e);function Gi(t,e){let n=qu(t.state.selection,r=>{let i=e(r);return Se.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ns(t.state,n)),!0)}function TX(t,e){return Gi(t,n=>t.moveByChar(n,e))}const IX=t=>TX(t,!Sr(t)),DX=t=>TX(t,Sr(t));function MX(t,e){return Gi(t,n=>t.moveByGroup(n,e))}const g6e=t=>MX(t,!Sr(t)),v6e=t=>MX(t,Sr(t)),y6e=t=>Gi(t,e=>q2(t.state,e,!Sr(t))),b6e=t=>Gi(t,e=>q2(t.state,e,Sr(t)));function $X(t,e){return Gi(t,n=>t.moveVertically(n,e))}const NX=t=>$X(t,!1),LX=t=>$X(t,!0);function jX(t,e){return Gi(t,n=>t.moveVertically(n,e,PX(t).height))}const nD=t=>jX(t,!1),rD=t=>jX(t,!0),_6e=t=>Gi(t,e=>il(t,e,!0)),x6e=t=>Gi(t,e=>il(t,e,!1)),w6e=t=>Gi(t,e=>il(t,e,!Sr(t))),E6e=t=>Gi(t,e=>il(t,e,Sr(t))),S6e=t=>Gi(t,e=>Se.cursor(t.lineBlockAt(e.head).from)),C6e=t=>Gi(t,e=>Se.cursor(t.lineBlockAt(e.head).to)),iD=({state:t,dispatch:e})=>(e(ns(t,{anchor:0})),!0),oD=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.doc.length})),!0),sD=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.selection.main.anchor,head:0})),!0),aD=({state:t,dispatch:e})=>(e(ns(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),k6e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),O6e=({state:t,dispatch:e})=>{let n=V2(t).map(({from:r,to:i})=>Se.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Se.create(n),userEvent:"select"})),!0},R6e=({state:t,dispatch:e})=>{let n=qu(t.selection,r=>{let i=jn(t),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return Se.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(ns(t,n)),!0)},P6e=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Se.create([n.main]):n.main.empty||(r=Se.create([Se.cursor(n.main.head)])),r?(e(ns(t,r)),!0):!1};function ip(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(n="delete.backward",l=T1(t,l,!1)):l>s&&(n="delete.forward",l=T1(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=T1(t,s,!1),a=T1(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:Se.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?$e.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function T1(t,e,n){if(t instanceof $e)for(let r of t.state.facet($e.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const BX=(t,e,n)=>ip(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),a,l;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let c=M2(a,o.tabSize),u=c%Kg(o)||Kg(o);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=kr(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=kr(s.text,l-s.from,!1,!1)+s.from);return l}),Qw=t=>BX(t,!1,!0),FX=t=>BX(t,!0,!1),zX=(t,e)=>ip(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=kr(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),qX=t=>zX(t,!1),A6e=t=>zX(t,!0),T6e=t=>ip(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),I6e=t=>ip(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),D6e=t=>ip(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),M6e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:wt.of(["",""])},range:Se.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},$6e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:kr(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:kr(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(s,i))},range:Se.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function V2(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function VX(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of V2(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let l of o.ranges)i.push(Se.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let l of o.ranges)i.push(Se.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Se.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const N6e=({state:t,dispatch:e})=>VX(t,e,!1),L6e=({state:t,dispatch:e})=>VX(t,e,!0);function HX(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of V2(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const j6e=({state:t,dispatch:e})=>HX(t,e,!1),B6e=({state:t,dispatch:e})=>HX(t,e,!0),F6e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(V2(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=qu(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function z6e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=jn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(nt.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const lD=UX(!1),q6e=UX(!0);function UX(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!t&&o==s&&z6e(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new B2(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=m9(c,o);for(u==null&&(u=M2(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let d=["",th(e,u)];return l&&d.push(th(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:wt.of(d)},range:Se.cursor(o+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function R9(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),s=a.to+1}let o=t.changes(i);return{changes:i,range:Se.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const V6e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new B2(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=R9(t,(o,s,a)=>{let l=m9(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=th(t,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},H6e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(R9(t,(n,r)=>{r.push({from:n.from,insert:t.facet(j2)})}),{userEvent:"input.indent"})),!0),U6e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(R9(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=M2(i,t.tabSize),s=0,a=th(t,Math.max(0,o-Kg(t)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),W6e=t=>(t.setTabFocusMode(),!0),G6e=[{key:"Ctrl-b",run:EX,shift:IX,preventDefault:!0},{key:"Ctrl-f",run:SX,shift:DX},{key:"Ctrl-p",run:OX,shift:NX},{key:"Ctrl-n",run:RX,shift:LX},{key:"Ctrl-a",run:f6e,shift:S6e},{key:"Ctrl-e",run:h6e,shift:C6e},{key:"Ctrl-d",run:FX},{key:"Ctrl-h",run:Qw},{key:"Ctrl-k",run:T6e},{key:"Ctrl-Alt-h",run:qX},{key:"Ctrl-o",run:M6e},{key:"Ctrl-t",run:$6e},{key:"Ctrl-v",run:Yw}],K6e=[{key:"ArrowLeft",run:EX,shift:IX,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:r6e,shift:g6e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:u6e,shift:w6e,preventDefault:!0},{key:"ArrowRight",run:SX,shift:DX,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:i6e,shift:v6e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:d6e,shift:E6e,preventDefault:!0},{key:"ArrowUp",run:OX,shift:NX,preventDefault:!0},{mac:"Cmd-ArrowUp",run:iD,shift:sD},{mac:"Ctrl-ArrowUp",run:tD,shift:nD},{key:"ArrowDown",run:RX,shift:LX,preventDefault:!0},{mac:"Cmd-ArrowDown",run:oD,shift:aD},{mac:"Ctrl-ArrowDown",run:Yw,shift:rD},{key:"PageUp",run:tD,shift:nD},{key:"PageDown",run:Yw,shift:rD},{key:"Home",run:c6e,shift:x6e,preventDefault:!0},{key:"Mod-Home",run:iD,shift:sD},{key:"End",run:l6e,shift:_6e,preventDefault:!0},{key:"Mod-End",run:oD,shift:aD},{key:"Enter",run:lD,shift:lD},{key:"Mod-a",run:k6e},{key:"Backspace",run:Qw,shift:Qw},{key:"Delete",run:FX},{key:"Mod-Backspace",mac:"Alt-Backspace",run:qX},{key:"Mod-Delete",mac:"Alt-Delete",run:A6e},{mac:"Mod-Backspace",run:I6e},{mac:"Mod-Delete",run:D6e}].concat(G6e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),WX=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:s6e,shift:y6e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:a6e,shift:b6e},{key:"Alt-ArrowUp",run:N6e},{key:"Shift-Alt-ArrowUp",run:j6e},{key:"Alt-ArrowDown",run:L6e},{key:"Shift-Alt-ArrowDown",run:B6e},{key:"Escape",run:P6e},{key:"Mod-Enter",run:q6e},{key:"Alt-l",mac:"Ctrl-l",run:O6e},{key:"Mod-i",run:R6e,preventDefault:!0},{key:"Mod-[",run:U6e},{key:"Mod-]",run:H6e},{key:"Mod-Alt-\\",run:V6e},{key:"Shift-Mod-k",run:F6e},{key:"Shift-Mod-\\",run:m6e},{key:"Mod-/",run:Y4e},{key:"Alt-A",run:Z4e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:W6e}].concat(K6e);function zo(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)GX(t,arguments[e]);return t}function GX(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)GX(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}class cD{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Tl{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Uo).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((u,d)=>u.from-d.from||u.to-d.to),s=new K0,a=[],l=0;for(let u=0;;){let d=u==o.length?null:o[u];if(!d&&!a.length)break;let f,h;for(a.length?(f=l,h=a.reduce((m,g)=>Math.min(m,g.to),d&&d.from>f?d.from:1e8)):(f=d.from,h=d.to,a.push(d),u++);u<o.length;){let m=o[u];if(m.from==f&&(m.to>m.from||m.to==f))a.push(m),u++,h=Math.min(m.to,h);else{h=Math.min(m.from,h);break}}let p=a_e(a);if(a.some(m=>m.from==m.to||m.from==m.to-1&&r.doc.lineAt(m.from).to==m.from))s.add(f,f,yt.widget({widget:new r_e(p),diagnostics:a.slice()}));else{let m=a.reduce((g,v)=>v.markClass?g+" "+v.markClass:g,"");s.add(f,h,yt.mark({class:"cm-lintRange cm-lintRange-"+p+m,diagnostics:a.slice(),inclusiveEnd:a.some(g=>g.to>h)}))}l=h;for(let m=0;m<a.length;m++)a[m].to<=l&&a.splice(m--,1)}let c=s.finish();return new Tl(c,n,tu(c))}}function tu(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new cD(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new cD(r.from,o,r.diagnostic)}}),r}function X6e(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Uo).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(op))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function Y6e(t,e){return t.field(to,!1)?e:e.concat(Rt.appendConfig.of(JX))}function Q6e(t,e){return{effects:Y6e(t,[op.of(e)])}}const op=Rt.define(),KX=Rt.define(),XX=Rt.define(),to=yi.define({create(){return new Tl(yt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=tu(n,t.selected.diagnostic,o)||tu(n,null,o)}!n.size&&i&&e.state.facet(Uo).autoPanel&&(i=null),t=new Tl(n,i,r)}for(let n of e.effects)if(n.is(op)){let r=e.state.facet(Uo).autoPanel?n.value.length?Zg.open:null:t.panel;t=Tl.init(n.value,r,e.state)}else n.is(KX)?t=new Tl(t.diagnostics,n.value?Zg.open:null,t.selected):n.is(XX)&&(t=new Tl(t.diagnostics,t.panel,n.value));return t},provide:t=>[Uw.from(t,e=>e.panel),$e.decorations.from(t,e=>e.diagnostics)]}),Z6e=yt.mark({class:"cm-lintRange cm-lintRange-active"});function J6e(t,e,n){let{diagnostics:r}=t.state.field(to),i,o=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=u.diagnostics,o=l,s=c,!1});let a=t.state.facet(Uo).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:e_e(t,i)}}}:null}function e_e(t,e){return zo("ul",{class:"cm-tooltip-lint"},e.map(n=>ZX(t,n,!1)))}const uD=t=>{let e=t.state.field(to,!1);return!e||!e.panel?!1:(t.dispatch({effects:KX.of(!1)}),!0)},t_e=Qr.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Uo);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Uo);n.length&&n_e(n.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(Q6e(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{Or(this.view.state,r)})}}update(t){let e=t.state.facet(Uo);(t.docChanged||e!=t.startState.facet(Uo)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function n_e(t,e,n){let r=[],i=-1;for(let o of t)o.then(s=>{r.push(s),clearTimeout(i),r.length==t.length?e(r):i=setTimeout(()=>e(r),200)},n)}const Uo=ze.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},D2(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function YX(t,e={}){return[Uo.of({source:t,config:e}),t_e,JX]}function QX(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function ZX(t,e,n){var r;let i=n?QX(e.actions):[];return zo("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},zo("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let h=tu(t.state.field(to).diagnostics,e);h&&o.apply(t,h.from,h.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,d=u<0?c:[c.slice(0,u),zo("u",c.slice(u,u+1)),c.slice(u+1)];return zo("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},d)}),e.source&&zo("div",{class:"cm-diagnosticSource"},e.source))}class r_e extends Fu{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return zo("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class dD{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=ZX(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Zg{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)uD(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=QX(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=tu(this.view.state.field(to).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=zo("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=zo("div",{class:"cm-panel-lint"},this.list,zo("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>uD(this.view)},"√ó")),this.update()}get selectedIndex(){let e=this.view.state.field(to).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(to),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(s.has(u))continue;s.add(u);let d=-1,f;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==u){d=h;break}d<0?(f=new dD(this.view,u),this.items.splice(r,0,f),i=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),o=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new dD(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(to),r=tu(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:XX.of(r)})}static open(e){return new Zg(e)}}function i_e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function I1(t){return i_e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const o_e=$e.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:I1("#d11")},".cm-lintRange-warning":{backgroundImage:I1("orange")},".cm-lintRange-info":{backgroundImage:I1("#999")},".cm-lintRange-hint":{backgroundImage:I1("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function s_e(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function a_e(t){let e="hint",n=1;for(let r of t){let i=s_e(r.severity);i>n&&(n=i,e=r.severity)}return e}const JX=[to,$e.decorations.compute([to],t=>{let{selected:e,panel:n}=t.field(to);return!e||!n||e.from==e.to?yt.none:yt.set([Z6e.range(e.from,e.to)])}),y5e(J6e,{hideOn:X6e}),o_e];class Jg{static create(e,n,r,i,o){let s=i+(i<<8)+e+(n<<4)|0;return new Jg(e,n,r,s,o,[],[])}constructor(e,n,r,i,o,s,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=o,this.children=s,this.positions=a,this.hashProp=[[nt.contextHash,i]]}addChild(e,n){e.prop(nt.contextHash)!=this.hash&&(e=new $t(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new $t(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,o,s)=>new $t(Ln.none,i,o,s,this.hashProp)})}}var Ae;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Ae||(Ae={}));class l_e{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class c_e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Cf(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function fD(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Ae.OrderedList?T9:A9)(n,e,!1);return r>0&&(t.type!=Ae.BulletList||P9(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const eY={[Ae.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(_t(Ae.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(_o(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Ae.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Ae.OrderedList]:fD,[Ae.BulletList]:fD,[Ae.Document](){return!0}};function _o(t){return t==32||t==9||t==10||t==13}function Cf(t,e=0){for(;e<t.length&&_o(t.charCodeAt(e));)e++;return e}function hD(t,e,n){for(;e>n&&_o(t.charCodeAt(e-1));)e--;return e}function tY(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function nY(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function P9(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let o=t.text.charCodeAt(i);if(o==t.next)r++;else if(!_o(o))return-1}return n&&t.next==45&&oY(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(cY.SetextHeading)>-1||r<3?-1:1}function rY(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function A9(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||_o(t.text.charCodeAt(t.pos+1)))&&(!n||rY(e,Ae.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function T9(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!_o(t.text.charCodeAt(r+1))||n&&!rY(e,Ae.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function iY(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function oY(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&_o(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const Zw=/^[ \t]*$/,sY=/-->/,aY=/\?>/,Jw=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,sY],[/^\s*<\?/,aY],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Zw],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Zw]];function lY(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,o=Jw.length-(n?1:0);i<o;i++)if(Jw[i][0].test(r))return i;return-1}function pD(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function vl(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Ae.CodeText?t[r].to=n:t.push(_t(Ae.CodeText,e,n))}const D1={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,o=t.lineStart+e.text.length,s=[],a=[];for(vl(s,i,o);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){vl(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let c of a)c.type==Ae.CodeText?vl(s,c.from,c.to):s.push(c);a=[]}vl(s,t.lineStart-1,t.lineStart);for(let c of e.markers)s.push(c);o=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<o&&vl(s,l,o)}}return a.length&&(a=a.filter(l=>l.type!=Ae.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(s,-i).finish(Ae.CodeBlock,o-i),i),!0},FencedCode(t,e){let n=tY(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,o=n-e.pos,s=e.skipSpace(n),a=hD(e.text,e.text.length,s),l=[_t(Ae.CodeMark,r,r+o)];s<a&&l.push(_t(Ae.CodeInfo,t.lineStart+s,t.lineStart+a));for(let c=!0;t.nextLine()&&e.depth>=t.stack.length;c=!1){let u=e.pos;if(e.indent-e.baseIndent<4)for(;u<e.text.length&&e.text.charCodeAt(u)==i;)u++;if(u-e.pos>=o&&e.skipSpace(u)==e.text.length){for(let d of e.markers)l.push(d);l.push(_t(Ae.CodeMark,t.lineStart+e.pos,t.lineStart+u)),t.nextLine();break}else{c||vl(l,t.lineStart-1,t.lineStart);for(let h of e.markers)l.push(h);let d=t.lineStart+e.basePos,f=t.lineStart+e.text.length;d<f&&vl(l,d,f)}}return t.addNode(t.buffer.writeElements(l,-r).finish(Ae.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=nY(e);return n<0?!1:(t.startContext(Ae.Blockquote,e.pos),t.addNode(Ae.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(P9(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Ae.HorizontalRule,n),!0},BulletList(t,e){let n=A9(e,t,!1);if(n<0)return!1;t.block.type!=Ae.BulletList&&t.startContext(Ae.BulletList,e.basePos,e.next);let r=pD(e,e.pos+1);return t.startContext(Ae.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ae.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=T9(e,t,!1);if(n<0)return!1;t.block.type!=Ae.OrderedList&&t.startContext(Ae.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=pD(e,e.pos+n);return t.startContext(Ae.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ae.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=iY(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,o=hD(e.text,e.text.length,r),s=o;for(;s>r&&e.text.charCodeAt(s-1)==e.next;)s--;(s==o||s==r||!_o(e.text.charCodeAt(s-1)))&&(s=e.text.length);let a=t.buffer.write(Ae.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,s),i+n+1),-i);s<e.text.length&&a.write(Ae.HeaderMark,s-r,o-r);let l=a.finish(Ae.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=lY(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=Jw[n][1],o=[],s=i!=Zw;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){s=!1;break}for(let c of e.markers)o.push(c)}s&&t.nextLine();let a=i==sY?Ae.CommentBlock:i==aY?Ae.ProcessingInstructionBlock:Ae.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(o,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class u_e{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(e,r,o):!1}finish(e,n){return(this.stage==2||this.stage==3)&&Cf(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,_t(Ae.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(yY(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(_t(Ae.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(gY(e,Cf(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=Cf(e,this.pos),r=0;if(n>this.pos){let i=vY(e,n,this.start);if(i){let o=nb(e,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=nb(e,this.pos)),r>0&&r<e.length?r:-1}else return nb(e,this.pos)}}}function nb(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!_o(n))return-1}return e}class d_e{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:oY(n),o=n.next;if(i<0)return!1;let s=_t(Ae.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,_t(o==61?Ae.SetextHeading1:Ae.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),s])),!0}finish(){return!1}}const cY={LinkReference(t,e){return e.content.charCodeAt(0)==91?new u_e(e):null},SetextHeading(){return new d_e}},f_e=[(t,e)=>iY(e)>=0,(t,e)=>tY(e)>=0,(t,e)=>nY(e)>=0,(t,e)=>A9(e,t,!0)>=0,(t,e)=>T9(e,t,!0)>=0,(t,e)=>P9(e,t,!0)>=0,(t,e)=>lY(e,t,!0)>=0],h_e={text:"",end:0};class p_e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new c_e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=Jg.create(Ae.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new y_e(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let o=e.markers[r++];this.addNode(o.type,o.from,o.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new l_e(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=bY(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=h_e;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let o=this.ranges[i].from,s=this.lineChunkAt(o);n.end=o+s.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+s,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+Ae[i.type]);if(!o(i,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=Jg.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new $t(this.parser.nodeSet.types[e],nu,nu,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(r8(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?uY(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=r8(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Ae.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?_t(this.parser.getNodeType(e),n,r,i):new hY(e,n)}get buffer(){return new fY(this.parser.nodeSet)}}function uY(t,e,n,r,i){let o=t[e].to,s=[],a=[],l=n.from+r;function c(u,d){for(;d?u>=o:u>o;){let f=t[e+1].from-o;r+=f,u+=f,e++,o=t[e].to}}for(let u=n.firstChild;u;u=u.nextSibling){c(u.from+r,!0);let d=u.from+r,f,h=i.get(u.tree);h?f=h:u.to+r>o?(f=uY(t,e,u,r,i),c(u.to+r,!1)):f=u.toTree(),s.push(f),a.push(d-l)}return c(n.to+r,!1),new $t(n.type,s,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class I9 extends YC{constructor(e,n,r,i,o,s,a,l,c){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=s,this.inlineParsers=a,this.inlineNames=l,this.wrappers=c,this.nodeTypes=Object.create(null);for(let u of e.types)this.nodeTypes[u.name]=u.id}createParse(e,n,r){let i=new p_e(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}configure(e){let n=e8(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),s=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),u=this.endLeafBlock.slice(),d=this.wrappers;if(Dd(n.defineNodes)){i=Object.assign({},i);let f=r.types.slice(),h;for(let p of n.defineNodes){let{name:m,block:g,composite:v,style:y}=typeof p=="string"?{name:p}:p;if(f.some(x=>x.name==m))continue;v&&(i[f.length]=(x,w,E)=>v(w,E,x.value));let _=f.length,b=v?["Block","BlockContext"]:g?_>=Ae.ATXHeading1&&_<=Ae.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;f.push(Ln.define({id:_,name:m,props:b&&[[nt.group,b]]})),y&&(h||(h={}),Array.isArray(y)||y instanceof ci?h[m]=y:Object.assign(h,y))}r=new Qh(f),h&&(r=r.extend(Zh(h)))}if(Dd(n.props)&&(r=r.extend(...n.props)),Dd(n.remove))for(let f of n.remove){let h=this.blockNames.indexOf(f),p=this.inlineNames.indexOf(f);h>-1&&(o[h]=s[h]=void 0),p>-1&&(l[p]=void 0)}if(Dd(n.parseBlock))for(let f of n.parseBlock){let h=a.indexOf(f.name);if(h>-1)o[h]=f.parse,s[h]=f.leaf;else{let p=f.before?M1(a,f.before):f.after?M1(a,f.after)+1:a.length-1;o.splice(p,0,f.parse),s.splice(p,0,f.leaf),a.splice(p,0,f.name)}f.endLeaf&&u.push(f.endLeaf)}if(Dd(n.parseInline))for(let f of n.parseInline){let h=c.indexOf(f.name);if(h>-1)l[h]=f.parse;else{let p=f.before?M1(c,f.before):f.after?M1(c,f.after)+1:c.length-1;l.splice(p,0,f.parse),c.splice(p,0,f.name)}}return n.wrap&&(d=d.concat(n.wrap)),new I9(r,o,s,a,u,i,l,c,d)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new g_e(this,e,n);e:for(let i=n;i<r.end;){let o=r.char(i);for(let s of this.inlineParsers)if(s){let a=s(r,o,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function Dd(t){return t!=null&&t.length>0}function e8(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=e8(t[0]);if(t.length==1)return e;let n=e8(t.slice(1));if(!n||!e)return e||n;let r=(s,a)=>(s||nu).concat(a||nu),i=e.wrap,o=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?o?(s,a,l,c)=>i(o(s,a,l,c),a,l,c):i:o}}function M1(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let dY=[Ln.none];for(let t=1,e;e=Ae[t];t++)dY[t]=Ln.define({id:t,name:e,props:t>=Ae.Escape?[]:[[nt.group,t in eY?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const nu=[];let fY=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return $t.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},ih=class{constructor(e,n,r,i=nu){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new fY(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class hY{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return nu}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function _t(t,e,n,r){return new ih(t,e,n,r)}const pY={resolve:"Emphasis",mark:"EmphasisMark"},mY={resolve:"Emphasis",mark:"EmphasisMark"},u0={},t8={};class wi{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const mD="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let n8=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{n8=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const rb={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<mD.length;i++)if(mD.charCodeAt(i)==r)return t.append(_t(Ae.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(_t(Ae.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,o=0;for(;r<t.end;r++)if(t.char(r)==96){if(o++,o==i&&t.char(r+1)!=96)return t.append(_t(Ae.InlineCode,n,r+1,[_t(Ae.CodeMark,n,n+i),_t(Ae.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(_t(Ae.Autolink,n,n+1+i[0].length,[_t(Ae.LinkMark,n,n+1),_t(Ae.URL,n+1,n+i[0].length),_t(Ae.LinkMark,n+i[0].length,n+1+i[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return t.append(_t(Ae.Comment,n,n+1+o[0].length));let s=/^\?[^]*?\?>/.exec(r);if(s)return t.append(_t(Ae.ProcessingInstruction,n,n+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(_t(Ae.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),o=t.slice(r,r+1),s=n8.test(i),a=n8.test(o),l=/\s|^$/.test(i),c=/\s|^$/.test(o),u=!c&&(!a||l||s),d=!l&&(!s||c||a),f=u&&(e==42||!d||s),h=d&&(e==42||!u||a);return t.append(new wi(e==95?pY:mY,n,r,(f?1:0)|(h?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(_t(Ae.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(_t(Ae.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new wi(u0,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new wi(t8,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof wi&&(i.type==u0||i.type==t8)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let o=t.takeContent(r),s=t.parts[r]=m_e(t,o,i.type==u0?Ae.Link:Ae.Image,i.from,n+1);if(i.type==u0)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof wi&&l.type==u0&&(l.side=0)}return s.to}}return-1}};function m_e(t,e,n,r,i){let{text:o}=t,s=t.char(i),a=i;if(e.unshift(_t(Ae.LinkMark,r,r+(n==Ae.Image?2:1))),e.push(_t(Ae.LinkMark,i-1,i)),s==40){let l=t.skipSpace(i+1),c=gY(o,l-t.offset,t.offset),u;c&&(l=t.skipSpace(c.to),l!=c.to&&(u=vY(o,l-t.offset,t.offset),u&&(l=t.skipSpace(u.to)))),t.char(l)==41&&(e.push(_t(Ae.LinkMark,i,i+1)),a=l+1,c&&e.push(c),u&&e.push(u),e.push(_t(Ae.LinkMark,l,a)))}else if(s==91){let l=yY(o,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return _t(n,r,a,e)}function gY(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let o=t.charCodeAt(i);if(o==62)return _t(Ae.URL,e+n,i+1+n);if(o==60||o==10)return!1}return null}else{let i=0,o=e;for(let s=!1;o<t.length;o++){let a=t.charCodeAt(o);if(_o(a))break;if(s)s=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(s=!0)}return o>e?_t(Ae.URL,e+n,o+n):o==t.length?null:!1}}function vY(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=e+1,s=!1;o<t.length;o++){let a=t.charCodeAt(o);if(s)s=!1;else{if(a==i)return _t(Ae.LinkTitle,e+n,o+1+n);a==92&&(s=!0)}}return null}function yY(t,e,n,r){for(let i=!1,o=e+1,s=Math.min(t.length,o+999);o<s;o++){let a=t.charCodeAt(o);if(i)i=!1;else{if(a==93)return r?!1:_t(Ae.LinkLabel,e+n,o+1+n);if(r&&!_o(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class g_e{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,o){return this.append(new wi(e,n,r,(i?1:0)|(o?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof wi&&(n.type==u0||n.type==t8))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof wi&&i.type.resolve&&i.side&2))continue;let o=i.type==pY||i.type==mY,s=i.to-i.from,a,l=r-1;for(;l>=e;l--){let m=this.parts[l];if(m instanceof wi&&m.side&1&&m.type==i.type&&!(o&&(i.side&1||m.side&2)&&(m.to-m.from+s)%3==0&&((m.to-m.from)%3||s%3))){a=m;break}}if(!a)continue;let c=i.type.resolve,u=[],d=a.from,f=i.to;if(o){let m=Math.min(2,a.to-a.from,s);d=a.to-m,f=i.from+m,c=m==1?"Emphasis":"StrongEmphasis"}a.type.mark&&u.push(this.elt(a.type.mark,d,a.to));for(let m=l+1;m<r;m++)this.parts[m]instanceof ih&&u.push(this.parts[m]),this.parts[m]=null;i.type.mark&&u.push(this.elt(i.type.mark,i.from,f));let h=this.elt(c,d,f,u);this.parts[l]=o&&a.from!=d?new wi(a.type,a.from,d,a.side):null,(this.parts[r]=o&&i.to!=f?new wi(i.type,f,i.to,i.side):null)?this.parts.splice(r,0,h):this.parts[r]=h}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof ih&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof wi&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return Cf(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?_t(this.parser.getNodeType(e),n,r,i):new hY(e,n)}}function r8(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let o=n[r];o instanceof ih&&(n[r]=new ih(o.type,o.from,o.to,r8(o.children,[i])))}else n.splice(r++,0,i)}return n}const v_e=[Ae.CodeBlock,Ae.ListItem,Ae.OrderedList,Ae.BulletList];class y_e{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(nt.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,s=o,a=e.block.children.length,l=s,c=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let u=bY(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,u);else{let d=new $t(e.parser.nodeSet.types[Ae.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(d,n.tree),e.addNode(d,u)}if(n.type.is("Block")&&(v_e.indexOf(n.type.id)<0?(s=n.to-r,a=e.block.children.length):(s=l,a=c,l=n.to-r,c=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return s-o}}function bY(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,o=e[r].from;i<t&&(n-=o-i)}return n}const b_e=Zh({"Blockquote/...":ne.quote,HorizontalRule:ne.contentSeparator,"ATXHeading1/... SetextHeading1/...":ne.heading1,"ATXHeading2/... SetextHeading2/...":ne.heading2,"ATXHeading3/...":ne.heading3,"ATXHeading4/...":ne.heading4,"ATXHeading5/...":ne.heading5,"ATXHeading6/...":ne.heading6,"Comment CommentBlock":ne.comment,Escape:ne.escape,Entity:ne.character,"Emphasis/...":ne.emphasis,"StrongEmphasis/...":ne.strong,"Link/... Image/...":ne.link,"OrderedList/... BulletList/...":ne.list,"BlockQuote/...":ne.quote,"InlineCode CodeText":ne.monospace,"URL Autolink":ne.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ne.processingInstruction,"CodeInfo LinkLabel":ne.labelName,LinkTitle:ne.string,Paragraph:ne.content}),__e=new I9(new Qh(dY).extend(b_e),Object.keys(D1).map(t=>D1[t]),Object.keys(D1).map(t=>cY[t]),Object.keys(D1),f_e,eY,Object.keys(rb).map(t=>rb[t]),Object.keys(rb),[]);ne.special(ne.content),ne.processingInstruction;ne.special(ne.content),ne.processingInstruction;function x_e(t){const e=[];return t.iterate({enter:n=>{const r=n.node;if(!r.type.isError)return;const i=r.parent,o=_Y(r),s={from:r.from,to:r.to,severity:"error",type:"Syntax Error"};if(r.from!==r.to)s.message=`Unrecognized token in <${i.name}>`;else if(o)s.message=`Unrecognized token <${o.name}> in <${i.name}>`,s.to=o.to;else{const a=i.enterUnfinishedNodesBefore(r.to);s.message=`Incomplete <${(a||i).name}>`}e.push(s)}}),e}function _Y(t){return t?t.nextSibling||_Y(t.parent):null}const w_e="first-item";var E_e={create(t){return{enter(e){if(e.name!=="FilterExpression")return;const n=t.readContent(e.from,e.to);if(gD().test(n)){const{from:r,to:i}=e;t.report({from:r,to:i,message:"First item is accessed via [1]",severity:"warning",type:w_e,actions:[{name:"fix",apply(o,s=r,a=i){t.updateContent(s,a,n.replace(gD(),"[1]"))}}]})}}}}};function gD(){return/\[\s*0\s*\]$/}const S_e=[E_e];function C_e(t){const{readContent:e,syntaxTree:n,updateContent:r}=t,i=[],o={readContent:e,report:a=>{i.push(a)},updateContent:r},s=S_e.map(a=>a.create(o));return n.iterate({enter:a=>{for(const l of s)l.enter&&l.enter(a)},leave:a=>{for(const l of s)l.leave&&l.leave(a)}}),i}function k_e(t){return[...x_e(t.syntaxTree),...C_e(t)]}const xY=()=>t=>{if(t.state.doc.length===0)return[];const e=jn(t.state);return k_e({syntaxTree:e,readContent:(r,i)=>t.state.sliceDoc(r,i),updateContent:(r,i,o)=>t.dispatch({changes:{from:r,to:i,insert:o}})}).map(r=>({...r,source:r.type}))},O_e=F2(Pc.define([{tag:ne.strong,fontWeight:"bold"},{tag:ne.emphasis,fontStyle:"italic"}])),R_e=$e.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}});var wY=[R_e,O_e];const vD=t=>`%23${t.slice(1)}`,it={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},Mn={lightBackground:it.white,darkBackground:it.snowWhite,selection:it.snowWhite,tooltipBackground:it.offWhite,error:it.red,warning:it.yellow,invalid:"#b40000"},P_e=$e.theme({"&":{color:it.black,backgroundColor:Mn.lightBackground},".cm-content":{caretColor:it.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:it.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Mn.selection},".cm-panels":{backgroundColor:Mn.darkBackground,color:it.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${it.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${it.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${it.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:it.offWhite},".cm-activeLine":{backgroundColor:Mn.selection},".cm-selectionMatch":{backgroundColor:it.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${it.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:it.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:Mn.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Mn.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Mn.tooltipBackground,borderBottomColor:Mn.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Mn.darkBackground,color:it.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${vD(Mn.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${vD(Mn.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${Mn.warning}`,borderLeft:`5px solid ${Mn.warning}`,background:Mn.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${Mn.error}`,borderLeft:`5px solid ${Mn.error}`,background:Mn.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),A_e=F2(Pc.define([{tag:[ne.macroName,ne.variableName],color:it.waterBlue},{tag:[ne.special(ne.bracket)],color:it.waterBlue,fontWeight:"bold"},{tag:[ne.color,ne.name,ne.definition(ne.name),ne.constant(ne.name),ne.standard(ne.name),ne.propertyName],color:it.deepBlue},{tag:[ne.definition(ne.variableName),ne.function(ne.variableName),ne.function(ne.propertyName)],color:it.brightBlue},{tag:[ne.labelName],color:it.orangeBrown},{tag:[ne.annotation],color:Mn.invalid},{tag:[ne.number,ne.changed,ne.annotation,ne.modifier,ne.self,ne.namespace,ne.atom,ne.bool,ne.special(ne.variableName)],color:it.red},{tag:[ne.typeName,ne.className,ne.attributeName],color:it.lila},{tag:[ne.operator,ne.operatorKeyword,ne.tagName,ne.keyword],color:it.purple},{tag:[ne.angleBracket,ne.squareBracket,ne.brace,ne.separator,ne.punctuation],color:it.midGrey},{tag:[ne.regexp],color:it.deepBlue},{tag:[ne.quote],color:it.darkGrey},{tag:[ne.string,ne.character,ne.deleted],color:it.orangeBrown},{tag:ne.link,color:it.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[ne.url,ne.escape,ne.special(ne.string)],color:it.red},{tag:[ne.meta],color:it.iceBlue},{tag:[ne.comment],color:it.midGrey,fontStyle:"italic"},{tag:ne.strong,fontWeight:"bold",color:it.deepBlue},{tag:ne.emphasis,fontStyle:"italic",color:it.deepBlue},{tag:ne.strikethrough,textDecoration:"line-through"},{tag:ne.heading,fontWeight:"bold",color:it.midGray},{tag:ne.special(ne.heading1),fontWeight:"bold",color:it.darkGrey},{tag:[ne.heading1,ne.heading2,ne.heading3,ne.heading4],fontWeight:"bold",color:it.midGrey},{tag:[ne.heading5,ne.heading6,ne.processingInstruction,ne.inserted],color:it.grey},{tag:[ne.contentSeparator],color:it.yellow},{tag:ne.invalid,color:it.midGrey,borderBottom:`1px dotted ${Mn.invalid}`}]));var T_e=[P_e,A_e];const I_e="#abb2bf",ib="#f07178",D_e="#7d8799",M_e="#ffffff",Jc="#fffce1",ob="#ec9e6f",$_e="#21252b",sb="rgba(0, 0, 0, 0.5)",N_e="#292d3e",ab="#353a42",L_e="rgba(128, 203, 196, 0.2)",yD="#ffcc00",j_e="%23",bD="fff890",_D="red",B_e="#281e16",F_e="#281616",z_e=$e.theme({"&":{color:"#ffffff",backgroundColor:N_e},".cm-content":{caretColor:yD},"&.cm-focused .cm-cursor":{borderLeftColor:yD},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:L_e},".cm-panels":{backgroundColor:$_e,color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:sb},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:sb},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ab},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ab,borderBottomColor:ab},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:sb,color:I_e}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${j_e+bD}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${_D}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{borderLeft:`5px solid #${bD}`,background:B_e},"& .cm-diagnostic-error":{borderLeft:`5px solid ${_D}`,background:F_e},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),q_e=F2(Pc.define([{tag:ne.heading1,color:Jc},{tag:ne.heading2,color:Jc},{tag:ne.heading3,color:Jc},{tag:ne.heading4,color:Jc},{tag:ne.heading5,color:Jc},{tag:ne.heading6,color:Jc},{tag:ne.special(ne.bracket),color:ob,fontWeight:"bold"},{tag:ne.keyword,color:"#c792ea"},{tag:ne.operator,color:"#89ddff"},{tag:ne.special(ne.variableName),color:"#eeffff"},{tag:ne.typeName,color:"#f07178"},{tag:ne.atom,color:"#f78c6c"},{tag:ne.number,color:"#ff5370"},{tag:ne.bool,color:"#ff5370"},{tag:ne.definition(ne.variableName),color:"#82aaff"},{tag:ne.string,color:"#c3e88d"},{tag:ne.comment,color:D_e},{tag:ne.tagName,color:"#ff5370"},{tag:ne.bracket,color:"#a2a1a4"},{tag:ne.meta,color:"#ffcb6b"},{tag:ne.special(ne.string),color:ib},{tag:ne.propertyName,color:ob},{tag:ne.variableName,color:ob},{tag:ne.attributeName,color:ib},{tag:ne.className,color:ib},{tag:ne.invalid,color:M_e}]));var V_e=[z_e,q_e];const H_e=[...wY,...T_e],U_e=[...wY,...V_e],W_e=1,G_e=2,K_e=3,ev={"{":123,"}":125},X_e=(t,e=0)=>{const n=t.peek(e)===ev["}"],r=t.peek(e+1)===ev["}"];return n&&r||t.peek(e)===-1},Y_e=new Lu((t,e)=>{let n=0;for(;!X_e(t,n);)n++;n>0&&(t.advance(n),t.acceptToken(G_e))}),Q_e=(t,e=0)=>{const n=t.peek(e)===ev["{"],r=t.peek(e+1)===ev["{"];return n&&r||t.peek(e)===-1},Z_e=new Lu((t,e)=>{let n=0;for(;!Q_e(t,n);)n++;n>0&&(t.advance(n),t.acceptToken(K_e))}),J_e=new Lu((t,e)=>{let n=0;for(;t.peek(n)!==-1;)n++;n>0&&(t.advance(n),t.acceptToken(W_e))}),exe=Zh({ConditionalSpanner:ne.special(ne.bracket),ConditionalSpannerClose:ne.special(ne.bracket),ConditionalSpannerCloseNl:ne.special(ne.bracket),LoopSpanner:ne.special(ne.bracket),LoopSpannerClose:ne.special(ne.bracket),LoopSpannerCloseNl:ne.special(ne.bracket),EmptyInsert:ne.special(ne.bracket),Insert:ne.special(ne.bracket)}),txe=Gf.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:"‚ö† Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[exe],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,J_e,Y_e,Z_e],topRules:{Feelers:[0,4]},tokenPrec:0}),nxe={ConditionalSpanner:Sf,LoopSpanner:Sf};function rxe(t=null){const e=txe.configure({wrap:T2e(n=>n.name=="Feel"||n.name=="FeelBlock"?{parser:$G}:t&&n.name=="SimpleTextBlock"?{parser:t}:null),props:[aX.add(nxe)]});return eh.define({parser:e})}const ixe=t=>new nX(rxe(t),[]);function oxe(t){const e=[];return t.iterate({enter:n=>{n.type.name==="EmptyInsert"&&e.push({from:n.from,to:n.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),e}function sxe(t){return[...oxe(t)]}function axe(){const t=xY();return e=>{const n=t(e);if(e.state.doc.length===0)return[];const r=jn(e.state),i=sxe(r);return[...n,...i.map(o=>({...o,source:"feelers linter"}))]}}var lxe=YX(axe());function H2({container:t,tooltipContainer:e,hostLanguage:n,hostLanguageParser:r,onChange:i=()=>{},onKeyDown:o=()=>{},onLint:s=()=>{},contentAttributes:a={},readOnly:l=!1,value:c="",enableGutters:u=!1,singleLine:d=!1,lineWrap:f=!1,darkMode:h=!1}){const p=$e.updateListener.of(w=>{w.docChanged&&i(w.state.doc.toString())}),m=$e.updateListener.of(w=>{const E=w.transactions.flatMap(k=>k.effects).filter(k=>k.is(op));if(!E.length)return;const S=E.flatMap(k=>k.value);s(S)}),g=$e.contentAttributes.of(a),v=$e.domEventHandlers({keydown:o});typeof e=="string"&&(e=document.querySelector(e));const y=e?QK({tooltipSpace:function(){return e.getBoundingClientRect()}}):[],b=ixe(r||n&&(w=>{switch(w){case"markdown":return __e;default:return null}})(n)),x=[dX(),p,g,bX(),sX(),v,np.of([...WX]),b,lxe,m,y,h?U_e:H_e,...u?[eX()]:[],...d?[Ot.transactionFilter.of(w=>w.newDoc.lines>1?[]:w)]:[],...f?[$e.lineWrapping]:[]];return l&&x.push($e.editable.of(!1)),d&&c&&(c=c.toString().split(`
`)[0]),this._cmEditor=new $e({state:Ot.create({doc:c,extensions:x}),parent:t}),this}H2.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})};H2.prototype.focus=function(t){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof t=="number"){const n=e.state.doc.length;e.dispatch({selection:{anchor:t<=n?t:n}})}};H2.prototype.getSelection=function(){return this._cmEditor.state.selection};const EY=[Io("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),Io("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),Io("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),Io("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),Io("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),Io("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"}),Io("null",{label:"null",detail:"literal",type:"keyword"}),Io("true",{label:"true",detail:"literal",type:"keyword"}),Io("false",{label:"false",detail:"literal",type:"keyword"})];function i8(){return i8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i8.apply(this,arguments)}function Md(t){const{context:e,after:n,before:r,keyword:i}=t;return fxe({nodes:e,before:r,after:n,keyword:i},v9([{label:i,type:"keyword",boost:10}]))}const SY=[Md({context:"InExpression",keyword:"in"}),Md({context:"IfExpression",keyword:"then",after:"if",before:"else"}),Md({context:"IfExpression",keyword:"else",after:"then"}),Md({context:"QuantifiedExpression",keyword:"satisfies"}),Md({context:"ForExpression",after:"InExpressions",keyword:"return"})],xD=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression","Context","Key","ParameterName"],cxe=["Expr","ContextEntry"];function uxe(t){const e=[...xD,...cxe];return n=>{const{state:r,pos:i}=n,o=OY(jn(r).resolveInner(i,-1),e);if(o){const[s,a]=o;if(xD.includes(a))return null}return t(n)}}function CY(t){return uxe(v9(t.map(e=>i8({},e,{type:"text"}))))}function wD(t,e,n){return kY(t,e,n,-1)}function dxe(t,e,n){return kY(t,e,n,1)}function kY(t,e,n,r){let i=t[r>0?"childAfter":"childBefore"](e);for(;i;){if(n.includes(i.name))return i;if(i.type.isError&&i.firstChild&&n.includes(i.firstChild.name))return i.firstChild;i=i[r>0?"nextSibling":"prevSibling"]}return null}function OY(t,e){for(Array.isArray(e)||(e=[e]);t;t=t.parent){const n=t.type,r=e.find(i=>i&&n.is(i));if(r)return[t,r];if(n.isTop)break}return null}function fxe(t,e){const{nodes:n,before:r,after:i,keyword:o}=t;return s=>{const{state:a,pos:l}=s,c=OY(jn(a).resolveInner(l,-1),n);if(!c)return null;const[u]=c;return wD(u,l,[o,r])||dxe(u,l,[o,i])||i&&!wD(u,l,[i])?null:e(s)}}const RY=eh.define({parser:$G.configure({props:[rX.add({Context:zI({closing:"}"}),"List FilterExpression":zI({closing:"]"}),"ParenthesizedExpression FunctionInvocation":Q3({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":Q3({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:Q3({except:/^\s*(\(|\))/})}),aX.add({Context:Sf,List:Sf,ParenthesizedExpression:Sf,FunctionDefinition(t){const e=t.getChild(")");return e?{from:e.to,to:t.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),hxe=RY.configure({top:"UnaryTests"},"FEEL unary tests"),pxe=RY.configure({top:"Expression"},"FEEL expression");function mxe(t={}){const e=t.dialect==="unaryTests"?hxe:pxe,n=t.parserDialect,r=MG(t.context),i=e.configure({contextTracker:r,dialect:n}),o=t.completions||[CY(EY),SY].flat();return new nX(i,[...o.map(s=>i.data.of({autocomplete:s}))])}var gxe=[YX(xY())];const vxe=$e.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),yxe=$e.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),bxe=F2(Pc.define([{tag:ne.variableName,class:"variableName"},{tag:ne.name,class:"variableName"},{tag:ne.number,class:"number"},{tag:ne.string,class:"string"},{tag:ne.bool,class:"bool"},{tag:ne.function(ne.variableName),class:"function"},{tag:ne.function(ne.special(ne.variableName)),class:"function"},{tag:ne.controlKeyword,class:"control"},{tag:ne.operatorKeyword,class:"control"}]));var _xe=[vxe,yxe,bxe];function ED(t){return t&&t.from===t.to}function xxe(t,e){const n=t.nextSibling;return ED(t)||n&&n.from===e&&ED(n)}function wxe(t){return t&&t.parent&&t.parent.name==="VariableName"}function D9(t){return t?t.name==="PathExpression"?!0:D9(t.parent):!1}function Exe({variables:t}){return e=>{const n=jn(e.state).resolve(e.pos,-1);if(!D9(n))return;const r=Sxe(n),i=n===r?e.pos:n.from,o=M9(r,e);let s=t;for(var a=0;a<o.length-1;a++){var l=s.find(u=>u.name===o[a].name);if(!l)return null;if(l.isList!=="optional"&&!!l.isList!==o[a].isList)return;s=l.entries}return s?(s=s.map(u=>({label:u.name,type:"variable",info:u.info,detail:u.detail})),{from:i,options:s}):void 0}}function Sxe(t){for(;t;){if(t.name==="PathExpression")return t;t=t.parent}}function M9(t,e){let n=[];for(let r=t.firstChild;r;r=r.nextSibling)r.name==="PathExpression"?n.push(...M9(r,e)):r.name==="FilterExpression"?n.push(...Cxe(r,e)):n.push({name:PY(r,e),isList:!1});return n}function Cxe(t,e){const n=t.firstChild;if(n.name==="PathExpression"){const r=M9(n,e),i=r[r.length-1];return i.isList=!0,r}return[{name:PY(n,e),isList:!0}]}function PY(t,e){return e.state.sliceDoc(t.from,t.to)}function kxe({variables:t=[],builtins:e=[]}){const n=Oxe(t,e);return n.length?r=>{const{pos:i,state:o}=r,s=jn(o).resolve(i,-1);return xxe(s,i)?r.explicit?{from:i,options:n}:null:!wxe(s)||D9(s)?null:{from:s.from,options:n}}:r=>null}function Oxe(t,e){return[].concat(t.map(n=>SD(n)),e.map(n=>SD(n)))}function SD(t,e){return t.type==="function"?Rxe(t,e):{label:t.name,type:"variable",info:t.info,detail:t.detail,boost:e}}function Rxe(t,e){const{name:n,info:r,detail:i,params:o=[]}=t,s=o.map(({name:u,type:d},f)=>({name:u||`param ${f+1}`,type:d})),a=`${n}(${s.map(u=>"${"+u.name+"}").join(", ")})`,l=s.map(({name:u,type:d})=>d?`${u}: ${d}`:u).join(", "),c=`${n}(${l})`;return Io(a,{label:c,type:"function",info:r,detail:i,boost:e})}function Pxe({variables:t=[],builtins:e=[]}){return[Exe({variables:t}),kxe({variables:t,builtins:e}),CY(EY.map(n=>({...n,boost:-1}))),...SY]}function Axe(t){return mxe(t)}function Txe(t){return t.slice().reverse().reduce((e,n)=>(e[n.name]=()=>{},e),{})}const AY=ze.define(),TY=ze.define(),IY=ze.define(),DY=ze.define();function MY({dialect:t="expression",parserDialect:e,variables:n=[],builtins:r=[],completions:i=Pxe({builtins:r,variables:n})}){const o=Txe([...n,...r]);return[IY.of(t),AY.of(r),TY.of(n),DY.of(e),Axe({dialect:t,parserDialect:e,context:o,completions:i})]}function Ixe(t){const e=t.facet(AY)[0],n=t.facet(TY)[0],r=t.facet(IY)[0],i=t.facet(DY)[0];return{builtins:e,variables:n,dialect:r,parserDialect:i}}var Dxe=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p>Returns <code>null</code> if the string is not a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31&quot;</code> is invalid because June has
only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p>Returns <code>null</code> if the components don&#39;t represent a valid calendar date. For example, <code>2024,6,31</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31T10:00:00&quot;</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"is empty(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given list is empty. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is empty(list: list): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is empty([])
// true

is empty([1,2,3])
// false
</code></pre>
`},{name:"partition(listÔºå size)",description:`<p><em>Camunda Extension</em></p>
<p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller).</p>
<p>If <code>size</code> is less than <code>0</code>, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">partition(list: list, size: number): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">partition([1,2,3,4,5], 2)
// [[1,2], [3,4], [5]]

partition([], 2)
// []

partition([1,2], 0)
// null
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Euler‚Äôs number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;

substring(&quot;foobar&quot;, -2)
// &quot;ar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value, starting at <code>start position</code> with the given <code>length</code>. If <code>length</code> is greater than
the remaining characters of the value, it returns all characters from <code>start position</code> until the end.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;

substring(&quot;foobar&quot;, -3, 2)
// &quot;ba&quot;

substring(&quot;foobar&quot;, 3, 10)
// &quot;obar&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"trim(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string without leading and trailing spaces.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">trim(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">trim(&quot;  hello world  &quot;)
// &quot;hello world&quot;

trim(&quot;hello   world &quot;)
// &quot;hello   world&quot;
</code></pre>
`},{name:"uuid()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">uuid(): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">uuid()
// &quot;7793aab1-d761-4d38-916b-b7270e309894&quot;
</code></pre>
`},{name:"to base64(value)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string encoded in Base64 format.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">to base64(value: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">to base64(&quot;FEEL&quot;)
// &quot;RkVFTA==&quot;
</code></pre>
`},{name:"is blank(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given string is blank (empty or contains only whitespaces).</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is blank(string: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is blank(&quot;&quot;)
// true

is blank(&quot; &quot;)
// true

is blank(&quot;hello world&quot;)
// false
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function Mxe(t){return t.map($xe)}function $xe(t){const{name:e,description:n}=t,r=e.match(/^([\w\s]+)\((.*)\)$/),i=r[1],o=r[2],s=o?o.split(", ").map(a=>({name:a})):[];return{name:i,type:"function",params:s,info:()=>at(`<div class="description">${n}<div>`),boost:0}}const Nxe=Mxe(Dxe),$Y=new Bu,NY=new Bu;function Ac({extensions:t=[],dialect:e="expression",parserDialect:n,container:r,contentAttributes:i={},tooltipContainer:o,onChange:s=()=>{},onKeyDown:a=()=>{},onLint:l=()=>{},placeholder:c="",readOnly:u=!1,value:d="",builtins:f=Nxe,variables:h=[]}){const p=$e.updateListener.of(_=>{_.docChanged&&s(_.state.doc.toString())}),m=$e.updateListener.of(_=>{const b=_.transactions.flatMap(w=>w.effects).filter(w=>w.is(op));if(!b.length)return;const x=b.flatMap(w=>w.value);l(x)}),g=$e.domEventHandlers({keydown:a});typeof o=="string"&&(o=document.querySelector(o));const v=o?QK({tooltipSpace:function(){return o.getBoundingClientRect()}}):[],y=[G4e(),$Y.of(MY({dialect:e,builtins:f,variables:h,parserDialect:n})),dX(),sX(),bX(),$e.contentAttributes.of(i),p,g,np.of([...WX]),gxe,m,v,NY.of(XK(c)),_xe,...t];return u&&y.push($e.editable.of(!1)),this._cmEditor=new $e({state:Ot.create({doc:d,extensions:y}),parent:r}),this}Ac.prototype.setValue=function(t){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:t}})};Ac.prototype.focus=function(t){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof t=="number"){const n=e.state.doc.length;e.dispatch({selection:{anchor:t<=n?t:n}})}};Ac.prototype.getSelection=function(){return this._cmEditor.state.selection};Ac.prototype.setVariables=function(t){const e=Ixe(this._cmEditor.state);this._cmEditor.dispatch({effects:[$Y.reconfigure(MY({...e,variables:t}))]})};Ac.prototype.setPlaceholder=function(t){this._cmEditor.dispatch({effects:NY.reconfigure(XK(t))})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var LY=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],tv=LY.join(","),jY=typeof Element>"u",dc=jY?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,nv=!jY&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},rv=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",s=o||n&&e&&t(e.parentNode);return s},Lxe=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},BY=function(e,n,r){if(rv(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(tv));return n&&dc.call(e,tv)&&i.unshift(e),i=i.filter(r),i},FY=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!rv(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=t(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:s,candidates:c})}else{var u=dc.call(s,tv);u&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var d=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),f=!rv(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(d&&f){var h=t(d===!0?s.children:d.children,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:s,candidates:h})}else o.unshift.apply(o,s.children)}}return i},zY=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Il=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Lxe(e))&&!zY(e)?0:e.tabIndex},jxe=function(e,n){var r=Il(e);return r<0&&n&&!zY(e)?0:r},Bxe=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},qY=function(e){return e.tagName==="INPUT"},Fxe=function(e){return qY(e)&&e.type==="hidden"},zxe=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},qxe=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Vxe=function(e){if(!e.name)return!0;var n=e.form||nv(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=qxe(i,e.form);return!o||o===e},Hxe=function(e){return qY(e)&&e.type==="radio"},Uxe=function(e){return Hxe(e)&&!Vxe(e)},Wxe=function(e){var n,r=e&&nv(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&i;){var c,u,d;r=nv(i),i=(c=r)===null||c===void 0?void 0:c.host,o=!!((u=i)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return o},CD=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Gxe=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=dc.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(dc.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=nv(e);if(l&&!l.shadowRoot&&i(l)===!0)return CD(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(Wxe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return CD(e);return!1},Kxe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return dc.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},iv=function(e,n){return!(n.disabled||rv(n)||Fxe(n)||Gxe(n,e)||zxe(n)||Kxe(n))},o8=function(e,n){return!(Uxe(n)||Il(n)<0||!iv(e,n))},Xxe=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Yxe=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=jxe(a,s),c=s?t(i.candidates):a;l===0?s?n.push.apply(n,c):n.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:c})}),r.sort(Bxe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Qxe=function(e,n){n=n||{};var r;return n.getShadowRoot?r=FY([e],n.includeContainer,{filter:o8.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Xxe}):r=BY(e,n.includeContainer,o8.bind(null,n)),Yxe(r)},Zxe=function(e,n){n=n||{};var r;return n.getShadowRoot?r=FY([e],n.includeContainer,{filter:iv.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=BY(e,n.includeContainer,iv.bind(null,n)),r},e0=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return dc.call(e,tv)===!1?!1:o8(n,e)},Jxe=LY.concat("iframe").join(","),lb=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return dc.call(e,Jxe)===!1?!1:iv(n,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function s8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ewe(t){if(Array.isArray(t))return s8(t)}function twe(t,e,n){return(e=swe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iwe(t){return ewe(t)||nwe(t)||awe(t)||rwe()}function owe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function swe(t){var e=owe(t,"string");return typeof e=="symbol"?e:e+""}function awe(t,e){if(t){if(typeof t=="string")return s8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s8(t,e):void 0}}var RD={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r._setPausedState(!0)}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},lwe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},cwe=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},kf=function(e){return e?.key==="Tab"||e?.keyCode===9},uwe=function(e){return kf(e)&&!e.shiftKey},dwe=function(e){return kf(e)&&e.shiftKey},PD=function(e){return setTimeout(e,0)},$d=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},$1=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},fwe=[],hwe=function(e,n){var r=n?.document||document,i=n?.trapStack||fwe,o=OD({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:uwe,isKeyBackward:dwe},n),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(D,C,V){return D&&D[C]!==void 0?D[C]:o[V||C]},c=function(D,C){var V=typeof C?.composedPath=="function"?C.composedPath():void 0;return s.containerGroups.findIndex(function(J){var Y=J.container,j=J.tabbableNodes;return Y.contains(D)||V?.includes(Y)||j.find(function(B){return B===D})})},u=function(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=C.hasFallback,J=V===void 0?!1:V,Y=C.params,j=Y===void 0?[]:Y,B=o[D];if(typeof B=="function"&&(B=B.apply(void 0,iwe(j))),B===!0&&(B=void 0),!B){if(B===void 0||B===!1)return B;throw new Error("`".concat(D,"` was specified but was not a node, or did not return a node"))}var G=B;if(typeof B=="string"){try{G=r.querySelector(B)}catch(z){throw new Error("`".concat(D,'` appears to be an invalid selector; error="').concat(z.message,'"'))}if(!G&&!J)throw new Error("`".concat(D,"` as selector refers to no known node"))}return G},d=function(){var D=u("initialFocus",{hasFallback:!0});if(D===!1)return!1;if(D===void 0||D&&!lb(D,o.tabbableOptions))if(c(r.activeElement)>=0)D=r.activeElement;else{var C=s.tabbableGroups[0],V=C&&C.firstTabbableNode;D=V||u("fallbackFocus")}else D===null&&(D=u("fallbackFocus"));if(!D)throw new Error("Your focus-trap needs to have at least one focusable element");return D},f=function(){if(s.containerGroups=s.containers.map(function(D){var C=Qxe(D,o.tabbableOptions),V=Zxe(D,o.tabbableOptions),J=C.length>0?C[0]:void 0,Y=C.length>0?C[C.length-1]:void 0,j=V.find(function(z){return e0(z)}),B=V.slice().reverse().find(function(z){return e0(z)}),G=!!C.find(function(z){return Il(z)>0});return{container:D,tabbableNodes:C,focusableNodes:V,posTabIndexesFound:G,firstTabbableNode:J,lastTabbableNode:Y,firstDomTabbableNode:j,lastDomTabbableNode:B,nextTabbableNode:function(N){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,W=C.indexOf(N);return W<0?F?V.slice(V.indexOf(N)+1).find(function(X){return e0(X)}):V.slice(0,V.indexOf(N)).reverse().find(function(X){return e0(X)}):C[W+(F?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(D){return D.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find(function(D){return D.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function(D){var C=D.activeElement;if(C)return C.shadowRoot&&C.shadowRoot.activeElement!==null?h(C.shadowRoot):C},p=function(D){if(D!==!1&&D!==h(document)){if(!D||!D.focus){p(d());return}D.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=D,lwe(D)&&D.select()}},m=function(D){var C=u("setReturnFocus",{params:[D]});return C||(C===!1?!1:D)},g=function(D){var C=D.target,V=D.event,J=D.isBackward,Y=J===void 0?!1:J;C=C||$1(V),f();var j=null;if(s.tabbableGroups.length>0){var B=c(C,V),G=B>=0?s.containerGroups[B]:void 0;if(B<0)Y?j=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:j=s.tabbableGroups[0].firstTabbableNode;else if(Y){var z=s.tabbableGroups.findIndex(function(L){var O=L.firstTabbableNode;return C===O});if(z<0&&(G.container===C||lb(C,o.tabbableOptions)&&!e0(C,o.tabbableOptions)&&!G.nextTabbableNode(C,!1))&&(z=B),z>=0){var N=z===0?s.tabbableGroups.length-1:z-1,F=s.tabbableGroups[N];j=Il(C)>=0?F.lastTabbableNode:F.lastDomTabbableNode}else kf(V)||(j=G.nextTabbableNode(C,!1))}else{var W=s.tabbableGroups.findIndex(function(L){var O=L.lastTabbableNode;return C===O});if(W<0&&(G.container===C||lb(C,o.tabbableOptions)&&!e0(C,o.tabbableOptions)&&!G.nextTabbableNode(C))&&(W=B),W>=0){var X=W===s.tabbableGroups.length-1?0:W+1,oe=s.tabbableGroups[X];j=Il(C)>=0?oe.firstTabbableNode:oe.firstDomTabbableNode}else kf(V)||(j=G.nextTabbableNode(C))}}else j=u("fallbackFocus");return j},v=function(D){var C=$1(D);if(!(c(C,D)>=0)){if($d(o.clickOutsideDeactivates,D)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}$d(o.allowOutsideClick,D)||D.preventDefault()}},y=function(D){var C=$1(D),V=c(C,D)>=0;if(V||C instanceof Document)V&&(s.mostRecentlyFocusedNode=C);else{D.stopImmediatePropagation();var J,Y=!0;if(s.mostRecentlyFocusedNode)if(Il(s.mostRecentlyFocusedNode)>0){var j=c(s.mostRecentlyFocusedNode),B=s.containerGroups[j].tabbableNodes;if(B.length>0){var G=B.findIndex(function(z){return z===s.mostRecentlyFocusedNode});G>=0&&(o.isKeyForward(s.recentNavEvent)?G+1<B.length&&(J=B[G+1],Y=!1):G-1>=0&&(J=B[G-1],Y=!1))}}else s.containerGroups.some(function(z){return z.tabbableNodes.some(function(N){return Il(N)>0})})||(Y=!1);else Y=!1;Y&&(J=g({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),p(J||s.mostRecentlyFocusedNode||d())}s.recentNavEvent=void 0},_=function(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=D;var V=g({event:D,isBackward:C});V&&(kf(D)&&D.preventDefault(),p(V))},b=function(D){(o.isKeyForward(D)||o.isKeyBackward(D))&&_(D,o.isKeyBackward(D))},x=function(D){cwe(D)&&$d(o.escapeDeactivates,D)!==!1&&(D.preventDefault(),a.deactivate())},w=function(D){var C=$1(D);c(C,D)>=0||$d(o.clickOutsideDeactivates,D)||$d(o.allowOutsideClick,D)||(D.preventDefault(),D.stopImmediatePropagation())},E=function(){if(s.active)return RD.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?PD(function(){p(d())}):p(d()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",v,{capture:!0,passive:!1}),r.addEventListener("touchstart",v,{capture:!0,passive:!1}),r.addEventListener("click",w,{capture:!0,passive:!1}),r.addEventListener("keydown",b,{capture:!0,passive:!1}),r.addEventListener("keydown",x),a},S=function(){if(s.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",v,!0),r.removeEventListener("touchstart",v,!0),r.removeEventListener("click",w,!0),r.removeEventListener("keydown",b,!0),r.removeEventListener("keydown",x),a},k=function(D){var C=D.some(function(V){var J=Array.from(V.removedNodes);return J.some(function(Y){return Y===s.mostRecentlyFocusedNode})});C&&p(d())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(k):void 0,M=function(){I&&(I.disconnect(),s.active&&!s.paused&&s.containers.map(function(D){I.observe(D,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(D){if(s.active)return this;var C=l(D,"onActivate"),V=l(D,"onPostActivate"),J=l(D,"checkCanFocusTrap");J||f(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=r.activeElement,C?.();var Y=function(){J&&f(),E(),M(),V?.()};return J?(J(s.containers.concat()).then(Y,Y),this):(Y(),this)},deactivate:function(D){if(!s.active)return this;var C=OD({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},D);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,S(),s.active=!1,s.paused=!1,M(),RD.deactivateTrap(i,a);var V=l(C,"onDeactivate"),J=l(C,"onPostDeactivate"),Y=l(C,"checkCanReturnFocus"),j=l(C,"returnFocus","returnFocusOnDeactivate");V?.();var B=function(){PD(function(){j&&p(m(s.nodeFocusedBeforeActivation)),J?.()})};return j&&Y?(Y(m(s.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(D){return s.active?(s.manuallyPaused=!0,this._setPausedState(!0,D)):this},unpause:function(D){return s.active?(s.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,D)):this},updateContainerElements:function(D){var C=[].concat(D).filter(Boolean);return s.containers=C.map(function(V){return typeof V=="string"?r.querySelector(V):V}),s.active&&f(),M(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return s.manuallyPaused}},_setPausedState:{value:function(D,C){if(s.paused===D)return this;if(s.paused=D,D){var V=l(C,"onPause"),J=l(C,"onPostPause");V?.(),S(),M(),J?.()}else{var Y=l(C,"onUnpause"),j=l(C,"onPostUnpause");Y?.(),f(),E(),M(),j?.()}return this}}}),a.updateContainerElements(e),a},VY=function(e){return ge("svg",{...e,children:ge("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};VY.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var HY=function(e){return ge("svg",{...e,children:ge("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};HY.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var UY=function(e){return ge("svg",{...e,children:[ge("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),ge("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),ge("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};UY.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var WY=function(e){return ge("svg",{...e,children:ge("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};WY.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var GY=function(e){return ge("svg",{...e,children:[ge("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),ge("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};GY.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var $9=function(e){return ge("svg",{...e,children:[ge("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),ge("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};$9.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};function pwe(t){const{element:e,headerProvider:n}=t,{getElementIcon:r,getDocumentationRef:i,getElementLabel:o,getTypeLabel:s}=n,a=o(e),l=s(e),c=i&&i(e),u=r(e);return ge("div",{class:"bio-properties-panel-header",children:[ge("div",{class:"bio-properties-panel-header-icon",children:u&&ge(u,{width:"32",height:"32",viewBox:"0 0 32 32"})}),ge("div",{class:"bio-properties-panel-header-labels",children:[ge("div",{title:l,class:"bio-properties-panel-header-type",children:l}),a?ge("div",{title:a,class:"bio-properties-panel-header-label",children:a}):null]}),ge("div",{class:"bio-properties-panel-header-actions",children:c?ge("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:c,title:"Open documentation",target:"_blank",children:ge(WY,{})}):null})]})}const KY=rl({description:{},getDescriptionForId:()=>{}}),N9=rl({errors:{}}),XY=rl({eventBus:null}),ru=rl({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),YY=rl({tooltip:{},getTooltipForId:()=>{}});function mwe(t,e){const{getTooltipForId:n}=ts(YY);return n(t,e)}function Vu(t){const{forId:e,element:n}=t,r=mwe(e,n),i=t.value||r;return i?ge(gwe,{...t,value:i,forId:`bio-properties-panel-${e}`}):t.children}function gwe(t){const{forId:e,value:n,parent:r,direction:i="right",position:o}=t,[s,a]=Mt(!1),l=200;let c=null;const u=Vt(null),d=Vt(null),f=(y,_)=>{s||(_?c=setTimeout(()=>{a(!0)},l):a(!0))},h=()=>{clearTimeout(c),a(!1)},p=({relatedTarget:y})=>{y===u.current||y===d.current||y?.parentElement===d.current||h()},m=y=>{const{target:_}=y,b=_.matches(":hover")||d.current?.matches(":hover");if(_===u.current&&b){y.stopPropagation();return}h()},g=y=>{y.code==="Escape"&&h()},v=()=>ge("div",{class:`bio-properties-panel-tooltip ${i}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":e,style:o||vwe(u.current),ref:d,onClick:y=>y.stopPropagation(),onMouseLeave:p,children:[ge("div",{class:"bio-properties-panel-tooltip-content",children:n}),ge("div",{class:"bio-properties-panel-tooltip-arrow"})]});return ge("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:u,onMouseEnter:y=>f(y,!0),onMouseLeave:p,onFocus:f,onBlur:m,onKeyDown:g,children:[t.children,s?r?UC(v(),r.current):v():null]})}function vwe(t){const e=t.getBoundingClientRect(),n=`calc(100% - ${e.x}px)`,r=`${e.top-10}px`;return`right: ${n}; top: ${r};`}function ywe(t,e){const{getDescriptionForId:n}=ts(KY);return n(t,e)}function U2(t){const{errors:e}=ts(N9);return e[t]}function bwe(){const{errors:t}=ts(N9);return t}function oh(t,e,n){const r=ts(XY);n||({eventBus:n}=r);const i=Vt(!1);n&&!i.current&&n.on(t,e),st(()=>(n&&i.current&&n.on(t,e),i.current=!0,()=>{n&&n.off(t,e)}),[e,t,n])}function _we(t,e){const{getLayoutForKey:n,setLayoutForKey:r}=ts(ru),i=n(t,e),o=pi(s=>{r(t,s)},[r]);return[i,o]}function QY(t){const e=Vt();return st(()=>{e.current=t}),e.current}function W2(t){const{onShow:e}=ts(ru),n=Vt(),r=Vt(!1),i=pi(o=>{o.id===t&&(e(),r.current||(r.current=!0))},[t]);return st(()=>{r.current&&n.current&&(Ct(n.current.focus)&&n.current.focus(),Ct(n.current.select)&&n.current.select(),r.current=!1)}),oh("propertiesPanel.showEntry",i),n}function xwe(t,e,n){const[r,i]=Mt(Ue(e)),o=pi(()=>{const s=Ue(e);s!==r&&i(s)},[e,r]);st(()=>{o()},[o]),oh("propertiesPanel.attach",o),oh("propertiesPanel.detach",o),st(()=>{const s=IntersectionObserver;if(!s||!t.current||!r)return;const a=new s(l=>{r.scrollHeight!==0&&l.forEach(c=>{c.intersectionRatio<1?n(!0):c.intersectionRatio===1&&n(!1)})},{root:r,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return a.observe(t.current),()=>{a.unobserve(t.current)}},[t.current,r,n])}function ZY(t){const e=Vt(t);return e.current=t,pi((...n)=>e.current(...n),[])}function wwe(t){const[e,n]=Mt(!!t&&!!t.clientHeight);return Ia(()=>{if(!t)return;const r=new ResizeObserver(([i])=>{requestAnimationFrame(()=>{const o=!!i.contentRect.height;o!==e&&n(o)})});return r.observe(t),()=>r.disconnect()},[t,e]),e}function Ki(t){const{element:e,entries:n=[],id:r,label:i,shouldOpen:o=!1}=t,s=Vt(null),[a,l]=_we(["groups",r,"open"],o),c=pi(()=>l(!0),[l]),u=()=>l(!a),[d,f]=Mt(!1),[h,p]=Mt(!1);st(()=>{const y=requestAnimationFrame(()=>{const _=n.find(b=>{const{id:x,isEdited:w}=b,E=Ue(`[data-entry-id="${x}"]`);if(!Ct(w)||!E)return!1;const S=Ue(".bio-properties-panel-input",E);return w(S)});f(_)});return()=>cancelAnimationFrame(y)},[n,f]);const m=bwe(),g=n.some(y=>m[y.id]);xwe(s,"div.bio-properties-panel-scroll-container",p);const v={...ts(ru),onShow:c};return ge("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:s,children:[ge("div",{class:Dr("bio-properties-panel-group-header",d?"":"empty",a?"open":"",h&&a?"sticky":""),onClick:u,children:[ge("div",{title:t.tooltip?null:i,"data-title":i,class:"bio-properties-panel-group-header-title",children:ge(Vu,{value:t.tooltip,forId:"group-"+r,element:e,parent:s,children:i})}),ge("div",{class:"bio-properties-panel-group-header-buttons",children:[ge(Ewe,{edited:d,hasErrors:g}),ge("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:ge(VY,{class:a?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),ge("div",{class:Dr("bio-properties-panel-group-entries",a?"open":""),children:ge(ru.Provider,{value:v,children:n.map(y=>{const{component:_,id:b}=y;return lo(_,{...y,element:e,key:b})})})})]})}function Ewe(t){const{edited:e,hasErrors:n}=t;return n?ge("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):e?ge("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function AD(t){const{text:e,icon:n}=t;return ge("div",{class:"bio-properties-panel open",children:ge("section",{class:"bio-properties-panel-placeholder",children:[n&&ge(n,{class:"bio-properties-panel-placeholder-icon"}),ge("p",{class:"bio-properties-panel-placeholder-text",children:e})]})})}function G2(t){const{element:e,forId:n,value:r}=t,i=ywe(n,e),o=r||i;if(o)return ge("div",{class:"bio-properties-panel-description",children:o})}const TD=()=>{},Swe=function(t,e){const[n,r]=Mt(void 0);e.current=Mi(()=>({focus:i=>{t?t.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[t]),st(()=>{typeof n<"u"&&t&&(t.focus(n),r(!1))},[t,n])},Cwe=Qs((t,e)=>{const{onInput:n,disabled:r,tooltipContainer:i,enableGutters:o,value:s,onLint:a=TD,onPopupOpen:l=TD,popupOpen:c,contentAttributes:u={},hostLanguage:d=null,singleLine:f=!1}=t,h=Vt(),[p,m]=Mt(),[g,v]=Mt(s||"");Swe(p,e);const y=ZY(b=>{n(b),v(b)});st(()=>{let b;return b=new H2({container:h.current,onChange:y,value:g,onLint:a,contentAttributes:u,tooltipContainer:i,enableGutters:o,hostLanguage:d,singleLine:f,lineWrap:!0}),m(b),()=>{a([]),h.current.innerHTML="",m(null)}},[]),st(()=>{p&&s!==g&&(p.setValue(s),v(s))},[s]);const _=()=>{e.current.focus()};return ge("div",{class:Dr("bio-properties-panel-feelers-editor-container",c?"popupOpen":null),children:[ge("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),ge("div",{name:t.name,class:Dr("bio-properties-panel-feelers-editor bio-properties-panel-input",g?"edited":null,r?"disabled":null),ref:h,onClick:_}),ge("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>l("feelers"),children:ge($9,{})})]})}),cb=()=>{},kwe=function(t,e){const[n,r]=Mt(void 0);e.current=Mi(()=>({focus:i=>{t?t.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[t]),st(()=>{typeof n<"u"&&t&&(t.focus(n),r(!1))},[t,n])},Owe=Qs((t,e)=>{const{contentAttributes:n,enableGutters:r,value:i,onInput:o,onFeelToggle:s=cb,onLint:a=cb,onPopupOpen:l=cb,placeholder:c,popupOpen:u,disabled:d,tooltipContainer:f,variables:h}=t,p=Vt(),[m,g]=Mt(),[v,y]=Mt(i||"");kwe(m,e);const _=ZY(x=>{o(x),y(x)});st(()=>{let x;const w=E=>{if(E.key!=="Backspace"||!x)return;const S=x.getSelection(),k=S.ranges[S.mainIndex];k.from===0&&k.to===0&&s()};return x=new Ac({container:p.current,onChange:_,onKeyDown:w,onLint:a,placeholder:c,tooltipContainer:f,value:v,variables:h,extensions:[...r?[eX()]:[],$e.lineWrapping],contentAttributes:n}),g(x),()=>{a([]),p.current.innerHTML="",g(null)}},[]),st(()=>{m&&i!==v&&(m.setValue(i),y(i))},[i]),st(()=>{m&&m.setVariables(h)},[h]),st(()=>{m&&m.setPlaceholder(c)},[c]);const b=()=>{e.current.focus()};return ge("div",{class:Dr("bio-properties-panel-feel-editor-container",d?"disabled":null,u?"popupOpen":null),children:[ge("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),ge("div",{name:t.name,class:Dr("bio-properties-panel-input",v?"edited":null),ref:p,onClick:b}),ge("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>l(),children:ge($9,{})})]})}),Rwe=rl({open:()=>{},close:()=>{},source:null});function Pwe(t,e){let n,r,i;function o(l){n=this,r=l.clientX,i=l.clientY,l.dataTransfer&&l.dataTransfer.setDragImage(e||Awe(),0,0),document.addEventListener("dragover",s,!0),document.addEventListener("dragenter",N1,!0),document.addEventListener("dragend",a),document.addEventListener("drop",N1)}function s(l){const c={x:l.clientX-r,y:l.clientY-i};return t.call(n,l,c)}function a(){document.removeEventListener("dragover",s,!0),document.removeEventListener("dragenter",N1,!0),document.removeEventListener("dragend",a),document.removeEventListener("drop",N1)}return o}function N1(t){t.preventDefault(),t.stopPropagation()}function Awe(){return at('<canvas width="0" height="0" />')}const ID=()=>{};function Twe(t,e){const{container:n,className:r,delayInitialFocus:i,position:o,width:s,height:a,onClose:l,onPostActivate:c=ID,onPostDeactivate:u=ID,returnFocus:d=!0,closeOnEscape:f=!0,title:h}=t,p=Vt(null),m=Vt(null),g=e||m,v=Mi(()=>Nwe(n),[n]),y=x=>{x.stopPropagation(),f&&x.key==="Escape"&&l()},_=()=>{p.current&&p.current.activate()};let b={};return o&&(b={...b,top:o.top+"px",left:o.left+"px"}),s&&(b.width=s+"px"),a&&(b.height=a+"px"),st(()=>(g.current&&g.current.addEventListener("focusin",_),()=>{g.current.removeEventListener("focusin",_)}),[g]),st(()=>(g.current&&(p.current=hwe(g.current,{clickOutsideDeactivates:!0,delayInitialFocus:i,fallbackFocus:g.current,onPostActivate:c,onPostDeactivate:u,returnFocusOnDeactivate:d}),p.current.activate()),()=>p.current&&p.current.deactivate()),[g]),oh("propertiesPanel.detach",l),UC(ge("div",{"aria-label":h,tabIndex:-1,ref:g,onKeyDown:y,role:"dialog",class:Dr("bio-properties-panel-popup",r),style:b,children:t.children}),v||document.body)}const O0=Qs(Twe);O0.Title=Iwe;O0.Body=Dwe;O0.Footer=Mwe;function Iwe(t){const{children:e,className:n,draggable:r,emit:i=()=>{},title:o,showCloseButton:s=!1,closeButtonTooltip:a="Close popup",onClose:l,...c}=t,u=Vt({startPosition:null,newPosition:null}),d=Vt(),f=Vt(),h=(g,v)=>{$we(g);const{x:y,y:_}=v,b={x:u.current.startPosition.x+y,y:u.current.startPosition.y+_},x=DD(f.current);x.style.top=b.y+"px",x.style.left=b.x+"px",i("dragover",{newPosition:b,delta:v})},p=g=>{Pwe(h,d.current)(g),g.stopPropagation();const _=DD(f.current).getBoundingClientRect();u.current.startPosition={x:_.left,y:_.top},i("dragstart")},m=()=>{u.current.newPosition=null,i("dragend")};return ge("div",{class:Dr("bio-properties-panel-popup__header",r&&"draggable",n),ref:f,draggable:r,onDragStart:p,onDragEnd:m,...c,children:[r&&ge(co,{children:[ge("div",{ref:d,class:"bio-properties-panel-popup__drag-preview"}),ge("div",{class:"bio-properties-panel-popup__drag-handle",children:ge(UY,{})})]}),ge("div",{class:"bio-properties-panel-popup__title",children:o}),e,s&&ge("button",{title:a,class:"bio-properties-panel-popup__close",onClick:l,children:ge(HY,{})})]})}function Dwe(t){const{children:e,className:n,...r}=t;return ge("div",{class:Dr("bio-properties-panel-popup__body",n),...r,children:e})}function Mwe(t){const{children:e,className:n,...r}=t;return ge("div",{class:Dr("bio-properties-panel-popup__footer",n),...r,children:t.children})}function DD(t){return t.closest(".bio-properties-panel-popup")}function $we(t){t.preventDefault(),t.stopPropagation()}function Nwe(t){return typeof t=="string"?Ue(t):t}const Lwe=700,jwe=250;function Bwe(t){const{element:e,eventBus:n={fire(){},on(){},off(){}},popupContainer:r,getPopupLinks:i=()=>[]}=t,o=QY(e),[s,a]=Mt({}),[l,c]=Mt(!1),[u,d]=Mt(null),[f,h]=Mt(null),p=(_,b)=>{n.fire("feelPopup."+_,b)},m=pi(()=>!!l,[l]);qwe(()=>{l||p("closed")},[l]);const g=(_,b,x)=>{d(_),a(b),c(!0),h(x),p("open")},v=(_={})=>{const{id:b}=_;b&&b!==u||(c(!1),d(null))},y={open:g,close:v,source:u};return st(()=>{e&&o&&e!==o&&v()},[e]),st(()=>{const _=x=>{const{entryId:w,popupConfig:E,sourceElement:S}=x;g(w,E,S)},b=()=>m();return n.on("feelPopup._close",v),n.on("feelPopup._open",_),n.on("feelPopup._isOpen",b),()=>{n.off("feelPopup._close",v),n.off("feelPopup._open",g),n.off("feelPopup._isOpen",b)}},[n,m]),ge(Rwe.Provider,{value:y,children:[l&&ge(Fwe,{onClose:v,container:r,getLinks:i,sourceElement:f,emit:p,...s}),t.children]})}function Fwe(t){const{container:e,getLinks:n,id:r,hostLanguage:i,onInput:o,onClose:s,position:a,singleLine:l,sourceElement:c,title:u,tooltipContainer:d,type:f,value:h,variables:p,emit:m}=t,g=Vt(),v=Vt(),y=Vt(!1),_=()=>{c&&c.focus()},b=w=>{w.key==="Escape"&&(y.current=zwe(w.target))},x=w=>{w.key==="Escape"&&(y.current||(s(),y.current=!1))};return st(()=>(m("opened",{domNode:v.current}),()=>m("close",{domNode:v.current})),[]),st(()=>{g.current&&g.current.focus()},[g]),ge(O0,{container:e,className:"bio-properties-panel-feel-popup",emit:m,position:a,title:u,onClose:s,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:_,height:jwe,width:Lwe,ref:v,children:[ge(O0.Title,{title:u,emit:m,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:s,draggable:!0,children:ge(co,{children:n(f).map((w,E)=>ge("a",{rel:"noreferrer",href:w.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[w.title,ge(GY,{})]},E))})}),ge(O0.Body,{children:ge("div",{onKeyDownCapture:b,onKeyDown:x,class:"bio-properties-panel-feel-popup__body",children:[f==="feel"&&ge(Owe,{enableGutters:!0,id:MD(r),name:r,onInput:o,value:h,variables:p,ref:g,tooltipContainer:d}),f==="feelers"&&ge(Cwe,{id:MD(r),contentAttributes:{"aria-label":u},enableGutters:!0,hostLanguage:i,name:r,onInput:o,value:h,ref:g,singleLine:l,tooltipContainer:d})]})})]})}function MD(t){return`bio-properties-panel-${t}`}function zwe(t){return t.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}function qwe(t,e){const n=Vt(!1);st(()=>{if(n.current)return t();n.current=!0},e)}function Vwe(t){const{id:e,label:n,onInput:r,value:i,switcherLabel:o,inline:s,onFocus:a,onBlur:l,inputRef:c,tooltip:u}=t,[d,f]=Mt(i),h=async()=>{r(!i)},p=m=>{h(),f(m.target.value)};return st(()=>{i!==d&&f(i)},[i]),ge("div",{class:Dr("bio-properties-panel-toggle-switch",{inline:s}),children:[ge("label",{class:"bio-properties-panel-label",for:$D(e),children:ge(Vu,{value:u,forId:e,element:t.element,children:n})}),ge("div",{class:"bio-properties-panel-field-wrapper",children:[ge("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[ge("input",{ref:c,id:$D(e),class:"bio-properties-panel-input",type:"checkbox",onFocus:a,onBlur:l,name:e,onInput:p,checked:!!d}),ge("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),o&&ge("p",{class:"bio-properties-panel-toggle-switch__label",children:o})]})]})}function $D(t){return`bio-properties-panel-${t}`}function Hwe(t){const{debounce:e,disabled:n,displayLabel:r=!0,id:i,inputRef:o,label:s,max:a,min:l,onInput:c,step:u,value:d="",onFocus:f,onBlur:h}=t,[p,m]=Mt(d),g=Mi(()=>e(y=>{y.validity.valid&&c(y.value?parseFloat(y.value):void 0)}),[c,e]),v=y=>{g(y.target),m(y.target.value)};return st(()=>{d!==p&&m(d)},[d]),ge("div",{class:"bio-properties-panel-numberfield",children:[r&&ge("label",{for:ND(i),class:"bio-properties-panel-label",children:s}),ge("input",{id:ND(i),ref:o,type:"number",name:i,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",max:a,min:l,onInput:v,onFocus:f,onBlur:h,step:u,value:p})]})}function ND(t){return`bio-properties-panel-${t}`}Qs((t,e)=>{const{id:n,disabled:r,onInput:i,value:o,onFocus:s,onBlur:a,placeholder:l}=t,c=Vt();return e.current={focus:u=>{const d=c.current;d&&(d.focus(),typeof u=="number"&&(u>o.length&&(u=o.length),d.setSelectionRange(u,u)))}},ge("input",{id:L9(n),type:"text",ref:c,name:n,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:u=>i(u.target.value),onFocus:s,onBlur:a,placeholder:l,value:o||""})});Qs((t,e)=>{const{id:n,debounce:r,disabled:i,onInput:o,value:s,min:a,max:l,step:c,onFocus:u,onBlur:d}=t,f=Vt();return e.current={focus:h=>{const p=f.current;p&&(p.focus(),typeof h=="number"&&h!==1/0&&(h>s.length&&(h=s.length),p.setSelectionRange(h,h)))}},ge(Hwe,{id:n,debounce:r,disabled:i,displayLabel:!1,inputRef:f,max:l,min:a,onInput:o,step:c,value:s,onFocus:u,onBlur:d})});Qs((t,e)=>{const{id:n,disabled:r,onInput:i,value:o,onFocus:s,onBlur:a,placeholder:l}=t,c=Vt();return e.current={focus:()=>{const u=c.current;u&&(u.focus(),u.setSelectionRange(0,0))}},ge("textarea",{id:L9(n),type:"text",ref:c,name:n,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:u=>i(u.target.value),onFocus:s,onBlur:a,placeholder:l,value:o||"","data-gramm":"false"})});Qs((t,e)=>{const{id:n,onInput:r,value:i,onFocus:o,onBlur:s,switcherLabel:a}=t,l=Vt();return e.current={focus:()=>{const c=l.current;c&&c.focus()}},ge(Vwe,{id:n,value:i,inputRef:l,onInput:r,onFocus:o,onBlur:s,switcherLabel:a})});Qs((t,e)=>{const{id:n,disabled:r,onInput:i,value:o,onFocus:s,onBlur:a}=t,l=Vt(),c=({target:u})=>{i(u.checked)};return e.current={focus:()=>{const u=l.current;u&&u.focus()}},ge("input",{ref:l,id:L9(n),name:n,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:c,checked:o,disabled:r})});function L9(t){return`bio-properties-panel-${t}`}const Uwe={},Wwe={},Gwe={};function Kwe(t){const{element:e,headerProvider:n,placeholderProvider:r,groups:i,layoutConfig:o,layoutChanged:s,descriptionConfig:a,descriptionLoaded:l,tooltipConfig:c,tooltipLoaded:u,feelPopupContainer:d,getFeelPopupLinks:f,eventBus:h}=t,[p,m]=Mt(LD(o));Qwe(()=>{const V=LD(o);m(V)},[o]),st(()=>{typeof s=="function"&&s(p)},[p,s]);const y={layout:p,setLayout:m,getLayoutForKey:(V,J)=>bae(p,V,J),setLayoutForKey:(V,J)=>{const Y=re({},p);Vq(Y,V,J),m(Y)}},_=Mi(()=>Xwe(a),[a]);st(()=>{typeof l=="function"&&l(_)},[_,l]);const x={description:_,getDescriptionForId:(V,J)=>_[V]&&_[V](J)},w=Mi(()=>Ywe(c),[c]);st(()=>{typeof u=="function"&&u(w)},[w,u]);const S={tooltip:w,getTooltipForId:(V,J)=>w[V]&&w[V](J)},[k,I]=Mt({});oh("propertiesPanel.setErrors",({errors:V})=>I(V),h);const R={errors:k},D={eventBus:h},C={element:e};return r&&!e?ge(AD,{...r.getEmpty()}):r&&Fe(e)?ge(AD,{...r.getMultiple()}):ge(ru.Provider,{value:C,children:ge(N9.Provider,{value:R,children:ge(KY.Provider,{value:x,children:ge(YY.Provider,{value:S,children:ge(ru.Provider,{value:y,children:ge(XY.Provider,{value:D,children:ge(Bwe,{element:e,eventBus:h,popupContainer:d,getPopupLinks:f,children:ge("div",{class:"bio-properties-panel",children:[ge(pwe,{element:e,headerProvider:n}),ge("div",{class:"bio-properties-panel-scroll-container",children:i.map(V=>{const{component:J=Ki,id:Y}=V;return lo(J,{...V,key:Y,element:e})})})]})})})})})})})})}function LD(t={},e=Uwe){return{...e,...t}}function Xwe(t={}){return{...Wwe,...t}}function Ywe(t={}){return{...Gwe,...t}}function Qwe(t,e){const n=Vt(!1);Ia(()=>{if(n.current)return t();n.current=!0},e)}function Zwe(t){const{id:e,label:n,onChange:r,disabled:i,value:o=!1,onFocus:s,onBlur:a,tooltip:l}=t,[c,u]=Mt(o),d=({target:p})=>{r(p.checked)},f=p=>{d(p),u(p.target.value)};st(()=>{o!==c&&u(o)},[o]);const h=W2(e);return ge("div",{class:"bio-properties-panel-checkbox",children:[ge("input",{ref:h,id:jD(e),name:e,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:f,checked:c,disabled:i}),ge("label",{for:jD(e),class:"bio-properties-panel-label",children:ge(Vu,{value:l,forId:e,element:t.element,children:n})})]})}function Zs(t){const{element:e,id:n,description:r,label:i,getValue:o,setValue:s,disabled:a,onFocus:l,onBlur:c,tooltip:u}=t,d=o(e),f=U2(n);return ge("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":n,children:[ge(Zwe,{disabled:a,id:n,label:i,onChange:s,onFocus:l,onBlur:c,value:d,tooltip:u,element:e},e),f&&ge("div",{class:"bio-properties-panel-error",children:f}),ge(G2,{forId:n,element:e,value:r})]})}function JY(t){return t&&!!t.checked}function jD(t){return`bio-properties-panel-${t}`}function Jwe(t){const{id:e,label:n,onChange:r,options:i=[],value:o="",disabled:s,onFocus:a,onBlur:l,tooltip:c}=t,u=W2(e),[d,f]=Mt(o),h=({target:m})=>{r(m.value)},p=m=>{h(m),f(m.target.value)};return st(()=>{o!==d&&f(o)},[o]),ge("div",{class:"bio-properties-panel-select",children:[ge("label",{for:BD(e),class:"bio-properties-panel-label",children:ge(Vu,{value:c,forId:e,element:t.element,children:n})}),ge("select",{ref:u,id:BD(e),name:e,class:"bio-properties-panel-input",onInput:p,onFocus:a,onBlur:l,value:d,disabled:s,children:i.map((m,g)=>m.children?ge("optgroup",{label:m.label,children:m.children.map((v,y)=>ge("option",{value:v.value,disabled:v.disabled,children:v.label},y))},g):ge("option",{value:m.value,disabled:m.disabled,children:m.label},g))})]})}function j9(t){const{element:e,id:n,description:r,label:i,getValue:o,setValue:s,getOptions:a,disabled:l,onFocus:c,onBlur:u,validate:d,tooltip:f}=t,h=a(e),p=U2(n),[m,g]=Mt(null);let v=o(e);st(()=>{if(Ct(d)){const b=d(v)||null;g(b)}},[v,d]);const y=b=>{let x=null;Ct(d)&&(x=d(b)||null),s(b,x),g(x)},_=p||m;return ge("div",{class:Dr("bio-properties-panel-entry",_?"has-error":""),"data-entry-id":n,children:[ge(Jwe,{id:n,label:i,value:v,onChange:y,onFocus:c,onBlur:u,options:h,disabled:l,tooltip:f,element:e},e),_&&ge("div",{class:"bio-properties-panel-error",children:_}),ge(G2,{forId:n,element:e,value:r})]})}function Hu(t){return t&&!!t.value}function BD(t){return`bio-properties-panel-${t}`}function ub(t){t.style.height="auto",t.style.height=`${t.scrollHeight+2}px`}function e8e(t){const{id:e,label:n,debounce:r,onInput:i,value:o="",disabled:s,monospace:a,onFocus:l,onBlur:c,autoResize:u=!0,placeholder:d,rows:f=u?1:2,tooltip:h}=t,[p,m]=Mt(o),g=W2(e),v=wwe(g.current),y=Mi(()=>r(w=>{i(w)}),[i,r]),_=w=>{y(w===""?void 0:w)},b=w=>{u&&ub(w.target),w.target.value!==p&&(m(w.target.value),_(w.target.value))},x=w=>{const E=w.target.value;E.trim()!==E&&(m(E.trim()),_(E.trim())),c&&c(w)};return Ia(()=>{u&&ub(g.current)},[]),Ia(()=>{v&&u&&ub(g.current)},[v]),st(()=>{o!==p&&m(o)},[o]),ge("div",{class:"bio-properties-panel-textarea",children:[ge("label",{for:FD(e),class:"bio-properties-panel-label",children:ge(Vu,{value:h,forId:e,element:t.element,children:n})}),ge("textarea",{ref:g,id:FD(e),name:e,spellCheck:"false",class:Dr("bio-properties-panel-input",a?"bio-properties-panel-input-monospace":"",u?"auto-resize":""),onInput:b,onFocus:l,onBlur:x,placeholder:d,rows:f,value:p,disabled:s,"data-gramm":"false"})]})}function K2(t){const{element:e,id:n,description:r,debounce:i,label:o,getValue:s,setValue:a,rows:l,monospace:c,disabled:u,validate:d,onFocus:f,onBlur:h,placeholder:p,autoResize:m,tooltip:g}=t,v=U2(n),[y,_]=Mt(null);let b=s(e);st(()=>{if(Ct(d)){const E=d(b)||null;_(E)}},[b,d]);const x=pi(E=>{let S=null;Ct(d)&&(S=d(E)||null),E!==b&&a(E,S),_(S)},[e]),w=v||y;return ge("div",{class:Dr("bio-properties-panel-entry",w?"has-error":""),"data-entry-id":n,children:[ge(e8e,{id:n,label:o,value:b,onInput:x,onFocus:f,onBlur:h,rows:l,debounce:i,monospace:c,disabled:u,placeholder:p,autoResize:m,tooltip:g,element:e},e),w&&ge("div",{class:"bio-properties-panel-error",children:w}),ge(G2,{forId:n,element:e,value:r})]})}function a8(t){return t&&!!t.value}function FD(t){return`bio-properties-panel-${t}`}function t8e(t){const{debounce:e,disabled:n=!1,id:r,label:i,onInput:o,onFocus:s,onBlur:a,placeholder:l,value:c="",tooltip:u}=t,[d,f]=Mt(c||""),h=W2(r),p=Mi(()=>e(y=>{o(y)}),[o,e]),m=y=>{const _=y.target.value;_.trim()!==_&&(f(_.trim()),g(_.trim())),a&&a(y)},g=y=>{p(y===""?void 0:y)},v=y=>{y.target.value!==d&&(f(y.target.value),g(y.target.value))};return st(()=>{c!==d&&f(c)},[c]),ge("div",{class:"bio-properties-panel-textfield",children:[ge("label",{for:zD(r),class:"bio-properties-panel-label",children:ge(Vu,{value:u,forId:r,element:t.element,children:i})}),ge("input",{ref:h,id:zD(r),type:"text",name:r,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:v,onFocus:s,onBlur:m,placeholder:l,value:d})]})}function Ze(t){const{element:e,id:n,description:r,debounce:i,disabled:o,label:s,getValue:a,setValue:l,validate:c,onFocus:u,onBlur:d,placeholder:f,tooltip:h}=t,p=U2(n),[m,g]=Mt(null);let v=a(e);st(()=>{if(Ct(c)){const b=c(v)||null;g(b)}},[v,c]);const y=pi(b=>{let x=null;Ct(c)&&(x=c(b)||null),b!==v&&l(b,x),g(x)},[e]),_=p||m;return ge("div",{class:Dr("bio-properties-panel-entry",_?"has-error":""),"data-entry-id":n,children:[ge(t8e,{debounce:i,disabled:o,id:n,label:s,onInput:y,onFocus:u,onBlur:d,placeholder:f,value:v,tooltip:h,element:e},e),_&&ge("div",{class:"bio-properties-panel-error",children:_}),ge(G2,{forId:n,element:e,value:r})]})}function Zr(t){return t&&!!t.value}function zD(t){return`bio-properties-panel-${t}`}const n8e=300;function eQ(t){return function(n){if(t===!1)return n;var r=He(t)?t:n8e;return _u(n,r)}}eQ.$inject=["config.debounceInput"];var r8e={debounceInput:["factory",eQ]};class tQ{constructor(e){this._eventBus=e}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(e,n,r){return this._eventBus.fire("feelPopup._open",{entryId:e,popupConfig:n,sourceElement:r})}close(){return this._eventBus.fire("feelPopup._close")}}tQ.$inject=["eventBus"];var i8e={feelPopup:["type",tQ]};const nQ=rl({selectedElement:null,injector:null,getService(){return null}});function Re(t,e){const{getService:n}=ts(nQ);return n(t,e)}function l8(){return l8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l8.apply(null,arguments)}var o8e=({styles:t={},...e})=>ce.createElement("svg",l8({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},e),ce.createElement("path",{stroke:"#000",strokeWidth:"2",fill:"none",strokeDasharray:"3.3,6",strokeLinecap:"square",d:"M1.5 30.5l29-29"}));function c8(){return c8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c8.apply(null,arguments)}var s8e=({styles:t={},...e})=>ce.createElement("svg",c8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.296 7.398v12.665h16.87V7.398H5.296zm.718 4.386h15.433v3.44H9.985v-3.432h-.719v3.431H6.014v-3.44zm0 4.158h3.252v3.403H6.014v-3.403zm3.97 0h11.463v3.403H9.985v-3.403z"}),ce.createElement("path",{d:"M6.079 8.209v3.587H21.44V8.209z"}));function u8(){return u8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u8.apply(null,arguments)}var a8e=({styles:t={},...e})=>ce.createElement("svg",u8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M24.978 3c3.761 0 6.89 2.979 7.018 6.695l.004.238V22.4c0 3.747-3.05 6.804-6.783 6.93l-.24.003H7.023c-3.761 0-6.89-2.978-7.018-6.695L0 22.4V9.933C0 6.187 3.05 3.13 6.783 3.004L7.023 3h17.955zm0 3.667H7.022c-1.842 0-3.255 1.344-3.35 3.079l-.005.187V22.4c0 1.761 1.35 3.167 3.16 3.262l.195.005L10 25.666V15h12v10.666h2.978c1.842 0 3.255-1.344 3.35-3.079l.005-.187V9.933c0-1.761-1.35-3.166-3.16-3.261l-.195-.005zm-3.732 9.087H10.754v9.912h10.491v-9.912zm-4.475 1.817v2.658h2.658v1.542H16.77v2.658H15.23V21.77H12.57V20.23h2.658V17.57h1.542z"}));function d8(){return d8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d8.apply(null,arguments)}var l8e=({styles:t={},...e})=>ce.createElement("svg",d8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("g",{fillRule:"evenodd"},ce.createElement("path",{fillRule:"nonzero",d:"M0 0v8.62h32V0H0zm1.655 7.054v-5.37h28.62v5.37H1.656zM0 23.38V32h32v-8.62H0zm1.655 7.054v-5.37h28.62v5.37H1.656z"}),ce.createElement("path",{d:"M24 8l4 7h-8l4-7zm0 2l-2.28 4h4.56L24 10zM23.5 21h1v3h-1zM23.5 15h1v3h-1zM8 24l-4-7h8l-4 7zm0-2l2.28-4H5.72L8 22zM7.5 8h1v3h-1zM7.5 14h1v3h-1z"})));function f8(){return f8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f8.apply(null,arguments)}var c8e=({styles:t={},...e})=>ce.createElement("svg",f8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M32 .041S20.42 5.95 14.537 8.713c1.26 1.15 2.432 2.392 3.648 3.588-5.703 5.78-3.15 3.303-8.087 8.316l-8.472 1.377L0 32l10.006-1.626.098-.598 1.279-7.873c4.975-5.052 2.403-2.555 8.118-8.346 1.218 1.214 2.43 2.435 3.648 3.648C26.29 11.018 32 .041 32 .041zM9.603 22.397L8.54 28.91 2.03 29.97l1.061-6.515 6.512-1.058z"}));function h8(){return h8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h8.apply(null,arguments)}var u8e=({styles:t={},...e})=>ce.createElement("svg",h8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L0 30.734 1.325 32l18.08-18.32c1.227 1.223 2.448 2.453 3.676 3.676C26.247 11.12 32 .06 32 .06z"}));function p8(){return p8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p8.apply(null,arguments)}var qD=({styles:t={},...e})=>ce.createElement("svg",p8({width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg"},e),ce.createElement("path",{stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1.1,4.3",d:"M1.5 30.5L27 5"}),ce.createElement("path",{d:"M31.803.197L26.5 16.107l-1.52-1.52 3.783-11.35-11.35 3.783-1.52-1.52z"}));function m8(){return m8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m8.apply(null,arguments)}var d8e=({styles:t={},...e})=>ce.createElement("svg",m8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354zm.808 1.868l3.711 3.487-3.71 3.487V9.329H7.888V7.723h4.283V5.039z"}));function g8(){return g8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g8.apply(null,arguments)}var f8e=({styles:t={},...e})=>ce.createElement("svg",g8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M21.345 0H4v32h24.512V7.36L21.345 0zM19.24 1.818v7.507h7.454v20.857H5.818V1.818H19.24zm1.818.493l5.06 5.196h-5.06V2.311z"}));function v8(){return v8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v8.apply(null,arguments)}var h8e=({styles:t={},...e})=>ce.createElement("svg",v8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M20.833 0H3.488v32H28V7.36L20.833 0zm-2.105 1.818v7.507h7.454v20.857H5.306V1.818h13.422zm1.818.493l5.06 5.196h-5.06V2.311zm-9.182.86v3.744H7.081v3.222h4.283v3.743l5.7-5.354-5.7-5.354z"}));function y8(){return y8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y8.apply(null,arguments)}var p8e=({styles:t={},...e})=>ce.createElement("svg",y8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.008 1c-3.712 0-7.417.306-10.319.939-1.45.316-2.7.71-3.68 1.226C1.065 3.662.297 4.304.061 5.23a.823.823 0 00-.035.15L0 5.502l.017.084c-.012 7.41 0 14.46 0 22.08l.017.082c.203.985.995 1.656 1.975 2.172.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.98-.516 1.772-1.187 1.975-2.172l.017-.082V5.541a.825.825 0 000-.106v-.016l-.002-.013a.823.823 0 00-.046-.197c-.244-.916-1.007-1.55-1.943-2.044-.98-.516-2.23-.91-3.68-1.226C23.423 1.306 19.718 1 16.006 1zm0 1.646c3.62 0 7.245.308 9.968.901 1.36.297 2.497.67 3.263 1.074.612.323.932.643 1.063.882-.131.24-.451.56-1.063.882-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.901-1.361-.297-2.497-.67-3.264-1.074-.611-.322-.931-.642-1.062-.882.13-.24.451-.56 1.062-.882.767-.403 1.903-.777 3.264-1.074 2.723-.593 6.348-.9 9.968-.9zM1.664 7.647c.112.067.227.132.345.194.98.517 2.23.91 3.68 1.226 2.902.633 6.607.94 10.319.94 3.711 0 7.416-.307 10.318-.94 1.451-.316 2.701-.71 3.68-1.226.119-.062.234-.127.346-.194v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.671-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.187c.112.067.227.132.345.195.98.516 2.23.91 3.68 1.226 2.902.632 6.607.938 10.319.938 3.711 0 7.416-.306 10.318-.938 1.451-.317 2.701-.71 3.68-1.226.119-.063.234-.128.346-.195v1.93c-.08.245-.398.619-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.901-9.968.901-3.62 0-7.245-.307-9.968-.9-1.361-.298-2.497-.67-3.264-1.075-.714-.376-1.032-.75-1.112-.995v-1.93zm0 4.188c.112.067.227.131.345.194.98.516 2.23.91 3.68 1.226 2.902.633 6.607.939 10.319.939 3.711 0 7.416-.306 10.318-.94 1.451-.316 2.701-.709 3.68-1.225.119-.063.234-.127.346-.194V27.47c-.08.245-.398.618-1.113.995-.766.404-1.902.777-3.263 1.074-2.723.594-6.349.9-9.968.9-3.62 0-7.245-.306-9.968-.9-1.361-.297-2.497-.67-3.264-1.074-.714-.377-1.032-.75-1.112-.995V16.022z"}));function b8(){return b8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b8.apply(null,arguments)}var m8e=({styles:t={},...e})=>ce.createElement("svg",b8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M32 .06S20.33 6.014 14.403 8.798c1.27 1.16 2.451 2.41 3.676 3.616L6.84 23.804H.046v1.755h5.063L0 30.735 1.325 32l6.357-6.441h7.145v-1.756H9.414l9.99-10.123c1.228 1.223 2.45 2.453 3.677 3.676C26.247 11.12 32 .06 32 .06z"}));function _8(){return _8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_8.apply(null,arguments)}var g8e=({styles:t={},...e})=>ce.createElement("svg",_8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-3.955 3.918L8.94 12.072l3.985 3.985-3.913 3.913 3.048 3.047 3.913-3.913 3.987 3.987 3.096-3.096-3.987-3.987 3.913-3.913-3.047-3.048-3.913 3.913-3.985-3.985z"}));function x8(){return x8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x8.apply(null,arguments)}var v8e=({styles:t={},...e})=>ce.createElement("svg",x8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-.56 5.744l-7.407 5.23 7.408 5.234v-5.057c2.384 1.687 4.771 3.371 7.157 5.057V10.801l-7.157 5.054v-5.054z"}));function w8(){return w8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w8.apply(null,arguments)}var y8e=({styles:t={},...e})=>ce.createElement("svg",w8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm6.132 4.166l-3.633 7.363-4.516-5.874-4.102 12.131 4.599-5.91 4.743 5.427 2.909-13.137z"}));function E8(){return E8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E8.apply(null,arguments)}var b8e=({styles:t={},...e})=>ce.createElement("svg",E8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.9c-1.672 4.653-2.733 9.5-4.406 14.153 1.535-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.497-4.71-2.91-9.445-4.406-14.155z"}));function S8(){return S8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S8.apply(null,arguments)}var _8e=({styles:t={},...e})=>ce.createElement("svg",S8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm1.78 4.065v3.555H9.779v6.713h7.994v3.554l5.828-6.91-5.828-6.912z"}));function C8(){return C8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C8.apply(null,arguments)}var x8e=({styles:t={},...e})=>ce.createElement("svg",C8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.532 18.532 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm-5.91 5.448l6.041 4.9 6.04-4.9H10.084zm-1.34 1.137v9.92h14.513v-9.718l-7.132 5.786-7.381-5.988z"}));function k8(){return k8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k8.apply(null,arguments)}var w8e=({styles:t={},...e})=>ce.createElement("svg",k8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676 0C7.943.007.834 6.45.104 14.16c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 4.958 23.394.313 16.978.032A18.529 18.529 0 0015.676 0zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.011 3.039l-7.619 5.53 2.91 8.95h9.418l2.91-8.95-7.619-5.53z"}));function O8(){return O8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O8.apply(null,arguments)}var E8e=({styles:t={},...e})=>ce.createElement("svg",O8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.84.042C8.654-.01 1.913 5.437.4 12.454-1.057 18.62 1.554 25.495 6.784 29.09c5.076 3.636 12.31 3.92 17.59.544 5.309-3.251 8.435-9.744 7.445-15.921C30.91 7.307 25.795 1.738 19.442.422a16.064 16.064 0 00-3.602-.38zm.382 5.01c5.28-.017 10.13 4.353 10.669 9.61.687 5.025-2.552 10.281-7.423 11.792-4.754 1.617-10.486-.447-12.962-4.856-2.74-4.575-1.574-11.094 2.768-14.27a11.05 11.05 0 016.948-2.276z"}));function R8(){return R8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R8.apply(null,arguments)}var S8e=({styles:t={},...e})=>ce.createElement("svg",R8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 3.492c-2.261 4.07-4.532 8.136-6.797 12.204h13.595L15.999 8.55z"}));function P8(){return P8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P8.apply(null,arguments)}var C8e=({styles:t={},...e})=>ce.createElement("svg",P8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.676.051C7.943.058.834 6.501.104 14.21c-.783 6.565 2.912 13.427 8.942 16.216 5.6 2.737 12.789 1.87 17.434-2.344 4.725-4.09 6.79-11.06 4.714-17.006C29.22 5.009 23.394.364 16.978.083A18.532 18.532 0 0015.676.05zm.317 5.006c5.695-.165 10.916 4.858 10.983 10.555.246 5.212-3.67 10.33-8.864 11.204-5.026 1.007-10.6-1.898-12.36-6.777-1.894-4.826.039-10.928 4.649-13.46a11.082 11.082 0 015.592-1.522zm.006 2.859c-5.264-.2-9.495 5.551-7.755 10.516 1.366 5.085 8.108 7.436 12.339 4.301 4.455-2.807 4.708-9.943.462-13.058A8.128 8.128 0 0016 7.915z"}));function A8(){return A8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A8.apply(null,arguments)}var k8e=({styles:t={},...e})=>ce.createElement("svg",A8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M7.295 4.78h1.779V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.78V4.78zm3.557 0h1.78V3.003h-1.78V4.78zm3.558 0h1.78V3.003h-1.78V4.78zm3.558 0h1.779V3.003h-1.779V4.78zm3.558 0c.55.014 1.106-.034 1.654.045l.245-1.762c-.629-.096-1.266-.05-1.9-.061V4.78zM5.732 3.004a5.933 5.933 0 00-.915.093c.111.582.226 1.164.315 1.75.358-.101.947.098.746-.483-.096-.382.164-1.208-.146-1.36zm22.372 2.281c.427.234.812.547 1.13.915.42-.4 1.002-.777 1.33-1.18a5.863 5.863 0 00-1.593-1.289l-.867 1.554zm-25.27-1.44c-.587.354-1.11.811-1.539 1.345.47.333.96.86 1.417 1.077.299-.362.66-.673 1.065-.913-.328-.493-.55-1.055-.944-1.509zM30.515 7.26c-.563.046-.557.342-.378.784.154.25-.097.862.25.85.525-.023 1.14.043 1.612-.032a5.891 5.891 0 00-.362-2.027l-1.122.425zM.268 7.114A6.042 6.042 0 000 9.052h1.78c-.013-.5.047-1.003.208-1.478L.296 7.027l-.026.079-.002.008zM30.22 12.45H32v-1.779h-1.779v1.779zm-30.22.16h1.78v-1.779H0v1.78zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.779H0v1.779zm30.22 3.398H32v-1.78h-1.779v1.78zm-30.22.16h1.78v-1.78H0v1.78zm30.22 3.397H32v-1.779h-1.779v1.78zm-30.22.16h1.78v-1.778H0v1.778zm30.137 1.47a4.059 4.059 0 01-.522 1.32c.506.283 1.046.715 1.53.908a5.836 5.836 0 00.744-1.918c-.576-.094-1.209-.264-1.752-.31zm-29.984.51c.157.676.435 1.325.82 1.904l1.486-.977a4.065 4.065 0 01-.577-1.347l-1.73.42zm28.427 1.943c-.371.277-.79.49-1.234.627l.548 1.693a5.84 5.84 0 001.835-.96l-1.082-1.412-.066.05-.001.002zm-26.164 1.47c.567.413 1.21.722 1.886.907.14-.569.343-1.175.444-1.722a4.062 4.062 0 01-1.283-.624l-1.047 1.438zm3.88 1.119h1.779v-1.78h-1.78v1.78zm3.55 0h1.787v-1.78H9.846v1.78zm3.565 0h1.78v-1.78h-1.78v1.78zm3.558 0h1.78v-1.78h-1.78v1.78zm3.451 0h1.743v-1.78h-1.743v1.78zm3.665 0h1.779v-1.78h-1.78v1.78zm-1.922-.545V16.776H9.846V29.25h12.318zM10.967 17.905h10.068V27.97H10.967V17.905zm1.336 3.998v1.711h7.396v-1.711h-7.396z",opacity:".97"}));function T8(){return T8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T8.apply(null,arguments)}var O8e=({styles:t={},...e})=>ce.createElement("svg",T8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.327 6.79v.007l-.145.027-.118.08-.083.123-.028.145v4.954L11.793 10.8l-.125-.08-.14-.029-.144.027-.122.082-.46.46-.085.125-.026.142.028.14.08.125 3.505 3.505H9.347l-.001-.002-.145.032-.118.08-.083.122-.028.146v.652l.029.147.082.119.12.08.144.032h4.956L10.8 20.207v-.001l-.084.124-.026.142.028.14.08.124.46.461.126.082.14.029.143-.027.124-.084L15.3 17.69v4.964-.001l.028.147.082.12.12.08.144.031h.652l.148-.03.118-.08.083-.12.028-.146v-4.962l3.505 3.505.126.082.14.027.142-.027.124-.084.461-.46.083-.123s.028-.144.027-.146l-.028-.14-.082-.126-3.496-3.496h4.948l.148-.03.119-.08.082-.12.028-.147v-.652l-.028-.145-.083-.122-.119-.08s-.147-.033-.147-.031h-4.964l3.512-3.512.082-.122.029-.144-.028-.14-.084-.124-.46-.461-.123-.082-.14-.027-.145.027-.122.082-3.507 3.507V9.348l-.028-.146-.082-.122-.12-.08-.147-.029h-.652z"}));function I8(){return I8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I8.apply(null,arguments)}var R8e=({styles:t={},...e})=>ce.createElement("svg",I8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm0 5.876l-.254.185-7.377 5.355 2.915 8.964h9.433l2.915-8.964-7.631-5.54zm0 1.07l6.614 4.8-2.526 7.769h-8.175l-2.526-7.768 6.614-4.802z"}));function D8(){return D8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D8.apply(null,arguments)}var P8e=({styles:t={},...e})=>ce.createElement("svg",D8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.373a1.313 1.313 0 00-1.833 0L.373 15.084zm1.806.918L16 2.182l13.821 13.82L16 29.823 2.179 16.003z"}));function M8(){return M8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M8.apply(null,arguments)}var A8e=({styles:t={},...e})=>ce.createElement("svg",M8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm0 6.379a7.447 7.447 0 00-7.44 7.441A7.447 7.447 0 0016 23.443 7.447 7.447 0 0023.443 16a7.447 7.447 0 00-7.441-7.441zm0 .825a6.61 6.61 0 016.617 6.616A6.61 6.61 0 0116 22.618 6.61 6.61 0 019.385 16 6.61 6.61 0 0116 9.385z"}));function $8(){return $8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$8.apply(null,arguments)}var T8e=({styles:t={},...e})=>ce.createElement("svg",$8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.001 0a1.29 1.29 0 00-.917.373L.373 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.917.372A1.294 1.294 0 0016.002 0zM16 2.181l13.821 13.821L16 29.823 2.179 16.003 16 2.18zm-.377 5.708l-.168.032-.136.092-.096.14-.032.168v6.868h-6.87l-.002-.002-.166.037-.137.092v-.002l-.095.141-.033.167v.753s.032.169.034.17l.094.138.138.092.167.036h6.87v6.867l-.001-.001.033.17.095.138.138.092s.166.035.167.037h.752l.17-.036.137-.092.095-.137.033-.17v-6.867h6.868l.17-.035.137-.092.095-.137.033-.17v-.753s-.033-.165-.032-.167l-.096-.14-.138-.093s-.17-.037-.17-.035H16.81V8.323l-.033-.168-.094-.14-.138-.092-.17-.034h-.752z"}));function N8(){return N8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N8.apply(null,arguments)}var I8e=({styles:t={},...e})=>ce.createElement("svg",N8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16 0a1.29 1.29 0 00-.918.373L.371 15.084a1.316 1.316 0 00.002 1.834l14.71 14.709a1.313 1.313 0 001.833 0l14.711-14.711a1.316 1.316 0 00-.002-1.834L16.915.372A1.294 1.294 0 0016 0zm-.002 2.181l13.821 13.821-13.821 13.821-13.821-13.82L15.998 2.18zm-5.162 7.69l-.166.032-.141.096-.532.532s-.097.142-.097.144l-.03.164.032.162.093.144 4.857 4.858-4.855 4.855v-.001L9.9 21l-.03.164.032.162s.093.142.093.144l.531.532.146.095.162.032.164-.03.144-.097 4.855-4.856 4.857 4.857.145.095.162.032.164-.03.144-.097.531-.532.095-.14.033-.168-.033-.162-.095-.146L17.144 16 22 11.144l.095-.14.033-.166-.033-.163-.097-.144-.532-.532-.14-.095-.163-.032-.166.032-.141.095L16 14.855l-4.858-4.858v-.002l-.144-.092-.162-.032z"}));function L8(){return L8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L8.apply(null,arguments)}var D8e=({styles:t={},...e})=>ce.createElement("svg",L8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.34.016c-2.333.025-4.684 1.77-5.29 4.17C.608 5.848.88 7.608.804 9.314v2.922h2.041c.038-2.332-.076-4.673.062-7C3.14 3.355 4.869 1.938 6.643 2.04h8.956V.009c-3.086 0-6.173-.02-9.258 0v.007zm13.094 2.023h1.92V.009h-1.92v2.03zm5.756 0c1.265-.069 2.66.045 3.602 1.055 1.036.983 1.201 2.523 1.122 3.91v6.313h2.078c-.03-2.677.062-5.36-.047-8.032-.17-2.743-2.62-5.111-5.215-5.236-.511-.064-1.027-.02-1.54-.033v2.023zM.803 18.319h2.041v-2.026H.804v2.026zm29.11 1.084h2.08v-2.03h-2.08v2.03zM.804 26.148c.004 2.218 1.393 4.366 3.313 5.28 1.728.853 3.681.448 5.521.544.43-.112 1.29.231 1.435-.183v-1.847c-1.788-.043-3.584.094-5.365-.082-1.67-.354-2.919-2.048-2.863-3.844v-3.644H.804v3.777zm29.11-.068c.04 1.961-1.508 3.787-3.381 3.842-1.954.06-3.914.02-5.87.026v2.03c2.118-.042 4.242.08 6.355-.063 2.524-.264 4.818-2.644 4.94-5.323.08-1.039.014-2.085.035-3.126h-2.078v2.613zm-15.006 5.898h1.92v-2.03h-1.92v2.03z"}));function j8(){return j8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j8.apply(null,arguments)}var VD=({styles:t={},...e})=>ce.createElement("svg",j8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.111.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.454 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 5.021zm-3.956 3.946l-3.096 3.097 3.985 3.985-3.913 3.913 3.047 3.048 3.913-3.913 3.988 3.987 3.097-3.096L19.076 16l3.914-3.913-3.048-3.048-3.913 3.913-3.986-3.985zm-.002 1.222l3.988 3.987 3.913-3.913 1.826 1.826-3.913 3.913 3.985 3.986-1.873 1.873-3.985-3.985-3.913 3.913-1.827-1.827 3.914-3.913-3.988-3.987 1.873-1.873z"}));function B8(){return B8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B8.apply(null,arguments)}var HD=({styles:t={},...e})=>ce.createElement("svg",B8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.793l-7.157 5.055v-5.055zm-.865 1.665v7.125l-5.048-3.562 5.048-3.563zm7.161 0v7.132l-5.048-3.566 5.048-3.566z"}));function F8(){return F8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F8.apply(null,arguments)}var UD=({styles:t={},...e})=>ce.createElement("svg",F8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-5.352 4.266V22.761h10.716V9.279H10.642zm.863.866h8.987v11.75h-8.987v-11.75zm.927 1.323v.862h7.133v-.862h-7.133zm0 2.602v.866h7.133v-.866h-7.133zm0 3.008v.862h7.133v-.862h-7.133zm0 2.717v.863h7.133v-.863h-7.133z"}));function z8(){return z8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z8.apply(null,arguments)}var WD=({styles:t={},...e})=>ce.createElement("svg",z8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm6.132 4.194c-1.21 2.455-2.422 4.91-3.633 7.364l-4.516-5.875-4.103 12.133 4.6-5.912c1.58 1.81 3.162 3.619 4.744 5.429L22.13 9.215zM14.383 13.1l4.295 5.445 1.073-2.387-1.027 4.131-4.384-5.157-1.778 2.75 1.821-4.782z"}));function q8(){return q8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q8.apply(null,arguments)}var GD=({styles:t={},...e})=>ce.createElement("svg",q8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156zm.032 2.929c.822 2.586 1.598 5.186 2.42 7.771l-2.42-2.612c-.682.597-2.452 2.884-2.338 2.388.87-2.487 1.447-5.067 2.338-7.547z"}));function V8(){return V8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V8.apply(null,arguments)}var KD=({styles:t={},...e})=>ce.createElement("svg",V8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912zm.974 2.584l3.61 4.295-3.61 4.294v-1.933h-7.88v-4.688h7.88v-1.968z"}));function H8(){return H8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H8.apply(null,arguments)}var XD=({styles:t={},...e})=>ce.createElement("svg",H8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm-7.245 5.475v11.06h14.502v-11.06H8.754zm3.222 1.728h8.057c-1.427.878-2.854 2.806-4.281 3.016l-3.776-3.016zm9.554 1.017v6.587H10.48V13.24l5.524 4.414 5.526-4.414z"}));function U8(){return U8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U8.apply(null,arguments)}var YD=({styles:t={},...e})=>ce.createElement("svg",U8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.531 2.91 8.95h9.42l2.91-8.95-7.62-5.53zm0 1.067l6.604 4.794-2.523 7.757h-8.162l-2.522-7.757 6.603-4.794z"}));function W8(){return W8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W8.apply(null,arguments)}var QD=({styles:t={},...e})=>ce.createElement("svg",W8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M10.638 9.563V23.056h10.724V9.563H10.638zm.863.866h8.995v11.76H11.5V10.43zm.928 1.324v.862h7.139v-.862h-7.14zm0 2.605v.866h7.139v-.866h-7.14zm0 3.01v.863h7.139v-.863h-7.14zm0 2.72v.863h7.139v-.864h-7.14zM15.999.308h-.004l-.188.001h-.011l-.188.004h-.011L15.41.32h-.011l-.187.008h-.005L15.2.33l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.37h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003.178-.001h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 1.023l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.62h-.005l-.005-.002-.182-.035h-.006L18.938.58l-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.43 17.783.41l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.37h-.005L17.38.368l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.328h-.011L16.6.32h-.011l-.187-.006h-.011L16.204.31h-.011L16.005.31H16zm9.016 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zm-18.381.344l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003L4.682 5l-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.595h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01L16.32 3.6h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 13.135l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187V16.7l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zm-30.21.572l-.161.001-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158-.074-.155-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178-.001-.177v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057-.159-.028zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14v-.005l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 23.019l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 27.127l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function G8(){return G8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G8.apply(null,arguments)}var ZD=({styles:t={},...e})=>ce.createElement("svg",G8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.012 9.222c-1.673 4.657-2.735 9.508-4.409 14.164 1.536-1.526 2.874-3.236 4.41-4.762l4.408 4.762c-1.497-4.712-2.911-9.451-4.409-14.164zm.032 2.93c.823 2.588 1.599 5.19 2.421 7.777l-2.42-2.614c-.683.598-2.454 2.886-2.34 2.39.871-2.489 1.448-5.07 2.34-7.552zM16.012.312c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function K8(){return K8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K8.apply(null,arguments)}var JD=({styles:t={},...e})=>ce.createElement("svg",K8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M8.742 10.464v11.072h14.516V10.464H8.742zm3.224 1.73h8.066a69569 69569 0 00-4.034 3.22l-4.032-3.22zm9.565 1.018v6.594H10.469v-6.593L16 17.63l5.532-4.419zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z"}));function X8(){return X8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X8.apply(null,arguments)}var eM=({styles:t={},...e})=>ce.createElement("svg",X8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M23.637 13.902l-7.625-5.535-7.624 5.535 2.912 8.956h9.425l2.912-8.956zm-1.017.33l-2.524 7.762H11.93l-2.524-7.762 6.607-4.796 6.608 4.796zM16.012.311c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function Y8(){return Y8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y8.apply(null,arguments)}var tM=({styles:t={},...e})=>ce.createElement("svg",Y8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M13.51 9.081v4.428H9.08v4.982h4.428v4.428h4.982V18.49h4.428v-4.982H18.49V9.081h-4.982zm.83.83h3.32v4.428h4.429v3.322H17.66v4.428h-3.32v-4.454H9.91v-3.296h4.428V9.911zM16 0h-.005l-.188.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.011L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.185.027h-.005l-.005.001-.184.029h-.005l-.005.001-.183.031-.006.001-.005.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.176.027.17.03.174.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.087-.135.061-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.145-.073-.128-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.006-.001-.183-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06h-.005L17.38.06l-.187-.015h-.005l-.005-.001-.187-.013h-.011L16.8.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0H16zm9.015 2.935l-.16.004-.158.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.126.125.124.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.084.152.084.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.16-.016.155-.046.144-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.003-.005-.002-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.003-.005-.101-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.005-.003-.004-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.004-.004-.003-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.004-.004-.132-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027zM6.634 3.28l-.161.008-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.004-.003.005-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.004-.003.005-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023zM16 3.286h-.005l-.148.001h-.01l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.047.12.048.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.139-.107-.12-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.006-.002-.005-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.142-.031-.005-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.002-.143-.025-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.011l-.147-.001H16zm-5.482 1.366l-.16.008-.157.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.005.003-.004.004-.11.096-.004.004-.004.003-.11.098-.003.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.004.004-.003.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.004-.086.118-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.03.15-.057.138-.085.119-.109.082-.105.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022zm13.91 2.116l-.162.008-.157.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.025.159.055.152.082.138.086.103.09.09.094.098.092.099.093.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.114.068.118.067.115.065.118.064.117.062.117.061.121.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.048.127.047.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.085.137.11.119.129.096.145.07.155.043.16.013.161-.017.154-.046.144-.075.126-.1.106-.12.082-.14.055-.151.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.06-.132-.001-.005-.002-.004-.061-.132-.003-.004-.002-.005-.063-.13-.002-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.074-.125-.002-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.081-.12-.003-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.118-.003-.004-.004-.004-.087-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.094-.113-.003-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.11-.004-.003-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023zM4.45 12.826l-.161.002-.158.032-.15.06-.135.088-.118.11-.094.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.005-.019.145v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.005l-.001.006-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.005.033.142v.005l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.104.102-.125.076-.142.049-.153.02-.16-.011-.161-.031-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.133-.024-.133-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.133.01-.138.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029zm26.698 1.601l-.161.01-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.025.175-.026.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.16-.062.165-.062.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.079.158-.08.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.119.13.097.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.005.002-.004.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.171.001-.005.002-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.181.001-.005.001-.005.037-.182.002-.005v-.005l.036-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02zM.938 15L.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.004.074.17.002.005.002.004.076.169.002.004.002.005.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.157-.07-.16-.068-.16-.067-.165-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15zm26.798 2.024l-.16.007-.157.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.133-.026.133-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.063.119-.062.116-.067.119-.066.116-.069.115-.069.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.107-.085.11-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.081-.12.003-.005.003-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.005.003-.004.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.002-.005.003-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.001-.006.042-.138.001-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.142.001-.005.001-.005.031-.141.001-.006.002-.005.029-.142v-.005l.002-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022zM6.841 22.71l-.16.024-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.109.04.048.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.105.004.004.004.004.103.105.004.004.004.003.105.104.003.004.004.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.004.003.005.004.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.002.126.073.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.067.005.003.004.002.13.066.004.002.005.003.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.002.133.057.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.16-.015.156-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.159-.061-.149-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.08-.11-.08-.109-.081-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006zm15.063 2.701l-.16.014-.156.044-.12.057-.06.034-.12.066-.117.064-.118.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.035-.13.036-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021.005-.001h.006l.143-.023.006-.001h.005l.143-.025h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.037h.005l.005-.002.14-.038.005-.002h.005l.14-.04.005-.002.005-.001.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.057.005-.002.005-.002.132-.057.005-.003.005-.002.132-.06.005-.001.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.003.005-.002.128-.066.005-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.003.065-.037.132-.093.112-.115.089-.135.062-.149.034-.157.003-.161-.026-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.046-.16-.016zM6.33 26.818l-.16.023-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.004.003.005.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.002.162.088.005.003.004.002.164.086.005.003.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.168.076.005.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.06.005.003.005.001.175.06.005.001.005.002.176.057.005.001.005.002.176.055.006.001.005.002.177.052.005.002.005.001.178.05.005.002.005.002.178.048.006.001.005.002.179.046.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.17-.044-.168-.046-.167-.047-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006zm19.215.087l-.16.01-.157.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.158.073-.157.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.047-.17.046-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.007.133-.016.115-.024.005-.001.005-.001.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002.005-.001.18-.046.004-.002h.005l.179-.05h.005l.005-.002.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.004-.002.005-.002.172-.068.005-.002.005-.002.171-.07.005-.001.005-.002.17-.072.005-.002.004-.002.17-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.003.167-.08.004-.002.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.003.163-.086.005-.002.005-.003.162-.088.005-.002.005-.003.161-.09.005-.002.004-.003.16-.092.005-.003.005-.002.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.003.155-.101.005-.003.004-.003.154-.104.004-.003.004-.003.153-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.112.004-.003.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02z",opacity:".98"}));function Q8(){return Q8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q8.apply(null,arguments)}var nM=({styles:t={},...e})=>ce.createElement("svg",Q8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.012 8.816L9.21 21.026h13.606l-6.803-12.21zm0 1.776l5.332 9.57H10.681l5.331-9.57zm0-10.281c-1.448.02-2.93.157-4.302.628-.852.447-.255 1.863.66 1.574 2.255-.608 4.648-.607 6.922-.108.934.075 1.228-1.376.338-1.67C18.451.44 17.227.317 16.012.311zm9.012 2.934c-.913-.104-1.272 1.258-.454 1.648 1.834 1.36 3.293 3.185 4.31 5.22.526.776 1.842.098 1.515-.78a15.522 15.522 0 00-5.06-6.006c-.1-.044-.203-.07-.31-.082zM6.65 3.59c-.762.089-1.24.809-1.805 1.267C3.38 6.295 2.163 8.007 1.37 9.905c-.266.898 1.094 1.484 1.564.675a14.825 14.825 0 014.327-5.56c.476-.515.09-1.419-.612-1.431zm9.362.007c-.698.066-1.689-.16-2.033.635-.282.733.535 1.358 1.217 1.125 1.806-.147 3.63.203 5.293.907.902.255 1.472-1.112.656-1.573-1.6-.735-3.374-1.089-5.133-1.094zm-5.479 1.365c-.835.15-1.517.76-2.21 1.226-1.203.94-2.318 2.061-3.057 3.402-.33.904 1.063 1.552 1.547.723 1.045-1.656 2.596-2.925 4.285-3.873.545-.499.171-1.463-.565-1.478zm13.903 2.115c-.875-.07-1.22 1.173-.501 1.627 1.325 1.34 2.188 3.062 2.748 4.84.468.84 1.869.21 1.557-.699-.604-2.118-1.751-4.097-3.351-5.615a.93.93 0 00-.453-.153zM4.467 13.132c-.822-.07-.996.826-1.046 1.455-.256 1.93-.094 3.933.562 5.769.406.844 1.807.365 1.612-.551a11.498 11.498 0 01-.334-5.808.874.874 0 00-.794-.865zm26.687 1.6c-.746-.037-1.014.785-.879 1.395.043 2.393-.57 4.771-1.66 6.894-.31.884 1.02 1.536 1.53.75a15.632 15.632 0 001.821-8.372.876.876 0 00-.812-.667zm-30.197.571c-.782-.073-1.044.775-.933 1.404.068 2.414.661 4.833 1.809 6.962.534.77 1.842.076 1.505-.798a14.833 14.833 0 01-1.603-6.861.876.876 0 00-.778-.707zm26.787 2.024c-.777-.048-.952.797-1.021 1.392-.354 1.692-1.202 3.231-2.216 4.608-.407.872.925 1.638 1.48.852 1.361-1.733 2.296-3.827 2.582-6.017a.874.874 0 00-.825-.835zM6.857 23.012c-.808.018-1.082 1.122-.47 1.59 1.393 1.607 3.187 2.886 5.194 3.599.91.222 1.43-1.165.598-1.596a11.495 11.495 0 01-4.723-3.396.899.899 0 00-.599-.197zm15.057 2.7c-.81.194-1.504.76-2.325.972-1.203.458-2.5.536-3.758.664-.869.307-.573 1.728.346 1.663 2.201-.034 4.412-.626 6.293-1.778.604-.495.227-1.532-.556-1.521zM6.346 27.118c-.833.008-1.11 1.218-.395 1.617 1.986 1.602 4.358 2.749 6.868 3.226.933.076 1.227-1.376.338-1.67a14.838 14.838 0 01-6.345-3.066.929.929 0 00-.466-.107zm19.208.087c-.766.09-1.241.841-1.922 1.158-1.516.991-3.251 1.58-4.996 2.005-.872.405-.346 1.849.584 1.604 2.543-.526 4.98-1.66 6.963-3.344.47-.52.072-1.42-.63-1.423z"}));function Z8(){return Z8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z8.apply(null,arguments)}var rM=({styles:t={},...e})=>ce.createElement("svg",Z8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.998 8.406c-3.018-.041-5.92 1.926-7.031 4.727-1.138 2.695-.51 6.012 1.537 8.103 1.99 2.141 5.268 2.93 8.014 1.927 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.88-4.3-7.137a7.552 7.552 0 00-3.288-.75zm0 1.384c2.759-.052 5.373 1.973 6.015 4.655.704 2.578-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.086-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86zm1.962 1.765l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.615c-.252-.14-.505-.278-.757-.417zm-1.965-8.268h-.158l-.147.003h-.011l-.147.005h-.011l-.146.007h-.011l-.146.009h-.011l-.146.01h-.005l-.005.001-.146.012h-.011l-.145.014h-.006l-.005.001-.05.006-.158.031-.15.06-.135.088-.117.111-.094.13-.069.147-.04.156-.01.16.019.16.049.154.076.142.102.125.123.105.14.08.152.051.16.023.134-.003.045-.005.135-.013.133-.01.136-.01.135-.007.137-.006.136-.004.136-.003h.274l.136.003.136.004.136.006.136.007.136.01.133.01.135.013.135.014.135.016.134.018.132.018.134.021.133.023.133.024.133.025.13.027.132.03.132.03.129.031.13.034.129.035.129.036.13.04.126.038.128.042.126.042.128.045.127.047.126.048.12.047.127.051.123.052.006.002.147.048.16.021.16-.009.157-.038.147-.067.131-.093.112-.116.089-.135.062-.149.033-.158.004-.16-.027-.16-.055-.151-.083-.138-.107-.121-.127-.099-.118-.063-.004-.001-.005-.003-.005-.002-.133-.056-.005-.002-.005-.002-.134-.054-.004-.002-.005-.002-.135-.053-.005-.002-.005-.002-.135-.051-.005-.002-.005-.002-.135-.05-.005-.001-.005-.002-.137-.048-.005-.001-.005-.002-.137-.046-.005-.002-.005-.002-.137-.044-.005-.002-.005-.001-.138-.043-.005-.002-.006-.001-.138-.042-.005-.001-.005-.002-.14-.04H19.4l-.005-.002-.14-.038-.005-.001-.005-.002-.14-.036-.005-.001-.005-.001-.141-.035-.005-.001-.005-.001-.142-.033-.005-.001-.005-.001-.141-.031-.006-.002h-.005l-.142-.03-.005-.001-.005-.001-.143-.028h-.005l-.005-.001-.143-.026-.006-.001-.005-.001-.143-.024-.005-.001-.006-.001-.143-.022-.006-.001h-.005l-.144-.022h-.005l-.006-.001-.144-.019h-.005l-.006-.001-.144-.017h-.006l-.005-.001-.145-.016h-.011l-.145-.014H17.1l-.005-.001-.146-.012h-.01l-.146-.01-.006-.001h-.005l-.146-.009h-.011l-.147-.006h-.01l-.147-.005h-.011l-.147-.003h-.01l-.148-.001h-.01zM10.357 4.66l-.156.037-.123.053-.06.032-.005.002-.004.003-.128.069-.004.002-.005.003-.126.07-.005.003-.004.002-.126.072-.005.003-.004.003-.125.073-.004.003-.005.003-.124.075-.004.003-.005.002-.123.077-.004.003-.005.003-.122.078-.004.003-.005.003-.121.08-.004.002-.005.003-.12.082-.005.003-.004.003-.12.083-.004.003-.004.003-.118.084-.005.003-.004.003-.118.086-.004.003-.004.003-.117.088-.004.003-.004.003-.116.089-.004.003-.004.004-.114.09-.005.003-.004.003-.113.092-.004.004-.004.003-.113.093-.004.004-.004.003-.111.095-.004.003-.005.004-.11.096-.004.004-.004.003-.109.098-.004.003-.004.004-.108.1-.004.003-.004.003-.107.101-.004.004-.004.003-.106.102-.003.004-.004.004-.105.103-.004.004-.004.004-.103.105-.004.004-.004.003-.102.106-.003.004-.004.004-.1.107-.004.004-.004.004-.099.108-.004.004-.003.004-.098.11-.003.003-.004.004-.096.11-.004.005-.003.004-.095.111-.003.004-.004.004-.093.113-.003.004-.004.004-.092.113-.003.004-.003.005-.09.114-.004.004-.003.004-.089.116-.003.004-.003.004-.088.117-.003.004-.003.005-.086.117-.003.004-.003.005-.084.118-.003.004-.003.005-.083.12-.003.003-.003.005-.082.12-.003.005-.002.004-.068.103-.076.142-.048.154-.018.16.011.161.041.156.07.146.095.13.117.11.136.086.15.06.158.03.162.002.158-.029.15-.058.138-.085.119-.108.082-.106.065-.099.075-.11.077-.113.077-.107.08-.11.08-.108.084-.108.083-.105.086-.106.086-.104.088-.104.089-.101.09-.102.093-.101.093-.099.094-.097.095-.096.098-.097.098-.095.099-.093.1-.092.103-.091.101-.089.104-.088.104-.086.106-.086.106-.083.106-.082.109-.082.108-.079.11-.078.11-.076.112-.076.112-.074.113-.072.113-.071.115-.07.115-.068.118-.067.117-.065.12-.065.054-.029.135-.088.116-.111.094-.132.068-.146.04-.156.009-.161-.02-.16-.05-.153-.078-.142-.102-.125-.123-.103-.141-.079-.153-.051-.16-.022-.16.008zm13.91 2.116l-.158.037-.147.066-.132.092-.113.116-.09.134-.063.148-.034.157-.005.162.026.159.054.152.082.139.086.102.09.09.094.098.093.099.092.1.091.103.089.101.088.104.086.104.086.106.083.105.083.108.08.108.081.11.077.107.077.112.075.111.075.114.072.113.071.113.07.115.068.117.067.115.065.118.064.117.062.118.061.12.059.119.059.122.056.121.054.12.055.125.051.123.051.125.048.123.049.127.046.126.044.125.043.128.042.129.039.126.038.13.022.076.058.15.086.137.109.119.129.096.145.07.155.043.16.013.161-.017.155-.046.143-.074.126-.1.106-.122.082-.138.055-.152.025-.16-.005-.16-.026-.132-.023-.082-.002-.005-.001-.005-.042-.139-.001-.005-.002-.005-.043-.138-.001-.005-.002-.005-.044-.137-.002-.005-.002-.005-.046-.137-.002-.005-.001-.005-.048-.137-.002-.005-.002-.005-.05-.135-.001-.005-.002-.005-.051-.135-.002-.005-.002-.005-.053-.135-.002-.005-.002-.005-.054-.133-.002-.005-.002-.005-.057-.133-.002-.005-.002-.005-.057-.132-.003-.005-.002-.005-.059-.132-.002-.005-.002-.004-.061-.132-.003-.004-.002-.005-.062-.13-.003-.005-.002-.005-.064-.13-.003-.004-.002-.005-.066-.129-.002-.004-.003-.005-.067-.128-.002-.005-.003-.004-.069-.128-.002-.004-.003-.005-.07-.126-.003-.005-.003-.004-.072-.126-.002-.005-.003-.004-.073-.125-.003-.004-.003-.005-.075-.124-.003-.004-.003-.005-.076-.123-.003-.004-.003-.005-.078-.122-.003-.004-.003-.005-.08-.121-.003-.004-.003-.005-.08-.12-.004-.005-.003-.004-.083-.12-.003-.004-.003-.004-.084-.118-.003-.005-.003-.004-.086-.117-.003-.005-.003-.004-.088-.117-.003-.004-.003-.004-.09-.116-.002-.004-.004-.004-.09-.114-.003-.005-.004-.004-.091-.113-.004-.004-.003-.004-.093-.113-.004-.004-.003-.004-.095-.111-.004-.004-.003-.004-.096-.11-.004-.005-.003-.004-.098-.109-.004-.004-.003-.004-.1-.108-.003-.004-.004-.004-.1-.107-.004-.004-.004-.004-.102-.106-.003-.003-.004-.004-.093-.095-.124-.103-.14-.08-.153-.05-.16-.023-.16.008zM4.288 12.828l-.158.032-.15.06-.135.088-.117.11-.095.131-.069.146-.035.129-.026.132v.005l-.002.005-.025.143-.001.005-.001.006-.024.143-.001.005-.001.006-.022.143-.001.006-.001.005-.02.144-.001.005-.001.006-.019.144v.005l-.001.006-.017.144v.006l-.001.005-.016.145v.011l-.014.145v.006l-.001.005-.012.146v.01l-.01.146-.001.006v.005l-.009.146v.011l-.007.146v.011l-.004.147v.011l-.003.147v.01l-.002.148v.01l.001.148v.01l.003.147v.011l.005.147v.01l.007.147v.011l.009.146v.011l.01.146v.01l.013.146v.011l.014.145v.005l.001.006.016.145v.011l.018.144v.006l.001.005.019.144v.006l.001.005.021.144v.005l.002.006.022.143v.006l.002.005.024.143v.005l.002.006.025.143.001.005.001.005.028.143.001.005.001.005.03.142v.005l.002.006.03.141.002.005.001.006.033.14v.006l.002.005.035.14v.006l.002.005.036.14.002.005.001.005.038.14.001.005.002.005.04.14v.005l.002.005.042.138.001.006.002.005.042.138.002.005.002.005.017.054.064.148.09.134.114.114.132.092.148.065.157.037.16.007.16-.023.153-.052.14-.08.123-.103.102-.126.076-.142.049-.153.02-.16-.01-.161-.032-.13-.017-.051-.039-.126-.038-.13-.037-.128-.035-.13-.033-.128-.033-.134-.03-.13-.029-.131-.026-.13-.026-.132-.024-.134-.023-.133-.02-.132-.02-.136-.017-.132-.016-.135-.014-.135-.012-.133-.012-.138-.009-.133-.007-.136-.006-.138-.004-.134-.003-.136v-.274l.003-.136.004-.134.006-.139.007-.136.01-.132.01-.139.013-.132.014-.135.016-.135.017-.132.02-.137.02-.13.023-.134.024-.133.024-.126.016-.16-.014-.161-.044-.155-.072-.145-.098-.128-.12-.108-.137-.084-.15-.057-.16-.029-.16.002zm23.286 4.202l-.156.038-.148.066-.132.092-.113.115-.09.134-.062.148-.03.127-.001.004-.023.134-.024.134-.026.132-.026.13-.03.132-.03.129-.032.134-.033.128-.035.13-.037.128-.038.13-.04.126-.04.128-.044.128-.044.126-.046.126-.048.126-.05.125-.05.125-.051.122-.054.123-.055.122-.056.12-.058.122-.06.12-.061.12-.062.119-.063.116-.067.119-.066.116-.068.115-.07.115-.07.113-.073.113-.074.112-.076.113-.077.112-.077.107-.08.11-.08.108-.085.109-.044.056-.088.135-.06.15-.033.158-.002.16.027.16.057.15.083.138.108.12.128.098.144.072.155.045.16.015.161-.016.155-.044.144-.073.128-.098.09-.099.05-.061.003-.004.003-.005.089-.115.003-.004.003-.005.088-.116.003-.004.003-.005.086-.117.003-.004.003-.005.084-.118.003-.004.003-.005.083-.12.003-.004.003-.004.082-.12.003-.005.002-.004.08-.121.003-.005.003-.004.078-.122.003-.005.003-.004.077-.123.002-.005.003-.004.075-.124.003-.005.003-.004.073-.125.003-.004.003-.005.072-.126.002-.004.003-.005.07-.126.003-.005.002-.005.07-.127.002-.004.002-.005.068-.128.002-.005.002-.004.066-.13.003-.004.002-.005.064-.13.002-.004.003-.005.062-.13.003-.005.002-.005.06-.13.003-.005.002-.005.06-.132.002-.005.002-.005.057-.132.003-.005.002-.005.056-.133.002-.005.002-.005.054-.134.002-.004.002-.005.053-.135.002-.005.002-.005.051-.135.002-.005.002-.005.05-.135.001-.005.002-.005.048-.137.001-.005.002-.005.046-.137.002-.005.002-.005.044-.137.002-.005.002-.005.042-.138.002-.005.002-.006.04-.138.002-.005.002-.005.04-.14V19.4l.002-.005.038-.14.001-.005.002-.005.036-.14.001-.005.001-.005.035-.141.001-.005.001-.005.033-.141.001-.006.001-.005.031-.141.002-.006v-.005l.03-.142.001-.005.001-.005.028-.143v-.005l.002-.005.025-.143.001-.006.001-.005.024-.143.001-.005.001-.006.001-.006.01-.161-.02-.16-.05-.154-.077-.141-.102-.125-.123-.104-.141-.079-.153-.051-.16-.022-.16.007zM6.681 22.734l-.152.053-.14.08-.122.105-.101.126-.076.142-.048.154-.018.16.011.161.041.156.07.146.077.11.04.047.003.004.003.004.095.111.003.004.004.004.096.11.004.005.003.004.098.109.003.004.004.004.1.108.003.004.003.004.101.107.004.004.003.004.102.106.004.003.004.004.103.105.004.004.004.004.105.103.004.004.003.003.106.102.004.004.004.004.107.1.004.004.004.004.108.099.004.003.004.004.11.098.003.003.004.004.11.096.005.004.004.003.11.095.005.003.004.004.113.093.004.003.004.004.113.091.004.004.005.003.114.09.004.004.004.003.116.089.004.003.004.003.117.088.004.003.004.003.118.086.004.003.005.003.118.084.004.003.005.003.119.083.004.003.005.003.12.081.005.003.004.003.121.08.005.003.004.003.122.078.005.003.004.003.123.076.005.003.004.003.124.075.005.003.004.003.125.073.004.003.005.003.126.072.004.002.005.003.126.07.005.003.004.002.128.07.004.002.005.002.128.068.005.002.004.002.13.066.004.003.005.002.13.064.004.002.005.003.13.062.005.002.004.003.132.06.004.003.005.002.132.06.005.002.005.002.132.057.005.002.005.003.133.056.005.002.005.002.133.054.005.002.005.002.13.05.154.045.16.016.161-.015.155-.045.144-.072.128-.098.108-.12.083-.138.057-.15.028-.16-.003-.16-.032-.158-.061-.15-.088-.135-.11-.117-.132-.094-.12-.058-.124-.049-.126-.051-.122-.051-.122-.054-.12-.054-.126-.058-.119-.057-.12-.06-.12-.06-.118-.063-.117-.064-.119-.066-.116-.066-.115-.068-.115-.07-.113-.07-.115-.074-.112-.074-.11-.075-.11-.076-.112-.079-.11-.08-.109-.082-.106-.082-.104-.082-.106-.086-.105-.087-.101-.086-.105-.091-.1-.09-.1-.091-.1-.094-.097-.094-.1-.098-.093-.095-.096-.1-.093-.098-.092-.101-.089-.1-.09-.102-.088-.104-.036-.043-.114-.114-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm15.063 2.691l-.156.044-.12.057-.06.034-.12.066-.116.064-.119.062-.12.061-.12.06-.118.057-.126.058-.12.054-.122.054-.122.05-.126.052-.125.05-.124.046-.127.047-.125.044-.129.043-.126.04-.13.042-.128.038-.127.036-.13.035-.131.034-.129.031-.132.03-.13.03-.135.027-.133.026-.13.023-.13.022-.137.021-.132.02-.134.017-.132.015-.138.015-.135.013-.133.01-.138.01-.136.007-.134.006-.136.004-.14.003-.16.018-.155.047-.142.076-.127.1-.105.122-.08.14-.054.151-.025.16.006.16.035.158.064.148.09.134.114.114.133.092.147.065.157.036.134.008.145-.002h.011l.147-.005h.01l.147-.007h.011l.146-.009h.011l.146-.01h.005l.005-.001.146-.012h.011l.145-.014h.005l.006-.001.145-.016h.011l.144-.018h.006l.005-.001.144-.02h.011l.144-.021h.005l.006-.002.143-.022h.006l.005-.002.143-.024h.005l.006-.002.143-.026h.005l.005-.002.143-.027.005-.001.005-.001.142-.03h.005l.005-.002.142-.03.005-.002.005-.001.142-.033.005-.001.005-.001.14-.035.006-.001.005-.001.14-.036.005-.002.005-.001.14-.038.005-.001.005-.002.14-.04h.005l.005-.002.138-.042.005-.001.006-.002.138-.043.005-.001.005-.002.137-.044.005-.002.005-.002.137-.046.005-.002.005-.001.137-.048.005-.002.005-.002.135-.05.005-.001.005-.002.135-.051.005-.002.005-.002.135-.053.005-.002.004-.002.134-.054.005-.002.005-.002.133-.056.005-.003.005-.002.132-.057.005-.002.005-.003.132-.059.005-.002.004-.002.131-.061.005-.003.005-.002.13-.062.005-.003.005-.002.13-.064.004-.002.005-.003.129-.066.004-.002.005-.003.128-.067.005-.002.004-.003.127-.069.005-.002.005-.003.126-.07.005-.003.004-.002.065-.038.132-.093.112-.115.089-.135.062-.149.034-.157.004-.161-.027-.16-.055-.15-.082-.14-.107-.12-.127-.1-.144-.073-.154-.045-.16-.017-.161.014zM15.994 0l-.187.001h-.011l-.188.004h-.011l-.187.006h-.011l-.187.008h-.005L15.2.02l-.187.01h-.005l-.005.001-.187.013h-.01L14.62.06h-.01l-.186.018h-.011l-.185.02-.005.001h-.006l-.185.022-.005.001h-.005l-.185.025h-.005l-.005.001-.184.027h-.006l-.005.001-.184.029h-.005l-.005.001-.183.031-.005.001-.006.001-.182.033-.006.001-.005.001-.182.035-.005.001-.005.001-.182.038h-.005l-.005.002-.181.04h-.005l-.005.002-.18.042-.006.001-.005.001-.18.044-.005.002h-.005l-.17.045-.152.054-.139.082-.121.106-.1.127-.074.143-.046.155-.017.16.013.16.043.156.07.145.097.13.119.108.137.085.15.058.159.03.16-.001.133-.023.165-.043.168-.041.171-.04.171-.037.172-.036.17-.033.173-.03.17-.03.177-.027.171-.025.175-.022.175-.02.175-.02.176-.016.175-.014.177-.012.176-.01.177-.007.174-.006.177-.003L16 1.73h.177l.178.004.174.006.177.007.176.01.177.012.175.014.176.017.175.018.175.02.175.023.171.025.177.027.17.03.173.03.17.033.171.036.154.033.16.02.161-.01.156-.04.146-.069.131-.094.111-.117.088-.135.06-.15.032-.158.002-.16-.027-.16-.057-.15L20 .714l-.108-.12-.128-.097-.144-.073-.129-.038-.158-.035-.005-.001-.005-.001L19.14.31h-.005l-.005-.002-.182-.035h-.006l-.005-.002-.182-.033h-.006l-.005-.002-.183-.03-.005-.001-.005-.001-.184-.029h-.005l-.006-.001-.184-.027h-.005l-.005-.001-.185-.024h-.005L17.968.12 17.783.1l-.006-.001h-.005l-.185-.02h-.006l-.005-.001L17.39.06 17.385.06h-.005l-.187-.015h-.005l-.005-.001-.187-.013h-.01L16.799.02h-.011L16.6.01h-.011l-.187-.006h-.011L16.204 0h-.011L16.005 0h-.01zm8.86 2.939l-.157.033-.15.062-.134.09-.116.111-.093.132-.067.147-.038.156-.01.161.022.16.05.153.078.141.103.124.102.087.045.034.142.106.137.105.14.11.136.11.135.112.134.115.134.117.13.115.132.122.128.12.127.122.127.125.123.126.124.128.121.13.118.128.118.132.117.133.113.134.113.136.11.136.109.137.109.142.104.14.103.14.101.142.1.144.099.146.095.145.094.147.093.15.092.15.087.149.087.15.085.152.083.155.08.152.08.155.04.081.084.138.11.119.128.096.145.072.155.043.16.013.161-.016.155-.046.143-.074.127-.099.106-.12.083-.14.055-.151.026-.16-.004-.16-.034-.158-.05-.124-.042-.085-.002-.004-.003-.005-.084-.165-.002-.004-.003-.005-.086-.164-.002-.004-.003-.005-.088-.162-.002-.005-.003-.005-.09-.161-.002-.005-.003-.004-.092-.16-.002-.005-.003-.005-.094-.16-.003-.004-.003-.004-.096-.159-.002-.004-.003-.005-.098-.157-.003-.004-.003-.005-.1-.156-.003-.004-.002-.005-.102-.154-.003-.005-.003-.004-.104-.154-.003-.004-.003-.005-.106-.152-.003-.004-.003-.005-.108-.151-.003-.004-.003-.005-.11-.15-.003-.004-.003-.004-.111-.15-.004-.003-.003-.005-.113-.147-.004-.004-.003-.005-.115-.146-.004-.004-.003-.004-.117-.145-.004-.004-.003-.004-.12-.144-.003-.004-.003-.004-.121-.142-.003-.004-.004-.004-.123-.141-.003-.004-.004-.004-.125-.14-.003-.004-.004-.004-.127-.138-.003-.004-.004-.004-.128-.136-.004-.004-.004-.004-.13-.135-.004-.004-.003-.004-.133-.134-.003-.004-.004-.003-.134-.133-.004-.003-.004-.004-.135-.13-.004-.004-.004-.004-.136-.128-.004-.004-.004-.004-.138-.126-.004-.004-.004-.003-.14-.125-.004-.004-.004-.003-.14-.123-.005-.004-.004-.003-.142-.121-.004-.004-.004-.003-.144-.12-.004-.003-.004-.003-.145-.117-.004-.004-.004-.003-.147-.115-.004-.004-.004-.003-.148-.113-.004-.003-.004-.004-.149-.111-.004-.003-.004-.004-.05-.036-.14-.083-.15-.055-.16-.027-.16.004zm-18.381.348l-.157.037-.147.066-.111.074-.04.032-.005.003-.004.004-.145.117-.004.003-.004.004-.144.119-.004.003-.004.004-.142.12-.004.004-.004.004-.141.123-.004.003-.004.004-.14.125-.004.003-.004.004-.138.126-.004.004-.004.004-.136.128-.004.004-.004.004-.135.13-.004.004-.004.003-.134.133-.004.003-.004.004-.132.134-.003.004-.004.004-.13.135-.004.004-.004.004-.128.136-.004.004-.004.004-.126.138-.004.004-.003.004-.125.14-.004.004-.003.004-.123.14-.004.005-.003.004-.121.142-.004.004-.003.004-.12.144-.003.004-.003.004-.117.145-.004.004-.003.004-.115.146-.004.005-.003.004-.113.147-.003.005-.004.004-.111.149-.003.004-.004.004-.11.15-.002.005-.003.004-.108.151-.003.005-.003.004-.106.152-.003.005-.003.004-.104.154-.003.004-.003.005-.102.154-.003.005-.002.004-.1.156-.003.005-.003.004-.098.157-.003.005-.003.004-.096.159-.002.004-.003.005-.094.16-.003.004-.002.004-.092.16-.003.005-.003.005-.09.161-.002.005-.003.005-.088.162-.002.005-.003.004-.086.164-.002.005-.002.004-.084.165-.003.005-.002.004-.082.166-.002.005-.003.004-.08.167-.002.004-.002.005-.078.168-.002.004-.002.005-.045.1-.053.153-.023.16.007.16.037.157.065.148.092.132.114.114.134.09.148.064.157.035.161.006.16-.025.152-.054.14-.08.121-.106.1-.126.065-.118.043-.095.074-.16.075-.155.077-.157.08-.155.08-.152.083-.155.085-.152.086-.15.088-.149.091-.15.094-.15.094-.147.095-.145.099-.146.1-.144.1-.142.104-.14.104-.14.11-.142.107-.137.11-.136.114-.136.113-.134.117-.133.118-.132.117-.129.122-.13.124-.127.123-.126.127-.125.127-.122.128-.12.132-.122.13-.115.133-.117.135-.115.135-.111.136-.11.037-.03.117-.11.094-.132.068-.146.04-.156.01-.161-.02-.16-.05-.154-.076-.141-.102-.125-.123-.104-.14-.08-.153-.051-.16-.023-.161.008zm24.514 11.15l-.157.04-.146.067-.131.093-.112.117-.088.135-.061.149-.033.157-.005.134.006.14.006.176.003.177.001.178-.001.177-.003.178-.006.177-.007.176-.01.177-.012.176-.015.176-.016.173-.018.175-.02.175-.024.174-.024.175-.027.17-.03.174-.03.173-.033.17-.036.172-.037.17-.04.17-.042.172-.043.168-.045.166-.048.169-.05.167-.052.168-.053.164-.056.166-.058.166-.06.161-.061.164-.063.158-.066.165-.068.16-.07.16-.07.158-.075.159-.074.155-.078.158-.081.158-.06.15-.03.158-.001.161.029.159.058.15.085.137.108.12.13.096.144.07.156.044.16.013.16-.017.155-.046.143-.074.127-.1.107-.12.07-.115.083-.164.003-.005.002-.004.082-.166.002-.005.003-.004.08-.167.002-.005.002-.004.078-.168.002-.004.002-.005.076-.169.002-.004.002-.005.074-.17.002-.004.002-.005.072-.17.002-.005.002-.005.07-.17.002-.006.001-.005.068-.172.002-.004.002-.005.065-.173.002-.005.002-.005.063-.173.002-.005.002-.005.06-.174.003-.005.001-.005.06-.175.001-.005.002-.005.057-.176.001-.005.002-.005.055-.177.001-.005.002-.005.052-.177.002-.005.001-.005.051-.178.001-.005.002-.005.048-.179.002-.005v-.005l.047-.179.001-.005.002-.005.044-.18v-.005l.002-.005.042-.18.001-.006.001-.005.04-.18.001-.006.001-.005.038-.182v-.005l.002-.005.035-.182v-.006l.002-.005.033-.182v-.006l.002-.005.03-.183.001-.005.001-.005.029-.184v-.005l.001-.006.027-.184v-.005l.001-.005.024-.185v-.005l.001-.005.022-.185v-.006l.001-.005.02-.185v-.006l.001-.005.017-.186v-.005l.001-.005.015-.187v-.005l.001-.005.013-.187v-.01l.01-.187.001-.006v-.005l.009-.187v-.011l.006-.187v-.011l.004-.188v-.011l.001-.188v-.01l-.001-.188v-.011l-.004-.188v-.011l-.006-.187v-.011l-.007-.145-.022-.16-.05-.152-.08-.141-.103-.124-.125-.102-.141-.077-.153-.05-.16-.02-.161.009zM.777 15l-.158.032-.15.06-.136.087-.117.11-.095.131-.068.146-.04.156-.012.133-.001.14v.01l.001.188v.011l.004.188v.011l.006.187v.011l.008.187v.011l.011.187v.005l.001.005.013.187v.01l.016.187v.01l.018.186v.011l.02.185.001.005v.006l.022.185.001.005v.005l.025.185v.005l.001.005.027.184v.006l.001.005.029.184v.005l.001.005.031.183.001.005.001.006.033.182.001.005.001.006.035.182.001.005.001.005.038.182v.005l.002.005.04.181v.005l.002.005.042.18.001.006.001.005.044.18.002.005v.005l.047.18.001.004.002.005.048.179.002.005.001.005.05.178.002.005.001.005.053.177.002.005.001.005.055.177.002.005.001.005.057.176.002.005.001.005.06.175.001.005.002.005.061.174.002.005.002.005.063.173.002.005.002.005.065.173.002.005.002.004.067.172.002.005.002.005.07.171.002.005.002.005.072.17.002.005.002.005.074.169.002.005.002.004.076.169.002.005.002.004.078.168.002.004.002.005.08.167.003.004.002.005.082.166.002.004.003.005.02.04.086.136.11.118.13.095.146.07.156.041.16.012.16-.019.155-.048.142-.075.126-.1.105-.123.08-.14.054-.152.024-.16-.006-.16-.036-.158-.051-.123-.018-.034-.078-.158L3.1 22.1l-.074-.16-.071-.156-.07-.162-.068-.16-.067-.164-.062-.158-.062-.164-.059-.161-.058-.166-.056-.166-.053-.164-.052-.168-.05-.167-.048-.17-.045-.165-.043-.168-.043-.172-.039-.17-.037-.17-.036-.172-.033-.17-.03-.173-.03-.174-.027-.17-.025-.175-.022-.174-.021-.175-.018-.175-.017-.173-.014-.176-.012-.176-.01-.177-.007-.176-.006-.177-.003-.178L1.73 16v-.134l-.013-.16-.044-.156-.072-.144-.097-.129-.12-.108-.137-.085-.15-.057L.938 15 .777 15zM6.17 26.842l-.152.052-.14.08-.122.105-.101.126-.076.142-.048.154-.02.16.012.161.041.156.07.146.094.13.096.093.032.026.004.003.004.004.145.117.004.003.004.004.146.115.005.003.004.004.147.113.005.003.004.004.149.111.004.003.004.003.15.11.005.003.004.003.151.108.005.003.004.003.152.106.005.003.004.003.154.104.004.003.005.003.154.102.005.002.004.003.156.1.005.003.004.003.157.098.005.003.004.002.159.096.004.003.005.003.16.094.004.003.004.002.16.092.005.003.005.002.161.09.005.003.005.003.162.088.005.002.004.002.164.087.005.002.004.002.165.084.005.003.004.002.166.082.004.002.005.003.167.08.004.002.005.002.168.078.004.002.005.002.169.076.004.002.005.002.17.074.004.002.005.002.17.072.005.002.005.002.17.07.006.002.005.001.171.068.005.002.005.002.173.065.005.002.005.002.173.063.005.002.005.002.174.061.005.002.005.001.175.06.005.001.005.002.176.057.005.001.005.002.177.055.005.001.005.002.177.052.005.002.005.001.178.051.005.001.005.002.178.048.006.002h.005l.179.047.005.001.005.002.18.044h.005l.005.002.18.042.006.001.005.001.159.035.16.02.16-.01.157-.04.146-.069.13-.094.112-.117.087-.136.06-.149.033-.158.002-.161-.028-.159-.057-.15-.084-.138-.108-.12-.128-.098-.144-.072-.128-.039-.154-.033-.168-.04-.171-.041-.169-.044-.17-.045-.166-.048-.168-.05-.165-.051-.166-.054-.166-.056-.163-.057-.165-.06-.161-.062-.164-.064-.16-.065-.16-.068-.162-.07-.157-.07-.157-.074-.157-.075-.156-.077-.153-.079-.156-.082-.153-.082-.154-.086-.15-.086-.152-.09-.148-.09-.147-.092-.149-.095-.145-.095-.144-.098-.145-.1-.143-.102-.14-.103-.14-.104-.14-.108-.139-.11-.136-.11-.027-.022-.133-.091-.148-.065-.157-.036-.161-.006-.16.024zm19.214.073l-.156.039-.146.067-.11.076-.064.051-.139.11-.14.108-.14.104-.14.103-.143.101-.145.101-.144.098-.145.095-.149.095-.148.093-.147.089-.152.09-.15.086-.154.086-.153.082-.156.082-.153.079-.156.077-.157.075-.157.073-.158.071-.16.07-.16.068-.161.065-.164.064-.161.061-.165.06-.163.058-.166.056-.166.054-.166.051-.167.05-.167.048-.17.045-.168.044-.171.042-.168.039-.17.037-.11.023-.154.047-.143.075-.126.1-.106.122-.081.139-.054.152-.025.16.006.16.035.158.063.148.09.133.114.115.132.092.148.065.157.037.16.008.133-.017.115-.024h.005l.005-.002.181-.04h.005l.005-.002.18-.042.006-.001.005-.001.18-.044.005-.002h.005l.18-.047.004-.001.005-.002.179-.048.005-.002.005-.001.178-.05.005-.002.005-.002.177-.052.005-.002.005-.001.177-.055.005-.002.005-.001.176-.057.005-.002.005-.002.175-.059.005-.001.005-.002.174-.061.005-.002.005-.002.173-.063.005-.002.005-.002.173-.065.005-.002.004-.002.172-.068.005-.001.005-.002.171-.07.005-.002.005-.002.17-.072.005-.002.005-.002.169-.074.005-.002.004-.002.169-.076.004-.002.005-.002.168-.078.004-.002.005-.002.167-.08.004-.003.005-.002.166-.082.004-.002.005-.003.165-.084.004-.002.005-.002.163-.087.005-.002.005-.002.162-.088.005-.003.005-.003.161-.09.005-.002.004-.003.16-.092.005-.002.005-.003.16-.094.004-.003.004-.003.158-.096.005-.002.004-.003.158-.098.004-.003.005-.003.156-.1.004-.003.004-.002.155-.102.005-.003.004-.003.154-.104.004-.003.005-.003.152-.106.004-.003.005-.003.151-.108.004-.003.005-.003.15-.11.004-.003.004-.003.149-.111.004-.004.004-.003.148-.113.004-.004.004-.003.147-.115.004-.004.004-.003.068-.055.116-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.05-.153-.08-.14-.103-.125-.124-.102-.142-.077-.153-.05-.16-.02-.16.009z"}));function J8(){return J8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J8.apply(null,arguments)}var iM=({styles:t={},...e})=>ce.createElement("svg",J8({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.157.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.408 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.215-2.282-2.022-5.3-3.217-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.082 11.082 0 0116 4.975zm-2.15 3.281v5.534H8.213v4.38h5.636v5.534h4.31V18.17h5.639v-4.38h-5.64V8.256h-4.31zm.865.865h2.583v5.534h5.635v2.65h-5.635v5.533h-2.583v-5.534h-5.64v-2.649h5.64V9.121z"}));function e7(){return e7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e7.apply(null,arguments)}var oM=({styles:t={},...e})=>ce.createElement("svg",e7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.521L9.206 20.745h13.598L16.005 8.542zm0 1.775l5.329 9.564H10.677l5.328-9.564z"}));function t7(){return t7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t7.apply(null,arguments)}var sM=({styles:t={},...e})=>ce.createElement("svg",t7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.97.04h-.127C8.713-.018 2.003 5.334.437 12.286c-1.51 6.123.98 13.005 6.136 16.665 5.125 3.788 12.546 4.105 17.912.623 5.272-3.276 8.33-9.766 7.325-15.916-.904-6.241-5.79-11.7-11.95-13.143A16.082 16.082 0 0015.97.04zm-.181 1.724c.115 0 .23 0 .347.003 6.625-.066 12.823 5.149 13.89 11.69 1.13 5.91-1.908 12.349-7.262 15.138-5.473 3.013-12.866 1.884-17.116-2.726C1.291 21.372.444 13.914 3.802 8.602c2.493-4.112 7.169-6.819 11.987-6.838zm.283 1.554c-.117 0-.234.002-.351.005-6.1 0-11.691 5.049-12.346 11.114-.78 5.684 2.795 11.612 8.218 13.52 5.139 1.943 11.416.101 14.624-4.38 3.461-4.583 3.262-11.538-.596-15.831-2.36-2.747-5.924-4.423-9.549-4.428zm-.078 1.695c.078 0 .156 0 .234.003 5.4 0 10.321 4.556 10.734 9.942.563 5.13-2.958 10.364-7.971 11.678-4.832 1.41-10.457-.935-12.746-5.446-2.463-4.559-1.2-10.795 3.014-13.883a11.072 11.072 0 016.735-2.294zm-.137 3.42c-2.965.02-5.792 1.968-6.884 4.722-1.137 2.693-.509 6.007 1.536 8.096 1.988 2.14 5.263 2.929 8.007 1.926 2.875-.98 4.987-3.824 5.063-6.865.154-2.954-1.622-5.875-4.295-7.13a7.545 7.545 0 00-3.427-.75zm.27 1.381c2.708.013 5.249 2.014 5.88 4.652.704 2.576-.481 5.512-2.788 6.862-2.356 1.478-5.677 1.084-7.611-.918-2.042-1.97-2.405-5.376-.839-7.738 1.11-1.762 3.146-2.877 5.229-2.857h.13zm1.831 1.764l-2.072 3.76c-.64.068-.792 1.039-.202 1.298.39.27.696-.18 1.051-.164h3.168v-.864h-3.18l1.992-3.612-.757-.418z"}));function n7(){return n7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n7.apply(null,arguments)}var aM=({styles:t={},...e})=>ce.createElement("svg",n7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.848.001C8.113-.093.931 6.281.125 13.983c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.207C29.105 4.938 23.55.48 17.367.06A16.448 16.448 0 0015.848 0v.001zm.293 1.727c7.113-.099 13.662 5.97 14.077 13.08.56 6.299-3.516 12.735-9.582 14.679-5.798 2.004-12.806-.12-16.283-5.237C.717 19.159.874 11.638 5.016 6.876 7.722 3.638 11.902 1.63 16.14 1.728zm-.415 1.555C9.157 3.258 3.256 9.156 3.278 15.729c-.16 5.965 4.365 11.725 10.293 12.737 5.409 1.065 11.37-1.744 13.775-6.753 2.534-4.986 1.386-11.627-2.953-15.251-2.364-2.077-5.512-3.27-8.667-3.18zm.507 1.692c5.82-.026 11.013 5.318 10.79 11.143-.024 5.3-4.313 10.267-9.636 10.803-5.075.667-10.426-2.588-11.885-7.553-1.535-4.744.494-10.46 4.925-12.885a11.072 11.072 0 015.806-1.508z"}));function r7(){return r7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r7.apply(null,arguments)}var M8e=({styles:t={},...e})=>ce.createElement("svg",r7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-.56 5.772l-7.408 5.231 7.409 5.234v-5.057c2.385 1.687 4.771 3.371 7.157 5.057V10.747l-7.157 5.055v-5.055z"}));function i7(){return i7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i7.apply(null,arguments)}var $8e=({styles:t={},...e})=>ce.createElement("svg",i7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm.006 3.927c-1.672 4.654-2.734 9.502-4.406 14.155 1.534-1.525 2.872-3.234 4.406-4.759l4.406 4.76c-1.496-4.71-2.91-9.446-4.406-14.156z"}));function o7(){return o7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o7.apply(null,arguments)}var N8e=({styles:t={},...e})=>ce.createElement("svg",o7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.049C8.195-.11.935 6.286.125 14.03c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.93 23.445.453 17.201.095c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.22.872 11.725 4.985 6.962c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 5.021c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 5.021zm1.78 4.093v3.555H9.785v6.714h7.994v3.554l5.829-6.911-5.83-6.912z"}));function s7(){return s7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s7.apply(null,arguments)}var L8e=({styles:t={},...e})=>ce.createElement("svg",s7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm-5.91 5.475l6.04 4.901 6.042-4.9H10.088zm-1.341 1.138v9.921h14.514V11.79l-7.132 5.787-7.382-5.99z"}));function a7(){return a7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a7.apply(null,arguments)}var j8e=({styles:t={},...e})=>ce.createElement("svg",a7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.073l-7.62 5.532 2.91 8.95h9.42l2.91-8.95-7.62-5.532z"}));function l7(){return l7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l7.apply(null,arguments)}var B8e=({styles:t={},...e})=>ce.createElement("svg",l7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.975.003C8.195-.156.935 6.24.125 13.985c-.855 6.55 2.741 13.46 8.74 16.314 5.666 2.847 13.012 1.99 17.71-2.33 4.745-4.162 6.727-11.243 4.532-17.206C29.09 4.884 23.445.407 17.201.049c-.408-.03-.817-.046-1.226-.046zm-.181 1.724c7.134-.269 13.84 5.68 14.399 12.804.686 6.283-3.267 12.792-9.283 14.862-5.847 2.162-13.025.06-16.557-5.141C.728 19.174.872 11.679 4.985 6.916c2.632-3.171 6.671-5.174 10.809-5.19zm.283 1.553c-6.6-.21-12.671 5.585-12.79 12.185-.292 5.964 4.129 11.817 10.034 12.953 5.47 1.198 11.584-1.613 14.025-6.702 2.525-4.97 1.396-11.585-2.912-15.216-2.282-2.021-5.3-3.216-8.357-3.22zM16 4.975c5.818-.154 11.117 5.082 11.024 10.905.103 5.384-4.23 10.5-9.636 11.043-5.075.667-10.426-2.587-11.885-7.552-1.53-4.73.48-10.428 4.888-12.864A11.083 11.083 0 0116 4.975zm.006 3.52c-2.261 4.07-4.533 8.136-6.798 12.205h13.596L16.005 8.495z"}));function c7(){return c7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c7.apply(null,arguments)}var F8e=({styles:t={},...e})=>ce.createElement("svg",c7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M0 7v18.62h32V7H0zm1.655 17.056V8.684h28.62v15.372H1.656z"}));function u7(){return u7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u7.apply(null,arguments)}var z8e=({styles:t={},...e})=>ce.createElement("svg",u7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm4.43 1.328c-.222.005-.43.09-.606.203-.985.638-4.356 2.977-5.096 3.486-.67.46-1.12 1.153-1.38 1.974-.27.858-.235 1.793-.232 2.576.002.59.016 1.104.17 1.727.22.908.634 1.63 1.23 2.118.597.49 1.363.732 2.23.734 3.038.012 6.078.016 9.119 0 .327-.002.645-.127.848-.37.204-.241.287-.56.291-.914a1.732 1.732 0 00-.097-.625h.327c.335 0 .641-.11.852-.316.21-.206.317-.475.374-.754a1.783 1.783 0 00-.126-1.143 1.18 1.18 0 00.877-.521c.196-.306.257-.666.258-1.025.001-.375-.088-.738-.293-1.033a1.179 1.179 0 00-.958-.512h-.478c.108-.237.156-.505.155-.782-.003-.373-.098-.721-.316-.99a1.21 1.21 0 00-.943-.43c-2.273-.004-4.236.018-6.412.012l-.19-.001c.102-.104.202-.205.312-.314.337-.336.662-.652.83-.869.4-.516.46-1.215.123-1.729-.178-.272-.439-.456-.72-.494a.93.93 0 00-.148-.008zm.029.728l.022.001c.055.008.115.027.209.172.132.201.126.606-.09.884-.079.102-.431.465-.767.8-.337.334-.657.643-.815.836-.153.186-.096.338-.056.435.04.096.085.212.298.263.063.014.066.01.086.012l.066.003c2.429.027 4.986-.004 7.223-.003.194 0 .293.056.379.162.086.105.151.286.153.533 0 .257-.065.467-.155.59-.09.124-.183.182-.37.183-1.706-.001-3.411-.005-5.117-.009v.731c2.23.004 4.461.01 6.692.012.17 0 .265.06.361.2.096.138.164.364.163.615 0 .268-.058.501-.143.634-.085.132-.162.193-.385.195-2.32-.001-4.554-.006-6.688-.003v.73c1.905 0 3.809.003 5.713.001.194.005.316.09.416.26.102.173.151.442.093.728-.04.193-.102.313-.17.38-.067.065-.148.108-.343.108h-5.71l.002.734c1.445 0 2.89-.01 4.334-.001.162 0 .232.041.297.123.064.081.123.238.12.488-.003.244-.061.385-.12.455-.06.07-.127.11-.296.11-3.037.016-6.076.012-9.113 0-.735-.002-1.316-.196-1.77-.568-.454-.372-.793-.935-.986-1.728-.134-.546-.146-.978-.148-1.558-.003-.796-.018-1.664.199-2.354.222-.705.582-1.24 1.096-1.593.75-.515 4.14-2.866 5.079-3.474a.504.504 0 01.241-.087z"}));function d7(){return d7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d7.apply(null,arguments)}var q8e=({styles:t={},...e})=>ce.createElement("svg",d7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M4.073 26.607l1.295 1.296L1.325 32l-.662-.633L0 30.735l4.073-4.128zm6.953-7.046l1.296 1.296L1.325 32l7.555-7.656-1.295-1.296 1.455-1.474 1.986-2.013zM32 .06s-2.699 5.189-5.417 10.462l-.326.633c-1.14 2.214-2.265 4.407-3.176 6.2-1.228-1.222-2.449-2.452-3.676-3.675l-3.57 3.618-1.297-1.296 3.541-3.588c-.98-.964-1.932-1.958-2.923-2.91l-.753-.706c2.68-1.258 6.533-3.165 9.95-4.876l.617-.309C28.838 1.673 32 .06 32 .06zm-4.126 4.06l-.015.007-.115.057-.048.024-.115.057L17.7 9.172l5.017 4.948 5.157-10z"}));function f7(){return f7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f7.apply(null,arguments)}var V8e=({styles:t={},...e})=>ce.createElement("svg",f7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M0 5v22.069h32V5H0zm30.276 1.684v18.82H6.62V6.684h23.655zm-28.62 0h3.31v18.82h-3.31V6.684z"}));function h7(){return h7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h7.apply(null,arguments)}var H8e=({styles:t={},...e})=>ce.createElement("svg",h7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{fillRule:"evenodd",d:"M16.177 0l.137.002c.452.009.9.037 1.342.082.346.036.62.303.68.646l.437 2.536c.055.319.296.57.608.655.986.269 1.923.653 2.796 1.14.28.155.624.145.885-.039l2.083-1.47a.775.775 0 01.937.022c.86.699 1.645 1.484 2.343 2.343.22.27.223.653.023.937l-1.439 2.038a.833.833 0 00-.031.896c.512.889.92 1.846 1.204 2.855a.833.833 0 00.653.601l2.435.42c.342.059.61.333.645.679a15.928 15.928 0 01.08 2.064l-.003.114c-.012.382-.038.76-.077 1.134a.775.775 0 01-.645.68l-2.396.412a.835.835 0 00-.656.61 12.511 12.511 0 01-1.2 2.917.832.832 0 00.034.892l1.396 1.978c.2.284.196.667-.023.936a16.104 16.104 0 01-2.343 2.343.775.775 0 01-.937.023l-1.99-1.404a.833.833 0 00-.88-.026c-.907.516-1.886.922-2.916 1.2a.833.833 0 00-.61.656l-.414 2.396a.775.775 0 01-.679.646 16.096 16.096 0 01-3.312 0 .775.775 0 01-.679-.646l-.423-2.452a.834.834 0 00-.598-.636 12.474 12.474 0 01-1.468-.514 12.49 12.49 0 01-1.417-.68.833.833 0 00-.878.03l-2.026 1.43a.775.775 0 01-.937-.023 16.069 16.069 0 01-2.342-2.342.774.774 0 01-.024-.936l1.402-1.986a.833.833 0 00.032-.896 12.507 12.507 0 01-1.214-2.911.833.833 0 00-.655-.606l-2.386-.412a.775.775 0 01-.646-.678 16.097 16.097 0 010-3.314.775.775 0 01.646-.678l2.386-.412a.833.833 0 00.655-.606 12.507 12.507 0 011.214-2.911.833.833 0 00-.032-.896L3.552 6.853a.774.774 0 01.023-.936 16.091 16.091 0 012.343-2.343.775.775 0 01.937-.023l2.03 1.433c.26.177.6.182.874.028.915-.512 1.88-.9 2.87-1.167a.833.833 0 00.612-.656l.424-2.46a.775.775 0 01.679-.645C14.845.032 15.348.004 15.85 0h.326zM16 6.4c-5.302 0-9.6 4.297-9.6 9.599 0 5.302 4.298 9.6 9.6 9.6s9.6-4.298 9.6-9.6-4.298-9.6-9.6-9.6zm-3 4.283c0-1.425 1.637-2.203 2.715-1.29l5.69 4.815c.794.672.794 1.91 0 2.583l-5.69 4.815c-1.078.913-2.715.134-2.715-1.29z"}));function p7(){return p7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p7.apply(null,arguments)}var U8e=({styles:t={},...e})=>ce.createElement("svg",p7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zM5.23 7.764v11.577h17.55V7.764H5.23zm1.816.758h13.917l-6.959 4.577-6.958-4.577zm-1.06.21l8.018 5.274 8.018-5.275v9.853H5.987V8.73z"}));function m7(){return m7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m7.apply(null,arguments)}var W8e=({styles:t={},...e})=>ce.createElement("svg",m7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm2.99 3.077l-.077.045-.026.015c-1.09.646-1.84 1.239-2.336 1.818-.496.579-.735 1.162-.742 1.725-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.324.408-.911.897-1.85 1.445l-1.388.808h8.56l.101-.059c.996-.58 1.667-1.116 2.094-1.655.429-.54.603-1.107.547-1.638-.11-1.052-.967-1.818-1.688-2.556-.721-.739-1.306-1.436-1.298-2.092.004-.331.132-.7.535-1.171.402-.47 1.08-1.02 2.119-1.636l1.362-.806h-8.54zm.241.867h5.271a6.83 6.83 0 00-1.113 1.01c-.496.58-.736 1.163-.743 1.726-.014 1.119.812 1.958 1.544 2.708.732.75 1.385 1.456 1.446 2.041.032.298-.039.598-.364 1.008-.312.393-.872.862-1.753 1.386H8.728c.367-.286.658-.566.88-.847.43-.54.604-1.107.548-1.638-.11-1.052-.968-1.818-1.688-2.556-.721-.739-1.306-1.435-1.298-2.092.004-.331.132-.7.534-1.171.389-.454 1.04-.984 2.021-1.575zm-1.233 1.48v.4h4.12v-.4h-4.12zm-.154 2.158v.4H12.6v-.4H8.34zm1.931 2.158v.4h4.126v-.4H10.27zm.59 2.158v.4h4.276v-.4h-4.276z"}));function g7(){return g7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g7.apply(null,arguments)}var G8e=({styles:t={},...e})=>ce.createElement("svg",g7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm-1.38 3.16l8.332 4.717L21.78 8.16H5.114zm.021 1.745v9.309H21.8V9.905l-8.353 4.655-8.31-4.655z"}));function v7(){return v7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v7.apply(null,arguments)}var K8e=({styles:t={},...e})=>ce.createElement("svg",v7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 3C2.916 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.012C28.015 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5zm1.22 1.681V7.84c-.329.093-.63.223-.914.382l-.83-.82-1.554 1.561.83.82c-.16.288-.285.594-.372.911l-1.177.002v2.2l1.189-.004c.109.431.345.819.58 1.165v-1.898l-1.038.004v-.737l1.034-.002.058-.294c.084-.429.252-.838.493-1.203l.165-.25-.727-.718.523-.526.728.719.247-.165c.379-.25.793-.417 1.206-.505l.291-.06-.002-1.01h.75L9.19 8.417H11.16c-.185-.221-.951-.508-1.237-.588L9.93 6.68H7.713zm2.078 2.105l.003 1.158a4.19 4.19 0 00-.915.383l-.83-.821-1.553 1.562.83.82c-.16.288-.286.593-.373.91l-1.176.003v2.2l1.188-.004c.094.326.224.624.383.905l-.85.847 1.57 1.543.847-.843c.29.161.599.286.919.373v1.198c.756.006 1.56.003 2.206.003V17.81a4.19 4.19 0 00.915-.383l.847.835 1.554-1.56-.848-.836c.16-.288.286-.594.373-.912l1.152-.007V12.75l-1.165.007a4.09 4.09 0 00-.382-.905l.805-.807-1.57-1.546-.804.806a4.16 4.16 0 00-.915-.372l.007-1.147H9.792zm.732.73h.751l-.006 1.005.297.058c.43.085.844.252 1.21.492l.25.162.701-.704.528.52-.702.704.169.25c.248.374.412.779.505 1.196l.061.292 1.016-.006v.737l-1.01.006-.058.292c-.085.43-.252.838-.494 1.205l-.165.25.744.733-.523.525-.743-.734-.248.165c-.378.247-.789.418-1.203.503l-.294.058v1.067h-.745v-1.059l-.295-.057a3.395 3.395 0 01-1.21-.492l-.248-.162-.747.743-.528-.52.747-.744-.17-.25a3.546 3.546 0 01-.506-1.196l-.06-.291-1.04.004v-.738l1.034-.002.058-.294c.085-.428.252-.837.493-1.203l.165-.25-.726-.718.522-.526.728.72.248-.166a3.546 3.546 0 011.205-.504l.292-.06-.003-1.01zm.388 2.685a1.65 1.65 0 00-1.645 1.645c0 .904.74 1.645 1.645 1.645a1.65 1.65 0 001.645-1.645 1.65 1.65 0 00-1.645-1.645zm0 .73a.91.91 0 01.915.915.91.91 0 01-.915.914.91.91 0 01-.915-.914.91.91 0 01.915-.915z"}));function y7(){return y7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y7.apply(null,arguments)}var X8e=({styles:t={},...e})=>ce.createElement("svg",y7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-.566 9.03l-7.415 5.235 7.415 5.238v-5.062c2.386 1.689 4.775 3.375 7.163 5.062V10.761l-7.163 5.058v-5.058zm-.866 1.666v7.13L9.51 15.993l5.052-3.565zm7.166 0v7.137l-5.052-3.568 5.052-3.569z"}));function b7(){return b7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b7.apply(null,arguments)}var Y8e=({styles:t={},...e})=>ce.createElement("svg",b7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-5.362 7.523v13.493h10.724V9.253H10.638zm.863.866h8.995V21.88H11.501V10.12zm.928 1.324v.863h7.139v-.863h-7.139zm0 2.605v.867h7.139v-.867h-7.139zm0 3.01v.864h7.139v-.863h-7.139zm0 2.72v.863h7.139v-.863h-7.139z"}));function _7(){return _7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_7.apply(null,arguments)}var Q8e=({styles:t={},...e})=>ce.createElement("svg",_7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm6.13 7.45l-3.635 7.37-4.52-5.88c-1.37 4.048-2.738 8.095-4.106 12.143l4.603-5.917 4.748 5.433 2.91-13.149zm-7.754 3.889l4.299 5.449 1.073-2.39-1.028 4.135-4.387-5.16-1.78 2.75 1.823-4.784z"}));function x7(){return x7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x7.apply(null,arguments)}var Z8e=({styles:t={},...e})=>ce.createElement("svg",x7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 7.183c-1.674 4.658-2.736 9.509-4.41 14.166 1.535-1.526 2.874-3.236 4.41-4.763l4.41 4.763c-1.499-4.713-2.913-9.453-4.41-14.166zm.032 2.931c.822 2.588 1.598 5.19 2.42 7.778l-2.42-2.615c-.683.598-2.455 2.887-2.34 2.39.871-2.489 1.448-5.07 2.34-7.553z"}));function w7(){return w7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w7.apply(null,arguments)}var J8e=({styles:t={},...e})=>ce.createElement("svg",w7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm-7.257 8.732v11.069h14.513v-11.07H8.738zm3.224 1.73h8.064c-1.428.878-2.857 2.807-4.285 3.018l-3.779-3.019zm9.562 1.017v6.593H10.465V13.21l5.528 4.417 5.53-4.418z"}));function E7(){return E7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E7.apply(null,arguments)}var e7e=({styles:t={},...e})=>ce.createElement("svg",E7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.001C9.705-.084 3.643 3.964 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994 0zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626C2.101 23.171.377 16.07 2.848 10.44c2.14-5.205 7.515-8.774 13.147-8.708zm0 6.328l-7.626 5.536c.97 2.986 1.942 5.971 2.913 8.957h9.426l2.912-8.957-7.625-5.536zm0 1.068l6.609 4.798-2.525 7.763H11.91l-2.524-7.763 6.609-4.798z"}));function S7(){return S7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S7.apply(null,arguments)}var t7e=({styles:t={},...e})=>ce.createElement("svg",S7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M10.632 9.189V22.68h10.723V9.189H10.632zm.862.865h8.994v11.76H11.494v-11.76zm.928 1.324v.863h7.138v-.863h-7.138zm0 2.605v.866h7.138v-.866h-7.138zm0 3.01v.863h7.138v-.863h-7.138zm0 2.72v.862h7.138v-.863h-7.138zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"}));function C7(){return C7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C7.apply(null,arguments)}var n7e=({styles:t={},...e})=>ce.createElement("svg",C7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16 9.209c-1.674 4.655-2.735 9.504-4.408 14.16 1.534-1.526 2.873-3.235 4.407-4.761l4.408 4.76c-1.497-4.71-2.91-9.448-4.408-14.16zm.031 2.93c.822 2.586 1.598 5.187 2.42 7.774l-2.42-2.614c-.682.598-2.453 2.886-2.34 2.389.873-2.488 1.45-5.068 2.34-7.55zM16.132.364c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.564c-.734.078-1.196.762-1.735 1.206C3.552 6.02 2.55 7.511 1.681 9.053c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786A15.932 15.932 0 011.728 16a.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}));function k7(){return k7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k7.apply(null,arguments)}var r7e=({styles:t={},...e})=>ce.createElement("svg",k7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M8.746 10.393v11.064h14.506V10.393H8.746zm3.223 1.728h8.06c-1.428.879-2.856 2.807-4.283 3.018l-3.777-3.018zm9.557 1.018v6.59H10.473v-6.59l5.525 4.416 5.528-4.416zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}));function O7(){return O7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O7.apply(null,arguments)}var i7e=({styles:t={},...e})=>ce.createElement("svg",O7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M23.621 13.524L16 7.99l-7.622 5.534 2.911 8.952h9.422l2.911-8.952zm-1.016.33l-2.523 7.759h-8.165l-2.524-7.76L16 9.059l6.606 4.796zM16.132 0c-1.51.016-3.055.139-4.492.614-.854.442-.266 1.861.651 1.578 2.266-.58 4.656-.596 6.944-.144.935.063 1.21-1.391.318-1.674-1.118-.26-2.274-.361-3.42-.374zm8.865 2.777c-.931-.1-1.262 1.29-.425 1.666 1.863 1.364 3.222 3.298 4.322 5.296.617.737 1.875-.145 1.398-.979-1.184-2.275-2.808-4.384-4.923-5.866a.863.863 0 00-.372-.117zM6.55 3.2c-.734.078-1.196.762-1.735 1.206C3.552 5.656 2.55 7.147 1.681 8.69c-.31.533-.71 1.33-.03 1.767.615.432 1.282-.132 1.446-.742.796-1.475 1.746-2.89 2.934-4.08.43-.548 1.292-.822 1.34-1.595a.874.874 0 00-.822-.839zm24.582 11.078c-.771-.033-1.004.82-.873 1.437.13 2.395-.471 4.797-1.615 6.897-.33.876.984 1.559 1.512.785a14.276 14.276 0 001.761-8.54.865.865 0 00-.785-.579zm-30.195.666c-.774-.06-1.032.785-.905 1.407.117 2.41.732 4.81 1.858 6.945.528.774 1.84.09 1.51-.786a15.932 15.932 0 01-1.672-6.874.876.876 0 00-.79-.692zm24.57 11.817c-.762.099-1.243.835-1.919 1.16-1.514 1.002-3.237 1.632-4.978 2.092-.864.423-.307 1.855.616 1.591 2.528-.578 4.93-1.75 6.913-3.421.469-.522.07-1.42-.631-1.422zm-19.16.042c-.845.001-1.12 1.228-.395 1.628 1.665 1.401 3.667 2.348 5.76 2.912.618.178 1.482.565 1.893-.177.355-.628-.226-1.297-.87-1.326-1.972-.515-3.912-1.285-5.5-2.594-.26-.213-.522-.472-.888-.443z"}));function R7(){return R7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R7.apply(null,arguments)}var o7e=({styles:t={},...e})=>ce.createElement("svg",R7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M13.503 9.016v4.428H9.075v4.98h4.428v4.428h4.98v-4.427h4.428v-4.981h-4.427V9.016h-4.981zm.83.83h3.32v4.428h4.428v3.32h-4.428v4.428h-3.32v-4.454H9.905v-3.294h4.428V9.846zM16.12 0h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136-.109-.118-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006l-.216-.042-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006l-.006-.001-.22-.017-.005-.001h-.006L17.06.03h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012L16.132 0h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zM6.377 3.21l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1v.003l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114v-.008l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V15.95l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z",opacity:".98"}));function P7(){return P7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P7.apply(null,arguments)}var s7e=({styles:t={},...e})=>ce.createElement("svg",P7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16.007 8.82L9.21 21.022h13.596L16.007 8.82zm0 1.775l5.328 9.563H10.68l5.327-9.563zM16.14.386c-1.571.236-4.195-.284-4.9 1.381.619 1.703 2.745.069 4.085.365 1.421-.13 2.84.2 4.235.259C21.27.784 18.19.344 17 .413a20.456 20.456 0 00-.86-.027zM25 3.162c-2.19.694.401 2.26 1.181 3.094 1.083 1.152 1.954 2.484 2.715 3.864 1.48 1.005 1.845-1.26.81-2.03-1.158-1.897-2.613-3.704-4.513-4.89l-.192-.038zm-18.438.423c-1.793.712-2.909 2.548-4.01 4.061-.773.814-2.211 3.653.005 3.211 1.123-1.469 1.87-3.306 3.267-4.614.664-.7 2.73-2.013.738-2.658zm24.57 11.072c-1.659.435-.468 2.667-.99 3.895a13.427 13.427 0 01-1.497 4.435c-.23 1.659 1.991 1.165 2.018-.199a14.277 14.277 0 001.254-7.552.865.865 0 00-.785-.579zm-30.18.666c-1.677.386-.633 2.667-.608 3.876.371 1.623.792 3.35 1.79 4.696 2.382.321.571-2.338.292-3.492a15.92 15.92 0 01-.684-4.39.877.877 0 00-.79-.69zm24.558 11.81c-1.755.865-3.303 2.266-5.274 2.765-1.162-.016-3.074 1.271-1.331 2.102 2.66-.447 5.163-1.733 7.236-3.445.472-.506.06-1.432-.631-1.421zm-19.151.043c-2.004.786.416 2.405 1.43 2.913 1.608.904 3.379 1.636 5.208 1.877 1.77-.804-.228-2.094-1.357-2.073-1.75-.537-3.403-1.396-4.798-2.586l-.227-.104-.256-.027z"}));function A7(){return A7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A7.apply(null,arguments)}var a7e=({styles:t={},...e})=>ce.createElement("svg",A7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.991 8.7c-3.018-.042-5.92 1.925-7.03 4.725-1.138 2.695-.509 6.011 1.537 8.102 1.99 2.142 5.267 2.93 8.013 1.927 2.877-.98 4.99-3.826 5.067-6.87.153-2.956-1.624-5.88-4.299-7.135a7.551 7.551 0 00-3.288-.75zm0 1.383c2.758-.052 5.372 1.972 6.014 4.654.704 2.578-.482 5.516-2.79 6.867-2.358 1.48-5.682 1.085-7.617-.919-2.043-1.97-2.407-5.38-.84-7.743 1.11-1.764 3.149-2.88 5.233-2.86zm1.962 1.764l-2.074 3.762c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.182l1.993-3.614-.757-.418zM16.12.358h-.232l-.22.004h-.012l-.221.006h-.012l-.22.01h-.012l-.22.013h-.012l-.22.016h-.012l-.22.019h-.005l-.006.001-.22.021h-.006l-.005.001-.22.025h-.011l-.22.028h-.005l-.006.002-.219.03h-.005l-.006.001-.218.033-.006.001-.006.001-.217.036-.006.001-.006.001-.217.039-.006.001-.006.001-.216.042-.006.001-.006.001-.215.045-.006.001-.006.002-.215.047-.006.002-.006.001-.214.05-.006.002-.006.002-.115.029-.152.053-.14.081-.122.106-.1.126-.075.143-.047.154-.018.16.012.16.042.156.07.145.095.13.118.11.137.086.15.059.158.03h.161l.132-.022.11-.028.202-.047.203-.046.208-.043.202-.039.206-.037.206-.034.205-.03.208-.03.205-.025.209-.023.208-.02.21-.017.209-.015.207-.011.21-.009.21-.006.207-.003h.21l.21.002.207.005.207.008.212.011.207.014.208.017.209.019.208.022.205.025.206.028.207.03.208.035.205.036.202.039.052.01.16.018.16-.012.156-.042.146-.07.13-.096.109-.119.085-.136.06-.15.03-.159v-.16l-.03-.16-.059-.15-.086-.136L19.823.9l-.13-.096-.145-.07-.128-.038-.057-.011-.006-.002h-.006L19.135.64l-.006-.001-.006-.001-.217-.039H18.9l-.006-.002-.217-.035-.006-.001-.006-.001-.218-.032-.006-.001-.006-.001-.218-.03h-.006l-.006-.001-.219-.027h-.011l-.22-.024-.005-.001h-.006l-.22-.021h-.006L17.512.42l-.22-.017-.005-.001h-.006l-.22-.015h-.012l-.22-.012h-.012l-.22-.01h-.012l-.22-.005h-.012l-.221-.003h-.012zm8.715 2.783l-.157.034-.149.063-.134.089-.116.112-.092.132-.067.147-.038.157-.008.16.021.16.051.153.079.141.103.124.102.087.052.038h.001l.087.064v.001l.082.061.002.001.076.059h.001l.084.065.082.066.002.001.079.063.002.002.077.063.081.067.002.002.077.065.076.065.001.002.08.07.078.07h.002l.075.068.077.072.002.001.073.069.077.073.072.07.002.001.077.076.07.07v.001l.075.076.07.073.002.001.074.079.002.002.069.074.069.075.074.082.07.08.002.001.068.079h.001l.067.079.068.082.065.078.001.002.068.083.067.084.063.081.001.002.067.087.002.002.063.084.001.001.064.087.008.01.008.01.095.12.093.121.09.119.087.119.088.122.086.123.084.12.081.122.001.002.084.126.08.126.08.127.077.126.079.131.074.127.075.131.073.131.07.13.07.133.069.133.045.09.086.137.109.119.13.096.144.07.156.042.16.013.16-.017.155-.047.143-.075.126-.1.106-.121.082-.14.054-.151.025-.16-.005-.16-.035-.158-.05-.124-.048-.095-.002-.004-.002-.004-.073-.14-.002-.005-.002-.004-.074-.14-.002-.004-.002-.004-.076-.14-.002-.003-.002-.004-.077-.139-.003-.004-.002-.004-.078-.138-.003-.004-.002-.003-.08-.137-.002-.004-.003-.004-.081-.136-.002-.004-.003-.004-.083-.136-.002-.003-.002-.004-.085-.135-.002-.004-.003-.003-.085-.134-.003-.004-.002-.004-.087-.132-.003-.004-.003-.004-.088-.132-.003-.003-.002-.004-.09-.13-.003-.005-.003-.003-.091-.13-.003-.004-.002-.004-.093-.129-.003-.003-.003-.004-.094-.128-.003-.004-.003-.003-.095-.127-.003-.004-.003-.004-.097-.125-.003-.004-.003-.004-.09-.114-.06-.082-.003-.003-.002-.003-.069-.091-.002-.004-.002-.003-.07-.09-.003-.003-.002-.003-.07-.09-.003-.003-.002-.003-.071-.09-.002-.003-.003-.002-.072-.089-.002-.003-.002-.003-.073-.088-.002-.003-.002-.002-.074-.087-.002-.003-.002-.003-.074-.086-.003-.003-.002-.003-.074-.086-.003-.002-.002-.003-.075-.085-.003-.003-.002-.002-.076-.084-.002-.003-.003-.003-.076-.083-.002-.003-.003-.003-.077-.082-.002-.003-.003-.002-.077-.082-.003-.003-.003-.002-.078-.081-.002-.003-.003-.003-.078-.08-.003-.002-.003-.003-.079-.08-.002-.002-.003-.002-.08-.08-.002-.002-.003-.002-.08-.078-.003-.003-.003-.002-.08-.077-.003-.003-.003-.002-.082-.077-.002-.002-.003-.002-.082-.076-.003-.002-.002-.003-.083-.075-.003-.002-.002-.003-.084-.074-.002-.002-.003-.002-.084-.074-.003-.002-.002-.002-.085-.073-.002-.002-.003-.003-.085-.071-.003-.003-.002-.002-.086-.07-.003-.003-.002-.002-.086-.07-.003-.003-.003-.002-.086-.07-.003-.002-.003-.002-.087-.069-.002-.002-.003-.002-.088-.068-.002-.002-.003-.002-.088-.067-.003-.003-.003-.002-.088-.066-.003-.002-.003-.002-.089-.066-.003-.002-.003-.002-.057-.042-.14-.082-.15-.055-.16-.026-.16.004zm-18.458.426l-.157.037-.148.066-.111.074-.007.006-.003.002-.003.002-.086.069-.003.002-.002.002-.086.07-.003.002-.002.002-.086.07-.002.003-.003.002-.085.071-.002.002-.003.003-.084.071-.003.003-.002.002-.084.072-.003.003-.002.002-.083.073-.003.003-.002.002-.083.074-.002.002-.003.003-.082.074-.003.003-.002.002-.081.076-.003.002-.003.002-.08.077-.003.002-.003.003-.08.076-.002.003-.003.002-.08.078-.002.002-.003.003-.079.078-.002.003-.003.002-.078.08-.003.002-.002.002-.078.08-.002.003-.003.002-.077.08-.003.004-.002.002-.077.081-.002.003-.003.003-.076.082-.002.002-.003.003-.075.082-.002.003-.003.003-.074.083-.003.003-.002.003-.074.084-.003.003-.002.002-.074.085-.002.003-.002.003-.073.085-.003.003-.002.003-.072.086-.002.003-.003.003-.071.087-.003.003-.002.002-.07.088-.003.003-.002.003-.07.088-.003.003-.002.003-.07.09-.002.002-.002.003-.069.09-.002.003-.003.003-.068.09-.002.003-.002.003-.067.092-.003.003-.002.003-.067.092-.002.003-.002.003-.066.092-.002.003-.002.004-.066.093-.002.003-.002.003-.065.094-.002.003-.002.004-.064.094-.002.003-.002.004-.063.095-.002.003-.002.003-.063.097-.002.003-.002.003-.046.073-.05.07-.003.002-.002.003-.067.093-.003.003-.002.003-.066.094-.002.003-.002.003-.066.094-.002.003-.002.003-.064.094-.002.004-.002.003-.064.094-.002.004-.002.003-.062.095-.002.003-.002.003-.062.096-.002.003-.002.003-.06.096-.003.003-.002.003-.06.096-.001.004-.002.003-.059.096-.002.004-.002.003-.058.097-.002.003-.001.003-.057.098-.002.003-.002.003-.056.098-.002.003-.002.003-.055.098-.002.004-.001.003-.055.098-.001.004-.002.003-.054.099-.001.003-.002.003-.052.1-.002.002-.002.004-.051.1-.002.002-.002.004-.05.1-.002.003-.002.003-.05.1v.003l-.002.004-.05.1V9.5l-.002.004-.048.1-.002.004-.001.003-.047.101-.002.003-.001.004-.013.027-.052.152-.024.16.006.16.037.157.064.148.091.133.114.114.134.09.147.065.157.036.162.006.159-.024.152-.053.14-.08.122-.105.1-.126.066-.117.01-.023.044-.095.045-.095.002-.003.042-.087.048-.097.048-.095v-.001l.048-.092.001-.001.047-.09.05-.093.002-.002.049-.09.052-.092.001-.002.051-.089.001-.002.051-.087.053-.088.001-.002.055-.091.057-.091.057-.09.001-.002.057-.089.055-.083.001-.002.06-.09.06-.088.062-.089.001-.001.06-.084.063-.088.065-.089.017-.023.016-.025.06-.094.059-.09v-.002l.058-.086.057-.086.001-.001.062-.09.062-.088.001-.002.06-.085.002-.002.06-.082.063-.087.064-.084.002-.002.061-.08.065-.084.064-.08v-.001l.067-.083.067-.082.07-.083.069-.08.063-.074.074-.083.068-.077.002-.002.07-.076.07-.075.072-.077.001-.001.067-.07.076-.078.002-.002.07-.07.075-.075.002-.002.072-.07.075-.072.002-.002.073-.069.074-.068.001-.001.08-.073.076-.068.002-.002.072-.063v-.001l.078-.067.079-.068.002-.001.08-.068.002-.002.077-.063.082-.066.001-.001.075-.06.002-.002.006-.004.117-.111.094-.131.068-.146.04-.156.01-.161-.019-.16-.049-.154-.076-.141-.102-.125-.123-.105-.14-.079-.153-.052-.16-.023-.16.007zm24.596 11.088l-.156.04-.146.067-.131.094-.112.117-.087.135-.061.15-.033.157-.004.134.007.142.005.152.004.15.002.149v.153l.001.011v.015l.004.11.002.11v.002l.002.106v.321l-.003.102-.002.106-.004.107-.005.105-.006.106-.006.106-.008.106v.002l-.008.103v.002l-.01.1-.01.105-.01.105-.013.105-.012.099v.002l-.014.108-.014.1-.016.105-.016.103v.002l-.017.099-.018.104-.019.103v.002l-.019.097-.02.104-.022.103v.001l-.022.098-.023.103v.002l-.024.096-.025.103v.002l-.024.096-.027.102v.003l-.026.093v.001l-.029.103v.002l-.03.099-.028.097v.002l-.03.095-.03.096v.001l-.033.1-.031.095v.002l-.035.1v.003l-.034.094v.003l-.035.096v.001l-.034.09v.002l-.038.098-.036.093v.002l-.038.095-.079.194-.08.188-.085.189-.087.19-.09.184-.092.183-.095.184-.05.093-.064.148-.034.158-.005.16.026.16.054.151.082.14.106.12.127.1.143.075.154.046.16.017.161-.013.156-.042.144-.071.13-.096.109-.119.072-.112.053-.099.003-.005.003-.006.102-.195.003-.006.003-.006.098-.196.003-.006.003-.006.096-.197.002-.006.003-.006.093-.2.002-.006.003-.006.09-.2.002-.006.003-.007.086-.202.003-.006.002-.006.084-.203.002-.005.001-.005.04-.102.002-.003.001-.003.04-.103.001-.003.001-.003.04-.103v-.004l.001-.003.039-.103v-.003l.002-.003.037-.104.001-.003.001-.003.037-.104v-.004l.002-.003.035-.104.002-.003v-.004l.035-.104.002-.004v-.003l.034-.105.002-.003v-.003l.034-.105v-.004l.002-.003.032-.106.001-.003.001-.003.031-.106.001-.003.001-.004.031-.106.001-.003.001-.004.03-.106v-.003l.002-.004.028-.107.001-.003.001-.003.028-.107.001-.004.001-.003.027-.107.001-.004v-.003l.027-.108.001-.003v-.004l.026-.108.001-.003v-.004l.025-.108.001-.003v-.004l.025-.108v-.004l.001-.003.023-.109v-.003l.001-.004.022-.109v-.003l.002-.004.02-.109.001-.004v-.003l.02-.11.002-.003v-.004l.02-.11v-.007l.019-.11v-.003l.001-.004.017-.11v-.004l.001-.003.017-.11v-.008l.016-.11v-.004l.001-.004.015-.11v-.008l.015-.111v-.008l.013-.111v-.007l.013-.112v-.007l.011-.112v-.004l.001-.004.01-.112v-.007l.01-.112v-.008l.008-.112v-.008l.007-.113v-.007l.007-.113v-.008l.005-.113v-.007l.005-.114v-.007l.003-.114v-.007l.003-.114v-.129l.001-.114v-.13l-.003-.114V16.5l-.003-.115v-.007l-.003-.102v-.155l-.003-.158v-.01l-.004-.158v-.01l-.006-.158v-.01l-.007-.148-.023-.16-.051-.152-.08-.14-.103-.124-.125-.102-.142-.077-.153-.05-.16-.02-.161.01zm-30.213.66l-.157.034-.149.063-.134.09-.115.113-.092.132-.067.147-.037.156-.009.134.001.11V16.308l.006.22v.012l.01.22v.012l.012.22v.006l.001.006.015.22v.005l.001.006.018.22.001.006v.006l.022.219v.006l.001.006.024.219.001.006v.006l.028.218.001.006v.006l.031.218.001.006.001.006.033.218.001.006.001.005.037.218v.006l.002.005.04.217v.006l.001.006.043.216.001.006.001.006.046.216v.005l.002.006.048.215.002.006.001.006.051.214.002.006v.006l.055.214.002.005.001.006.057.213.002.006.001.005.06.213.002.005.001.006.063.212.002.005.001.006.066.21.002.006.002.006.068.21.002.005.002.005.07.21.003.005.002.005.074.208.002.006.002.005.077.207.002.006.002.005.08.206.002.005.002.006.082.204.002.006.002.005.086.204.002.005.002.006.088.202.002.005.003.006.09.2.003.006.002.005.094.2.002.006.003.005.096.199.002.005.003.005.03.062.086.137.11.118.128.097.145.07.156.043.16.013.16-.017.155-.047.143-.074.127-.1.106-.121.081-.14.055-.15.025-.16-.005-.161-.034-.158-.05-.124-.028-.055-.092-.19-.087-.188-.087-.192-.083-.19-.08-.193-.078-.194-.076-.196-.073-.195-.07-.197-.067-.198-.065-.199-.063-.2-.059-.2-.056-.2-.055-.204-.05-.201-.049-.202-.046-.205-.043-.206-.04-.203-.038-.207-.034-.204-.032-.207-.028-.205-.026-.207-.023-.208-.02-.207-.018-.207-.014-.208-.011-.207-.009-.208-.005-.207-.002-.104-.017-.16-.046-.155-.074-.143-.1-.126-.121-.107-.139-.081-.152-.055-.159-.025-.161.004zm24.585 11.83l-.156.039-.146.068-.11.076-.015.012-.163.129-.166.127-.168.125-.17.124-.17.12-.172.118-.173.115-.176.114-.177.111-.18.11-.178.105-.182.104-.182.101-.184.1-.184.095-.189.095-.186.09-.188.089-.19.086-.19.082-.193.081-.195.078-.191.074-.197.073-.195.07-.196.065-.198.064-.198.061-.2.058-.2.055-.2.052-.2.049-.151.035-.153.05-.141.078-.125.103-.103.124-.078.14-.05.154-.022.16.009.16.038.157.067.147.093.132.116.112.134.089.149.062.158.034.16.003.133-.02.158-.035.006-.002.006-.001.213-.052.006-.002.007-.001.212-.056.006-.001.006-.002.212-.058.006-.002.006-.002.211-.061.006-.002.006-.002.21-.064.006-.002.006-.002.21-.067.005-.002.006-.002.208-.07.006-.002.006-.003.207-.073.006-.002.006-.002.206-.077.006-.002.005-.002.206-.08.005-.001.006-.003.204-.082.006-.002.005-.002.203-.085.006-.003.005-.002.202-.088.006-.002.005-.003.2-.09.006-.003.006-.003.2-.093.005-.003.005-.002.198-.096.006-.003.005-.003.197-.099.005-.002.005-.003.196-.102.005-.002.005-.003.195-.105.005-.002.005-.003.193-.107.005-.003.005-.003.191-.11.005-.003.005-.003.19-.112.005-.003.005-.003.189-.115.005-.003.005-.003.187-.117.005-.003.004-.004.186-.12.005-.003.004-.003.184-.122.005-.003.005-.004.182-.125.004-.003.005-.003.18-.128.005-.003.005-.003.179-.13.004-.003.005-.004.177-.132.004-.004.005-.003.175-.135.005-.003.004-.004.173-.137.005-.003.004-.004.019-.015.115-.113.092-.132.066-.147.038-.157.008-.16-.022-.16-.052-.153-.079-.14-.103-.124-.125-.102-.142-.078-.153-.05-.16-.02-.16.01zm-19.17.054l-.153.051-.14.079-.124.103-.103.125-.077.141-.05.153-.02.16.009.161.04.156.067.147.093.131.095.094.047.04.005.004.005.004.17.14.005.004.005.004.172.137.004.004.005.003.086.067.003.002.003.002.087.067.003.002.003.002.088.066.002.003.003.002.089.065.002.002.003.002.09.065.002.002.003.002.09.064.002.002.003.002.09.063.003.002.003.002.09.063.003.002.003.002.092.062.002.002.003.002.092.061.003.002.003.002.092.06.003.003.003.001.093.06.003.002.003.002.093.06.003.001.003.002.094.058.003.002.003.002.095.058.003.001.003.002.095.057.003.002.003.002.095.056.003.002.003.002.096.055.004.002.003.001.096.055.003.002.003.002.098.053.003.002.003.002.097.053.004.002.003.001.098.053.003.001.003.002.099.052.003.001.003.002.1.05.003.002.003.002.1.05.003.002.003.001.1.05h.003l.004.003.1.048.004.001.003.002.101.048.003.001.004.002.101.046.004.002.003.001.102.046.004.002.003.001.103.045.003.002.003.001.103.045.004.001.003.002.104.043.003.001.004.002.104.042.003.002.004.001.104.042.004.001.003.002.105.04.004.002.003.001.106.04.003.002h.004l.106.04.004.001.003.002.107.038.003.001.004.001.107.038.003.001.004.001.107.037.004.001.004.001.108.036.003.001.004.001.108.035.004.001.003.001.11.034.003.001.004.001.109.033.004.002h.003l.11.033h.004l.003.002.11.031.004.001.004.001.084.023.081.028.004.001.003.001.109.037.003.001.004.001.109.036.003.001.004.001.109.035h.003l.004.002.11.033.003.001.003.001.11.033.003.001.004.001.109.031.004.002h.003l.11.031.003.001.004.001.11.03h.003l.003.001.11.029h.004l.003.002.11.027.003.001.004.001.11.027h.003l.004.001.004.001.16.022.16-.008.157-.038.147-.067.132-.092.112-.116.09-.134.062-.149.034-.157.004-.161-.025-.16-.055-.151-.082-.139-.107-.12-.127-.1-.143-.074-.124-.04h-.003l-.104-.025-.103-.026h-.002l-.095-.026h-.001l-.101-.027h-.002l-.1-.028h-.002l-.103-.03-.104-.032-.097-.03h-.002l-.103-.033-.102-.033-.101-.034-.106-.036-.027-.01-.027-.007-.107-.03-.104-.029-.104-.03h-.002l-.097-.03-.102-.032-.102-.032-.102-.034-.103-.035-.096-.034-.1-.036-.101-.037h-.002l-.094-.036-.096-.037-.097-.04h-.002l-.099-.04-.098-.042h-.002l-.092-.04-.097-.043-.095-.043-.097-.044h-.002l-.09-.043-.094-.045-.094-.046-.093-.047-.09-.046-.096-.05-.088-.047-.002-.001-.09-.049-.094-.052-.002-.002-.087-.049-.087-.05h-.002l-.088-.053h-.001l-.09-.055-.086-.052-.002-.001-.089-.055-.084-.054h-.002l-.09-.059h-.001l-.085-.056-.001-.001-.084-.056-.082-.056h-.001l-.086-.06-.082-.058H7.79l-.086-.062-.002-.002-.08-.058-.081-.06h-.001l-.085-.064-.002-.002-.076-.058-.002-.002-.082-.064-.161-.128-.162-.133-.04-.034-.132-.092-.147-.066-.157-.038-.16-.008-.16.022z"}));function T7(){return T7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T7.apply(null,arguments)}var l7e=({styles:t={},...e})=>ce.createElement("svg",T7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.847.004C9.61-.016 3.624 4.014 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846.004zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625-4.814-3.84-6.538-10.94-4.067-16.57 2.14-5.206 7.515-8.775 13.147-8.71.097-.001.194-.002.29-.001z"}));function I7(){return I7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I7.apply(null,arguments)}var c7e=({styles:t={},...e})=>ce.createElement("svg",I7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.847 0C9.61-.02 3.624 4.01 1.257 9.775-1.235 15.485.06 22.577 4.42 27.03c4.193 4.513 11.101 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.268.403-6.228-3.26-12.441-8.87-15.154A15.924 15.924 0 0015.846 0zm.439 1.729c6.105.033 11.856 4.45 13.435 10.359 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.625C2.101 23.17.377 16.07 2.848 10.44c2.134-5.2 7.522-8.78 13.147-8.71.097-.001.194-.002.29-.001zM13.504 9.08v4.427H9.077v4.98h4.427v4.427h4.98v-4.427h4.428v-4.98h-4.427V9.08h-4.98zm.83.83h3.32v4.427h4.428v3.32h-4.427v4.427h-3.32v-4.453H9.906v-3.294h4.427V9.91z"}));function D7(){return D7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D7.apply(null,arguments)}var u7e=({styles:t={},...e})=>ce.createElement("svg",D7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M15.995.005C9.705-.08 3.643 3.968 1.257 9.78-1.235 15.49.06 22.581 4.42 27.034c4.193 4.513 11.102 6.17 16.887 4.058 5.996-2.042 10.423-7.93 10.664-14.269.403-6.227-3.26-12.44-8.87-15.153A15.924 15.924 0 0015.994.005zm0 1.73c6.213-.108 12.122 4.355 13.726 10.357 1.678 5.653-.592 12.198-5.463 15.547-5.06 3.719-12.564 3.45-17.343-.626-4.814-3.838-6.538-10.939-4.067-16.57 2.14-5.205 7.515-8.774 13.147-8.708zm0 6.776L9.19 20.724H22.8L15.995 8.511zm0 1.777l5.332 9.572H10.662l5.333-9.572z"}));function M7(){return M7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M7.apply(null,arguments)}var d7e=({styles:t={},...e})=>ce.createElement("svg",M7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M16 0C7.174 0 0 7.174 0 16s7.174 16 16 16 16-7.174 16-16S24.826 0 16 0zm0 1.73c7.892 0 14.27 6.378 14.27 14.27 0 7.891-6.379 14.27-14.27 14.27S1.73 23.891 1.73 16C1.73 8.108 8.108 1.73 16 1.73zm-.143 6.676c-2.967.02-5.797 1.97-6.89 4.727-1.138 2.695-.51 6.012 1.537 8.102 1.99 2.142 5.268 2.932 8.014 1.928 2.878-.98 4.992-3.827 5.068-6.87.153-2.957-1.624-5.881-4.3-7.137a7.552 7.552 0 00-3.43-.75zm.27 1.383c2.71.012 5.254 2.015 5.886 4.656.704 2.577-.482 5.517-2.791 6.867-2.358 1.48-5.682 1.085-7.618-.918-2.043-1.971-2.407-5.381-.84-7.745 1.11-1.763 3.15-2.88 5.234-2.86h.13zm1.833 1.765l-2.074 3.763c-.64.068-.793 1.04-.202 1.3.39.27.696-.18 1.052-.165h3.17v-.865h-3.181l1.992-3.615-.757-.418z"}));function $7(){return $7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$7.apply(null,arguments)}var lM=({styles:t={},...e})=>ce.createElement("svg",$7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M5.637 3A5.644 5.644 0 000 8.637v15.417a5.644 5.644 0 005.637 5.637h20.726A5.644 5.644 0 0032 24.054V8.637A5.644 5.644 0 0026.363 3H5.637zm0 1.778h20.726a3.83 3.83 0 013.859 3.859v15.417a3.83 3.83 0 01-3.859 3.858h-4.201V16.695H9.838v11.217H5.637a3.83 3.83 0 01-3.859-3.858V8.637a3.83 3.83 0 013.859-3.859zm5.33 13.046h10.066v10.065H10.967V17.824zm4.189 1.431V22.06H12.35v1.689h2.804V26.554h1.69V23.749h2.804V22.06h-2.804V19.255h-1.69z"}));function N7(){return N7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N7.apply(null,arguments)}var cM=({styles:t={},...e})=>ce.createElement("svg",N7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M5.636 3A5.642 5.642 0 000 8.636v15.418a5.643 5.643 0 005.636 5.636h20.728A5.643 5.643 0 0032 24.054V8.636A5.642 5.642 0 0026.364 3H5.636zm0 1.778h20.728a3.83 3.83 0 013.858 3.858v15.418a3.83 3.83 0 01-3.858 3.858h-4.203V16.723H9.84v11.189H5.636a3.83 3.83 0 01-3.858-3.858V8.636a3.83 3.83 0 013.858-3.858zm5.331 13.074h10.066v10.06H10.967v-10.06zm1.336 3.996v1.711h7.394v-1.71h-7.394z"}));function L7(){return L7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L7.apply(null,arguments)}var f7e=({styles:t={},...e})=>ce.createElement("svg",L7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M6.494 2.667C2.916 2.667 0 5.57 0 9.142v13.383C0 26.097 2.916 29 6.494 29h19.012C29.084 29 32 26.097 32 22.525V9.142c0-3.572-2.916-6.475-6.494-6.475H6.494zm0 2h19.012c2.509 0 4.494 1.98 4.494 4.475v13.383C30 25.02 28.015 27 25.506 27H6.494C3.985 27 2 25.02 2 22.525V9.142c0-2.495 1.985-4.475 4.494-4.475z"}));function j7(){return j7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j7.apply(null,arguments)}var h7e=({styles:t={},...e})=>ce.createElement("svg",j7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M22.087 0v31.647H32v-1.788h-8.125V1.788H32V0h-9.913zm-2.924 13.999l-2.737 2.167 2.167 2.738 2.738-2.167-2.168-2.738zm-5.475 4.335L10.95 20.5l2.168 2.738 2.737-2.168-2.167-2.737zm-5.475 4.335l-2.738 2.167 2.168 2.738 2.737-2.168-2.167-2.737zm-5.476 4.335L0 29.17l2.167 2.738 2.738-2.168-2.168-2.737z"}));function B7(){return B7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B7.apply(null,arguments)}var p7e=({styles:t={},...e})=>ce.createElement("svg",B7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{d:"M5.422 3A5.424 5.424 0 000 8.422v15.822a5.424 5.424 0 005.422 5.423h21.156A5.424 5.424 0 0032 24.244V8.422A5.424 5.424 0 0026.578 3H5.422zm0 1.244h21.156a4.155 4.155 0 014.178 4.178v15.822a4.155 4.155 0 01-4.178 4.178H5.422a4.155 4.155 0 01-4.178-4.178V8.422a4.155 4.155 0 014.178-4.178zm1.056 1.778a3.373 3.373 0 00-3.367 3.366v13.89a3.373 3.373 0 003.367 3.366h19.044a3.373 3.373 0 003.367-3.366V9.388a3.373 3.373 0 00-3.367-3.366H6.478zm0 1.245h19.044c1.187 0 2.122.935 2.122 2.121v13.89a2.104 2.104 0 01-2.122 2.122H6.478a2.104 2.104 0 01-2.122-2.122V9.388c0-1.186.935-2.121 2.122-2.121z"}));function F7(){return F7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F7.apply(null,arguments)}var m7e=({styles:t={},...e})=>ce.createElement("svg",F7({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},e),ce.createElement("path",{fillRule:"evenodd",d:"M10.263 7.468c-1.698 0-2.912 1.305-2.915 2.791v.001c0 .45.121.924.311 1.352.138.309.308.593.516.82-1.235.423-2.683 1.119-3.414 2.49l-.04.075v4.44h11.083v-4.44l-.04-.074c-.72-1.352-2.136-2.047-3.36-2.471.597-.608.774-1.392.774-2.192-.004-1.487-1.218-2.792-2.915-2.792zm-1.16 1.583c.08 0 .165.003.26.008.757.045 1.012.181 1.207.31.196.13.334.252.851.268.404-.016.598-.087.737-.169.056-.033.103-.067.152-.1.128.275.197.578.198.893 0 .894-.154 1.52-.975 2.034l.08.604c.171.052.348.11.527.171.025.105.054.242.073.387.02.153.029.311.016.43a.422.422 0 01-.056.19c-.417.417-1.157.66-1.908.66-.75 0-1.49-.243-1.908-.66a.422.422 0 01-.056-.19 1.949 1.949 0 01.016-.43c.02-.146.049-.284.074-.388.177-.062.352-.118.521-.17l.048-.648a.616.616 0 00-.126-.118c-.183-.138-.405-.44-.562-.793-.157-.353-.254-.757-.254-1.08 0-.387.105-.758.297-1.079l.11-.04c.143-.046.339-.09.679-.09zm-1.448 4.304l-.002.014c-.025.185-.04.387-.018.589.021.202.074.42.248.593.595.594 1.494.857 2.382.857.889 0 1.788-.263 2.382-.857.174-.174.227-.391.249-.593a2.496 2.496 0 00-.018-.59l-.002-.01c.903.396 1.776.963 2.258 1.81v3.599H13.53v-2.538h-.67v2.538H7.651v-2.538h-.67v2.538H5.39v-3.599c.483-.849 1.359-1.416 2.264-1.813zM6.495 3C2.914 3 0 5.903 0 9.475v13.383c0 3.572 2.916 6.475 6.494 6.475h19.012c3.578 0 6.494-2.903 6.494-6.475V9.475C32 5.903 29.084 3 25.506 3H6.494zm0 2h19.01C28.016 5 30 6.98 30 9.475v13.383c0 2.495-1.985 4.475-4.494 4.475H6.494C3.985 27.333 2 25.353 2 22.858V9.475C2 6.98 3.985 5 6.494 5z"})),g7e={Association:o8e,BusinessRuleTask:s8e,CallActivity:a8e,Collaboration:l8e,ConditionalFlow:c8e,SequenceFlow:u8e,DataInput:d8e,DataInputAssociation:qD,DataOutput:h8e,DataOutputAssociation:qD,DataObjectReference:f8e,DataStoreReference:p8e,DefaultFlow:m8e,CancelEndEvent:g8e,CompensateEndEvent:v8e,ErrorEndEvent:y8e,EscalationEndEvent:b8e,LinkEndEvent:_8e,MessageEndEvent:x8e,MultipleEndEvent:w8e,EndEvent:E8e,SignalEndEvent:S8e,TerminateEndEvent:C8e,EventSubProcess:k8e,ComplexGateway:O8e,EventBasedGateway:R8e,ExclusiveGateway:I8e,Gateway:P8e,InclusiveGateway:A8e,ParallelGateway:T8e,Group:D8e,CancelIntermediateCatchEvent:VD,CompensateIntermediateCatchEvent:HD,ConditionalIntermediateCatchEvent:UD,ErrorIntermediateCatchEvent:WD,EscalationIntermediateCatchEvent:GD,LinkIntermediateCatchEvent:KD,MessageIntermediateCatchEvent:XD,MultipleIntermediateCatchEvent:YD,ConditionalIntermediateCatchEventNonInterrupting:QD,EscalationIntermediateCatchEventNonInterrupting:ZD,MessageIntermediateCatchEventNonInterrupting:JD,MultipleIntermediateCatchEventNonInterrupting:eM,ParallelIntermediateCatchEventNonInterrupting:tM,SignalIntermediateCatchEventNonInterrupting:nM,TimerIntermediateCatchEventNonInterrupting:rM,ParallelMultipleIntermediateCatchEvent:iM,SignalIntermediateCatchEvent:oM,TimerIntermediateCatchEvent:sM,IntermediateThrowEvent:aM,CompensateIntermediateThrowEvent:M8e,EscalationIntermediateThrowEvent:$8e,LinkIntermediateThrowEvent:N8e,MessageIntermediateThrowEvent:L8e,MultipleIntermediateThrowEvent:j8e,SignalIntermediateThrowEvent:B8e,Lane:F8e,ManualTask:z8e,MessageFlow:q8e,Participant:V8e,Process:H8e,ReceiveTask:U8e,ScriptTask:W8e,SendTask:G8e,ServiceTask:K8e,CompensateStartEvent:X8e,ConditionalStartEvent:Y8e,ErrorStartEvent:Q8e,EscalationStartEvent:Z8e,MessageStartEvent:J8e,MultipleStartEvent:e7e,ConditionalStartEventNonInterrupting:t7e,EscalationStartEventNonInterrupting:n7e,MessageStartEventNonInterrupting:r7e,MultipleStartEventNonInterrupting:i7e,ParallelMultipleStartEventNonInterrupting:o7e,SignalStartEventNonInterrupting:s7e,TimerStartEventNonInterrupting:a7e,CancelBoundaryEvent:VD,CompensateBoundaryEvent:HD,ConditionalBoundaryEvent:UD,ErrorBoundaryEvent:WD,EscalationBoundaryEvent:GD,LinkBoundaryEvent:KD,MessageBoundaryEvent:XD,MultipleBoundaryEvent:YD,BoundaryEvent:aM,ConditionalBoundaryEventNonInterrupting:QD,EscalationBoundaryEventNonInterrupting:ZD,MessageBoundaryEventNonInterrupting:JD,MultipleBoundaryEventNonInterrupting:eM,ParallelBoundaryEventNonInterrupting:tM,SignalBoundaryEventNonInterrupting:nM,TimerBoundaryEventNonInterrupting:rM,ParallelMultipleBoundaryEvent:iM,SignalBoundaryEvent:oM,TimerBoundaryEvent:sM,StartEvent:l7e,ParallelMultipleStartEvent:c7e,SignalStartEvent:u7e,TimerStartEvent:d7e,CollapsedSubProcess:lM,CollapsedAdHocSubProcess:lM,ExpandedSubProcess:cM,ExpandedAdHocSubProcess:cM,Task:f7e,TextAnnotation:h7e,Transaction:p7e,UserTask:m7e};function uM(t){const{type:e}=t;let n=rQ(e);const r=b7e(t);return r?(n=`${_7e(r)}${n}`,($(t,"bpmn:StartEvent")&&!jV(t)||$(t,"bpmn:BoundaryEvent")&&!y7e(t))&&(n=`${n}NonInterrupting`),n):($(t,"bpmn:SubProcess")&&!$(t,"bpmn:Transaction")&&(Un(t)?n=`Event${n}`:n=`${rt(t)&&!E7e(t)?"Expanded":"Collapsed"}${n}`),x7e(t)&&(n="DefaultFlow"),w7e(t)&&(n="ConditionalFlow"),n)}const v7e=t=>(t||(t=e=>e),{getDocumentationRef:e=>{const n=dM();if(n)return S7e(e,n)},getElementLabel:e=>$(e,"bpmn:Process")?ve(e).name:Di(e),getElementIcon:e=>{const n=uM(e),r=Re("config.elementTemplateIconRenderer",!1),{iconProperty:i="zeebe:modelerTemplateIcon"}=r||{},o=ve(e).get(i);return o?()=>ge("img",{class:"bio-properties-panel-header-template-icon",width:"32",height:"32",src:o}):g7e[n]},getTypeLabel:e=>{const n=dM();if(n){const i=iQ(e,n);if(i&&i.name)return t(i.name)}const r=uM(e);return t(r.replace(/(\B[A-Z])/g," $1").replace(/(\bNon Interrupting)/g,"($1)"))}});function y7e(t){const e=ve(t);return e&&e.cancelActivity!==!1}function b7e(t){const e=ve(t),n=e.eventDefinitions;return n&&n[0]}function rQ(t){return t.split(":")[1]}function _7e(t){return rQ(t.$type).replace("EventDefinition","")}function x7e(t){const e=ve(t),n=ve(t.source);return!$(t,"bpmn:SequenceFlow")||!n?!1:n.default&&n.default===e&&($(n,"bpmn:Gateway")||$(n,"bpmn:Activity"))}function w7e(t){const e=ve(t),n=ve(t.source);return!$(t,"bpmn:SequenceFlow")||!n?!1:e.conditionExpression&&$(n,"bpmn:Activity")}function E7e(t){const e=t&&(t.di||ve(t).di);return $(e,"bpmndi:BPMNPlane")}function dM(){return Re("elementTemplates",!1)}function iQ(t,e){return e.get(t)}function S7e(t,e){const n=iQ(t,e);return n&&n.documentationRef}function z7(){return z7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z7.apply(null,arguments)}var C7e=({styles:t={},...e})=>ce.createElement("svg",z7({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"64",height:"64"},e),ce.createElement("defs",null,ce.createElement("rect",{id:"a",width:"57",height:"47",x:"3",y:"8",rx:"7"}),ce.createElement("mask",{id:"b",width:"57",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},ce.createElement("use",{xlinkHref:"#a"}))),ce.createElement("g",{fill:"none",fillRule:"evenodd"},ce.createElement("path",{fill:"#818798",d:"M52 11a5 5 0 015 5v31a5 5 0 01-5 5H11a5 5 0 01-5-5V16a5 5 0 015-5h41zm0 2H11a3 3 0 00-2.995 2.824L8 16v31a3 3 0 002.824 2.995L11 50h41a3 3 0 002.995-2.824L55 47V16a3 3 0 00-2.824-2.995L52 13z"}),ce.createElement("path",{fill:"#D5D7DD",d:"M16 24h31v6H16zM21 33h21v6H21z"}),ce.createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));function q7(){return q7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q7.apply(null,arguments)}var k7e=({styles:t={},...e})=>ce.createElement("svg",q7({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"128",height:"64"},e),ce.createElement("defs",null,ce.createElement("path",{id:"a",d:"M9 9h110v47H9z"}),ce.createElement("mask",{id:"b",width:"110",height:"47",x:"0",y:"0",fill:"#fff",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox"},ce.createElement("use",{xlinkHref:"#a"}))),ce.createElement("g",{fill:"none",fillRule:"evenodd"},ce.createElement("path",{fill:"#818798",d:"M25 20.272L37.728 33 25 45.728 12.272 33 25 20.272zm0 2.829L15.1 33l9.9 9.9 9.9-9.9-9.9-9.9z"}),ce.createElement("path",{fill:"#D5D7DD",d:"M17 47h16v6H17z"}),ce.createElement("path",{fill:"#818798",d:"M35 32h27v2H35z"}),ce.createElement("path",{fill:"#818798",d:"M60 30v6l6-3z"}),ce.createElement("path",{fill:"#D5D7DD",d:"M80 34h21v6H80z"}),ce.createElement("g",null,ce.createElement("path",{fill:"#818798",d:"M111 12a5 5 0 015 5v31a5 5 0 01-5 5H70a5 5 0 01-5-5V17a5 5 0 015-5h41zm0 2H70a3 3 0 00-3 3v31a3 3 0 003 3h41a3 3 0 003-3V17a3 3 0 00-3-3z"}),ce.createElement("path",{fill:"#D5D7DD",d:"M75 25h31v6H75z"})),ce.createElement("use",{stroke:"#B9BCC6",strokeDasharray:"5 2",strokeWidth:"2",mask:"url(#b)",xlinkHref:"#a"})));const O7e=t=>(t||(t=e=>e),{getEmpty:()=>({text:t("Select an element to edit its properties."),icon:C7e}),getMultiple:()=>({text:t("Multiple elements are selected. Select a single element to edit its properties."),icon:k7e})});function R7e(t){const{element:e,injector:n,getProviders:r,layoutConfig:i,descriptionConfig:o,tooltipConfig:s,feelPopupContainer:a,getFeelPopupLinks:l}=t,c=n.get("canvas"),u=n.get("elementRegistry"),d=n.get("eventBus"),f=n.get("translate"),[h,p]=Mt({selectedElement:e}),m=h.selectedElement,g=k=>{if(!k)return;let I=k;I&&I.type==="label"&&(I=I.labelTarget),p({...h,selectedElement:I}),d.fire("propertiesPanel.updated",{element:I})};st(()=>{const k=I=>{const{newSelection:M=[]}=I;if(M.length>1)return g(M);const R=M[0],D=c.getRootElement();P7e(D)||g(R||D)};return d.on("selection.changed",k),()=>{d.off("selection.changed",k)}},[]),st(()=>{const k=I=>{const M=I.elements,R=A7e(M,m);R&&T7e(R,u)&&g(R)};return d.on("elements.changed",k),()=>{d.off("elements.changed",k)}},[m]),st(()=>{const k=I=>{const M=I.element;g(M)};return d.on("root.added",k),()=>{d.off("root.added",k)}},[m]),st(()=>{const k=()=>{g(m)};return d.on("propertiesPanel.providersChanged",k),()=>{d.off("propertiesPanel.providersChanged",k)}},[m]),st(()=>{const k=()=>{g(m)};return d.on("elementTemplates.changed",k),()=>{d.off("elementTemplates.changed",k)}},[m]);const v={selectedElement:m,injector:n,getService(k,I){return n.get(k,I)}},y=r(m),_=Mi(()=>cn(y,function(k,I){return Fe(m)?[]:I.getGroups(m)(k)},[]),[y,m]),[b,x]=Mt(i||{}),w=pi(k=>{d.fire("propertiesPanel.layoutChanged",{layout:k})},[d]);st(()=>{const k=I=>{const{layout:M}=I;x(M)};return d.on("propertiesPanel.setLayout",k),()=>d.off("propertiesPanel.setLayout",k)},[d,x]);const E=k=>{d.fire("propertiesPanel.descriptionLoaded",{description:k})},S=k=>{d.fire("propertiesPanel.tooltipLoaded",{tooltip:k})};return ge(nQ.Provider,{value:v,children:ge(Kwe,{element:m,headerProvider:v7e(f),placeholderProvider:O7e(f),groups:_,layoutConfig:b,layoutChanged:w,descriptionConfig:o,descriptionLoaded:E,tooltipConfig:s,tooltipLoaded:S,feelPopupContainer:a,getFeelPopupLinks:l,eventBus:d})})}function P7e(t){return t&&t.isImplicit}function A7e(t,e){return Ge(t,n=>n===e)}function T7e(t,e){return t&&e.get(t.id)}const I7e=1e3;class oQ{constructor(e,n,r){const{parent:i,layout:o,description:s,tooltip:a,feelPopupContainer:l,getFeelPopupLinks:c}=e||{};this._eventBus=r,this._injector=n,this._layoutConfig=o,this._descriptionConfig=s,this._tooltipConfig=a,this._feelPopupContainer=l,this._getFeelPopupLinks=c,this._container=at('<div style="height: 100%" tabindex="-1" class="bio-properties-panel-container"></div>');var u=n.get("commandStack",!1);u&&M7e(this._container,r,u),r.on("diagram.init",()=>{i&&this.attachTo(i)}),r.on("diagram.destroy",()=>{this.detach()}),r.on("root.added",d=>{const{element:f}=d;this._render(f)})}attachTo(e){if(!e)throw new Error("container required");e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Ue(e)),this.detach(),e.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const e=this._container.parentNode;e&&(e.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}registerProvider(e,n){if(n||(n=e,e=I7e),typeof n.getGroups!="function"){console.error("Properties provider does not implement #getGroups(element) API");return}this._eventBus.on("propertiesPanel.getProviders",e,function(r){r.providers.push(n)}),this._eventBus.fire("propertiesPanel.providersChanged")}setLayout(e){this._eventBus.fire("propertiesPanel.setLayout",{layout:e})}_getProviders(){const e=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(e),e.providers}_render(e){const n=this._injector.get("canvas");e||(e=n.getRootElement()),!D7e(e)&&(oc(ge(R7e,{element:e,injector:this._injector,getProviders:this._getProviders.bind(this),layoutConfig:this._layoutConfig,descriptionConfig:this._descriptionConfig,tooltipConfig:this._tooltipConfig,feelPopupContainer:this._feelPopupContainer,getFeelPopupLinks:this._getFeelPopupLinks}),this._container),this._eventBus.fire("propertiesPanel.rendered"))}_destroy(){this._container&&(oc(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}}oQ.$inject=["config.propertiesPanel","injector","eventBus"];function D7e(t){return t&&t.isImplicit}function M7e(t,e,n){function r(o){o.preventDefault(),o.stopPropagation()}function i(o){if(uS(o))return n.undo(),r(o);if(dS(o))return n.redo(),r(o)}e.on("keyboard.bind",function(){Be.bind(t,"keydown",i)}),e.on("keyboard.unbind",function(){Be.unbind(t,"keydown",i)})}class sQ{constructor(e){this._commandStack=e}preExecute(e){const n=this._commandStack;ee(e,function(r){n.execute(r.cmd,r.context)})}}sQ.$inject=["commandStack"];const $7e={"properties-panel.multi-command-executor":sQ};function aQ(t,e){t.on("diagram.init",function(){ee($7e,function(n,r){e.registerHandler(r,n)})})}aQ.$inject=["eventBus","commandStack"];var N7e={__init__:[aQ]},L7e={__depends__:[N7e,r8e,i8e],__init__:["propertiesPanel"],propertiesPanel:["type",oQ]};function sp(t,e,n,r){const i=r.create(t,e);return n&&(i.$parent=n),i}function X2(t){return new fi([32,32,1]).nextPrefixed(t)}function ap(t){let e=t;for(;e.$parent;)e=e.$parent;return e}function j7e(t,e){return(t||[]).filter(r=>$(r,e))}function lp(t,e){const n=ap(t);return j7e(n.get("rootElements"),e)}function Y2(t,e,n){return lp(t,e).find(i=>i.id===n)}function B9(t,e,n,r,i,o){return o.execute("element.updateModdleProperties",B7e(t,e,n,r,i))}function B7e(t,e,n,r,i){const o={};if(!r)return o[n]=void 0,{element:t,moddleElement:e,properties:o};const s=e.get(n);return s?{element:t,moddleElement:s,properties:{body:r}}:(o[n]=sp("bpmn:FormalExpression",{body:r},e,i),{element:t,moddleElement:e,properties:o})}function F7e(t){const{element:e}=t;return $(e,"bpmn:AdHocSubProcess")?[{id:"completionCondition",component:z7e,isEdited:Zr},{id:"cancelRemainingInstances",component:q7e,isEdited:n=>n&&!n.checked}]:[]}function z7e(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("debounceInput"),i=Re("commandStack"),o=Re("translate"),s=()=>{const l=ve(e).get("completionCondition");return l&&l.get("body")},a=l=>B9(e,ve(e),"completionCondition",l,n,i);return Ze({element:e,id:"completionCondition",label:o("Completion condition"),getValue:s,setValue:a,debounce:r})}function q7e(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=ve(e),o=()=>i.get("cancelRemainingInstances"),s=a=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{cancelRemainingInstances:a}})};return Zs({element:e,id:"cancelRemainingInstances",label:r("Cancel remaining instances"),getValue:o,setValue:s})}function cp(t){const{autoFocusEntry:e,element:n,getOptions:r}=t,i=r(n),o=QY(i);return st(()=>{if(e&&o&&i.length>o.length){const s=Ue(`[data-entry-id="${e}"]`),a=Ue(".bio-properties-panel-input",s);a&&a.select()}},[i]),ge(j9,{...t})}function V7e(t){return Qe(t,["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"])&&!!F9(t)}function F9(t){return Uu(t,"bpmn:ErrorEventDefinition")}function Q2(t){const e=F9(t);return e&&e.get("errorRef")}function Uu(t,e){const r=ve(t).get("eventDefinitions")||[];return Ge(r,function(i){return $(i,e)})}function H7e(t){return $(t,"bpmn:ReceiveTask")||Qe(t,["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])&&!!z9(t)}function z9(t){return $(t,"bpmn:ReceiveTask")?ve(t):Uu(t,"bpmn:MessageEventDefinition")}function q9(t){const e=z9(t);return e&&e.get("messageRef")}function lQ(t){return Uu(t,"bpmn:LinkEventDefinition")}function V9(t){return Uu(t,"bpmn:SignalEventDefinition")}function U7e(t){return Qe(t,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!lQ(t)}function W7e(t){return $(t,"bpmn:Event")&&!!V9(t)}function H9(t){const e=V9(t);return e&&e.get("signalRef")}function U9(t){return Uu(t,"bpmn:EscalationEventDefinition")}function G7e(t){return $(t,"bpmn:Event")&&!!U9(t)}function Z2(t){const e=U9(t);return e&&e.get("escalationRef")}function K7e(t){return Qe(t,["bpmn:EndEvent","bpmn:IntermediateThrowEvent"])&&!!up(t)}function up(t){return Uu(t,"bpmn:CompensateEventDefinition")}function X7e(t){const e=up(t);return e&&e.get("activityRef")}function Y7e(t){const{element:e}=t;return K7e(e)?[{id:"waitForCompletion",component:Q7e,isEdited:JY},{id:"activityRef",component:Z7e,isEdited:Hu}]:[]}function Q7e(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=up(e),o=()=>i.get("waitForCompletion"),s=a=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{waitForCompletion:a}})};return Zs({element:e,id:"waitForCompletion",label:r("Wait for completion"),getValue:o,setValue:s})}function Z7e(t){const{element:e}=t,n=Re("commandStack"),r=Re("elementRegistry"),i=Re("translate"),o=up(e),s=()=>{const c=X7e(e);return c&&c.get("id")},a=c=>{const u=c?ve(r.get(c)):void 0;n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{activityRef:u}})},l=()=>{let c=[{value:"",label:i("<none>")}];const u=rEe(e);return oEe(u).forEach(function(d){c.push({value:d.id,label:iEe(d)})}),c};return cp({element:e,id:"activityRef",label:i("Activity reference"),getValue:s,setValue:a,getOptions:l})}function cQ(t,e){const{flowElements:n}=t;return n.filter(function(r){return $(r,e)})}function J7e(t){return cQ(t,"bpmn:Activity")}function eEe(t){return cQ(t,"bpmn:BoundaryEvent")}function tEe(t,e){const{id:n}=t;return!!Ge(e,function(r){const{attachedToRef:i}=r,o=up(r);return i&&o&&i.id===n})}function nEe(t,e){return $(t,"bpmn:CallActivity")||$(t,"bpmn:SubProcess")&&!t.triggeredByEvent&&!t.isForCompensation||tEe(t,e)}function fM(t){const e=J7e(t),n=eEe(t);return e.filter(function(r){return nEe(r,n)})}function rEe(t){let n=ve(t).$parent,r=fM(n);return $(n,"bpmn:SubProcess")&&n.triggeredByEvent&&(n=n.$parent,n&&(r=[...r,...fM(n)])),r}function iEe(t){const{id:e,name:n}=t;return`${n?n+" ":""}(id=${e})`}function oEe(t){return br(t,e=>(e.name||"").toLowerCase())}const hM="text/plain";function sEe(t){const{element:e}=t,n=[{id:"documentation",component:aEe,isEdited:a8}];return cEe(e)&&n.push({id:"processDocumentation",component:lEe,isEdited:a8}),n}function aEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=Re("debounceInput"),s=dQ(ve(e)),a=fQ(e,ve(e),n,r);return K2({element:e,id:"documentation",label:i("Element documentation"),getValue:s,setValue:a,debounce:o})}function lEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=Re("debounceInput"),s=ve(e).processRef,a=dQ(s),l=fQ(e,s,n,r);return K2({element:e,id:"processDocumentation",label:i("Process documentation"),getValue:a,setValue:l,debounce:o})}function cEe(t){return $(t,"bpmn:Participant")&&t.businessObject.get("processRef")}function uQ(t){return t.find(function(e){return(e.textFormat||hM)===hM})}function dQ(t){return function(){const e=uQ(t&&t.get("documentation"));return e&&e.text}}function fQ(t,e,n,r){return function(i){let o=uQ(e&&e.get("documentation"));if(o)return i?r.execute("element.updateModdleProperties",{element:t,moddleElement:o,properties:{text:i}}):r.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:{documentation:zq(e.get("documentation"),o)}});if(i)return o=n.create("bpmn:Documentation",{text:i}),r.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:{documentation:[...e.get("documentation"),o]}})}}const pM="",mM="create-new";function uEe(t){const{element:e}=t;if(!V7e(e))return[];const n=Q2(e);let r=[{id:"errorRef",component:dEe,isEdited:Hu}];return n&&(r=[...r,{id:"errorName",component:fEe,isEdited:Zr},{id:"errorCode",component:hEe,isEdited:Zr}]),r}function dEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=F9(e),s=()=>{const c=Q2(e);return c?c.get("id"):pM},a=c=>{const u=ap(o),d=[];let f;return c===mM&&(f=sp("bpmn:Error",{name:X2("Error_")},u,n),c=f.get("id"),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:u,properties:{rootElements:[...u.get("rootElements"),f]}}})),f=f||Y2(o,"bpmn:Error",c),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:o,properties:{errorRef:f}}}),r.execute("properties-panel.multi-command-executor",d)},l=()=>{let c=[{value:pM,label:i("<none>")},{value:mM,label:i("Create new ...")}];const u=lp(ve(e),"bpmn:Error");return pEe(u).forEach(d=>{c.push({value:d.get("id"),label:d.get("name")})}),c};return cp({element:e,id:"errorRef",label:i("Global error reference"),autoFocusEntry:"errorName",getValue:s,setValue:a,getOptions:l})}function fEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=Q2(e),s=()=>o.get("name"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}});return Ze({element:e,id:"errorName",label:r("Name"),getValue:s,setValue:a,debounce:i})}function hEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=Q2(e),s=()=>o.get("errorCode"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{errorCode:l}});return Ze({element:e,id:"errorCode",label:r("Code"),getValue:s,setValue:a,debounce:i})}function pEe(t){return br(t,e=>(e.name||"").toLowerCase())}const gM="create-new";function mEe(t){const{element:e}=t;if(!G7e(e))return[];const n=Z2(e);let r=[{id:"escalationRef",component:gEe,isEdited:Hu}];return n&&(r=[...r,{id:"escalationName",component:vEe,isEdited:Zr},{id:"escalationCode",component:yEe,isEdited:Zr}]),r}function gEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=U9(e),s=()=>{const c=Z2(e);return c&&c.get("id")},a=c=>{const u=ap(o),d=[];let f;if(c===gM){const h=X2("Escalation_");f=sp("bpmn:Escalation",{id:h,name:h},u,n),c=f.get("id"),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:u,properties:{rootElements:[...u.get("rootElements"),f]}}})}return f=f||Y2(o,"bpmn:Escalation",c),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:o,properties:{escalationRef:f}}}),r.execute("properties-panel.multi-command-executor",d)},l=()=>{let c=[{value:"",label:i("<none>")},{value:gM,label:i("Create new ...")}];const u=lp(ve(e),"bpmn:Escalation");return bEe(u).forEach(d=>{c.push({value:d.get("id"),label:d.get("name")})}),c};return cp({element:e,id:"escalationRef",label:i("Global escalation reference"),autoFocusEntry:"escalationName",getValue:s,setValue:a,getOptions:l})}function vEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=Z2(e),s=()=>o.get("name"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}});return Ze({element:e,id:"escalationName",label:r("Name"),getValue:s,setValue:a,debounce:i})}function yEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=Z2(e),s=()=>o.get("escalationCode"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{escalationCode:l}});return Ze({element:e,id:"escalationCode",label:r("Code"),getValue:s,setValue:a,debounce:i})}function bEe(t){return br(t,e=>(e.name||"").toLowerCase())}function _Ee(t){const{element:e}=t;return!$(e,"bpmn:Process")&&!wEe(e)?[]:[{id:"isExecutable",component:xEe,isEdited:JY}]}function xEe(t){const{element:e}=t,n=Re("modeling"),r=Re("commandStack"),i=Re("translate");let o,s;if(s=a=>{n.updateProperties(e,{isExecutable:a})},o=a=>a.businessObject.isExecutable,$(e,"bpmn:Participant")){const a=e.businessObject.get("processRef");s=l=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{isExecutable:l}})},o=()=>a.get("isExecutable")}return Zs({element:e,id:"isExecutable",label:i("Executable"),getValue:o,setValue:s})}function wEe(t){return $(t,"bpmn:Participant")&&t.businessObject.get("processRef")}const EEe=/\s/,SEe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,CEe=/^[a-z_][\w-.]*$/i;function hQ(t,e,n){const r=t.$model.ids.assigned(e),i=r&&r!==t;return e?i?n("ID must be unique."):kEe(e,n):n("ID must not be empty.")}function kEe(t,e){if(OEe(t))return e("ID must not contain spaces.");if(!CEe.test(t))return SEe.test(t)?e("ID must not contain prefix."):e("ID must be a valid QName.")}function OEe(t){return EEe.test(t)}function REe(){return[{id:"id",component:PEe,isEdited:Zr}]}function PEe(t){const{element:e}=t,n=Re("modeling"),r=Re("debounceInput"),i=Re("translate"),o=(l,c)=>{c||n.updateProperties(e,{id:l})},s=pi(l=>ve(l).id,[e]),a=pi(l=>{const c=ve(e);return hQ(c,l,i)},[e,i]);return Ze({element:e,id:"id",label:i($(e,"bpmn:Participant")?"Participant ID":"ID"),getValue:s,setValue:o,debounce:r,validate:a})}function AEe(t){const{element:e}=t;return U7e(e)?[{id:"linkName",component:TEe,isEdited:Zr}]:[]}function TEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=lQ(e),s=()=>o.get("name"),a=l=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}})};return Ze({element:e,id:"linkName",label:r("Name"),getValue:s,setValue:a,debounce:i})}const vM="",yM="create-new";function IEe(t){const{element:e}=t;if(!H7e(e))return[];const n=q9(e);let r=[{id:"messageRef",component:DEe,isEdited:Hu}];return n&&(r=[...r,{id:"messageName",component:MEe,isEdited:Zr}]),r}function DEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=z9(e),s=()=>{const c=q9(e);return c?c.get("id"):vM},a=c=>{const u=ap(o),d=[];let f;if(c===yM){const h=X2("Message_");f=sp("bpmn:Message",{id:h,name:h},u,n),c=f.get("id"),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:u,properties:{rootElements:[...u.get("rootElements"),f]}}})}return f=f||Y2(o,"bpmn:Message",c),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:o,properties:{messageRef:f}}}),r.execute("properties-panel.multi-command-executor",d)},l=()=>{let c=[{value:vM,label:i("<none>")},{value:yM,label:i("Create new ...")}];const u=lp(ve(e),"bpmn:Message");return $Ee(u).forEach(d=>{c.push({value:d.get("id"),label:d.get("name")})}),c};return cp({element:e,id:"messageRef",label:i("Global message reference"),autoFocusEntry:"messageName",getValue:s,setValue:a,getOptions:l})}function MEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=q9(e),s=()=>o.get("name"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}});return Ze({element:e,id:"messageName",label:r("Name"),getValue:s,setValue:a,debounce:i})}function $Ee(t){return br(t,e=>(e.name||"").toLowerCase())}function NEe(t){const{element:e}=t;return BEe(e)?[{id:"loopCardinality",component:LEe,isEdited:Zr},{id:"completionCondition",component:jEe,isEdited:Zr}]:[]}function LEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("debounceInput"),i=Re("commandStack"),o=Re("translate"),s=()=>zEe(e),a=l=>B9(e,J2(e),"loopCardinality",l,n,i);return Ze({element:e,id:"loopCardinality",label:o("Loop cardinality"),getValue:s,setValue:a,debounce:r})}function jEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("debounceInput"),i=Re("commandStack"),o=Re("translate"),s=()=>VEe(e),a=l=>B9(e,J2(e),"completionCondition",l,n,i);return Ze({element:e,id:"completionCondition",label:o("Completion condition"),getValue:s,setValue:a,debounce:r})}function BEe(t){const e=J2(t);return!!e&&$(e,"bpmn:MultiInstanceLoopCharacteristics")}function pQ(t){return t&&t.get("body")}function mQ(t,e){const n=J2(t);return n&&n.get(e)}function J2(t){return ve(t).loopCharacteristics}function FEe(t){return mQ(t,"loopCardinality")}function zEe(t){const e=FEe(t);return pQ(e)}function qEe(t){return mQ(t,"completionCondition")}function VEe(t){const e=qEe(t);return pQ(e)}function HEe(t){const{element:e}=t;return Qe(e,["bpmn:Collaboration","bpmn:DataAssociation","bpmn:Association"])?[]:[{id:"name",component:UEe,isEdited:a8}]}function UEe(t){const{element:e}=t,n=Re("modeling"),r=Re("debounceInput"),i=Re("canvas"),o=Re("bpmnFactory"),s=Re("translate");let a={element:e,id:"name",label:s("Name"),debounce:r,setValue:l=>{n.updateProperties(e,{name:l})},getValue:l=>l.businessObject.name,autoResize:!0};return $(e,"bpmn:TextAnnotation")?a={...a,setValue:l=>{n.updateProperties(e,{text:l})},getValue:l=>l.businessObject.text}:$(e,"bpmn:Group")?a={...a,setValue:l=>{const c=ve(e);c.categoryValueRef||WEe(c,i.getRootElement(),o),n.updateLabel(e,l)},getValue:l=>{const c=ve(l),u=c.categoryValueRef;return u&&u.value}}:$(e,"bpmn:Participant")&&(a.label=s("Participant Name")),K2(a)}function WEe(t,e,n){const r=ve(e).$parent,i=GEe(r,n);t.categoryValueRef=i}function GEe(t,e){const n=e.create("bpmn:CategoryValue"),r=e.create("bpmn:Category",{categoryValue:[n]});return un(t.get("rootElements"),r),ve(r).$parent=t,ve(n).$parent=r,n}function KEe(t){const{element:e}=t;return QEe(e)?[{id:"processId",component:YEe,isEdited:Zr},{id:"processName",component:XEe,isEdited:Zr}]:[]}function XEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=e.businessObject.get("processRef"),s=()=>o.get("name"),a=l=>{n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}})};return Ze({element:e,id:"processName",label:r("Process name"),getValue:s,setValue:a,debounce:i})}function YEe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=e.businessObject.get("processRef"),s=()=>o.get("id"),a=(c,u)=>{u||n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{id:c}})},l=pi(c=>hQ(o,c,r),[o,r]);return Ze({element:e,id:"processId",label:r("Process ID"),getValue:s,setValue:a,debounce:i,validate:l})}function QEe(t){return $(t,"bpmn:Participant")&&t.businessObject.get("processRef")}const bM="",_M="create-new";function ZEe(t){const{element:e}=t;if(!W7e(e))return[];const n=H9(e);let r=[{id:"signalRef",component:JEe,isEdited:Hu}];return n&&(r=[...r,{id:"signalName",component:eSe,isEdited:Zr}]),r}function JEe(t){const{element:e}=t,n=Re("bpmnFactory"),r=Re("commandStack"),i=Re("translate"),o=V9(e),s=()=>{const c=H9(e);return c?c.get("id"):bM},a=c=>{const u=ap(o),d=[];let f;if(c===_M){const h=X2("Signal_");f=sp("bpmn:Signal",{id:h,name:h},u,n),c=f.get("id"),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:u,properties:{rootElements:[...u.get("rootElements"),f]}}})}return f=f||Y2(o,"bpmn:Signal",c),d.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:o,properties:{signalRef:f}}}),r.execute("properties-panel.multi-command-executor",d)},l=()=>{let c=[{value:bM,label:i("<none>")},{value:_M,label:i("Create new ...")}];const u=lp(ve(e),"bpmn:Signal");return tSe(u).forEach(d=>{c.push({value:d.get("id"),label:d.get("name")})}),c};return cp({element:e,id:"signalRef",label:i("Global signal reference"),autoFocusEntry:"signalName",getValue:s,setValue:a,getOptions:l})}function eSe(t){const{element:e}=t,n=Re("commandStack"),r=Re("translate"),i=Re("debounceInput"),o=H9(e),s=()=>o.get("name"),a=l=>n.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{name:l}});return Ze({element:e,id:"signalName",label:r("Name"),getValue:s,setValue:a,debounce:i})}function tSe(t){return br(t,e=>(e.name||"").toLowerCase())}function nSe(t){return Qe(t,["bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:BoundaryEvent"])&&!!gQ(t)}function rSe(t){if(!t)return;if(typeof t.get("timeDate")<"u")return"timeDate";if(typeof t.get("timeCycle")<"u")return"timeCycle";if(typeof t.get("timeDuration")<"u")return"timeDuration"}function gQ(t){return iSe(t,"bpmn:TimerEventDefinition")}function iSe(t,e){const r=ve(t).get("eventDefinitions")||[];return Ge(r,function(i){return $(i,e)})}function oSe(t){const{element:e,idPrefix:n}=t;let{timerEventDefinition:r}=t;if(!r){const s=ve(e);r=gQ(s)}const i=rSe(r);if(!nSe(e))return[];const o=[];return o.push({id:xM(n,"timerEventDefinitionType"),component:sSe,isEdited:Hu,timerEventDefinition:r,timerEventDefinitionType:i}),i&&o.push({id:xM(n,"timerEventDefinitionValue"),component:aSe,isEdited:Zr,timerEventDefinition:r,timerEventDefinitionType:i}),o}function sSe(t){const{element:e,timerEventDefinition:n,timerEventDefinitionType:r}=t,i=Re("commandStack"),o=Re("bpmnFactory"),s=Re("translate"),a=()=>r||"",l=u=>{if(u===r)return;const d=o.create("bpmn:FormalExpression",{body:void 0});d.$parent=n;const f={timeDuration:void 0,timeDate:void 0,timeCycle:void 0};u!==""&&(f[u]=d),i.execute("element.updateModdleProperties",{element:e,moddleElement:n,properties:f})},c=u=>[{value:"",label:s("<none>")},{value:"timeDate",label:s("Date")},{value:"timeDuration",label:s("Duration")},{value:"timeCycle",label:s("Cycle")}];return j9({element:e,id:"timerEventDefinitionType",label:s("Type"),getValue:a,setValue:l,getOptions:c})}function aSe(t){const{element:e,timerEventDefinition:n,timerEventDefinitionType:r}=t,i=Re("commandStack"),o=Re("translate"),s=Re("debounceInput"),a=n.get(r),l=()=>a&&a.get("body"),c=u=>{i.execute("element.updateModdleProperties",{element:e,moddleElement:a,properties:{body:u}})};return Ze({element:e,id:"timerEventDefinitionValue",label:o("Value"),getValue:l,setValue:c,debounce:s,tooltip:lSe(r,o)})}function lSe(t,e){switch(t){case"timeDate":return ge("div",{children:[ge("p",{children:e("A specific point in time defined as ISO 8601 combined date and time representation.")}),ge("ul",{children:[ge("li",{children:[ge("code",{children:"2019-10-01T12:00:00Z"})," - ",e("UTC time")]}),ge("li",{children:[ge("code",{children:"2019-10-02T08:09:40+02:00"})," - ",e("UTC plus 2 hours zone offset")]})]}),ge("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-date",target:"_blank",rel:"noopener noreferrer",children:e("Documentation: Timer events")})]});case"timeCycle":return ge("div",{children:[ge("p",{children:e("A cycle defined as ISO 8601 repeating intervals format.")}),ge("ul",{children:[ge("li",{children:[ge("code",{children:"R5/PT10S"})," - ",e("every 10 seconds, up to 5 times")]}),ge("li",{children:[ge("code",{children:"R/P1D"})," - ",e("every day, infinitely")]})]}),ge("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-cycle",target:"_blank",rel:"noopener noreferrer",children:e("Documentation: Timer events")})]});case"timeDuration":return ge("div",{children:[ge("p",{children:e("A time duration defined as ISO 8601 durations format.")}),ge("ul",{children:[ge("li",{children:[ge("code",{children:"PT15S"})," - ",e("15 seconds")]}),ge("li",{children:[ge("code",{children:"PT1H30M"})," - ",e("1 hour and 30 minutes")]}),ge("li",{children:[ge("code",{children:"P14D"})," - ",e("14 days")]})]}),ge("a",{href:"https://docs.camunda.org/manual/latest/reference/bpmn20/events/timer-events/#time-duration",target:"_blank",rel:"noopener noreferrer",children:e("Documentation: Timer events")})]})}}function xM(t,e){return t?t+e:e}function cSe(t,e){const n=e.get("translate"),r=[...HEe({element:t}),...REe(),...KEe({element:t}),..._Ee({element:t})];return{id:"general",label:n("General"),entries:r,component:Ki}}function uSe(t,e){const r={label:e.get("translate")("Compensation"),id:"compensation",component:Ki,entries:[...Y7e({element:t})]};return r.entries.length?r:null}function dSe(t,e){const n=e.get("translate"),r=[...sEe({element:t})];return{id:"documentation",label:n("Documentation"),entries:r,component:Ki}}function fSe(t,e){const r={id:"error",label:e.get("translate")("Error"),component:Ki,entries:[...uEe({element:t})]};return r.entries.length?r:null}function hSe(t,e){const r={id:"message",label:e.get("translate")("Message"),component:Ki,entries:[...IEe({element:t})]};return r.entries.length?r:null}function pSe(t,e){const r={id:"signal",label:e.get("translate")("Signal"),component:Ki,entries:[...ZEe({element:t})]};return r.entries.length?r:null}function mSe(t,e){const r={label:e.get("translate")("Link"),id:"link",component:Ki,entries:[...AEe({element:t})]};return r.entries.length?r:null}function gSe(t,e){const r={id:"escalation",label:e.get("translate")("Escalation"),component:Ki,entries:[...mEe({element:t})]};return r.entries.length?r:null}function vSe(t,e){const r={label:e.get("translate")("Timer"),id:"timer",component:Ki,entries:[...oSe({element:t})]};return r.entries.length?r:null}function ySe(t,e){const r={label:e.get("translate")("Multi-instance"),id:"multiInstance",component:Ki,entries:[...NEe({element:t})]};return r.entries.length?r:null}function bSe(t,e){const r={label:e.get("translate")("Completion"),id:"adHocCompletion",component:Ki,entries:[...F7e({element:t})]};return r.entries.length?r:null}function _Se(t,e){return[cSe(t,e),dSe(t,e),uSe(t,e),fSe(t,e),mSe(t,e),hSe(t,e),ySe(t,e),bSe(t,e),pSe(t,e),gSe(t,e),vSe(t,e)].filter(r=>r!==null)}class vQ{constructor(e,n){e.registerProvider(this),this._injector=n}getGroups(e){return n=>(n=n.concat(_Se(e,this._injector)),n)}}vQ.$inject=["propertiesPanel","injector"];var xSe={__init__:["bpmnPropertiesProvider"],bpmnPropertiesProvider:["type",vQ]};const wSe=500;class W9{constructor(e,n,r,i,o,s){ye(this,"translate");ye(this,"moddle");ye(this,"bpmnFactory");ye(this,"commandStack");ye(this,"elementRegistry");this.translate=n,this.moddle=r,this.bpmnFactory=i,this.commandStack=o,this.elementRegistry=s,e.registerProvider(wSe,this)}getGroups(e){return n=>(($(e,"bpmn:DataObjectReference")||$(e,"bpmn:DataObject"))&&(n.find(i=>i.id==="dataProperties")||n.push({id:"dataProperties",label:this.translate("Data Properties"),component:i=>ESe({...i,translate:this.translate,moddle:this.moddle,commandStack:this.commandStack}),element:e})),($(e,"bpmn:TextAnnotation")||$(e,"bpmn:Group"))&&(n.find(i=>i.id==="artifactProperties")||n.push({id:"artifactProperties",label:this.translate("Artifact Properties"),component:i=>kSe({...i,translate:this.translate,moddle:this.moddle,commandStack:this.commandStack}),element:e})),($(e,"bpmn:Process")||$(e,"bpmn:Collaboration"))&&(n.find(i=>i.id==="workspaceProperties")||n.push({id:"workspaceProperties",label:this.translate("Workspace Properties"),component:i=>FSe({...i,translate:this.translate,moddle:this.moddle,commandStack:this.commandStack}),element:e})),n)}}ye(W9,"$inject");function ESe(t){const{element:e,translate:n,moddle:r,commandStack:i}=t,o=()=>{const l=ve(e),c=l.extensionElements||r.create("bpmn:ExtensionElements");let u=c.get("values").find(d=>d.$type==="custom:DataObjectProperties");return u||(u=r.create("custom:DataObjectProperties"),c.get("values").push(u),l.extensionElements||i.execute("element.updateModdleProperties",{element:e,moddleElement:l,properties:{extensionElements:c}})),u},s=l=>o()[l],a=(l,c)=>{const u=o();i.execute("element.updateModdleProperties",{element:e,moddleElement:u,properties:{[l]:c}})};return[{id:"dataType",component:SSe,getValue:s,setValue:a,translate:n},{id:"isCollection",component:CSe,getValue:s,setValue:a,translate:n}]}function SSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Data Type"),getValue:()=>n("dataType")||"",setValue:o=>r("dataType",o)})}function CSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Zs({element:{id:e},id:e,label:i("Is Collection"),getValue:()=>n("isCollection")||!1,setValue:o=>r("isCollection",o)})}function kSe(t){const{element:e,translate:n,moddle:r,commandStack:i}=t,o=()=>{const c=ve(e),u=c.extensionElements||r.create("bpmn:ExtensionElements");let d=u.get("values").find(f=>f.$type==="custom:ArtifactProperties");return d||(d=r.create("custom:ArtifactProperties"),u.get("values").push(d),c.extensionElements||i.execute("element.updateModdleProperties",{element:e,moddleElement:c,properties:{extensionElements:u}})),d},s=[],a=c=>o()[c],l=(c,u)=>{const d=o();i.execute("element.updateModdleProperties",{element:e,moddleElement:d,properties:{[c]:u}})};return $(e,"bpmn:TextAnnotation")?s.push({id:"textFormat",component:OSe,getValue:()=>a("textFormat"),setValue:c=>l("textFormat",c),translate:n},{id:"includeInHistory",component:RSe,getValue:()=>a("includeInHistory"),setValue:c=>l("includeInHistory",c),translate:n},{id:"fontSizeAnnotation",component:NSe,getValue:()=>a("fontSize"),setValue:c=>l("fontSize",c),translate:n},{id:"fontWeightAnnotation",component:LSe,getValue:()=>a("fontWeight"),setValue:c=>l("fontWeight",c),translate:n},{id:"fontStyleAnnotation",component:jSe,getValue:()=>a("fontStyle"),setValue:c=>l("fontStyle",c),translate:n},{id:"fontColorAnnotation",component:BSe,getValue:()=>a("fontColor"),setValue:c=>l("fontColor",c),translate:n},{id:"backgroundColorAnnotation",component:PSe,getValue:()=>a("backgroundColor"),setValue:c=>l("backgroundColor",c),translate:n},{id:"borderColorAnnotation",component:ASe,getValue:()=>a("borderColor"),setValue:c=>l("borderColor",c),translate:n}):$(e,"bpmn:Group")&&s.push({id:"categoryValueRef",component:TSe,getValue:()=>a("categoryValueRef"),setValue:c=>l("categoryValueRef",c),translate:n},{id:"borderColorGroup",component:ISe,getValue:()=>a("borderColor"),setValue:c=>l("borderColor",c),translate:n},{id:"backgroundColorGroup",component:DSe,getValue:()=>a("backgroundColor"),setValue:c=>l("backgroundColor",c),translate:n},{id:"fontColorGroup",component:MSe,getValue:()=>a("fontColor"),setValue:c=>l("fontColor",c),translate:n},{id:"fontSizeGroup",component:$Se,getValue:()=>a("fontSize"),setValue:c=>l("fontSize",c),translate:n}),s}function OSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Text Format"),description:i("MIME type of the text (e.g., text/plain, text/html)"),getValue:()=>n("textFormat")||"text/plain",setValue:o=>r("textFormat",o)})}function RSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Zs({element:{id:e},id:e,label:i("Include in History"),description:i("Determines if the annotation should be included in historical data"),getValue:()=>n("includeInHistory")||!1,setValue:o=>r("includeInHistory",o)})}function PSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Background Color (Annotation)"),getValue:()=>n("backgroundColor")||"",setValue:o=>r("backgroundColor",o)})}function ASe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Border Color (Annotation)"),getValue:()=>n("borderColor")||"",setValue:o=>r("borderColor",o)})}function TSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Category Value Reference"),description:i("Reference to a category value that classifies the group"),getValue:()=>n("categoryValueRef")||"",setValue:o=>r("categoryValueRef",o)})}function ISe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Border Color (Group)"),getValue:()=>n("borderColor")||"",setValue:o=>r("borderColor",o)})}function DSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Background Color (Group)"),getValue:()=>n("backgroundColor")||"",setValue:o=>r("backgroundColor",o)})}function MSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Color (Group)"),getValue:()=>n("fontColor")||"",setValue:o=>r("fontColor",o)})}function $Se(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Size (Group)"),getValue:()=>n("fontSize")||"",setValue:o=>r("fontSize",o)})}function NSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Size (Annotation)"),getValue:()=>n("fontSize")||"",setValue:o=>r("fontSize",o)})}function LSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Weight (Annotation)"),getValue:()=>n("fontWeight")||"Normal",setValue:o=>r("fontWeight",o)})}function jSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Style (Annotation)"),getValue:()=>n("fontStyle")||"Normal",setValue:o=>r("fontStyle",o)})}function BSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Font Color (Annotation)"),getValue:()=>n("fontColor")||"",setValue:o=>r("fontColor",o)})}function FSe(t){const{element:e,translate:n,moddle:r,commandStack:i}=t,o=()=>{const l=ve(e),c=l.extensionElements||r.create("bpmn:ExtensionElements");let u=c.get("values").find(d=>d.$type==="custom:WorkspaceProperties");return u||(u=r.create("custom:WorkspaceProperties"),c.get("values").push(u),l.extensionElements||i.execute("element.updateModdleProperties",{element:e,moddleElement:l,properties:{extensionElements:c}})),u};return[{id:"workspaceName",component:zSe,getValue:l=>o()[l],setValue:(l,c)=>{const u=o();i.execute("element.updateModdleProperties",{element:e,moddleElement:u,properties:{[l]:c}})},translate:n}]}function zSe(t){const{id:e,getValue:n,setValue:r,translate:i}=t;return Ze({element:{id:e},id:e,label:i("Workspace Name"),getValue:()=>n("workspaceName")||"",setValue:o=>r("workspaceName",o)})}W9.$inject=["propertiesPanel","translate","moddle","bpmnFactory","commandStack","elementRegistry"];const qSe=t=>Ze({...t,label:t.translate("Version Tag")}),VSe=t=>Zs({...t,label:t.translate("Is Executable")}),HSe=t=>Ze({...t,label:t.translate("Task Priority (Activiti)")}),USe=t=>Ze({...t,label:t.translate("Job Priority")}),WSe=t=>Ze({...t,label:t.translate("History Time To Live")}),GSe=t=>Zs({...t,label:t.translate("Async")}),KSe=t=>Zs({...t,label:t.translate("Exclusive")}),XSe=t=>Ze({...t,label:t.translate("Job Priority (Activiti Task)")}),YSe=t=>Ze({...t,label:t.translate("Class")}),QSe=t=>Ze({...t,label:t.translate("Expression")}),ZSe=t=>Ze({...t,label:t.translate("Delegate Expression")}),JSe=t=>Ze({...t,label:t.translate("Result Variable")}),eCe=t=>Ze({...t,label:t.translate("Assignee")}),tCe=t=>Ze({...t,label:t.translate("Candidate Users")}),nCe=t=>Ze({...t,label:t.translate("Candidate Groups")}),rCe=t=>Ze({...t,label:t.translate("Due Date")}),iCe=t=>Ze({...t,label:t.translate("Priority (User Task)")}),oCe=t=>Ze({...t,label:t.translate("Form Key")}),sCe=t=>j9({...t,label:t.translate("Called Element Binding"),getOptions:()=>[{value:"latest",label:"Latest"},{value:"deployment",label:"Deployment"},{value:"version",label:"Version"},{value:"versionTag",label:"Version Tag"}]}),aCe=t=>Ze({...t,label:t.translate("Called Element Version")}),lCe=t=>Ze({...t,label:t.translate("Called Element Version Tag")}),cCe=t=>Ze({...t,label:t.translate("Called Element Tenant ID")}),uCe=t=>Ze({...t,label:t.translate("Candidate Starter Groups")}),dCe=t=>Ze({...t,label:t.translate("Candidate Starter Users")}),fCe=t=>Zs({...t,label:t.translate("Is Startable in Tasklist")}),hCe=t=>Ze({...t,label:t.translate("Collection")}),pCe=t=>Ze({...t,label:t.translate("Element Variable")}),mCe=t=>K2({...t,label:t.translate("Completion Condition")});class G9{constructor(e,n,r,i,o){ye(this,"_translate");ye(this,"_moddle");ye(this,"_bpmnFactory");ye(this,"_commandStack");ye(this,"_elementRegistry");ye(this,"_eventBus");console.log("[ActivitiProps] Constructor called"),this._translate=n,this._moddle=r,this._bpmnFactory=i,this._commandStack=o,this._eventBus=e,console.log("[ActivitiProps] Constructor completed")}getGroups(e){console.log("[ActivitiProps] getGroups called for element:",e,"type:",e.type);const n=[];return $(e,"bpmn:Process")&&(console.log("[ActivitiProps] Element is bpmn:Process, creating process properties group."),n.push({id:"activitiProcessProperties",label:this._translate("Activiti Process Properties"),entries:gCe({element:e,translate:this._translate,moddle:this._moddle,commandStack:this._commandStack,bpmnFactory:this._bpmnFactory})})),($(e,"bpmn:Task")||$(e,"bpmn:Activity")||$(e,"bpmn:UserTask")||$(e,"bpmn:ServiceTask")||$(e,"bpmn:CallActivity"))&&(console.log("[ActivitiProps] Element is bpmn:Task or bpmn:Activity, creating task properties group for type:",e.type),n.push({id:"activitiTaskProperties",label:this._translate("Activiti Task Properties"),entries:vCe({element:e,translate:this._translate,moddle:this._moddle,commandStack:this._commandStack})})),console.log("[ActivitiProps] Final groups being returned for element:",e.type,n),n}}ye(G9,"$inject",["eventBus","translate","moddle","bpmnFactory","commandStack","propertiesPanel"]);function gCe(t){console.log("[ActivitiProps] ProcessPropertiesGroupEntries called for element:",t.element);const{element:e,translate:n,commandStack:r,bpmnFactory:i}=t,o=ve(e),s=u=>o.get(u),a=(u,d)=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{[u]:d}})},l=u=>{const d=o.extensionElements;if(d&&d.values){const f=d.values.find(h=>h.$type==="activiti:Properties");if(f&&f.values){const h=f.values.find(p=>p.name===u);return h?h.value:""}}return""},c=(u,d)=>{let f=o.extensionElements;f||(f=i.create("bpmn:ExtensionElements",{values:[]}));let h=f.values.find(m=>m.$type==="activiti:Properties");h||(h=i.create("activiti:Properties",{values:[]}),f.values.push(h));let p=h.values.find(m=>m.name===u);p?p.value=d:(p=i.create("activiti:Property",{name:u,value:d}),h.values.push(p)),r.execute("element.updateModdleProperties",{element:e,moddleElement:o,properties:{extensionElements:f}})};return[{id:"versionTag",label:n("Version Tag"),component:qSe,getValue:()=>s("versionTag")||"",setValue:u=>a("versionTag",u)},{id:"isExecutable",label:n("Is Executable"),component:VSe,getValue:()=>s("isExecutable")||!1,setValue:u=>a("isExecutable",u)},{id:"taskPriority",label:n("Task Priority (Activiti)"),component:HSe,getValue:()=>l("taskPriority"),setValue:u=>c("taskPriority",u)},{id:"jobPriority",label:n("Job Priority"),component:USe,getValue:()=>s("jobPriority")||"",setValue:u=>a("jobPriority",u)},{id:"historyTimeToLive",label:n("History Time To Live"),component:WSe,getValue:()=>s("historyTimeToLive")||"",setValue:u=>a("historyTimeToLive",u)},{id:"activitiCandidateStarterGroups",label:n("Candidate Starter Groups (Activiti)"),component:uCe,getValue:()=>o.get("activiti:candidateStarterGroups")||"",setValue:u=>a("activiti:candidateStarterGroups",u)},{id:"activitiCandidateStarterUsers",label:n("Candidate Starter Users (Activiti)"),component:dCe,getValue:()=>o.get("activiti:candidateStarterUsers")||"",setValue:u=>a("activiti:candidateStarterUsers",u)},{id:"activitiIsStartableInTasklist",label:n("Is Startable in Tasklist (Activiti)"),component:fCe,getValue:()=>{const u=o.get("activiti:isStartableInTasklist");return u===void 0?!0:u},setValue:u=>a("activiti:isStartableInTasklist",u)}]}function vCe(t){console.log("[ActivitiProps] ActivitiUserTaskPropertiesEntries called for element:",t.element);const{element:e,translate:n,moddle:r,commandStack:i}=t,o=ve(e);let s=[];return s=s.concat(yCe({element:e,translate:n,commandStack:i})),$(e,"bpmn:ServiceTask")&&(s=s.concat(bCe({element:e,translate:n,commandStack:i}))),$(e,"bpmn:UserTask")&&(s=s.concat(_Ce({element:e,translate:n,commandStack:i}))),$(e,"bpmn:CallActivity")&&(s=s.concat(xCe({element:e,translate:n,commandStack:i}))),o.loopCharacteristics&&$(o.loopCharacteristics,"bpmn:MultiInstanceLoopCharacteristics")&&(s=s.concat(wCe({element:e,translate:n,moddle:r,commandStack:i}))),s}function yCe(t){console.log("[ActivitiProps] ActivitiGeneralEntries called for element:",t.element);const{element:e,translate:n,commandStack:r}=t,i=ve(e),o=a=>i.get("activiti:"+a),s=(a,l)=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{["activiti:"+a]:l}})};return[{id:"activitiAsync",label:n("Async"),component:GSe,getValue:()=>o("async")||!1,setValue:a=>s("async",a)},{id:"activitiExclusive",label:n("Exclusive"),component:KSe,getValue:()=>{const a=o("exclusive");return a===void 0?!0:a},setValue:a=>s("exclusive",a)},{id:"activitiJobPriorityTask",label:n("Job Priority (Activiti Task)"),component:XSe,getValue:()=>o("jobPriority")||"",setValue:a=>s("jobPriority",a)}]}function bCe(t){console.log("[ActivitiProps] ActivitiServiceTaskEntries called for element:",t.element);const{element:e,translate:n,commandStack:r}=t,i=ve(e),o=a=>i.get("activiti:"+a),s=(a,l)=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{["activiti:"+a]:l}})};return[{id:"activitiClass",label:n("Class"),component:YSe,getValue:()=>o("class")||"",setValue:a=>{a&&(s("expression",void 0),s("delegateExpression",void 0)),s("class",a)}},{id:"activitiExpression",label:n("Expression"),component:QSe,getValue:()=>o("expression")||"",setValue:a=>{a&&(s("class",void 0),s("delegateExpression",void 0)),s("expression",a)}},{id:"activitiDelegateExpression",label:n("Delegate Expression"),component:ZSe,getValue:()=>o("delegateExpression")||"",setValue:a=>{a&&(s("class",void 0),s("expression",void 0)),s("delegateExpression",a)}},{id:"activitiResultVariable",label:n("Result Variable"),component:JSe,getValue:()=>o("resultVariable")||"",setValue:a=>s("resultVariable",a)}]}function _Ce(t){console.log("[ActivitiProps] ActivitiUserTaskEntries called for element:",t.element);const{element:e,translate:n,commandStack:r}=t,i=ve(e),o=a=>i.get("activiti:"+a),s=(a,l)=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{["activiti:"+a]:l}})};return[{id:"activitiAssignee",label:n("Assignee"),component:eCe,getValue:()=>o("assignee")||"",setValue:a=>s("assignee",a)},{id:"activitiCandidateUsers",label:n("Candidate Users"),component:tCe,getValue:()=>o("candidateUsers")||"",setValue:a=>s("candidateUsers",a)},{id:"activitiCandidateGroups",label:n("Candidate Groups"),component:nCe,getValue:()=>o("candidateGroups")||"",setValue:a=>s("candidateGroups",a)},{id:"activitiDueDate",label:n("Due Date"),component:rCe,getValue:()=>o("dueDate")||"",setValue:a=>s("dueDate",a)},{id:"activitiPriorityUserTask",label:n("Priority (User Task)"),component:iCe,getValue:()=>o("priority")||"",setValue:a=>s("priority",a)},{id:"activitiFormKey",label:n("Form Key"),component:oCe,getValue:()=>o("formKey")||"",setValue:a=>s("formKey",a)}]}function xCe(t){console.log("[ActivitiProps] ActivitiCallActivityEntries called for element:",t.element);const{element:e,translate:n,commandStack:r}=t,i=ve(e),o=a=>i.get("activiti:"+a),s=(a,l)=>{r.execute("element.updateModdleProperties",{element:e,moddleElement:i,properties:{["activiti:"+a]:l}})};return[{id:"activitiCalledElementBinding",label:n("Called Element Binding"),component:sCe,getValue:()=>o("calledElementBinding")||"latest",setValue:a=>s("calledElementBinding",a)},{id:"activitiCalledElementVersion",label:n("Called Element Version"),component:aCe,getValue:()=>o("calledElementVersion")||"",setValue:a=>s("calledElementVersion",a),isVisible:()=>o("calledElementBinding")==="version"},{id:"activitiCalledElementVersionTag",label:n("Called Element Version Tag"),component:lCe,getValue:()=>o("calledElementVersionTag")||"",setValue:a=>s("calledElementVersionTag",a),isVisible:()=>o("calledElementBinding")==="versionTag"},{id:"activitiCalledElementTenantId",label:n("Called Element Tenant ID"),component:cCe,getValue:()=>o("calledElementTenantId")||"",setValue:a=>s("calledElementTenantId",a)}]}function wCe(t){console.log("[ActivitiProps] ActivitiMultiInstanceEntries called for element:",t.element);const{element:e,translate:n,moddle:r,commandStack:i}=t,s=ve(e).loopCharacteristics,a=c=>s.get("activiti:"+c),l=(c,u)=>{i.execute("element.updateModdleProperties",{element:e,moddleElement:s,properties:{["activiti:"+c]:u}})};return[{id:"activitiCollection",label:n("Collection"),component:hCe,getValue:()=>a("collection")||"",setValue:c=>l("collection",c),isVisible:()=>!!s},{id:"activitiElementVariable",label:n("Element Variable"),component:pCe,getValue:()=>a("elementVariable")||"",setValue:c=>l("elementVariable",c),isVisible:()=>!!s},{id:"activitiCompletionCondition",label:n("Completion Condition"),component:mCe,getValue:()=>s.get("completionCondition")?.body||"",setValue:c=>{let u=s.get("completionCondition");u||(u=r.create("bpmn:FormalExpression")),u.body=c,i.execute("element.updateModdleProperties",{element:e,moddleElement:s,properties:{completionCondition:u}})},isVisible:()=>!!s}]}G9.$inject=["eventBus","translate","moddle","bpmnFactory","commandStack","propertiesPanel"];var yQ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wM=zt.createContext&&zt.createContext(yQ),ECe=["attr","size","title"];function SCe(t,e){if(t==null)return{};var n=CCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){kCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kCe(t,e,n){return e=OCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OCe(t){var e=RCe(t,"string");return typeof e=="symbol"?e:e+""}function RCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bQ(t){return t&&t.map((e,n)=>zt.createElement(e.tag,sv({key:n},e.attr),bQ(e.child)))}function K9(t){return e=>zt.createElement(PCe,ov({attr:sv({},t.attr)},e),bQ(t.child))}function PCe(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=SCe(t,ECe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),zt.createElement("svg",ov({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:sv(sv({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&zt.createElement("title",null,o),t.children)};return wM!==void 0?zt.createElement(wM.Consumer,null,n=>e(n)):e(yQ)}function ACe(t){return K9({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(t)}function TCe(t){return K9({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(t)}function ICe(t){return K9({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(t)}var Gr=function(){return Gr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gr.apply(this,arguments)};function av(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ut="-ms-",Of="-moz-",It="-webkit-",_Q="comm",ey="rule",X9="decl",DCe="@import",xQ="@keyframes",MCe="@layer",wQ=Math.abs,Y9=String.fromCharCode,V7=Object.assign;function $Ce(t,e){return Fn(t,0)^45?(((e<<2^Fn(t,0))<<2^Fn(t,1))<<2^Fn(t,2))<<2^Fn(t,3):0}function EQ(t){return t.trim()}function ds(t,e){return(t=e.exec(t))?t[0]:t}function lt(t,e,n){return t.replace(e,n)}function eg(t,e,n){return t.indexOf(e,n)}function Fn(t,e){return t.charCodeAt(e)|0}function iu(t,e,n){return t.slice(e,n)}function jo(t){return t.length}function SQ(t){return t.length}function rf(t,e){return e.push(t),t}function NCe(t,e){return t.map(e).join("")}function SM(t,e){return t.filter(function(n){return!ds(n,e)})}var ty=1,ou=1,CQ=0,Ni=0,Tn=0,Wu="";function ny(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:ty,column:ou,length:s,return:"",siblings:a}}function fa(t,e){return V7(ny("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function t0(t){for(;t.root;)t=fa(t.root,{children:[t]});rf(t,t.siblings)}function LCe(){return Tn}function jCe(){return Tn=Ni>0?Fn(Wu,--Ni):0,ou--,Tn===10&&(ou=1,ty--),Tn}function so(){return Tn=Ni<CQ?Fn(Wu,Ni++):0,ou++,Tn===10&&(ou=1,ty++),Tn}function Xl(){return Fn(Wu,Ni)}function tg(){return Ni}function ry(t,e){return iu(Wu,t,e)}function H7(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BCe(t){return ty=ou=1,CQ=jo(Wu=t),Ni=0,[]}function FCe(t){return Wu="",t}function db(t){return EQ(ry(Ni-1,U7(t===91?t+2:t===40?t+1:t)))}function zCe(t){for(;(Tn=Xl())&&Tn<33;)so();return H7(t)>2||H7(Tn)>3?"":" "}function qCe(t,e){for(;--e&&so()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return ry(t,tg()+(e<6&&Xl()==32&&so()==32))}function U7(t){for(;so();)switch(Tn){case t:return Ni;case 34:case 39:t!==34&&t!==39&&U7(Tn);break;case 40:t===41&&U7(t);break;case 92:so();break}return Ni}function VCe(t,e){for(;so()&&t+Tn!==57;)if(t+Tn===84&&Xl()===47)break;return"/*"+ry(e,Ni-1)+"*"+Y9(t===47?t:so())}function HCe(t){for(;!H7(Xl());)so();return ry(t,Ni)}function UCe(t){return FCe(ng("",null,null,null,[""],t=BCe(t),0,[0],t))}function ng(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,g=1,v=1,y=0,_="",b=i,x=o,w=r,E=_;g;)switch(p=y,y=so()){case 40:if(p!=108&&Fn(E,d-1)==58){eg(E+=lt(db(y),"&","&\f"),"&\f",wQ(c?a[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:E+=db(y);break;case 9:case 10:case 13:case 32:E+=zCe(p);break;case 92:E+=qCe(tg()-1,7);continue;case 47:switch(Xl()){case 42:case 47:rf(WCe(VCe(so(),tg()),e,n,l),l);break;default:E+="/"}break;case 123*m:a[c++]=jo(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:v==-1&&(E=lt(E,/\f/g,"")),h>0&&jo(E)-d&&rf(h>32?kM(E+";",r,n,d-1,l):kM(lt(E," ","")+";",r,n,d-2,l),l);break;case 59:E+=";";default:if(rf(w=CM(E,e,n,c,u,i,a,_,b=[],x=[],d,o),o),y===123)if(u===0)ng(E,e,w,w,b,o,d,a,x);else switch(f===99&&Fn(E,3)===110?100:f){case 100:case 108:case 109:case 115:ng(t,w,w,r&&rf(CM(t,w,w,0,0,i,a,_,i,b=[],d,x),x),i,x,d,a,r?b:x);break;default:ng(E,w,w,w,[""],x,0,a,x)}}c=u=h=0,m=v=1,_=E="",d=s;break;case 58:d=1+jo(E),h=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&jCe()==125)continue}switch(E+=Y9(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(jo(E)-1)*v,v=1;break;case 64:Xl()===45&&(E+=db(so())),f=Xl(),u=d=jo(_=E+=HCe(tg())),y++;break;case 45:p===45&&jo(E)==2&&(m=0)}}return o}function CM(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,h=i===0?o:[""],p=SQ(h),m=0,g=0,v=0;m<r;++m)for(var y=0,_=iu(t,f+1,f=wQ(g=s[m])),b=t;y<p;++y)(b=EQ(g>0?h[y]+" "+_:lt(_,/&\f/g,h[y])))&&(l[v++]=b);return ny(t,e,n,i===0?ey:a,l,c,u,d)}function WCe(t,e,n,r){return ny(t,e,n,_Q,Y9(LCe()),iu(t,2,-2),0,r)}function kM(t,e,n,r,i){return ny(t,e,n,X9,iu(t,0,r),iu(t,r+1,-1),r,i)}function kQ(t,e,n){switch($Ce(t,e)){case 5103:return It+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+t+t;case 4789:return Of+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return It+t+Of+t+Ut+t+t;case 5936:switch(Fn(t,e+11)){case 114:return It+t+Ut+lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return It+t+Ut+lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return It+t+Ut+lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return It+t+Ut+t+t;case 6165:return It+t+Ut+"flex-"+t+t;case 5187:return It+t+lt(t,/(\w+).+(:[^]+)/,It+"box-$1$2"+Ut+"flex-$1$2")+t;case 5443:return It+t+Ut+"flex-item-"+lt(t,/flex-|-self/g,"")+(ds(t,/flex-|baseline/)?"":Ut+"grid-row-"+lt(t,/flex-|-self/g,""))+t;case 4675:return It+t+Ut+"flex-line-pack"+lt(t,/align-content|flex-|-self/g,"")+t;case 5548:return It+t+Ut+lt(t,"shrink","negative")+t;case 5292:return It+t+Ut+lt(t,"basis","preferred-size")+t;case 6060:return It+"box-"+lt(t,"-grow","")+It+t+Ut+lt(t,"grow","positive")+t;case 4554:return It+lt(t,/([^-])(transform)/g,"$1"+It+"$2")+t;case 6187:return lt(lt(lt(t,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),t,"")+t;case 5495:case 3959:return lt(t,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return lt(lt(t,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+Ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+t+t;case 4200:if(!ds(t,/flex-|baseline/))return Ut+"grid-column-align"+iu(t,e)+t;break;case 2592:case 3360:return Ut+lt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ds(r.props,/grid-\w+-end/)})?~eg(t+(n=n[e].value),"span",0)?t:Ut+lt(t,"-start","")+t+Ut+"grid-row-span:"+(~eg(n,"span",0)?ds(n,/\d+/):+ds(n,/\d+/)-+ds(t,/\d+/))+";":Ut+lt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ds(r.props,/grid-\w+-start/)})?t:Ut+lt(lt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return lt(t,/(.+)-inline(.+)/,It+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jo(t)-1-e>6)switch(Fn(t,e+1)){case 109:if(Fn(t,e+4)!==45)break;case 102:return lt(t,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+Of+(Fn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~eg(t,"stretch",0)?kQ(lt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return lt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return Ut+i+":"+o+c+(s?Ut+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(Fn(t,e+6)===121)return lt(t,":",":"+It)+t;break;case 6444:switch(Fn(t,Fn(t,14)===45?18:11)){case 120:return lt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+It+(Fn(t,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+Ut+"$2box$3")+t;case 100:return lt(t,":",":"+Ut)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return lt(t,"scroll-","scroll-snap-")+t}return t}function lv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function GCe(t,e,n,r){switch(t.type){case MCe:if(t.children.length)break;case DCe:case X9:return t.return=t.return||t.value;case _Q:return"";case xQ:return t.return=t.value+"{"+lv(t.children,r)+"}";case ey:if(!jo(t.value=t.props.join(",")))return""}return jo(n=lv(t.children,r))?t.return=t.value+"{"+n+"}":""}function KCe(t){var e=SQ(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function XCe(t){return function(e){e.root||(e=e.return)&&t(e)}}function YCe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case X9:t.return=kQ(t.value,t.length,n);return;case xQ:return lv([fa(t,{value:lt(t.value,"@","@"+It)})],r);case ey:if(t.length)return NCe(n=t.props,function(i){switch(ds(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":t0(fa(t,{props:[lt(i,/:(read-\w+)/,":"+Of+"$1")]})),t0(fa(t,{props:[i]})),V7(t,{props:SM(n,r)});break;case"::placeholder":t0(fa(t,{props:[lt(i,/:(plac\w+)/,":"+It+"input-$1")]})),t0(fa(t,{props:[lt(i,/:(plac\w+)/,":"+Of+"$1")]})),t0(fa(t,{props:[lt(i,/:(plac\w+)/,Ut+"input-$1")]})),t0(fa(t,{props:[i]})),V7(t,{props:SM(n,r)});break}return""})}}var QCe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},si={},su=typeof process<"u"&&si!==void 0&&(si.REACT_APP_SC_ATTR||si.SC_ATTR)||"data-styled",OQ="active",RQ="data-styled-version",iy="6.1.18",Q9=`/*!sc*/
`,cv=typeof window<"u"&&typeof document<"u",ZCe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&si!==void 0&&si.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&si.REACT_APP_SC_DISABLE_SPEEDY!==""?si.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&si.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&si!==void 0&&si.SC_DISABLE_SPEEDY!==void 0&&si.SC_DISABLE_SPEEDY!==""&&si.SC_DISABLE_SPEEDY!=="false"&&si.SC_DISABLE_SPEEDY),oy=Object.freeze([]),au=Object.freeze({});function JCe(t,e,n){return n===void 0&&(n=au),t.theme!==n.theme&&t.theme||e||n.theme}var PQ=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),e9e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,t9e=/(^-|-$)/g;function OM(t){return t.replace(e9e,"-").replace(t9e,"")}var n9e=/(a)(d)/gi,L1=52,RM=function(t){return String.fromCharCode(t+(t>25?39:97))};function W7(t){var e,n="";for(e=Math.abs(t);e>L1;e=e/L1|0)n=RM(e%L1)+n;return(RM(e%L1)+n).replace(n9e,"$1-$2")}var fb,AQ=5381,g0=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},TQ=function(t){return g0(AQ,t)};function r9e(t){return W7(TQ(t)>>>0)}function i9e(t){return t.displayName||t.name||"Component"}function hb(t){return typeof t=="string"&&!0}var IQ=typeof Symbol=="function"&&Symbol.for,DQ=IQ?Symbol.for("react.memo"):60115,o9e=IQ?Symbol.for("react.forward_ref"):60112,s9e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a9e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l9e=((fb={})[o9e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fb[DQ]=MQ,fb);function PM(t){return("type"in(e=t)&&e.type.$$typeof)===DQ?MQ:"$$typeof"in t?l9e[t.$$typeof]:s9e;var e}var c9e=Object.defineProperty,u9e=Object.getOwnPropertyNames,AM=Object.getOwnPropertySymbols,d9e=Object.getOwnPropertyDescriptor,f9e=Object.getPrototypeOf,TM=Object.prototype;function $Q(t,e,n){if(typeof e!="string"){if(TM){var r=f9e(e);r&&r!==TM&&$Q(t,r,n)}var i=u9e(e);AM&&(i=i.concat(AM(e)));for(var o=PM(t),s=PM(e),a=0;a<i.length;++a){var l=i[a];if(!(l in a9e||n&&n[l]||s&&l in s||o&&l in o)){var c=d9e(e,l);try{c9e(t,l,c)}catch{}}}}return t}function lu(t){return typeof t=="function"}function Z9(t){return typeof t=="object"&&"styledComponentId"in t}function Bl(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function IM(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function sh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function G7(t,e,n){if(n===void 0&&(n=!1),!n&&!sh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=G7(t[r],e[r]);else if(sh(e))for(var r in e)t[r]=G7(t[r],e[r]);return t}function J9(t,e){Object.defineProperty(t,"toString",{value:e})}function dp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var h9e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw dp(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Q9);return n},t}(),rg=new Map,uv=new Map,ig=1,j1=function(t){if(rg.has(t))return rg.get(t);for(;uv.has(ig);)ig++;var e=ig++;return rg.set(t,e),uv.set(e,t),e},p9e=function(t,e){ig=e+1,rg.set(t,e),uv.set(e,t)},m9e="style[".concat(su,"][").concat(RQ,'="').concat(iy,'"]'),g9e=new RegExp("^".concat(su,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),v9e=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},y9e=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Q9),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(g9e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(p9e(u,c),v9e(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},DM=function(t){for(var e=document.querySelectorAll(m9e),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(su)!==OQ&&(y9e(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function b9e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var NQ=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(su,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(su,OQ),r.setAttribute(RQ,iy);var s=b9e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},_9e=function(){function t(e){this.element=NQ(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw dp(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),x9e=function(){function t(e){this.element=NQ(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),w9e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),MM=cv,E9e={isServer:!cv,useCSSOMInjection:!ZCe},LQ=function(){function t(e,n,r){e===void 0&&(e=au),n===void 0&&(n={});var i=this;this.options=Gr(Gr({},E9e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&cv&&MM&&(MM=!1,DM(this)),J9(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var f=function(v){return uv.get(v)}(d);if(f===void 0)return"continue";var h=o.names.get(f),p=s.getGroup(d);if(h===void 0||!h.size||p.length===0)return"continue";var m="".concat(su,".g").concat(d,'[id="').concat(f,'"]'),g="";h!==void 0&&h.forEach(function(v){v.length>0&&(g+="".concat(v,","))}),l+="".concat(p).concat(m,'{content:"').concat(g,'"}').concat(Q9)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return j1(e)},t.prototype.rehydrate=function(){!this.server&&cv&&DM(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Gr(Gr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new w9e(i):r?new _9e(i):new x9e(i)}(this.options),new h9e(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(j1(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(j1(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(j1(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),S9e=/&/g,C9e=/^\s*\/\/.*$/gm;function jQ(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=jQ(n.children,e)),n})}function k9e(t){var e,n,r,i=au,o=i.options,s=o===void 0?au:o,a=i.plugins,l=a===void 0?oy:a,c=function(f,h,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===ey&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(S9e,n).replace(r,c))}),s.prefix&&u.push(YCe),u.push(GCe);var d=function(f,h,p,m){h===void 0&&(h=""),p===void 0&&(p=""),m===void 0&&(m="&"),e=m,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var g=f.replace(C9e,""),v=UCe(p||h?"".concat(p," ").concat(h," { ").concat(g," }"):g);s.namespace&&(v=jQ(v,s.namespace));var y=[];return lv(v,KCe(u.concat(XCe(function(_){return y.push(_)})))),y};return d.hash=l.length?l.reduce(function(f,h){return h.name||dp(15),g0(f,h.name)},AQ).toString():"",d}var O9e=new LQ,K7=k9e(),BQ=zt.createContext({shouldForwardProp:void 0,styleSheet:O9e,stylis:K7});BQ.Consumer;zt.createContext(void 0);function $M(){return SE(BQ)}var R9e=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=K7);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,J9(this,function(){throw dp(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=K7),this.name+e.hash},t}(),P9e=function(t){return t>="A"&&t<="Z"};function NM(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;P9e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var FQ=function(t){return t==null||t===!1||t===""},zQ=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!FQ(o)&&(Array.isArray(o)&&o.isCss||lu(o)?r.push("".concat(NM(i),":"),o,";"):sh(o)?r.push.apply(r,av(av(["".concat(i," {")],zQ(o),!1),["}"],!1)):r.push("".concat(NM(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in QCe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Yl(t,e,n,r){if(FQ(t))return[];if(Z9(t))return[".".concat(t.styledComponentId)];if(lu(t)){if(!lu(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Yl(i,e,n,r)}var o;return t instanceof R9e?n?(t.inject(n,r),[t.getName(r)]):[t]:sh(t)?zQ(t):Array.isArray(t)?Array.prototype.concat.apply(oy,t.map(function(s){return Yl(s,e,n,r)})):[t.toString()]}function A9e(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(lu(n)&&!Z9(n))return!1}return!0}var T9e=TQ(iy),I9e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&A9e(e),this.componentId=n,this.baseHash=g0(T9e,n),this.baseStyle=r,LQ.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Bl(i,this.staticRulesId);else{var o=IM(Yl(this.rules,e,n,r)),s=W7(g0(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Bl(i,s),this.staticRulesId=s}else{for(var l=g0(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=IM(Yl(d,e,n,r));l=g0(l,f+u),c+=f}}if(c){var h=W7(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=Bl(i,h)}}return i},t}(),qQ=zt.createContext(void 0);qQ.Consumer;var pb={};function D9e(t,e,n){var r=Z9(t),i=t,o=!hb(t),s=e.attrs,a=s===void 0?oy:s,l=e.componentId,c=l===void 0?function(b,x){var w=typeof b!="string"?"sc":OM(b);pb[w]=(pb[w]||0)+1;var E="".concat(w,"-").concat(r9e(iy+w+pb[w]));return x?"".concat(x,"-").concat(E):E}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(b){return hb(b)?"styled.".concat(b):"Styled(".concat(i9e(b),")")}(t):u,f=e.displayName&&e.componentId?"".concat(OM(e.displayName),"-").concat(e.componentId):e.componentId||c,h=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var g=e.shouldForwardProp;p=function(b,x){return m(b,x)&&g(b,x)}}else p=m}var v=new I9e(n,f,r?i.componentStyle:void 0);function y(b,x){return function(w,E,S){var k=w.attrs,I=w.componentStyle,M=w.defaultProps,R=w.foldedComponentIds,D=w.styledComponentId,C=w.target,V=zt.useContext(qQ),J=$M(),Y=w.shouldForwardProp||J.shouldForwardProp,j=JCe(E,V,M)||au,B=function(X,oe,L){for(var O,T=Gr(Gr({},oe),{className:void 0,theme:L}),K=0;K<X.length;K+=1){var Q=lu(O=X[K])?O(T):O;for(var ae in Q)T[ae]=ae==="className"?Bl(T[ae],Q[ae]):ae==="style"?Gr(Gr({},T[ae]),Q[ae]):Q[ae]}return oe.className&&(T.className=Bl(T.className,oe.className)),T}(k,E,j),G=B.as||C,z={};for(var N in B)B[N]===void 0||N[0]==="$"||N==="as"||N==="theme"&&B.theme===j||(N==="forwardedAs"?z.as=B.forwardedAs:Y&&!Y(N,G)||(z[N]=B[N]));var F=function(X,oe){var L=$M(),O=X.generateAndInjectStyles(oe,L.styleSheet,L.stylis);return O}(I,B),W=Bl(R,D);return F&&(W+=" "+F),B.className&&(W+=" "+B.className),z[hb(G)&&!PQ.has(G)?"class":"className"]=W,S&&(z.ref=S),$s(G,z)}(_,b,x)}y.displayName=d;var _=zt.forwardRef(y);return _.attrs=h,_.componentStyle=v,_.displayName=d,_.shouldForwardProp=p,_.foldedComponentIds=r?Bl(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(x){for(var w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];for(var S=0,k=w;S<k.length;S++)G7(x,k[S],!0);return x}({},i.defaultProps,b):b}}),J9(_,function(){return".".concat(_.styledComponentId)}),o&&$Q(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function LM(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var jM=function(t){return Object.assign(t,{isCss:!0})};function M9e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lu(t)||sh(t))return jM(Yl(LM(oy,av([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Yl(r):jM(Yl(LM(r,e)))}function X7(t,e,n){if(n===void 0&&(n=au),!e)throw dp(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,M9e.apply(void 0,av([i],o,!1)))};return r.attrs=function(i){return X7(t,e,Gr(Gr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return X7(t,e,Gr(Gr({},n),i))},r}var VQ=function(t){return X7(D9e,t)},Bt=VQ;PQ.forEach(function(t){Bt[t]=VQ(t)});const $9e=Bt.div`
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  background-color: white;
  border-radius: 4px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  z-index: 100;
`,mb=Bt.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border: none;
  background-color: white;
  cursor: pointer;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #f0f0f0;
  }
  
  &:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
  }
  
  &:last-child {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
  }
`,N9e=Bt.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background-color: #f5f5f5;
  font-size: 12px;
  font-weight: bold;
  color: #333;
`,gb=Bt.div`
  width: 100%;
  height: 1px;
  background-color: #e0e0e0;
`,L9e=({modeler:t})=>{const[e,n]=Ee(1),r=.1,i=.2,o=4;bt(()=>{if(t)try{const c=t.get("canvas");c&&n(c.zoom());const u=t.get("eventBus");if(u){const d=()=>{n(c.zoom())};return u.on("canvas.viewbox.changed",d),()=>{u.off("canvas.viewbox.changed",d)}}}catch(c){console.error("Error initializing zoom level:",c)}},[t]);const s=_n(()=>{if(t)try{const c=t.get("canvas"),u=c.zoom(),d=Math.min(u+r,o);c.zoom(d)}catch(c){console.error("Error handling zoom in:",c)}},[t]),a=_n(()=>{if(t)try{const c=t.get("canvas"),u=c.zoom(),d=Math.max(u-r,i);c.zoom(d)}catch(c){console.error("Error handling zoom out:",c)}},[t]),l=_n(()=>{if(t)try{t.get("canvas").zoom("fit-viewport")}catch(c){console.error("Error handling reset zoom:",c)}},[t]);return bt(()=>{if(t)try{const c=t.get("keyboard"),u=function(h){const p=h.keyEvent;if(c.isKey(["=","+"],p)&&c.isCmd(p))return s(),!0},d=function(h){const p=h.keyEvent;if(c.isKey(["-","_"],p)&&c.isCmd(p))return a(),!0},f=function(h){const p=h.keyEvent;if(c.isKey(["0"],p)&&c.isCmd(p))return l(),!0};return c.addListener(u),c.addListener(d),c.addListener(f),()=>{try{c.removeListener(u),c.removeListener(d),c.removeListener(f)}catch(h){console.error("Error removing keyboard listeners:",h)}}}catch(c){console.error("Error setting up keyboard shortcuts:",c)}},[t,s,a,l]),bt(()=>{if(t)try{const c=t.get("canvas");if(!c||!c._container)return;const u=c._container;let d=0,f=1;const h=m=>{if(m.touches.length===2){const g=m.touches[0],v=m.touches[1];d=Math.hypot(v.clientX-g.clientX,v.clientY-g.clientY),f=c.zoom()}},p=m=>{if(m.touches.length===2){const g=m.touches[0],v=m.touches[1],_=Math.hypot(v.clientX-g.clientX,v.clientY-g.clientY)/d,b=Math.min(Math.max(f*_,i),o);c.zoom(b),m.preventDefault()}};return u.addEventListener("touchstart",h),u.addEventListener("touchmove",p),()=>{u.removeEventListener("touchstart",h),u.removeEventListener("touchmove",p)}}catch(c){console.error("Error setting up touch gestures:",c)}},[t]),P.jsxs($9e,{children:[P.jsx(mb,{onClick:s,title:"Aumentar Zoom (Ctrl++)",children:P.jsx(TCe,{size:18})}),P.jsx(gb,{}),P.jsxs(N9e,{title:"N√≠vel de Zoom Atual",children:[Math.round(e*100),"%"]}),P.jsx(gb,{}),P.jsx(mb,{onClick:a,title:"Diminuir Zoom (Ctrl+-)",children:P.jsx(ICe,{size:18})}),P.jsx(gb,{}),P.jsx(mb,{onClick:l,title:"Ajustar √† Tela (Ctrl+0)",children:P.jsx(ACe,{size:16})})]})},j9e="Custom",B9e="http://custom.io/schema/bpmn/custom",F9e="custom",z9e=[{name:"DataObjectProperties",superClass:["bpmn:ExtensionElements"],properties:[{name:"dataType",isAttr:!0,type:"String"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"ArtifactProperties",superClass:["bpmn:ExtensionElements"],properties:[{name:"artifactType",isAttr:!0,type:"String"}]}],q9e=[],V9e=[],H9e={name:j9e,uri:B9e,prefix:F9e,types:z9e,emumerations:q9e,associations:V9e},U9e="Activiti",W9e="http://activiti.org/bpmn",G9e="activiti",K9e={tagAlias:"lowerCase"},X9e=[{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"asyncBefore",isAttr:!0,type:"Boolean",default:!1},{name:"asyncAfter",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"JobPriorized",isAbstract:!0,extends:["bpmn:Process","activiti:AsyncCapable"],properties:[{name:"jobPriority",isAttr:!0,type:"String"}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"Error",isAbstract:!0,extends:["bpmn:Error"],properties:[{name:"activiti:errorMessage",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!1,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"TaskPriorized",extends:["bpmn:Process","activiti:AsyncCapable"],properties:[{name:"taskPriority",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["activiti:ServiceTaskLike"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:FlowNode","activiti:Connector"]},properties:[{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",type:"Entry",isMany:!0}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",type:"Item",isMany:!0}]},{name:"Item",properties:[{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["activiti:ServiceTaskLike","activiti:ExecutionListener","activiti:TaskListener"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0},{name:"id",isAttr:!0,type:"String"},{name:"eventDefinitions",type:"bpmn:TimerEventDefinition",isMany:!0}]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["activiti:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]}],Y9e=[],Q9e={name:U9e,uri:W9e,prefix:G9e,xml:K9e,types:X9e,enumerations:Y9e};var vb={},yb={},B1={},bb={exports:{}},_b,BM;function Z9e(){if(BM)return _b;BM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _b=t,_b}var xb,FM;function J9e(){if(FM)return xb;FM=1;var t=Z9e();function e(){}function n(){}return n.resetWarningCache=e,xb=function(){function r(s,a,l,c,u,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},xb}var zM;function rs(){return zM||(zM=1,bb.exports=J9e()()),bb.exports}var qM;function eke(){if(qM)return B1;qM=1,Object.defineProperty(B1,"__esModule",{value:!0});var t=zt,e=i(t),n=rs(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}var o=function(a){var l=a.type,c=l===void 0?"danger":l,u=a.errors,d=function(p){return Array.isArray(p)?p.filter(function(m){return!!m}).length!==0:!!p},f=function h(p){return typeof p=="string"?p:Array.isArray(p)?p.map(h):p.hasOwnProperty("errors")?Object.keys(p.errors).map(function(m,g){var v=p.errors[m];return e.default.createElement("div",{key:g},e.default.createElement("strong",null,v.name," (",v.path,")")," - ",v.message)}):p.hasOwnProperty("message")?p.message:p.hasOwnProperty("name")&&p.name==="ValidationError"?p.details.map(function(m,g){return e.default.createElement("div",{key:g},m.message)}):p.hasOwnProperty("_id")&&p.hasOwnProperty("display")?"Another user has saved this form already. Please reload and re-apply your changes.":"An error occurred. See console logs for details."};return d(u)?e.default.createElement("div",{className:"alert alert-"+c,role:"alert"},f(u)):null};return o.propTypes={errors:r.default.any,type:r.default.string},B1.default=o,B1}var F1={},wb,VM;function bi(){if(VM)return wb;VM=1;var t=Array.isArray;return wb=t,wb}var Eb,HM;function tke(){if(HM)return Eb;HM=1;var t=bi();function e(){if(!arguments.length)return[];var n=arguments[0];return t(n)?n:[n]}return Eb=e,Eb}var Sb,UM;function nke(){if(UM)return Sb;UM=1;function t(){this.__data__=[],this.size=0}return Sb=t,Sb}var Cb,WM;function sy(){if(WM)return Cb;WM=1;function t(e,n){return e===n||e!==e&&n!==n}return Cb=t,Cb}var kb,GM;function ay(){if(GM)return kb;GM=1;var t=sy();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return kb=e,kb}var Ob,KM;function rke(){if(KM)return Ob;KM=1;var t=ay(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return Ob=r,Ob}var Rb,XM;function ike(){if(XM)return Rb;XM=1;var t=ay();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Rb=e,Rb}var Pb,YM;function oke(){if(YM)return Pb;YM=1;var t=ay();function e(n){return t(this.__data__,n)>-1}return Pb=e,Pb}var Ab,QM;function ske(){if(QM)return Ab;QM=1;var t=ay();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Ab=e,Ab}var Tb,ZM;function ly(){if(ZM)return Tb;ZM=1;var t=nke(),e=rke(),n=ike(),r=oke(),i=ske();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Tb=o,Tb}var Ib,JM;function ake(){if(JM)return Ib;JM=1;var t=ly();function e(){this.__data__=new t,this.size=0}return Ib=e,Ib}var Db,e$;function lke(){if(e$)return Db;e$=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Db=t,Db}var Mb,t$;function cke(){if(t$)return Mb;t$=1;function t(e){return this.__data__.get(e)}return Mb=t,Mb}var $b,n$;function uke(){if(n$)return $b;n$=1;function t(e){return this.__data__.has(e)}return $b=t,$b}var Nb,r$;function HQ(){if(r$)return Nb;r$=1;var t=typeof qo=="object"&&qo&&qo.Object===Object&&qo;return Nb=t,Nb}var Lb,i$;function xo(){if(i$)return Lb;i$=1;var t=HQ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Lb=n,Lb}var jb,o$;function Tc(){if(o$)return jb;o$=1;var t=xo(),e=t.Symbol;return jb=e,jb}var Bb,s$;function dke(){if(s$)return Bb;s$=1;var t=Tc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var u=r.call(s);return c&&(a?s[i]=l:delete s[i]),u}return Bb=o,Bb}var Fb,a$;function fke(){if(a$)return Fb;a$=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Fb=n,Fb}var zb,l$;function ei(){if(l$)return zb;l$=1;var t=Tc(),e=dke(),n=fke(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return zb=s,zb}var qb,c$;function wo(){if(c$)return qb;c$=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return qb=t,qb}var Vb,u$;function Gu(){if(u$)return Vb;u$=1;var t=ei(),e=wo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return Vb=s,Vb}var Hb,d$;function UQ(){if(d$)return Hb;d$=1;var t=xo(),e=t["__core-js_shared__"];return Hb=e,Hb}var Ub,f$;function hke(){if(f$)return Ub;f$=1;var t=UQ(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Ub=n,Ub}var Wb,h$;function WQ(){if(h$)return Wb;h$=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Wb=n,Wb}var Gb,p$;function GQ(){if(p$)return Gb;p$=1;var t=Gu(),e=hke(),n=wo(),r=WQ(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||e(f))return!1;var h=t(f)?u:o;return h.test(r(f))}return Gb=d,Gb}var Kb,m$;function pke(){if(m$)return Kb;m$=1;function t(e,n){return e?.[n]}return Kb=t,Kb}var Xb,g$;function Ic(){if(g$)return Xb;g$=1;var t=GQ(),e=pke();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Xb=n,Xb}var Yb,v$;function ek(){if(v$)return Yb;v$=1;var t=Ic(),e=xo(),n=t(e,"Map");return Yb=n,Yb}var Qb,y$;function cy(){if(y$)return Qb;y$=1;var t=Ic(),e=t(Object,"create");return Qb=e,Qb}var Zb,b$;function mke(){if(b$)return Zb;b$=1;var t=cy();function e(){this.__data__=t?t(null):{},this.size=0}return Zb=e,Zb}var Jb,_$;function gke(){if(_$)return Jb;_$=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Jb=t,Jb}var e5,x$;function vke(){if(x$)return e5;x$=1;var t=cy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return e5=i,e5}var t5,w$;function yke(){if(w$)return t5;w$=1;var t=cy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return t5=r,t5}var n5,E$;function bke(){if(E$)return n5;E$=1;var t=cy(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return n5=n,n5}var r5,S$;function _ke(){if(S$)return r5;S$=1;var t=mke(),e=gke(),n=vke(),r=yke(),i=bke();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,r5=o,r5}var i5,C$;function xke(){if(C$)return i5;C$=1;var t=_ke(),e=ly(),n=ek();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return i5=r,i5}var o5,k$;function wke(){if(k$)return o5;k$=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return o5=t,o5}var s5,O$;function uy(){if(O$)return s5;O$=1;var t=wke();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return s5=e,s5}var a5,R$;function Eke(){if(R$)return a5;R$=1;var t=uy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return a5=e,a5}var l5,P$;function Ske(){if(P$)return l5;P$=1;var t=uy();function e(n){return t(this,n).get(n)}return l5=e,l5}var c5,A$;function Cke(){if(A$)return c5;A$=1;var t=uy();function e(n){return t(this,n).has(n)}return c5=e,c5}var u5,T$;function kke(){if(T$)return u5;T$=1;var t=uy();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return u5=e,u5}var d5,I$;function tk(){if(I$)return d5;I$=1;var t=xke(),e=Eke(),n=Ske(),r=Cke(),i=kke();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,d5=o,d5}var f5,D$;function Oke(){if(D$)return f5;D$=1;var t=ly(),e=ek(),n=tk(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return f5=i,f5}var h5,M$;function nk(){if(M$)return h5;M$=1;var t=ly(),e=ake(),n=lke(),r=cke(),i=uke(),o=Oke();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,h5=s,h5}var p5,$$;function Rke(){if($$)return p5;$$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return p5=t,p5}var m5,N$;function KQ(){if(N$)return m5;N$=1;var t=Ic(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return m5=e,m5}var g5,L$;function XQ(){if(L$)return g5;L$=1;var t=KQ();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return g5=e,g5}var v5,j$;function rk(){if(j$)return v5;j$=1;var t=XQ(),e=sy(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return v5=i,v5}var y5,B$;function fp(){if(B$)return y5;B$=1;var t=rk(),e=XQ();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,c=i.length;++l<c;){var u=i[l],d=s?s(o[u],r[u],u,o,r):void 0;d===void 0&&(d=r[u]),a?e(o,u,d):t(o,u,d)}return o}return y5=n,y5}var b5,F$;function Pke(){if(F$)return b5;F$=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return b5=t,b5}var _5,z$;function Dn(){if(z$)return _5;z$=1;function t(e){return e!=null&&typeof e=="object"}return _5=t,_5}var x5,q$;function Ake(){if(q$)return x5;q$=1;var t=ei(),e=Dn(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return x5=r,x5}var w5,V$;function hp(){if(V$)return w5;V$=1;var t=Ake(),e=Dn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return w5=o,w5}var of={exports:{}},E5,H$;function YQ(){if(H$)return E5;H$=1;function t(){return!1}return E5=t,E5}of.exports;var U$;function pp(){return U$||(U$=1,function(t,e){var n=xo(),r=YQ(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c}(of,of.exports)),of.exports}var S5,W$;function ik(){if(W$)return S5;W$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return S5=n,S5}var C5,G$;function dy(){if(G$)return C5;G$=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return C5=e,C5}var k5,K$;function Tke(){if(K$)return k5;K$=1;var t=ei(),e=dy(),n=Dn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",M={};M[y]=M[_]=M[b]=M[x]=M[w]=M[E]=M[S]=M[k]=M[I]=!0,M[r]=M[i]=M[g]=M[o]=M[v]=M[s]=M[a]=M[l]=M[c]=M[u]=M[d]=M[f]=M[h]=M[p]=M[m]=!1;function R(D){return n(D)&&e(D.length)&&!!M[t(D)]}return k5=R,k5}var O5,X$;function Ku(){if(X$)return O5;X$=1;function t(e){return function(n){return e(n)}}return O5=t,O5}var sf={exports:{}};sf.exports;var Y$;function Xu(){return Y$||(Y$=1,function(t,e){var n=HQ(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(sf,sf.exports)),sf.exports}var R5,Q$;function fy(){if(Q$)return R5;Q$=1;var t=Tke(),e=Ku(),n=Xu(),r=n&&n.isTypedArray,i=r?e(r):t;return R5=i,R5}var P5,Z$;function QQ(){if(Z$)return P5;Z$=1;var t=Pke(),e=hp(),n=bi(),r=pp(),i=ik(),o=fy(),s=Object.prototype,a=s.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&e(c),h=!d&&!f&&r(c),p=!d&&!f&&!h&&o(c),m=d||f||h||p,g=m?t(c.length,String):[],v=g.length;for(var y in c)(u||a.call(c,y))&&!(m&&(y=="length"||h&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,v)))&&g.push(y);return g}return P5=l,P5}var A5,J$;function hy(){if(J$)return A5;J$=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return A5=e,A5}var T5,eN;function ZQ(){if(eN)return T5;eN=1;function t(e,n){return function(r){return e(n(r))}}return T5=t,T5}var I5,tN;function Ike(){if(tN)return I5;tN=1;var t=ZQ(),e=t(Object.keys,Object);return I5=e,I5}var D5,nN;function JQ(){if(nN)return D5;nN=1;var t=hy(),e=Ike(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return D5=i,D5}var M5,rN;function Yu(){if(rN)return M5;rN=1;var t=Gu(),e=dy();function n(r){return r!=null&&e(r.length)&&!t(r)}return M5=n,M5}var $5,iN;function Qu(){if(iN)return $5;iN=1;var t=QQ(),e=JQ(),n=Yu();function r(i){return n(i)?t(i):e(i)}return $5=r,$5}var N5,oN;function Dke(){if(oN)return N5;oN=1;var t=fp(),e=Qu();function n(r,i){return r&&t(i,e(i),r)}return N5=n,N5}var L5,sN;function Mke(){if(sN)return L5;sN=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return L5=t,L5}var j5,aN;function $ke(){if(aN)return j5;aN=1;var t=wo(),e=hy(),n=Mke(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),l=[];for(var c in s)c=="constructor"&&(a||!i.call(s,c))||l.push(c);return l}return j5=o,j5}var B5,lN;function py(){if(lN)return B5;lN=1;var t=QQ(),e=$ke(),n=Yu();function r(i){return n(i)?t(i,!0):e(i)}return B5=r,B5}var F5,cN;function Nke(){if(cN)return F5;cN=1;var t=fp(),e=py();function n(r,i){return r&&t(i,e(i),r)}return F5=n,F5}var af={exports:{}};af.exports;var uN;function Lke(){return uN||(uN=1,function(t,e){var n=xo(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l}(af,af.exports)),af.exports}var z5,dN;function eZ(){if(dN)return z5;dN=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return z5=t,z5}var q5,fN;function jke(){if(fN)return q5;fN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return q5=t,q5}var V5,hN;function tZ(){if(hN)return V5;hN=1;function t(){return[]}return V5=t,V5}var H5,pN;function ok(){if(pN)return H5;pN=1;var t=jke(),e=tZ(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return H5=o,H5}var U5,mN;function Bke(){if(mN)return U5;mN=1;var t=fp(),e=ok();function n(r,i){return t(r,e(r),i)}return U5=n,U5}var W5,gN;function sk(){if(gN)return W5;gN=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return W5=t,W5}var G5,vN;function ak(){if(vN)return G5;vN=1;var t=ZQ(),e=t(Object.getPrototypeOf,Object);return G5=e,G5}var K5,yN;function nZ(){if(yN)return K5;yN=1;var t=sk(),e=ak(),n=ok(),r=tZ(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:r;return K5=o,K5}var X5,bN;function Fke(){if(bN)return X5;bN=1;var t=fp(),e=nZ();function n(r,i){return t(r,e(r),i)}return X5=n,X5}var Y5,_N;function rZ(){if(_N)return Y5;_N=1;var t=sk(),e=bi();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return Y5=n,Y5}var Q5,xN;function iZ(){if(xN)return Q5;xN=1;var t=rZ(),e=ok(),n=Qu();function r(i){return t(i,n,e)}return Q5=r,Q5}var Z5,wN;function zke(){if(wN)return Z5;wN=1;var t=rZ(),e=nZ(),n=py();function r(i){return t(i,n,e)}return Z5=r,Z5}var J5,EN;function qke(){if(EN)return J5;EN=1;var t=Ic(),e=xo(),n=t(e,"DataView");return J5=n,J5}var e4,SN;function Vke(){if(SN)return e4;SN=1;var t=Ic(),e=xo(),n=t(e,"Promise");return e4=n,e4}var t4,CN;function Hke(){if(CN)return t4;CN=1;var t=Ic(),e=xo(),n=t(e,"Set");return t4=n,t4}var n4,kN;function Uke(){if(kN)return n4;kN=1;var t=Ic(),e=xo(),n=t(e,"WeakMap");return n4=n,n4}var r4,ON;function Dc(){if(ON)return r4;ON=1;var t=qke(),e=ek(),n=Vke(),r=Hke(),i=Uke(),o=ei(),s=WQ(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=s(t),p=s(e),m=s(n),g=s(r),v=s(i),y=o;return(t&&y(new t(new ArrayBuffer(1)))!=f||e&&y(new e)!=a||n&&y(n.resolve())!=c||r&&y(new r)!=u||i&&y(new i)!=d)&&(y=function(_){var b=o(_),x=b==l?_.constructor:void 0,w=x?s(x):"";if(w)switch(w){case h:return f;case p:return a;case m:return c;case g:return u;case v:return d}return b}),r4=y,r4}var i4,RN;function Wke(){if(RN)return i4;RN=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return i4=n,i4}var o4,PN;function oZ(){if(PN)return o4;PN=1;var t=xo(),e=t.Uint8Array;return o4=e,o4}var s4,AN;function lk(){if(AN)return s4;AN=1;var t=oZ();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return s4=e,s4}var a4,TN;function Gke(){if(TN)return a4;TN=1;var t=lk();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return a4=e,a4}var l4,IN;function Kke(){if(IN)return l4;IN=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return l4=e,l4}var c4,DN;function Xke(){if(DN)return c4;DN=1;var t=Tc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return c4=r,c4}var u4,MN;function Yke(){if(MN)return u4;MN=1;var t=lk();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return u4=e,u4}var d4,$N;function Qke(){if($N)return d4;$N=1;var t=lk(),e=Gke(),n=Kke(),r=Xke(),i=Yke(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",v="[object Int8Array]",y="[object Int16Array]",_="[object Int32Array]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]";function S(k,I,M){var R=k.constructor;switch(I){case h:return t(k);case o:case s:return new R(+k);case p:return e(k,M);case m:case g:case v:case y:case _:case b:case x:case w:case E:return i(k,M);case a:return new R;case l:case d:return new R(k);case c:return n(k);case u:return new R;case f:return r(k)}}return d4=S,d4}var f4,NN;function Zke(){if(NN)return f4;NN=1;var t=wo(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return f4=n,f4}var h4,LN;function Jke(){if(LN)return h4;LN=1;var t=Zke(),e=ak(),n=hy();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return h4=r,h4}var p4,jN;function eOe(){if(jN)return p4;jN=1;var t=Dc(),e=Dn(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return p4=r,p4}var m4,BN;function sZ(){if(BN)return m4;BN=1;var t=eOe(),e=Ku(),n=Xu(),r=n&&n.isMap,i=r?e(r):t;return m4=i,m4}var g4,FN;function tOe(){if(FN)return g4;FN=1;var t=Dc(),e=Dn(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return g4=r,g4}var v4,zN;function aZ(){if(zN)return v4;zN=1;var t=tOe(),e=Ku(),n=Xu(),r=n&&n.isSet,i=r?e(r):t;return v4=i,v4}var y4,qN;function my(){if(qN)return y4;qN=1;var t=nk(),e=Rke(),n=rk(),r=Dke(),i=Nke(),o=Lke(),s=eZ(),a=Bke(),l=Fke(),c=iZ(),u=zke(),d=Dc(),f=Wke(),h=Qke(),p=Jke(),m=bi(),g=pp(),v=sZ(),y=wo(),_=aZ(),b=Qu(),x=py(),w=1,E=2,S=4,k="[object Arguments]",I="[object Array]",M="[object Boolean]",R="[object Date]",D="[object Error]",C="[object Function]",V="[object GeneratorFunction]",J="[object Map]",Y="[object Number]",j="[object Object]",B="[object RegExp]",G="[object Set]",z="[object String]",N="[object Symbol]",F="[object WeakMap]",W="[object ArrayBuffer]",X="[object DataView]",oe="[object Float32Array]",L="[object Float64Array]",O="[object Int8Array]",T="[object Int16Array]",K="[object Int32Array]",Q="[object Uint8Array]",ae="[object Uint8ClampedArray]",ue="[object Uint16Array]",A="[object Uint32Array]",ie={};ie[k]=ie[I]=ie[W]=ie[X]=ie[M]=ie[R]=ie[oe]=ie[L]=ie[O]=ie[T]=ie[K]=ie[J]=ie[Y]=ie[j]=ie[B]=ie[G]=ie[z]=ie[N]=ie[Q]=ie[ae]=ie[ue]=ie[A]=!0,ie[D]=ie[C]=ie[F]=!1;function de(H,q,Z,pe,se,te){var he,le=q&w,fe=q&E,ke=q&S;if(Z&&(he=se?Z(H,pe,se,te):Z(H)),he!==void 0)return he;if(!y(H))return H;var Je=m(H);if(Je){if(he=f(H),!le)return s(H,he)}else{var Ke=d(H),dn=Ke==C||Ke==V;if(g(H))return o(H,le);if(Ke==j||Ke==k||dn&&!se){if(he=fe||dn?{}:p(H),!le)return fe?l(H,i(he,H)):a(H,r(he,H))}else{if(!ie[Ke])return se?H:{};he=h(H,Ke,le)}}te||(te=new t);var ti=te.get(H);if(ti)return ti;te.set(H,he),_(H)?H.forEach(function(Pt){he.add(de(Pt,q,Z,Pt,H,te))}):v(H)&&H.forEach(function(Pt,dr){he.set(dr,de(Pt,q,Z,dr,H,te))});var ur=ke?fe?u:c:fe?x:b,Co=Je?void 0:ur(H);return e(Co||H,function(Pt,dr){Co&&(dr=Pt,Pt=H[dr]),n(he,dr,de(Pt,q,Z,dr,H,te))}),he}return y4=de,y4}var b4,VN;function nOe(){if(VN)return b4;VN=1;var t=my(),e=4;function n(r){return t(r,e)}return b4=n,b4}var _4,HN;function lZ(){if(HN)return _4;HN=1;var t=my(),e=1,n=4;function r(i){return t(i,e|n)}return _4=r,_4}var x4,UN;function rOe(){if(UN)return x4;UN=1;var t=my(),e=1,n=4;function r(i,o){return o=typeof o=="function"?o:void 0,t(i,e|n,o)}return x4=r,x4}var w4,WN;function iOe(){if(WN)return w4;WN=1;var t=my(),e=4;function n(r,i){return i=typeof i=="function"?i:void 0,t(r,e,i)}return w4=n,w4}var E4,GN;function oOe(){if(GN)return E4;GN=1;function t(e,n,r){var i=r.length;if(e==null)return!i;for(e=Object(e);i--;){var o=r[i],s=n[o],a=e[o];if(a===void 0&&!(o in e)||!s(a))return!1}return!0}return E4=t,E4}var S4,KN;function sOe(){if(KN)return S4;KN=1;var t=oOe(),e=Qu();function n(r,i){return i==null||t(r,i,e(i))}return S4=n,S4}var C4,XN;function aOe(){if(XN)return C4;XN=1;function t(e,n){return e>n}return C4=t,C4}var k4,YN;function lOe(){if(YN)return k4;YN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return k4=e,k4}var O4,QN;function cOe(){if(QN)return O4;QN=1;var t=lOe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return O4=n,O4}var R4,ZN;function mp(){if(ZN)return R4;ZN=1;var t=ei(),e=Dn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return R4=r,R4}var P4,JN;function ck(){if(JN)return P4;JN=1;var t=cOe(),e=wo(),n=mp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=o.test(c);return d||s.test(c)?a(c.slice(2),d?2:8):i.test(c)?r:+c}return P4=l,P4}var A4,eL;function gy(){if(eL)return A4;eL=1;var t=ck();function e(n){return function(r,i){return typeof r=="string"&&typeof i=="string"||(r=t(r),i=t(i)),n(r,i)}}return A4=e,A4}var T4,tL;function uOe(){if(tL)return T4;tL=1;var t=aOe(),e=gy(),n=e(t);return T4=n,T4}var I4,nL;function dOe(){if(nL)return I4;nL=1;var t=gy(),e=t(function(n,r){return n>=r});return I4=e,I4}var D4,rL;function fOe(){if(rL)return D4;rL=1;var t=ei(),e=Dn(),n="[object ArrayBuffer]";function r(i){return e(i)&&t(i)==n}return D4=r,D4}var M4,iL;function hOe(){if(iL)return M4;iL=1;var t=fOe(),e=Ku(),n=Xu(),r=n&&n.isArrayBuffer,i=r?e(r):t;return M4=i,M4}var $4,oL;function pOe(){if(oL)return $4;oL=1;var t=Yu(),e=Dn();function n(r){return e(r)&&t(r)}return $4=n,$4}var N4,sL;function mOe(){if(sL)return N4;sL=1;var t=ei(),e=Dn(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return N4=r,N4}var L4,aL;function gOe(){if(aL)return L4;aL=1;var t=ei(),e=Dn(),n="[object Date]";function r(i){return e(i)&&t(i)==n}return L4=r,L4}var j4,lL;function vOe(){if(lL)return j4;lL=1;var t=gOe(),e=Ku(),n=Xu(),r=n&&n.isDate,i=r?e(r):t;return j4=i,j4}var B4,cL;function uk(){if(cL)return B4;cL=1;var t=ei(),e=ak(),n=Dn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function c(u){if(!n(u)||t(u)!=r)return!1;var d=e(u);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return B4=c,B4}var F4,uL;function yOe(){if(uL)return F4;uL=1;var t=Dn(),e=uk();function n(r){return t(r)&&r.nodeType===1&&!e(r)}return F4=n,F4}var z4,dL;function bOe(){if(dL)return z4;dL=1;var t=JQ(),e=Dc(),n=hp(),r=bi(),i=Yu(),o=pp(),s=hy(),a=fy(),l="[object Map]",c="[object Set]",u=Object.prototype,d=u.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||a(h)||n(h)))return!h.length;var p=e(h);if(p==l||p==c)return!h.size;if(s(h))return!t(h).length;for(var m in h)if(d.call(h,m))return!1;return!0}return z4=f,z4}var q4,fL;function _Oe(){if(fL)return q4;fL=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return q4=e,q4}var V4,hL;function xOe(){if(hL)return V4;hL=1;function t(e){return this.__data__.has(e)}return V4=t,V4}var H4,pL;function wOe(){if(pL)return H4;pL=1;var t=tk(),e=_Oe(),n=xOe();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,H4=r,H4}var U4,mL;function EOe(){if(mL)return U4;mL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return U4=t,U4}var W4,gL;function SOe(){if(gL)return W4;gL=1;function t(e,n){return e.has(n)}return W4=t,W4}var G4,vL;function cZ(){if(vL)return G4;vL=1;var t=wOe(),e=EOe(),n=SOe(),r=1,i=2;function o(s,a,l,c,u,d){var f=l&r,h=s.length,p=a.length;if(h!=p&&!(f&&p>h))return!1;var m=d.get(s),g=d.get(a);if(m&&g)return m==a&&g==s;var v=-1,y=!0,_=l&i?new t:void 0;for(d.set(s,a),d.set(a,s);++v<h;){var b=s[v],x=a[v];if(c)var w=f?c(x,b,v,a,s,d):c(b,x,v,s,a,d);if(w!==void 0){if(w)continue;y=!1;break}if(_){if(!e(a,function(E,S){if(!n(_,S)&&(b===E||u(b,E,l,c,d)))return _.push(S)})){y=!1;break}}else if(!(b===x||u(b,x,l,c,d))){y=!1;break}}return d.delete(s),d.delete(a),y}return G4=o,G4}var K4,yL;function uZ(){if(yL)return K4;yL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return K4=t,K4}var X4,bL;function dZ(){if(bL)return X4;bL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return X4=t,X4}var Y4,_L;function COe(){if(_L)return Y4;_L=1;var t=Tc(),e=oZ(),n=sy(),r=cZ(),i=uZ(),o=dZ(),s=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",_=t?t.prototype:void 0,b=_?_.valueOf:void 0;function x(w,E,S,k,I,M,R){switch(S){case y:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case v:return!(w.byteLength!=E.byteLength||!M(new e(w),new e(E)));case l:case c:case f:return n(+w,+E);case u:return w.name==E.name&&w.message==E.message;case h:case m:return w==E+"";case d:var D=i;case p:var C=k&s;if(D||(D=o),w.size!=E.size&&!C)return!1;var V=R.get(w);if(V)return V==E;k|=a,R.set(w,E);var J=r(D(w),D(E),k,I,M,R);return R.delete(w),J;case g:if(b)return b.call(w)==b.call(E)}return!1}return Y4=x,Y4}var Q4,xL;function kOe(){if(xL)return Q4;xL=1;var t=iZ(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,c,u){var d=a&e,f=t(o),h=f.length,p=t(s),m=p.length;if(h!=m&&!d)return!1;for(var g=h;g--;){var v=f[g];if(!(d?v in s:r.call(s,v)))return!1}var y=u.get(o),_=u.get(s);if(y&&_)return y==s&&_==o;var b=!0;u.set(o,s),u.set(s,o);for(var x=d;++g<h;){v=f[g];var w=o[v],E=s[v];if(l)var S=d?l(E,w,v,s,o,u):l(w,E,v,o,s,u);if(!(S===void 0?w===E||c(w,E,a,l,u):S)){b=!1;break}x||(x=v=="constructor")}if(b&&!x){var k=o.constructor,I=s.constructor;k!=I&&"constructor"in o&&"constructor"in s&&!(typeof k=="function"&&k instanceof k&&typeof I=="function"&&I instanceof I)&&(b=!1)}return u.delete(o),u.delete(s),b}return Q4=i,Q4}var Z4,wL;function OOe(){if(wL)return Z4;wL=1;var t=nk(),e=cZ(),n=COe(),r=kOe(),i=Dc(),o=bi(),s=pp(),a=fy(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(m,g,v,y,_,b){var x=o(m),w=o(g),E=x?u:i(m),S=w?u:i(g);E=E==c?d:E,S=S==c?d:S;var k=E==d,I=S==d,M=E==S;if(M&&s(m)){if(!s(g))return!1;x=!0,k=!1}if(M&&!k)return b||(b=new t),x||a(m)?e(m,g,v,y,_,b):n(m,g,E,v,y,_,b);if(!(v&l)){var R=k&&h.call(m,"__wrapped__"),D=I&&h.call(g,"__wrapped__");if(R||D){var C=R?m.value():m,V=D?g.value():g;return b||(b=new t),_(C,V,v,y,b)}}return M?(b||(b=new t),r(m,g,v,y,_,b)):!1}return Z4=p,Z4}var J4,EL;function dk(){if(EL)return J4;EL=1;var t=OOe(),e=Dn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return J4=n,J4}var e6,SL;function fk(){if(SL)return e6;SL=1;var t=dk();function e(n,r){return t(n,r)}return e6=e,e6}var t6,CL;function ROe(){if(CL)return t6;CL=1;var t=dk();function e(n,r,i){i=typeof i=="function"?i:void 0;var o=i?i(n,r):void 0;return o===void 0?t(n,r,void 0,i):!!o}return t6=e,t6}var n6,kL;function POe(){if(kL)return n6;kL=1;var t=ei(),e=Dn(),n=uk(),r="[object DOMException]",i="[object Error]";function o(s){if(!e(s))return!1;var a=t(s);return a==i||a==r||typeof s.message=="string"&&typeof s.name=="string"&&!n(s)}return n6=o,n6}var r6,OL;function AOe(){if(OL)return r6;OL=1;var t=xo(),e=t.isFinite;function n(r){return typeof r=="number"&&e(r)}return r6=n,r6}var i6,RL;function fZ(){if(RL)return i6;RL=1;var t=ck(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*n}return i===i?i:0}return i6=r,i6}var o6,PL;function vy(){if(PL)return o6;PL=1;var t=fZ();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return o6=e,o6}var s6,AL;function hZ(){if(AL)return s6;AL=1;var t=vy();function e(n){return typeof n=="number"&&n==t(n)}return s6=e,s6}var a6,TL;function pZ(){if(TL)return a6;TL=1;var t=nk(),e=dk(),n=1,r=2;function i(o,s,a,l){var c=a.length,u=c,d=!l;if(o==null)return!u;for(o=Object(o);c--;){var f=a[c];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<u;){f=a[c];var h=f[0],p=o[h],m=f[1];if(d&&f[2]){if(p===void 0&&!(h in o))return!1}else{var g=new t;if(l)var v=l(p,m,h,o,s,g);if(!(v===void 0?e(m,p,n|r,l,g):v))return!1}}return!0}return a6=i,a6}var l6,IL;function TOe(){if(IL)return l6;IL=1;var t=wo();function e(n){return n===n&&!t(n)}return l6=e,l6}var c6,DL;function mZ(){if(DL)return c6;DL=1;var t=TOe(),e=Qu();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return c6=n,c6}var u6,ML;function IOe(){if(ML)return u6;ML=1;var t=pZ(),e=mZ();function n(r,i){return r===i||t(r,i,e(i))}return u6=n,u6}var d6,$L;function DOe(){if($L)return d6;$L=1;var t=pZ(),e=mZ();function n(r,i,o){return o=typeof o=="function"?o:void 0,t(r,i,e(i),o)}return d6=n,d6}var f6,NL;function gZ(){if(NL)return f6;NL=1;var t=ei(),e=Dn(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return f6=r,f6}var h6,LL;function MOe(){if(LL)return h6;LL=1;var t=gZ();function e(n){return t(n)&&n!=+n}return h6=e,h6}var p6,jL;function $Oe(){if(jL)return p6;jL=1;var t=UQ(),e=Gu(),n=YQ(),r=t?e:n;return p6=r,p6}var m6,BL;function NOe(){if(BL)return m6;BL=1;var t=GQ(),e=$Oe(),n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function r(i){if(e(i))throw new Error(n);return t(i)}return m6=r,m6}var g6,FL;function LOe(){if(FL)return g6;FL=1;function t(e){return e==null}return g6=t,g6}var v6,zL;function jOe(){if(zL)return v6;zL=1;function t(e){return e===null}return v6=t,v6}var y6,qL;function BOe(){if(qL)return y6;qL=1;var t=ei(),e=Dn(),n="[object RegExp]";function r(i){return e(i)&&t(i)==n}return y6=r,y6}var b6,VL;function FOe(){if(VL)return b6;VL=1;var t=BOe(),e=Ku(),n=Xu(),r=n&&n.isRegExp,i=r?e(r):t;return b6=i,b6}var _6,HL;function zOe(){if(HL)return _6;HL=1;var t=hZ(),e=9007199254740991;function n(r){return t(r)&&r>=-9007199254740991&&r<=e}return _6=n,_6}var x6,UL;function gp(){if(UL)return x6;UL=1;var t=ei(),e=bi(),n=Dn(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return x6=i,x6}var w6,WL;function qOe(){if(WL)return w6;WL=1;function t(e){return e===void 0}return w6=t,w6}var E6,GL;function VOe(){if(GL)return E6;GL=1;var t=Dc(),e=Dn(),n="[object WeakMap]";function r(i){return e(i)&&t(i)==n}return E6=r,E6}var S6,KL;function HOe(){if(KL)return S6;KL=1;var t=ei(),e=Dn(),n="[object WeakSet]";function r(i){return e(i)&&t(i)==n}return S6=r,S6}var C6,XL;function UOe(){if(XL)return C6;XL=1;function t(e,n){return e<n}return C6=t,C6}var k6,YL;function WOe(){if(YL)return k6;YL=1;var t=UOe(),e=gy(),n=e(t);return k6=n,k6}var O6,QL;function GOe(){if(QL)return O6;QL=1;var t=gy(),e=t(function(n,r){return n<=r});return O6=e,O6}var R6,ZL;function KOe(){if(ZL)return R6;ZL=1;function t(e){for(var n,r=[];!(n=e.next()).done;)r.push(n.value);return r}return R6=t,R6}var P6,JL;function XOe(){if(JL)return P6;JL=1;function t(e){return e.split("")}return P6=t,P6}var A6,ej;function vZ(){if(ej)return A6;ej=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+i+o+"]");function l(c){return a.test(c)}return A6=l,A6}var T6,tj;function YOe(){if(tj)return T6;tj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",u="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=c+"?",m="["+o+"]?",g="(?:"+h+"(?:"+[u,d,f].join("|")+")"+m+p+")*",v=m+p+g,y="(?:"+[u+a+"?",a,d,f,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+y+v,"g");function b(x){return x.match(_)||[]}return T6=b,T6}var I6,nj;function yZ(){if(nj)return I6;nj=1;var t=XOe(),e=vZ(),n=YOe();function r(i){return e(i)?n(i):t(i)}return I6=r,I6}var D6,rj;function bZ(){if(rj)return D6;rj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return D6=t,D6}var M6,ij;function QOe(){if(ij)return M6;ij=1;var t=bZ();function e(n,r){return t(r,function(i){return n[i]})}return M6=e,M6}var $6,oj;function ZOe(){if(oj)return $6;oj=1;var t=QOe(),e=Qu();function n(r){return r==null?[]:t(r,e(r))}return $6=n,$6}var N6,sj;function JOe(){if(sj)return N6;sj=1;var t=Tc(),e=eZ(),n=Dc(),r=Yu(),i=gp(),o=KOe(),s=uZ(),a=dZ(),l=yZ(),c=ZOe(),u="[object Map]",d="[object Set]",f=t?t.iterator:void 0;function h(p){if(!p)return[];if(r(p))return i(p)?l(p):e(p);if(f&&p[f])return o(p[f]());var m=n(p),g=m==u?s:m==d?a:c;return g(p)}return N6=h,N6}var L6,aj;function _Z(){if(aj)return L6;aj=1;function t(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}return L6=t,L6}var j6,lj;function eRe(){if(lj)return j6;lj=1;var t=_Z(),e=vy(),n=4294967295;function r(i){return i?t(e(i),0,n):0}return j6=r,j6}var B6,cj;function tRe(){if(cj)return B6;cj=1;var t=fp(),e=py();function n(r){return t(r,e(r))}return B6=n,B6}var F6,uj;function nRe(){if(uj)return F6;uj=1;var t=_Z(),e=vy(),n=9007199254740991;function r(i){return i?t(e(i),-9007199254740991,n):i===0?i:0}return F6=r,F6}var z6,dj;function rRe(){if(dj)return z6;dj=1;var t=Tc(),e=bZ(),n=bi(),r=mp(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return z6=s,z6}var q6,fj;function Zu(){if(fj)return q6;fj=1;var t=rRe();function e(n){return n==null?"":t(n)}return q6=e,q6}var V6,hj;function xZ(){return hj||(hj=1,V6={castArray:tke(),clone:nOe(),cloneDeep:lZ(),cloneDeepWith:rOe(),cloneWith:iOe(),conformsTo:sOe(),eq:sy(),gt:uOe(),gte:dOe(),isArguments:hp(),isArray:bi(),isArrayBuffer:hOe(),isArrayLike:Yu(),isArrayLikeObject:pOe(),isBoolean:mOe(),isBuffer:pp(),isDate:vOe(),isElement:yOe(),isEmpty:bOe(),isEqual:fk(),isEqualWith:ROe(),isError:POe(),isFinite:AOe(),isFunction:Gu(),isInteger:hZ(),isLength:dy(),isMap:sZ(),isMatch:IOe(),isMatchWith:DOe(),isNaN:MOe(),isNative:NOe(),isNil:LOe(),isNull:jOe(),isNumber:gZ(),isObject:wo(),isObjectLike:Dn(),isPlainObject:uk(),isRegExp:FOe(),isSafeInteger:zOe(),isSet:aZ(),isString:gp(),isSymbol:mp(),isTypedArray:fy(),isUndefined:qOe(),isWeakMap:VOe(),isWeakSet:HOe(),lt:WOe(),lte:GOe(),toArray:JOe(),toFinite:fZ(),toInteger:vy(),toLength:eRe(),toNumber:ck(),toPlainObject:tRe(),toSafeInteger:nRe(),toString:Zu()}),V6}var H6={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var pj;function wZ(){return pj||(pj=1,function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(B){return Object.prototype.toString.call(B)==="[object Array]"},o=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",l=typeof Reflect=="object",c=typeof setImmediate=="function",u=c?setImmediate:setTimeout,d=a?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(j){var B=Object.getOwnPropertyNames(j);return B.push.apply(B,Object.getOwnPropertySymbols(j)),B}:Object.keys;function f(){this._events={},this._conf&&h.call(this,this._conf)}function h(j){j&&(this._conf=j,j.delimiter&&(this.delimiter=j.delimiter),j.maxListeners!==n&&(this._maxListeners=j.maxListeners),j.wildcard&&(this.wildcard=j.wildcard),j.newListener&&(this._newListener=j.newListener),j.removeListener&&(this._removeListener=j.removeListener),j.verboseMemoryLeak&&(this.verboseMemoryLeak=j.verboseMemoryLeak),j.ignoreErrors&&(this.ignoreErrors=j.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(j,B){var G="(node) warning: possible EventEmitter memory leak detected. "+j+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(G+=" Event name: "+B+"."),typeof process<"u"&&process.emitWarning){var z=new Error(G);z.name="MaxListenersExceededWarning",z.emitter=this,z.count=j,process.emitWarning(z)}else console.error(G),console.trace&&console.trace()}var m=function(j,B,G){var z=arguments.length;switch(z){case 0:return[];case 1:return[j];case 2:return[j,B];case 3:return[j,B,G];default:for(var N=new Array(z);z--;)N[z]=arguments[z];return N}};function g(j,B){for(var G={},z,N=j.length,F=0,W=0;W<N;W++)z=j[W],G[z]=W<F?B[W]:n;return G}function v(j,B,G){this._emitter=j,this._target=B,this._listeners={},this._listenersCount=0;var z,N;if((G.on||G.off)&&(z=G.on,N=G.off),B.addEventListener?(z=B.addEventListener,N=B.removeEventListener):B.addListener?(z=B.addListener,N=B.removeListener):B.on&&(z=B.on,N=B.off),!z&&!N)throw Error("target does not implement any known event API");if(typeof z!="function")throw TypeError("on method must be a function");if(typeof N!="function")throw TypeError("off method must be a function");this._on=z,this._off=N;var F=j._observers;F?F.push(this):j._observers=[this]}Object.assign(v.prototype,{subscribe:function(j,B,G){var z=this,N=this._target,F=this._emitter,W=this._listeners,X=function(){var oe=m.apply(null,arguments),L={data:oe,name:B,original:j};if(G){var O=G.call(N,L);O!==!1&&F.emit.apply(F,[L.name].concat(oe));return}F.emit.apply(F,[B].concat(oe))};if(W[j])throw Error("Event '"+j+"' is already listening");this._listenersCount++,F._newListener&&F._removeListener&&!z._onNewListener?(this._onNewListener=function(oe){oe===B&&W[j]===null&&(W[j]=X,z._on.call(N,j,X))},F.on("newListener",this._onNewListener),this._onRemoveListener=function(oe){oe===B&&!F.hasListeners(oe)&&W[j]&&(W[j]=null,z._off.call(N,j,X))},W[j]=null,F.on("removeListener",this._onRemoveListener)):(W[j]=X,z._on.call(N,j,X))},unsubscribe:function(j){var B=this,G=this._listeners,z=this._emitter,N,F,W=this._off,X=this._target,oe;if(j&&typeof j!="string")throw TypeError("event must be a string");function L(){B._onNewListener&&(z.off("newListener",B._onNewListener),z.off("removeListener",B._onRemoveListener),B._onNewListener=null,B._onRemoveListener=null);var O=S.call(z,B);z._observers.splice(O,1)}if(j){if(N=G[j],!N)return;W.call(X,j,N),delete G[j],--this._listenersCount||L()}else{for(F=d(G),oe=F.length;oe-- >0;)j=F[oe],W.call(X,j,G[j]);this._listeners={},this._listenersCount=0,L()}}});function y(j,B,G,z){var N=Object.assign({},B);if(!j)return N;if(typeof j!="object")throw TypeError("options must be an object");var F=Object.keys(j),W=F.length,X,oe,L;function O(K){throw Error('Invalid "'+X+'" option value'+(K?". Reason: "+K:""))}for(var T=0;T<W;T++){if(X=F[T],!r.call(B,X))throw Error('Unknown "'+X+'" option');oe=j[X],oe!==n&&(L=G[X],N[X]=L?L(oe,O):oe)}return N}function _(j,B){return(typeof j!="function"||!j.hasOwnProperty("prototype"))&&B("value must be a constructor"),j}function b(j){var B="value must be type of "+j.join("|"),G=j.length,z=j[0],N=j[1];return G===1?function(F,W){if(typeof F===z)return F;W(B)}:G===2?function(F,W){var X=typeof F;if(X===z||X===N)return F;W(B)}:function(F,W){for(var X=typeof F,oe=G;oe-- >0;)if(X===j[oe])return F;W(B)}}var x=b(["function"]),w=b(["object","function"]);function E(j,B,G){var z,N,F=0,W,X=new j(function(oe,L,O){G=y(G,{timeout:0,overload:!1},{timeout:function(ae,ue){return ae*=1,(typeof ae!="number"||ae<0||!Number.isFinite(ae))&&ue("timeout must be a positive number"),ae}}),z=!G.overload&&typeof j.prototype.cancel=="function"&&typeof O=="function";function T(){N&&(N=null),F&&(clearTimeout(F),F=0)}var K=function(ae){T(),oe(ae)},Q=function(ae){T(),L(ae)};z?B(K,Q,O):(N=[function(ae){Q(ae||Error("canceled"))}],B(K,Q,function(ae){if(W)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof ae!="function")throw TypeError("onCancel callback must be a function");N.push(ae)}),W=!0),G.timeout>0&&(F=setTimeout(function(){var ae=Error("timeout");ae.code="ETIMEDOUT",F=0,X.cancel(ae),L(ae)},G.timeout))});return z||(X.cancel=function(oe){if(N){for(var L=N.length,O=1;O<L;O++)N[O](oe);N[0](oe),N=null}}),X}function S(j){var B=this._observers;if(!B)return-1;for(var G=B.length,z=0;z<G;z++)if(B[z]._target===j)return z;return-1}function k(j,B,G,z,N){if(!G)return null;if(z===0){var F=typeof B;if(F==="string"){var W,X,oe=0,L=0,O=this.delimiter,T=O.length;if((X=B.indexOf(O))!==-1){W=new Array(5);do W[oe++]=B.slice(L,X),L=X+T;while((X=B.indexOf(O,L))!==-1);W[oe++]=B.slice(L),B=W,N=oe}else B=[B],N=1}else F==="object"?N=B.length:(B=[B],N=1)}var K=null,Q,ae,ue,A,ie,de=B[z],H=B[z+1],q,Z;if(z===N)G._listeners&&(typeof G._listeners=="function"?(j&&j.push(G._listeners),K=[G]):(j&&j.push.apply(j,G._listeners),K=[G]));else if(de==="*"){for(q=d(G),X=q.length;X-- >0;)Q=q[X],Q!=="_listeners"&&(Z=k(j,B,G[Q],z+1,N),Z&&(K?K.push.apply(K,Z):K=Z));return K}else if(de==="**"){for(ie=z+1===N||z+2===N&&H==="*",ie&&G._listeners&&(K=k(j,B,G,N,N)),q=d(G),X=q.length;X-- >0;)Q=q[X],Q!=="_listeners"&&(Q==="*"||Q==="**"?(G[Q]._listeners&&!ie&&(Z=k(j,B,G[Q],N,N),Z&&(K?K.push.apply(K,Z):K=Z)),Z=k(j,B,G[Q],z,N)):Q===H?Z=k(j,B,G[Q],z+2,N):Z=k(j,B,G[Q],z,N),Z&&(K?K.push.apply(K,Z):K=Z));return K}else G[de]&&(K=k(j,B,G[de],z+1,N));if(ae=G["*"],ae&&k(j,B,ae,z+1,N),ue=G["**"],ue)if(z<N)for(ue._listeners&&k(j,B,ue,N,N),q=d(ue),X=q.length;X-- >0;)Q=q[X],Q!=="_listeners"&&(Q===H?k(j,B,ue[Q],z+2,N):Q===de?k(j,B,ue[Q],z+1,N):(A={},A[Q]=ue[Q],k(j,B,{"**":A},z+1,N)));else ue._listeners?k(j,B,ue,N,N):ue["*"]&&ue["*"]._listeners&&k(j,B,ue["*"],N,N);return K}function I(j,B,G){var z=0,N=0,F,W=this.delimiter,X=W.length,oe;if(typeof j=="string")if((F=j.indexOf(W))!==-1){oe=new Array(5);do oe[z++]=j.slice(N,F),N=F+X;while((F=j.indexOf(W,N))!==-1);oe[z++]=j.slice(N)}else oe=[j],z=1;else oe=j,z=j.length;if(z>1){for(F=0;F+1<z;F++)if(oe[F]==="**"&&oe[F+1]==="**")return}var L=this.listenerTree,O;for(F=0;F<z;F++)if(O=oe[F],L=L[O]||(L[O]={}),F===z-1)return L._listeners?(typeof L._listeners=="function"&&(L._listeners=[L._listeners]),G?L._listeners.unshift(B):L._listeners.push(B),!L._listeners.warned&&this._maxListeners>0&&L._listeners.length>this._maxListeners&&(L._listeners.warned=!0,p.call(this,L._listeners.length,O))):L._listeners=B,!0;return!0}function M(j,B,G,z){for(var N=d(j),F=N.length,W,X,oe,L=j._listeners,O;F-- >0;)X=N[F],W=j[X],X==="_listeners"?oe=G:oe=G?G.concat(X):[X],O=z||typeof X=="symbol",L&&B.push(O?oe:oe.join(this.delimiter)),typeof W=="object"&&M.call(this,W,B,oe,O);return B}function R(j){for(var B=d(j),G=B.length,z,N,F;G-- >0;)N=B[G],z=j[N],z&&(F=!0,N!=="_listeners"&&!R(z)&&delete j[N]);return F}function D(j,B,G){this.emitter=j,this.event=B,this.listener=G}D.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function C(j,B,G){if(G===!0)N=!0;else if(G===!1)z=!0;else{if(!G||typeof G!="object")throw TypeError("options should be an object or true");var z=G.async,N=G.promisify,F=G.nextTick,W=G.objectify}if(z||F||N){var X=B,oe=B._origin||B;if(F&&!s)throw Error("process.nextTick is not supported");N===n&&(N=B.constructor.name==="AsyncFunction"),B=function(){var L=arguments,O=this,T=this.event;return N?F?Promise.resolve():new Promise(function(K){u(K)}).then(function(){return O.event=T,X.apply(O,L)}):(F?process.nextTick:u)(function(){O.event=T,X.apply(O,L)})},B._async=!0,B._origin=oe}return[B,W?new D(this,j,B):this]}function V(j){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,j)}V.EventEmitter2=V,V.prototype.listenTo=function(j,B,G){if(typeof j!="object")throw TypeError("target musts be an object");var z=this;G=y(G,{on:n,off:n,reducers:n},{on:x,off:x,reducers:w});function N(F){if(typeof F!="object")throw TypeError("events must be an object");var W=G.reducers,X=S.call(z,j),oe;X===-1?oe=new v(z,j,G):oe=z._observers[X];for(var L=d(F),O=L.length,T,K=typeof W=="function",Q=0;Q<O;Q++)T=L[Q],oe.subscribe(T,F[T]||T,K?W:W&&W[T])}return i(B)?N(g(B)):N(typeof B=="string"?g(B.split(/\s+/)):B),this},V.prototype.stopListeningTo=function(j,B){var G=this._observers;if(!G)return!1;var z=G.length,N,F=!1;if(j&&typeof j!="object")throw TypeError("target should be an object");for(;z-- >0;)N=G[z],(!j||N._target===j)&&(N.unsubscribe(B),F=!0);return F},V.prototype.delimiter=".",V.prototype.setMaxListeners=function(j){j!==n&&(this._maxListeners=j,this._conf||(this._conf={}),this._conf.maxListeners=j)},V.prototype.getMaxListeners=function(){return this._maxListeners},V.prototype.event="",V.prototype.once=function(j,B,G){return this._once(j,B,!1,G)},V.prototype.prependOnceListener=function(j,B,G){return this._once(j,B,!0,G)},V.prototype._once=function(j,B,G,z){return this._many(j,1,B,G,z)},V.prototype.many=function(j,B,G,z){return this._many(j,B,G,!1,z)},V.prototype.prependMany=function(j,B,G,z){return this._many(j,B,G,!0,z)},V.prototype._many=function(j,B,G,z,N){var F=this;if(typeof G!="function")throw new Error("many only accepts instances of Function");function W(){return--B===0&&F.off(j,W),G.apply(this,arguments)}return W._origin=G,this._on(j,W,z,N)},V.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var j=arguments[0],B,G=this.wildcard,z,N,F,W,X;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(G&&(B=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(N=j.length,a){for(F=0;F<N;F++)if(typeof j[F]=="symbol"){X=!0;break}}X||(j=j.join(this.delimiter))}var oe=arguments.length,L;if(this._all&&this._all.length)for(L=this._all.slice(),F=0,N=L.length;F<N;F++)switch(this.event=j,oe){case 1:L[F].call(this,j);break;case 2:L[F].call(this,j,arguments[1]);break;case 3:L[F].call(this,j,arguments[1],arguments[2]);break;default:L[F].apply(this,arguments)}if(G)L=[],k.call(this,L,B,this.listenerTree,0,N);else if(L=this._events[j],typeof L=="function"){switch(this.event=j,oe){case 1:L.call(this);break;case 2:L.call(this,arguments[1]);break;case 3:L.call(this,arguments[1],arguments[2]);break;default:for(z=new Array(oe-1),W=1;W<oe;W++)z[W-1]=arguments[W];L.apply(this,z)}return!0}else L&&(L=L.slice());if(L&&L.length){if(oe>3)for(z=new Array(oe-1),W=1;W<oe;W++)z[W-1]=arguments[W];for(F=0,N=L.length;F<N;F++)switch(this.event=j,oe){case 1:L[F].call(this);break;case 2:L[F].call(this,arguments[1]);break;case 3:L[F].call(this,arguments[1],arguments[2]);break;default:L[F].apply(this,z)}return!0}else if(!this.ignoreErrors&&!this._all&&j==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},V.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var j=arguments[0],B=this.wildcard,G,z,N,F,W,X;if(j==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(B&&(G=j,j!=="newListener"&&j!=="removeListener"&&typeof j=="object")){if(F=j.length,a){for(W=0;W<F;W++)if(typeof j[W]=="symbol"){z=!0;break}}z||(j=j.join(this.delimiter))}var oe=[],L=arguments.length,O;if(this._all)for(W=0,F=this._all.length;W<F;W++)switch(this.event=j,L){case 1:oe.push(this._all[W].call(this,j));break;case 2:oe.push(this._all[W].call(this,j,arguments[1]));break;case 3:oe.push(this._all[W].call(this,j,arguments[1],arguments[2]));break;default:oe.push(this._all[W].apply(this,arguments))}if(B?(O=[],k.call(this,O,G,this.listenerTree,0)):O=this._events[j],typeof O=="function")switch(this.event=j,L){case 1:oe.push(O.call(this));break;case 2:oe.push(O.call(this,arguments[1]));break;case 3:oe.push(O.call(this,arguments[1],arguments[2]));break;default:for(N=new Array(L-1),X=1;X<L;X++)N[X-1]=arguments[X];oe.push(O.apply(this,N))}else if(O&&O.length){if(O=O.slice(),L>3)for(N=new Array(L-1),X=1;X<L;X++)N[X-1]=arguments[X];for(W=0,F=O.length;W<F;W++)switch(this.event=j,L){case 1:oe.push(O[W].call(this));break;case 2:oe.push(O[W].call(this,arguments[1]));break;case 3:oe.push(O[W].call(this,arguments[1],arguments[2]));break;default:oe.push(O[W].apply(this,N))}}else if(!this.ignoreErrors&&!this._all&&j==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(oe)},V.prototype.on=function(j,B,G){return this._on(j,B,!1,G)},V.prototype.prependListener=function(j,B,G){return this._on(j,B,!0,G)},V.prototype.onAny=function(j){return this._onAny(j,!1)},V.prototype.prependAny=function(j){return this._onAny(j,!0)},V.prototype.addListener=V.prototype.on,V.prototype._onAny=function(j,B){if(typeof j!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),B?this._all.unshift(j):this._all.push(j),this},V.prototype._on=function(j,B,G,z){if(typeof j=="function")return this._onAny(j,B),this;if(typeof B!="function")throw new Error("on only accepts instances of Function");this._events||f.call(this);var N=this,F;return z!==n&&(F=C.call(this,j,B,z),B=F[0],N=F[1]),this._newListener&&this.emit("newListener",j,B),this.wildcard?(I.call(this,j,B,G),N):(this._events[j]?(typeof this._events[j]=="function"&&(this._events[j]=[this._events[j]]),G?this._events[j].unshift(B):this._events[j].push(B),!this._events[j].warned&&this._maxListeners>0&&this._events[j].length>this._maxListeners&&(this._events[j].warned=!0,p.call(this,this._events[j].length,j))):this._events[j]=B,N)},V.prototype.off=function(j,B){if(typeof B!="function")throw new Error("removeListener only takes instances of Function");var G,z=[];if(this.wildcard){var N=typeof j=="string"?j.split(this.delimiter):j.slice();if(z=k.call(this,null,N,this.listenerTree,0),!z)return this}else{if(!this._events[j])return this;G=this._events[j],z.push({_listeners:G})}for(var F=0;F<z.length;F++){var W=z[F];if(G=W._listeners,i(G)){for(var X=-1,oe=0,L=G.length;oe<L;oe++)if(G[oe]===B||G[oe].listener&&G[oe].listener===B||G[oe]._origin&&G[oe]._origin===B){X=oe;break}if(X<0)continue;return this.wildcard?W._listeners.splice(X,1):this._events[j].splice(X,1),G.length===0&&(this.wildcard?delete W._listeners:delete this._events[j]),this._removeListener&&this.emit("removeListener",j,B),this}else(G===B||G.listener&&G.listener===B||G._origin&&G._origin===B)&&(this.wildcard?delete W._listeners:delete this._events[j],this._removeListener&&this.emit("removeListener",j,B))}return this.listenerTree&&R(this.listenerTree),this},V.prototype.offAny=function(j){var B=0,G=0,z;if(j&&this._all&&this._all.length>0){for(z=this._all,B=0,G=z.length;B<G;B++)if(j===z[B])return z.splice(B,1),this._removeListener&&this.emit("removeListenerAny",j),this}else{if(z=this._all,this._removeListener)for(B=0,G=z.length;B<G;B++)this.emit("removeListenerAny",z[B]);this._all=[]}return this},V.prototype.removeListener=V.prototype.off,V.prototype.removeAllListeners=function(j){if(j===n)return!this._events||f.call(this),this;if(this.wildcard){var B=k.call(this,null,j,this.listenerTree,0),G,z;if(!B)return this;for(z=0;z<B.length;z++)G=B[z],G._listeners=null;this.listenerTree&&R(this.listenerTree)}else this._events&&(this._events[j]=null);return this},V.prototype.listeners=function(j){var B=this._events,G,z,N,F,W;if(j===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!B)return[];for(G=d(B),F=G.length,N=[];F-- >0;)z=B[G[F]],typeof z=="function"?N.push(z):N.push.apply(N,z);return N}else{if(this.wildcard){if(W=this.listenerTree,!W)return[];var X=[],oe=typeof j=="string"?j.split(this.delimiter):j.slice();return k.call(this,X,oe,W,0),X}return B?(z=B[j],z?typeof z=="function"?[z]:z:[]):[]}},V.prototype.eventNames=function(j){var B=this._events;return this.wildcard?M.call(this,this.listenerTree,[],null,j):B?d(B):[]},V.prototype.listenerCount=function(j){return this.listeners(j).length},V.prototype.hasListeners=function(j){if(this.wildcard){var B=[],G=typeof j=="string"?j.split(this.delimiter):j.slice();return k.call(this,B,G,this.listenerTree,0),B.length>0}var z=this._events,N=this._all;return!!(N&&N.length||z&&(j===n?d(z).length:z[j]))},V.prototype.listenersAny=function(){return this._all?this._all:[]},V.prototype.waitFor=function(j,B){var G=this,z=typeof B;return z==="number"?B={timeout:B}:z==="function"&&(B={filter:B}),B=y(B,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:x,Promise:_}),E(B.Promise,function(N,F,W){function X(){var oe=B.filter;if(!(oe&&!oe.apply(G,arguments)))if(G.off(j,X),B.handleError){var L=arguments[0];L?F(L):N(m.apply(null,arguments).slice(1))}else N(m.apply(null,arguments))}W(function(){G.off(j,X)}),G._on(j,X,!1)},{timeout:B.timeout,overload:B.overload})};function J(j,B,G){G=y(G,{Promise,timeout:0,overload:!1},{Promise:_});var z=G.Promise;return E(z,function(N,F,W){var X;if(typeof j.addEventListener=="function"){X=function(){N(m.apply(null,arguments))},W(function(){j.removeEventListener(B,X)}),j.addEventListener(B,X,{once:!0});return}var oe=function(){L&&j.removeListener("error",L),N(m.apply(null,arguments))},L;B!=="error"&&(L=function(O){j.removeListener(B,oe),F(O)},j.once("error",L)),W(function(){L&&j.removeListener("error",L),j.removeListener(B,oe)}),j.once(B,oe)},{timeout:G.timeout,overload:G.overload})}var Y=V.prototype;Object.defineProperties(V,{defaultMaxListeners:{get:function(){return Y._maxListeners},set:function(j){if(typeof j!="number"||j<0||Number.isNaN(j))throw TypeError("n must be a non-negative number");Y._maxListeners=j},enumerable:!0},once:{value:J,writable:!0,configurable:!0}}),Object.defineProperties(Y,{_maxListeners:{value:o,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=V})()}(H6)),H6.exports}var mj;function iRe(){if(mj)return F1;mj=1,Object.defineProperty(F1,"__esModule",{value:!0});var t=function(){function p(m,g){var v=[],y=!0,_=!1,b=void 0;try{for(var x=m[Symbol.iterator](),w;!(y=(w=x.next()).done)&&(v.push(w.value),!(g&&v.length===g));y=!0);}catch(E){_=!0,b=E}finally{try{!y&&x.return&&x.return()}finally{if(_)throw b}}return v}return function(m,g){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=xZ(),n=zt,r=d(n),i=rs(),o=d(i),s=wZ(),a=d(s),l=fk(),c=d(l),u=ji;function d(p){return p&&p.__esModule?p:{default:p}}var f=u.Formio.Form,h=function p(m){var g=void 0,v=void 0,y=void 0,_=(0,n.useState)(void 0),b=t(_,2),x=b[0],w=b[1],E=(0,n.useRef)(void 0);(0,n.useEffect)(function(){return function(){return x?x.destroy(!0):null}},[x]);var S=function(R){var D=m.options,C=D===void 0?{}:D,V=m.formioform,J=m.formReady;return g=new(V||f)(y,R,C),v=g.ready.then(function(Y){return w(Y),J&&J(Y),Y}),v},k=function(R){for(var D=arguments.length,C=Array(D>1?D-1:0),V=1;V<D;V++)C[V-1]=arguments[V];if(R.startsWith("formio.")){var J="on"+R.charAt(7).toUpperCase()+R.slice(8);m.hasOwnProperty(J)&&typeof m[J]=="function"&&m[J].apply(m,C)}},I=function(){var R=m.submission;v&&(g.onAny(k),v.then(function(){x&&R&&(x.submission=R)}))};return(0,n.useEffect)(function(){var M=m.src;M&&(S(M).then(function(R){R&&(R.src=M)}),I())},[m.src]),(0,n.useEffect)(function(){var M=m.form,R=m.url;M&&!(0,c.default)(M,E.current)&&(E.current=(0,e.cloneDeep)(M),S(E.current).then(function(D){D&&(D.form=E.current,R&&(D.url=R))}),I())},[m.form]),(0,n.useEffect)(function(){var M=m.options,R=M===void 0?{}:M;R.events||(R.events=p.getDefaultEmitter())},[m.options]),(0,n.useEffect)(function(){var M=m.submission;x&&M&&!(0,c.default)(x.submission.data,M.data)&&(x.submission=M)},[m.submission,x]),r.default.createElement("div",{ref:function(R){return y=R}})};return h.propTypes={src:o.default.string,url:o.default.string,form:o.default.object,submission:o.default.object,options:o.default.shape({readOnly:o.default.bool,useSessionToken:o.default.bool,flatten:o.default.bool,renderMode:o.default.string,sanitize:o.default.string,noAlerts:o.default.bool,i18n:o.default.object,template:o.default.string,saveDraft:o.default.bool,language:o.default.string}),onPrevPage:o.default.func,onNextPage:o.default.func,onCancel:o.default.func,onChange:o.default.func,onCustomEvent:o.default.func,onComponentChange:o.default.func,onSubmit:o.default.func,onSubmitDone:o.default.func,onFormLoad:o.default.func,onError:o.default.func,onRender:o.default.func,onAttach:o.default.func,onBuild:o.default.func,onFocus:o.default.func,onBlur:o.default.func,onInitialized:o.default.func,formReady:o.default.func,formioform:o.default.any},h.getDefaultEmitter=function(){return new a.default({wildcard:!1,maxListeners:0})},F1.default=h,F1}var z1={},gj;function EZ(){if(gj)return z1;gj=1,Object.defineProperty(z1,"__esModule",{value:!0});var t=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])}return l},e=zt,n=s(e),r=rs(),i=s(r),o=ji;function s(l){return l&&l.__esModule?l:{default:l}}var a=function(c){var u=c.options,d=u===void 0?{}:u,f=c.Builder,h=f===void 0?o.FormBuilder:f,p=c.form,m=(0,e.useRef)(),g=void 0,v=function(E){return function(){c.hasOwnProperty(E)&&typeof c[E]=="function"&&c[E].apply(c,arguments)}},y=function(){var E=c.onChange;if(E&&typeof E=="function"){var S=t({},m.current.instance.form);Object.defineProperty(S,"components",{get:function(){return m.current.instance.schema.components}}),E(m.current.instance.form,S)}},_=[{name:"saveComponent",action:v("onSaveComponent")},{name:"updateComponent",action:v("onUpdateComponent")},{name:"removeComponent",action:v("onDeleteComponent")},{name:"cancelComponent",action:v("onUpdateComponent")},{name:"editComponent",action:v("onEditComponent")},{name:"addComponent",action:y},{name:"saveComponent",action:y},{name:"updateComponent",action:y},{name:"removeComponent",action:y},{name:"deleteComponent",action:y},{name:"pdfUploaded",action:y}],b=function(E){var S=E.options,k=E.form,I=E.Builder;S=Object.assign({},S),k=Object.assign({},k),m.current=new I(g,k,S),m.current.ready.then(function(){y(),_.forEach(function(M){var R=M.name,D=M.action;m.current.instance.off(R,D),m.current.instance.on(R,D)})})};(0,e.useEffect)(function(){return b({options:d,Builder:h,form:p}),function(){return m.current?m.current.instance.destroy(!0):null}},[m]),(0,e.useEffect)(function(){!m.current&&p&&b({options:d,Builder:h,form:p})},[p,m]);var x=(0,e.useCallback)(function(w){return g=w});return(0,e.useLayoutEffect)(function(){m.current&&p&&p.display&&m.current.setDisplay(p.display)},[p.display]),(0,e.useLayoutEffect)(function(){m.current&&p&&p.components&&m.current.setForm(p)},[p]),n.default.createElement("div",null,n.default.createElement("div",{ref:x}))};return a.propTypes={form:i.default.object,options:i.default.object,onChange:i.default.func,onSaveComponent:i.default.func,onUpdateComponent:i.default.func,onDeleteComponent:i.default.func,onCancelComponent:i.default.func,onEditComponent:i.default.func,Builder:i.default.any},z1.default=a,z1}var q1={},U6,vj;function oRe(){if(vj)return U6;vj=1;var t=bi(),e=mp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return U6=i,U6}var W6,yj;function sRe(){if(yj)return W6;yj=1;var t=tk(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=r.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(n.Cache||t),o}return n.Cache=t,W6=n,W6}var G6,bj;function aRe(){if(bj)return G6;bj=1;var t=sRe(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return G6=n,G6}var K6,_j;function lRe(){if(_j)return K6;_j=1;var t=aRe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,c){o.push(l?c.replace(n,"$1"):a||s)}),o});return K6=r,K6}var X6,xj;function yy(){if(xj)return X6;xj=1;var t=bi(),e=oRe(),n=lRe(),r=Zu();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return X6=i,X6}var Y6,wj;function hk(){if(wj)return Y6;wj=1;var t=mp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Y6=e,Y6}var Q6,Ej;function SZ(){if(Ej)return Q6;Ej=1;var t=rk(),e=yy(),n=ik(),r=wo(),i=hk();function o(s,a,l,c){if(!r(s))return s;a=e(a,s);for(var u=-1,d=a.length,f=d-1,h=s;h!=null&&++u<d;){var p=i(a[u]),m=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return s;if(u!=f){var g=h[p];m=c?c(g,p,h):void 0,m===void 0&&(m=r(g)?g:n(a[u+1])?[]:{})}t(h,p,m),h=h[p]}return s}return Q6=o,Q6}var Z6,Sj;function cRe(){if(Sj)return Z6;Sj=1;var t=SZ();function e(n,r,i){return n==null?n:t(n,r,i)}return Z6=e,Z6}var J6,Cj;function uRe(){if(Cj)return J6;Cj=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return J6=t,J6}var e_,kj;function dRe(){if(kj)return e_;kj=1;var t=uRe();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return e_=e,e_}var t_,Oj;function fRe(){if(Oj)return t_;Oj=1;var t=dRe(),e=vZ(),n=yZ(),r=Zu();function i(o){return function(s){s=r(s);var a=e(s)?n(s):void 0,l=a?a[0]:s.charAt(0),c=a?t(a,1).join(""):s.slice(1);return l[o]()+c}}return t_=i,t_}var n_,Rj;function hRe(){if(Rj)return n_;Rj=1;var t=fRe(),e=t("toUpperCase");return n_=e,n_}var r_,Pj;function pRe(){if(Pj)return r_;Pj=1;var t=Zu(),e=hRe();function n(r){return e(t(r).toLowerCase())}return r_=n,r_}var i_,Aj;function mRe(){if(Aj)return i_;Aj=1;function t(e,n,r,i){var o=-1,s=e==null?0:e.length;for(i&&s&&(r=e[++o]);++o<s;)r=n(r,e[o],o,e);return r}return i_=t,i_}var o_,Tj;function gRe(){if(Tj)return o_;Tj=1;function t(e){return function(n){return e?.[n]}}return o_=t,o_}var s_,Ij;function vRe(){if(Ij)return s_;Ij=1;var t=gRe(),e={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",√á:"C",√ß:"c",√ê:"D",√∞:"d",√à:"E",√â:"E",√ä:"E",√ã:"E",√®:"e",√©:"e",√™:"e",√´:"e",√å:"I",√ç:"I",√é:"I",√è:"I",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",√ë:"N",√±:"n",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√π:"u",√∫:"u",√ª:"u",√º:"u",√ù:"Y",√Ω:"y",√ø:"y",√Ü:"Ae",√¶:"ae",√û:"Th",√æ:"th",√ü:"ss",ƒÄ:"A",ƒÇ:"A",ƒÑ:"A",ƒÅ:"a",ƒÉ:"a",ƒÖ:"a",ƒÜ:"C",ƒà:"C",ƒä:"C",ƒå:"C",ƒá:"c",ƒâ:"c",ƒã:"c",ƒç:"c",ƒé:"D",ƒê:"D",ƒè:"d",ƒë:"d",ƒí:"E",ƒî:"E",ƒñ:"E",ƒò:"E",ƒö:"E",ƒì:"e",ƒï:"e",ƒó:"e",ƒô:"e",ƒõ:"e",ƒú:"G",ƒû:"G",ƒ†:"G",ƒ¢:"G",ƒù:"g",ƒü:"g",ƒ°:"g",ƒ£:"g",ƒ§:"H",ƒ¶:"H",ƒ•:"h",ƒß:"h",ƒ®:"I",ƒ™:"I",ƒ¨:"I",ƒÆ:"I",ƒ∞:"I",ƒ©:"i",ƒ´:"i",ƒ≠:"i",ƒØ:"i",ƒ±:"i",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",ƒ∏:"k",ƒπ:"L",ƒª:"L",ƒΩ:"L",ƒø:"L",≈Å:"L",ƒ∫:"l",ƒº:"l",ƒæ:"l",≈Ä:"l",≈Ç:"l",≈É:"N",≈Ö:"N",≈á:"N",≈ä:"N",≈Ñ:"n",≈Ü:"n",≈à:"n",≈ã:"n",≈å:"O",≈é:"O",≈ê:"O",≈ç:"o",≈è:"o",≈ë:"o",≈î:"R",≈ñ:"R",≈ò:"R",≈ï:"r",≈ó:"r",≈ô:"r",≈ö:"S",≈ú:"S",≈û:"S",≈†:"S",≈õ:"s",≈ù:"s",≈ü:"s",≈°:"s",≈¢:"T",≈§:"T",≈¶:"T",≈£:"t",≈•:"t",≈ß:"t",≈®:"U",≈™:"U",≈¨:"U",≈Æ:"U",≈∞:"U",≈≤:"U",≈©:"u",≈´:"u",≈≠:"u",≈Ø:"u",≈±:"u",≈≥:"u",≈¥:"W",≈µ:"w",≈∂:"Y",≈∑:"y",≈∏:"Y",≈π:"Z",≈ª:"Z",≈Ω:"Z",≈∫:"z",≈º:"z",≈æ:"z",ƒ≤:"IJ",ƒ≥:"ij",≈í:"Oe",≈ì:"oe",≈â:"'n",≈ø:"s"},n=t(e);return s_=n,s_}var a_,Dj;function yRe(){if(Dj)return a_;Dj=1;var t=vRe(),e=Zu(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=r+i+o,a="["+s+"]",l=RegExp(a,"g");function c(u){return u=e(u),u&&u.replace(n,t).replace(l,"")}return a_=c,a_}var l_,Mj;function bRe(){if(Mj)return l_;Mj=1;var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(n){return n.match(t)||[]}return l_=e,l_}var c_,$j;function _Re(){if($j)return c_;$j=1;var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(n){return t.test(n)}return c_=e,c_}var u_,Nj;function xRe(){if(Nj)return u_;Nj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",a="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",u=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",h=a+l+c+u,p="['‚Äô]",m="["+h+"]",g="["+i+"]",v="\\d+",y="["+o+"]",_="["+s+"]",b="[^"+t+h+v+o+s+d+"]",x="\\ud83c[\\udffb-\\udfff]",w="(?:"+g+"|"+x+")",E="[^"+t+"]",S="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",I="["+d+"]",M="\\u200d",R="(?:"+_+"|"+b+")",D="(?:"+I+"|"+b+")",C="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",V="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",J=w+"?",Y="["+f+"]?",j="(?:"+M+"(?:"+[E,S,k].join("|")+")"+Y+J+")*",B="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",G="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",z=Y+J+j,N="(?:"+[y,S,k].join("|")+")"+z,F=RegExp([I+"?"+_+"+"+C+"(?="+[m,I,"$"].join("|")+")",D+"+"+V+"(?="+[m,I+R,"$"].join("|")+")",I+"?"+R+"+"+C,I+"+"+V,G,B,v,N].join("|"),"g");function W(X){return X.match(F)||[]}return u_=W,u_}var d_,Lj;function wRe(){if(Lj)return d_;Lj=1;var t=bRe(),e=_Re(),n=Zu(),r=xRe();function i(o,s,a){return o=n(o),s=a?void 0:s,s===void 0?e(o)?r(o):t(o):o.match(s)||[]}return d_=i,d_}var f_,jj;function ERe(){if(jj)return f_;jj=1;var t=mRe(),e=yRe(),n=wRe(),r="['‚Äô]",i=RegExp(r,"g");function o(s){return function(a){return t(n(e(a).replace(i,"")),s,"")}}return f_=o,f_}var h_,Bj;function SRe(){if(Bj)return h_;Bj=1;var t=pRe(),e=ERe(),n=e(function(r,i,o){return i=i.toLowerCase(),r+(o?t(i):i)});return h_=n,h_}var Fj;function CRe(){if(Fj)return q1;Fj=1,Object.defineProperty(q1,"__esModule",{value:!0});var t=function(){function g(v,y){var _=[],b=!0,x=!1,w=void 0;try{for(var E=v[Symbol.iterator](),S;!(b=(S=E.next()).done)&&(_.push(S.value),!(y&&_.length===y));b=!0);}catch(k){x=!0,w=k}finally{try{!b&&E.return&&E.return()}finally{if(x)throw w}}return _}return function(v,y){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return g(v,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=zt,n=h(e),r=rs(),i=h(r),o=EZ(),s=h(o),a=cRe(),l=h(a),c=lZ(),u=h(c),d=SRe(),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}var p=function(v,y){var _=y.type,b=y.value,x=(0,u.default)(v);switch(_){case"formChange":for(var w in b)b.hasOwnProperty(w)&&(v[w]=b[w]);return v;case"replaceForm":return(0,u.default)(b);case"title":_==="title"&&!v._id&&(x.name=(0,f.default)(b),x.path=(0,f.default)(b).toLowerCase());break}return(0,l.default)(x,_,b),x},m=function(v){var y=v.form,_=y===void 0?{title:"",name:"",path:"",display:"form",type:"form",components:[]}:y,b=v.saveText,x=v.options,w=v.builder,E=v.ref,S=(0,e.useReducer)(p,(0,u.default)(_)),k=t(S,2),I=k[0],M=k[1];(0,e.useEffect)(function(){var V=v.form;V&&(I._id!==V._id||I.modified!==V.modified)&&M({type:"replaceForm",value:V})},[_]);var R=function(){var J=v.saveForm;J&&typeof J=="function"&&J(I)},D=function(J,Y){var j=Y.target,B=j.type==="checkbox"?j.checked:j.value;M({type:J,value:B})},C=function(J){return M({type:"formChange",value:J})};return n.default.createElement("div",null,n.default.createElement("div",{className:"row",ref:E},n.default.createElement("div",{className:"col-lg-2 col-md-4 col-sm-4"},n.default.createElement("div",{id:"form-group-title",className:"form-group"},n.default.createElement("label",{htmlFor:"title",className:"control-label field-required"},"Title"),n.default.createElement("input",{type:"text",className:"form-control",id:"title",placeholder:"Enter the form title",value:I.title||"",onChange:function(J){return D("title",J)}}))),n.default.createElement("div",{className:"col-lg-2 col-md-4 col-sm-4"},n.default.createElement("div",{id:"form-group-name",className:"form-group"},n.default.createElement("label",{htmlFor:"name",className:"control-label field-required"},"Name"),n.default.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter the form machine name",value:I.name||"",onChange:function(J){return D("name",J)}}))),n.default.createElement("div",{className:"col-lg-2 col-md-3 col-sm-3"},n.default.createElement("div",{id:"form-group-display",className:"form-group"},n.default.createElement("label",{htmlFor:"name",className:"control-label"},"Display as"),n.default.createElement("div",{className:"input-group"},n.default.createElement("select",{className:"form-control",name:"form-display",id:"form-display",value:I.display||"",onChange:function(J){return D("display",J)}},n.default.createElement("option",{label:"Form",value:"form"},"Form"),n.default.createElement("option",{label:"Wizard",value:"wizard"},"Wizard"),n.default.createElement("option",{label:"PDF",value:"pdf"},"PDF"))))),n.default.createElement("div",{className:"col-lg-2 col-md-3 col-sm-3"},n.default.createElement("div",{id:"form-group-type",className:"form-group"},n.default.createElement("label",{htmlFor:"form-type",className:"control-label"},"Type"),n.default.createElement("div",{className:"input-group"},n.default.createElement("select",{className:"form-control",name:"form-type",id:"form-type",value:I.type,onChange:function(J){return D("type",J)}},n.default.createElement("option",{label:"Form",value:"form"},"Form"),n.default.createElement("option",{label:"Resource",value:"resource"},"Resource"))))),n.default.createElement("div",{className:"col-lg-2 col-md-4 col-sm-4"},n.default.createElement("div",{id:"form-group-path",className:"form-group"},n.default.createElement("label",{htmlFor:"path",className:"control-label field-required"},"Path"),n.default.createElement("div",{className:"input-group"},n.default.createElement("input",{type:"text",className:"form-control",id:"path",placeholder:"example",style:{textTransform:"lowercase",width:"120px"},value:I.path||"",onChange:function(J){return D("path",J)}})))),n.default.createElement("div",{id:"save-buttons",className:"col-lg-2 col-md-5 col-sm-5 save-buttons pull-right"},n.default.createElement("div",{className:"form-group pull-right"},n.default.createElement("span",{className:"btn btn-primary",onClick:function(){return R()}},b)))),n.default.createElement(s.default,{key:I._id,form:I,options:x,builder:w,onChange:C}))};return m.propTypes={form:i.default.object.isRequired,options:i.default.object,builder:i.default.any,saveForm:i.default.func,saveText:i.default.string},q1.default=m,q1}var V1={},p_,zj;function CZ(){if(zj)return p_;zj=1;var t=yy(),e=hk();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return p_=n,p_}var m_,qj;function by(){if(qj)return m_;qj=1;var t=CZ();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return m_=e,m_}var Nd={},Yn={},Vj;function vp(){if(Vj)return Yn;Vj=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.PageSizes=Yn.PageSize=Yn.Operations=Yn.Operation=Yn.Columns=Yn.Column=Yn.AllItemsPerPage=void 0;var t=rs(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=Yn.AllItemsPerPage="all",i=Yn.Column=e.default.shape({key:e.default.string.isRequired,sort:e.default.oneOfType([e.default.bool,e.default.string,e.default.func]),title:e.default.string,value:e.default.func,width:e.default.number});Yn.Columns=e.default.arrayOf(i);var o=Yn.Operation=e.default.shape({action:e.default.string.isRequired,buttonType:e.default.string,icon:e.default.string,permissionsResolver:e.default.func,title:e.default.string});Yn.Operations=e.default.arrayOf(o);var s=Yn.PageSize=e.default.oneOfType([e.default.number,e.default.shape({label:e.default.string,value:e.default.number}),e.default.oneOf([r])]);return Yn.PageSizes=e.default.arrayOf(s),Yn}var Hj;function _y(){if(Hj)return Nd;Hj=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.defaultPageSizes=void 0;var t=vp();return Nd.defaultPageSizes=[10,25,50,100,t.AllItemsPerPage],Nd}var aa={},Uj;function pk(){if(Uj)return aa;Uj=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.stopPropagationWrapper=aa.getComponentDefaultColumn=void 0,aa.setColumnsWidth=i;var t=ji,e=by(),n=r(e);function r(o){return o&&o.__esModule?o:{default:o}}aa.getComponentDefaultColumn=function(s){return{component:t.Components.create(s,null,null,!0),key:"data."+s.key,sort:!0,title:s.label||s.title||s.key,value:function(l){var c=(0,n.default)(l,this.key,null);if(c===null)return"";var u=this.component.asString(c);return c!==u?{content:u,isHtml:!0}:c}}};function i(o){if(o.length>6)o.forEach(function(u){u.width=2});else{var s=o.length,a=12,l=Math.floor(a/s),c=a-l*s;o.forEach(function(u,d){u.width=d<c?l+1:l})}}return aa.stopPropagationWrapper=function(s){return function(a){a.stopPropagation(),s()}},aa}var H1={},U1={},Wj;function kZ(){if(Wj)return U1;Wj=1,Object.defineProperty(U1,"__esModule",{value:!0});var t=rs(),e=i(t),n=zt,r=i(n);function i(d){return d&&d.__esModule?d:{default:d}}function o(d){if(Array.isArray(d)){for(var f=0,h=Array(d.length);f<d.length;f++)h[f]=d[f];return h}else return Array.from(d)}var s="LEFT",a="RIGHT";function l(d,f){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=d,m=[];p<=f;)m.push(p),p+=h;return m}function c(d){var f=d.currentPage,h=d.pageNeighbours,p=d.totalPages,m=h*2+3,g=m+2;if(p>g){var v=Math.max(2,f-h),y=Math.min(p-1,f+h),_=v===3?2:v,b=y===p-2?p-1:y,x=l(_,b),w=_>2,E=p-b>1,S=m-(x.length+1),k=void 0;return w&&!E?(k=l(_-S,_-1),x=[s].concat(o(k),o(x))):!w&&E?(k=l(b+1,b+S),x=[].concat(o(x),o(k),[a])):x=[s].concat(o(x),[a]),[1].concat(o(x),[p])}return l(1,p)}function u(d){var f=d.activePage,h=f===void 0?1:f,p=d.pageNeighbours,m=p===void 0?1:p,g=d.prev,v=g===void 0?"Previous":g,y=d.next,_=y===void 0?"Next":y,b=d.pages,x=d.onSelect,w=c({currentPage:h,pageNeighbours:m,totalPages:b});return r.default.createElement("nav",{"aria-label":"Page navigation"},r.default.createElement("ul",{className:"pagination"},r.default.createElement("li",{className:"page-item "+(h===1?"disabled":"")},r.default.createElement("button",{className:"page-link",onClick:function(){h!==1&&x(h-1)}},v)),w.map(function(E){var S=E===h?"active":"";return[s,a].includes(E)?r.default.createElement("li",{className:"page-item disabled"},r.default.createElement("span",{className:"page-link"},r.default.createElement("span",{"aria-hidden":"true"},"..."))):r.default.createElement("li",{className:"page-item "+S,key:E},r.default.createElement("button",{className:"page-link",onClick:function(){return x(E)}},E))}),r.default.createElement("li",{className:"page-item "+(h===b?"disabled":"")},r.default.createElement("button",{className:"page-link",onClick:function(){h!==b&&x(h+1)}},_))))}return u.propTypes={activePage:e.default.number,pageNeighbours:e.default.number,pages:e.default.number.isRequired,prev:e.default.string,next:e.default.string,onSelect:e.default.func.isRequired},U1.default=u,U1}var Gj;function mk(){if(Gj)return H1;Gj=1,Object.defineProperty(H1,"__esModule",{value:!0});var t=by(),e=p(t),n=wo(),r=p(n),i=gp(),o=p(i),s=rs(),a=p(s),l=zt,c=p(l),u=_y(),d=vp(),f=kZ(),h=p(f);function p(x){return x&&x.__esModule?x:{default:x}}function m(x){return(0,r.default)(x)?x:x===d.AllItemsPerPage?{label:"All",value:999999}:{label:x,value:x}}var g=function(w){var E=w.pages,S=w.onPage;return E&&S},v=function(w){var E=w.pageSize,S=w.pageSizes,k=w.onPageSizeChanged;return E&&S&&S.length&&k},y=function(w){var E=w.firstItem,S=w.lastItem,k=w.total;return E&&S&&k},_=function(w){return g(w)||y(w)};function b(x){var w=x.Cell,E=w===void 0?function(fe){var ke=fe.column,Je=fe.row;return c.default.createElement("span",null,(0,e.default)(Je,ke.key,""))}:w,S=x.activePage,k=S===void 0?1:S,I=x.emptyText,M=I===void 0?"No data found":I,R=x.firstItem,D=R===void 0?0:R,C=x.lastItem,V=C===void 0?0:C,J=x.onAction,Y=J===void 0?function(){}:J,j=x.onPage,B=j===void 0?function(){}:j,G=x.onPageSizeChanged,z=G===void 0?function(){}:G,N=x.onSort,F=N===void 0?function(){}:N,W=x.pageNeighbours,X=W===void 0?1:W,oe=x.pageSize,L=oe===void 0?0:oe,O=x.pageSizes,T=O===void 0?u.defaultPageSizes:O,K=x.pages,Q=K===void 0?0:K,ae=x.sortOrder,ue=ae===void 0?"":ae,A=x.total,ie=A===void 0?0:A,de=x.columns,H=x.items,q=T.map(m),Z=function(ke){var Je=ke.key,Ke=ke.sort,dn=Ke===void 0?!1:Ke,ti=ke.title,ur=ti===void 0?"":ti,Co=ke.width,Pt="col col-md-"+Co,dr={key:Je,className:Pt};if(!ur)return c.default.createElement("div",dr);if(!dn)return c.default.createElement("div",dr,c.default.createElement("strong",null,ur));var Fc=(0,o.default)(dn)?dn:Je,Qi=Fc,Rp="-"+Fc,ld="";return ue===Qi?ld="glyphicon glyphicon-triangle-top fa fa-caret-up":ue===Rp&&(ld="glyphicon glyphicon-triangle-bottom fa fa-caret-down"),c.default.createElement("div",dr,c.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return F(ke)}},c.default.createElement("strong",null,ur," ",c.default.createElement("span",{className:ld}))))},pe=function(ke){return c.default.createElement("li",{className:"list-group-item",key:ke._id},c.default.createElement("div",{className:"row",onClick:function(){return Y(ke,"row")}},de.map(function(Je){return c.default.createElement("div",{key:Je.key,className:"col col-md-"+Je.width},c.default.createElement(E,{row:ke,column:Je}))})))},se=function(){return c.default.createElement("div",{className:"col-auto"},c.default.createElement("div",{className:"row align-items-center"},c.default.createElement("div",{className:"col-auto"},c.default.createElement("select",{className:"form-control",value:L,onChange:function(Je){return z(Je.target.value)}},q.map(function(ke){var Je=ke.label,Ke=ke.value;return c.default.createElement("option",{key:Ke,value:Ke},Je)}))),c.default.createElement("span",{className:"col-auto"},"items per page")))},te=function(){return c.default.createElement("div",{className:"col-auto"},c.default.createElement("div",{className:"row align-items-center"},c.default.createElement("div",{className:"col-auto"},c.default.createElement(h.default,{pages:Q,activePage:k,pageNeighbours:X,prev:"Previous",next:"Next",onSelect:B})),v(x)?c.default.createElement(se,null):null))},he=function(){return c.default.createElement("div",{className:"col-auto ml-auto"},c.default.createElement("span",{className:"item-counter pull-right"},c.default.createElement("span",{className:"page-num"},D," - ",V)," / ",ie," total"))},le=function(){return c.default.createElement("li",{className:"list-group-item"},c.default.createElement("div",{className:"row align-items-center"},g(x)?c.default.createElement(te,null):null,y(x)?c.default.createElement(he,null):null))};return c.default.createElement("div",null,H.length?c.default.createElement("ul",{className:"list-group list-group-striped"},c.default.createElement("li",{className:"list-group-item list-group-header hidden-xs hidden-md"},c.default.createElement("div",{className:"row"},de.map(Z))),H.map(pe),_(x)?c.default.createElement(le,null):null):c.default.createElement("div",null,M))}return b.propTypes={Cell:a.default.func,activePage:a.default.number,columns:a.default.array.isRequired,emptyText:a.default.string,firstItem:a.default.number,items:a.default.array.isRequired,lastItem:a.default.number,onAction:a.default.func,onPage:a.default.func,onPageSizeChanged:a.default.func,onSort:a.default.func,pageNeighbours:a.default.number,pageSize:a.default.number,pageSizes:d.PageSizes,pages:a.default.number,sortOrder:a.default.string,total:a.default.number},H1.default=b,H1}var Kj;function kRe(){if(Kj)return V1;Kj=1,Object.defineProperty(V1,"__esModule",{value:!0});var t=by(),e=m(t),n=Gu(),r=m(n),i=gp(),o=m(i),s=rs(),a=m(s),l=zt,c=m(l),u=_y(),d=vp(),f=pk(),h=mk(),p=m(h);function m(v){return v&&v.__esModule?v:{default:v}}var g=function(y){var _=y.columns,b=_===void 0?[{key:"title",sort:!0,title:"Form",width:8},{key:"operations",title:"Operations",width:4}]:_,x=y.formAccess,w=x===void 0?function(){return{form:{create:!0,view:!0,edit:!0,delete:!0},submission:{create:!0,view:!0,edit:!0,delete:!0}}}:x,E=y.getForms,S=E===void 0?function(){}:E,k=y.onPageSizeChanged,I=k===void 0?function(){}:k,M=y.operations,R=M===void 0?[{action:"view",buttonType:"primary",icon:"pencil",permissionsResolver:function(){return!0},title:"Enter Data"},{action:"submission",buttonType:"warning",icon:"list-alt",permissionsResolver:function(){return!0},title:"View Data"},{action:"edit",buttonType:"secondary",icon:"edit",permissionsResolver:function(){return!0},title:"Edit Form"},{action:"delete",buttonType:"danger",icon:"trash",permissionsResolver:function(){return!0}}]:M,D=y.pageSizes,C=D===void 0?u.defaultPageSizes:D,V=y.forms,J=V.forms,Y=V.limit,j=V.pagination,B=j.page,G=j.numPages,z=j.total,N=V.sort,F=y.onAction,W=function(ue,A){var ie=(0,o.default)(A)?A:ue,de=ie,H="-"+ie,q="";return N===de?H:N===H?q:de},X=function(ue){var A=ue.key,ie=ue.sort;if((0,r.default)(ie))return ie();var de=y.getForms;de(1,{sort:W(A,ie)})},oe=function(ue){var A=ue.access,ie=ue.form,de=ue.onAction;return c.default.createElement("span",{style:{cursor:"pointer"},onClick:(0,f.stopPropagationWrapper)(function(){A.submission.create&&de(ie,"view")})},c.default.createElement("h5",null,ie.title))},L=function(ue){var A=ue.icon;return c.default.createElement("span",null,c.default.createElement("i",{className:"fa fa-"+A}),"¬†")},O=function(ue){var A=ue.action,ie=ue.onAction,de=ue.form,H=ue.buttonType,q=ue.icon,Z=ue.title;return c.default.createElement("span",{className:"btn btn-"+H+" btn-sm form-btn",onClick:(0,f.stopPropagationWrapper)(function(){return ie(de,A)})},q?c.default.createElement(L,{icon:q}):null,Z)},T=function(ue){var A=ue.row,ie=ue.column,de=w(A);return ie.key==="title"?c.default.createElement(oe,{access:de,form:A,onAction:F}):ie.key==="operations"?c.default.createElement("div",null,R.map(function(H){var q=H.action,Z=H.buttonType,pe=Z===void 0?"primary":Z,se=H.icon,te=se===void 0?"":se,he=H.permissionsResolver,le=he===void 0?function(){return!0}:he,fe=H.title,ke=fe===void 0?"":fe;return le(A)?c.default.createElement(O,{key:q,action:q,buttonType:pe,icon:te,title:ke,form:A,onAction:F}):null})):c.default.createElement("span",null,(0,r.default)(ie.value)?ie.value(A):(0,e.default)(A,ie.key,""))},K=(B-1)*Y,Q=Math.min(K+Y,z);return c.default.createElement(p.default,{Cell:T,activePage:B,columns:b,emptyText:"No forms found",firstItem:K+1,items:J,lastItem:Q,onAction:F,onPage:S,onPageSizeChanged:I,onSort:X,pageSize:Y,pageSizes:C,pages:G,sortOrder:N,total:z})};return g.propTypes={columns:d.Columns,formAccess:a.default.func,forms:a.default.object.isRequired,getForms:a.default.func,onAction:a.default.func,onPageSizeChanged:a.default.func,operations:d.Operations,pageSizes:d.PageSizes},V1.default=g,V1}var W1={},Xj;function ORe(){if(Xj)return W1;Xj=1,Object.defineProperty(W1,"__esModule",{value:!0});var t=function(){function u(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&u(d.prototype,f),h&&u(d,h),d}}(),e=function u(d,f,h){d===null&&(d=Function.prototype);var p=Object.getOwnPropertyDescriptor(d,f);if(p===void 0){var m=Object.getPrototypeOf(d);return m===null?void 0:u(m,f,h)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(h)}},n=ji;function r(u,d,f){return d in u?Object.defineProperty(u,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[d]=f,u}function i(u){if(Array.isArray(u)){for(var d=0,f=Array(u.length);d<u.length;d++)f[d]=u[d];return f}else return Array.from(u)}function o(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function a(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var l=n.Formio.Components.components.field,c=function(u){a(d,u);function d(f,h,p){o(this,d);var m=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,f,h,p));return m.updateValue=function(g,v){v=v||{};var y=g??m.getValue(),_=y!==void 0?m.hasChanged(y,m.dataValue):!1;return m.dataValue=Array.isArray(y)?[].concat(i(y)):y,m.updateOnChange(v,_),_},m.reactInstance=null,m}return t(d,[{key:"init",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"init",this).call(this)}},{key:"destroy",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"destroy",this).call(this)}},{key:"beforeSubmit",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"beforeSubmit",this).call(this)}},{key:"render",value:function(){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"render",this).call(this,'<div ref="react-'+this.id+'"></div>')}},{key:"setReactInstance",value:function(h){this.reactInstance=h}},{key:"attach",value:function(h){return e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"attach",this).call(this,h),this.loadRefs(h,r({},"react-"+this.id,"single")),this.refs["react-"+this.id]&&(this.attachReact(this.refs["react-"+this.id],this.setReactInstance.bind(this)),this.shouldSetValue&&(this.setValue(this.dataForSetting),this.updateValue(this.dataForSetting))),Promise.resolve()}},{key:"detach",value:function(){this.refs["react-"+this.id]&&this.detachReact(this.refs["react-"+this.id]),e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"detach",this).call(this)}},{key:"attachReact",value:function(h,p){}},{key:"detachReact",value:function(h){}},{key:"setValue",value:function(h){this.reactInstance?(this.reactInstance.setState({value:h}),this.shouldSetValue=!1):(this.shouldSetValue=!0,this.dataForSetting=h)}},{key:"getValue",value:function(){return this.reactInstance?this.reactInstance.state.value:this.defaultValue}},{key:"checkValidity",value:function(h,p,m){var g=e(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"checkValidity",this).call(this,h,p,m);return g?this.validate(h,p,m):!1}},{key:"validate",value:function(h,p,m){return!0}}]),d}(l);return W1.default=c,W1}var G1={},Yj;function RRe(){if(Yj)return G1;Yj=1,Object.defineProperty(G1,"__esModule",{value:!0});var t=ji,e=by(),n=y(e),r=Gu(),i=y(r),o=wo(),s=y(o),a=gp(),l=y(a),c=rs(),u=y(c),d=zt,f=y(d),h=_y(),p=vp(),m=pk(),g=mk(),v=y(g);function y(b){return b&&b.__esModule?b:{default:b}}var _=function(x){var w=x.columns,E=w===void 0?[]:w,S=x.getSubmissions,k=S===void 0?function(){}:S,I=x.onAction,M=I===void 0?function(){}:I,R=x.onPageSizeChanged,D=R===void 0?function(){}:R,C=x.operations,V=C===void 0?[{action:"view",buttonType:"warning",icon:"list-alt",permissionsResolver:function(){return!0},title:"View"},{action:"edit",buttonType:"secondary",icon:"edit",permissionsResolver:function(){return!0},title:"Edit"},{action:"delete",buttonType:"danger",icon:"trash",permissionsResolver:function(){return!0}}]:C,J=x.pageSizes,Y=J===void 0?h.defaultPageSizes:J,j=x.submissions,B=j.sort,G=j.limit,z=j.pagination,N=z.page,F=z.numPages,W=z.total,X=j.submissions,oe=x.form,L=function(H,q){var Z=(0,l.default)(q)?q:H,pe=Z,se="-"+Z,te="";return B===pe?se:B===se?te:pe},O=function(H){var q=H.key,Z=H.sort;if((0,i.default)(Z))return Z();k(1,{sort:L(q,Z)})},T=function(H){var q=[];return t.Utils.eachComponent(H.components,function(Z){Z.input&&Z.tableView&&Z.key&&q.push((0,m.getComponentDefaultColumn)(Z))}),q.push({key:"operations",title:"Operations"}),(0,m.setColumnsWidth)(q),q},K=function(H){var q=H.icon;return f.default.createElement("span",null,f.default.createElement("i",{className:"fa fa-"+q}),"¬†")},Q=function(H){var q=H.action,Z=H.buttonType,pe=H.icon,se=H.title,te=H.onAction,he=H.submission;return f.default.createElement("span",{className:"btn btn-"+Z+" btn-sm form-btn",onClick:(0,m.stopPropagationWrapper)(function(){return te(he,q)})},pe?f.default.createElement(K,{icon:pe}):null,se)},ae=function(H){var q=H.row,Z=H.column;if(Z.key==="operations")return f.default.createElement("div",null,V.map(function(se){var te=se.action,he=se.buttonType,le=he===void 0?"primary":he,fe=se.icon,ke=fe===void 0?"":fe,Je=se.permissionsResolver,Ke=Je===void 0?function(){return!0}:Je,dn=se.title,ti=dn===void 0?"":dn;return Ke(oe,q)?f.default.createElement(Q,{key:te,action:te,buttonType:le,icon:ke,title:ti,submission:q,onAction:M}):null}));var pe=(0,i.default)(Z.value)?Z.value(q):(0,n.default)(q,Z.key,"");return(0,s.default)(pe)&&pe.content?pe.isHtml?f.default.createElement("div",{dangerouslySetInnerHTML:{__html:pe.content}}):f.default.createElement("span",null,String(pe.content)):f.default.createElement("span",null,String(pe))},ue=E.length?E:T(oe),A=(N-1)*G,ie=Math.min(A+G,W);return f.default.createElement(v.default,{Cell:ae,activePage:N,columns:ue,emptyText:"No data found",firstItem:A+1,items:X,lastItem:ie,onAction:M,onPage:k,onPageSizeChanged:D,onSort:O,pageSize:G,pageSizes:Y,pages:F,sortOrder:B,total:W})};return _.propTypes={columns:p.Columns,form:u.default.object.isRequired,getSubmissions:u.default.func,onAction:u.default.func,onPageSizeChanged:u.default.func,operations:p.Operations,pageSizes:p.PageSizes,submissions:u.default.object.isRequired},G1.default=_,G1}var K1={},Qj;function PRe(){if(Qj)return K1;Qj=1,Object.defineProperty(K1,"__esModule",{value:!0});var t=function(){function p(m,g){var v=[],y=!0,_=!1,b=void 0;try{for(var x=m[Symbol.iterator](),w;!(y=(w=x.next()).done)&&(v.push(w.value),!(g&&v.length===g));y=!0);}catch(E){_=!0,b=E}finally{try{!y&&x.return&&x.return()}finally{if(_)throw b}}return v}return function(m,g){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=xZ(),n=zt,r=d(n),i=rs(),o=d(i),s=wZ(),a=d(s),l=fk(),c=d(l),u=ji;function d(p){return p&&p.__esModule?p:{default:p}}var f=u.Formio.Report,h=function p(m){var g=void 0,v=void 0,y=void 0,_=(0,n.useState)(void 0),b=t(_,2),x=b[0],w=b[1],E=(0,n.useRef)(void 0);if(!f)return r.default.createElement("div",{className:"alert alert-danger",role:"alert"},"Report is not found in Formio. Please make sure that you are using the Formio Reporting module and it is correctly included in your application.");(0,n.useEffect)(function(){return function(){return x?x.destroy(!0):null}},[x]);var S=function(R){var D=m.options,C=D===void 0?{}:D,V=m.onReportReady,J=m.projectEndpoint;return J&&(C.projectEndpoint=J),g=new f(y,R,C),v=g.ready.then(function(Y){w(Y),V&&V(Y)}),v},k=function(R){for(var D=arguments.length,C=Array(D>1?D-1:0),V=1;V<D;V++)C[V-1]=arguments[V];if(R.startsWith("formio.")){var J="on"+R.charAt(7).toUpperCase()+R.slice(8);m.hasOwnProperty(J)&&typeof m[J]=="function"&&m[J].apply(m,C)}},I=function(){v&&g.onAny(k)};return(0,n.useEffect)(function(){var M=m.src;M&&(S(M),I())},[m.src]),(0,n.useEffect)(function(){var M=m.report;M&&!(0,c.default)(M,E.current)&&(E.current=(0,e.cloneDeep)(M),S(M).then(function(){if(x)return x.form={components:[],report:M},x}),I())},[m.report]),(0,n.useEffect)(function(){var M=m.options,R=M===void 0?{}:M;R.events||(R.events=p.getDefaultEmitter())},[m.options]),r.default.createElement("div",{ref:function(R){return y=R}})};return h.propTypes={src:o.default.string,projectEndpoint:o.default.string,report:o.default.object,options:o.default.shape({readOnly:o.default.bool,noAlerts:o.default.bool,i18n:o.default.object,template:o.default.string,language:o.default.string}),onRowClick:o.default.func,onRowSelectChange:o.default.func,onFetchDataError:o.default.func,onChangeItemsPerPage:o.default.func,onPage:o.default.func,onChange:o.default.func,onFormLoad:o.default.func,onError:o.default.func,onRender:o.default.func,onFocus:o.default.func,onBlur:o.default.func,onInitialized:o.default.func,onReportReady:o.default.func},h.getDefaultEmitter=function(){return new a.default({wildcard:!1,maxListeners:0})},K1.default=h,K1}var Zj;function ARe(){return Zj||(Zj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=eke();Object.defineProperty(t,"Errors",{enumerable:!0,get:function(){return d(e).default}});var n=iRe();Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return d(n).default}});var r=EZ();Object.defineProperty(t,"FormBuilder",{enumerable:!0,get:function(){return d(r).default}});var i=CRe();Object.defineProperty(t,"FormEdit",{enumerable:!0,get:function(){return d(i).default}});var o=kRe();Object.defineProperty(t,"FormGrid",{enumerable:!0,get:function(){return d(o).default}});var s=mk();Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return d(s).default}});var a=ORe();Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return d(a).default}});var l=RRe();Object.defineProperty(t,"SubmissionGrid",{enumerable:!0,get:function(){return d(l).default}});var c=kZ();Object.defineProperty(t,"Pagination",{enumerable:!0,get:function(){return d(c).default}});var u=PRe();Object.defineProperty(t,"Report",{enumerable:!0,get:function(){return d(u).default}});function d(f){return f&&f.__esModule?f:{default:f}}}(yb)),yb}var g_={},v_={},as={},Ji={},Jj;function gk(){return Jj||(Jj=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.USER_REQUEST="USER_REQUEST",Ji.USER_REQUEST_SUCCESS="USER_REQUEST_SUCCESS",Ji.USER_REQUEST_FAILURE="USER_REQUEST_FAILURE",Ji.USER_LOGOUT="USER_LOGOUT",Ji.USER_SUBMISSION_ACCESS="USER_SUBMISSION_ACCESS",Ji.USER_FORM_ACCESS="USER_FORM_ACCESS",Ji.USER_PROJECT_ACCESS="USER_PROJECT_ACCESS",Ji.USER_ROLES="USER_ROLES"),Ji}var eB;function TRe(){if(eB)return as;eB=1,Object.defineProperty(as,"__esModule",{value:!0}),as.logout=as.setUser=as.initAuth=void 0;var t=function(){function y(_,b){var x=[],w=!0,E=!1,S=void 0;try{for(var k=_[Symbol.iterator](),I;!(w=(I=k.next()).done)&&(x.push(I.value),!(b&&x.length===b));w=!0);}catch(M){E=!0,S=M}finally{try{!w&&k.return&&k.return()}finally{if(E)throw S}}return x}return function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return y(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=Object.assign||function(y){for(var _=1;_<arguments.length;_++){var b=arguments[_];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(y[x]=b[x])}return y},n=ji,r=gk(),i=o(r);function o(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(_[b]=y[b]);return _.default=y,_}function s(y,_,b){return _ in y?Object.defineProperty(y,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[_]=b,y}var a=function(){return{type:i.USER_REQUEST}},l=function(_){return{type:i.USER_REQUEST_SUCCESS,user:_}},c=function(_){return{type:i.USER_REQUEST_FAILURE,error:_}},u=function(){return{type:i.USER_LOGOUT}},d=function(_){return{type:i.USER_SUBMISSION_ACCESS,submissionAccess:_}},f=function(_){return{type:i.USER_FORM_ACCESS,formAccess:_}},h=function(_){return{type:i.USER_PROJECT_ACCESS,projectAccess:_}},p=function(_){return{type:i.USER_ROLES,roles:_}};function m(y){return Object.values(y).reduce(function(_,b){return e({},_,s({},b.name,b.submissionAccess.reduce(function(x,w){return e({},x,s({},w.type,w.roles))},{})))},{})}function g(y){return Object.values(y).reduce(function(_,b){return e({},_,s({},b.name,b.access.reduce(function(x,w){return e({},x,s({},w.type,w.roles))},{})))},{})}function v(y){return y.reduce(function(_,b){return e({},_,s({},b.type,b.roles))},{})}return as.initAuth=function(){return function(_){var b=n.Formio.getProjectUrl();_(a()),Promise.all([n.Formio.currentUser(),n.Formio.makeStaticRequest(b+"/access").then(function(x){var w=m(x.forms),E=g(x.forms);_(d(w)),_(f(E)),_(p(x.roles))}).catch(function(){}),n.Formio.makeStaticRequest(b).then(function(x){var w=v(x.access);_(h(w))}).catch(function(){})]).then(function(x){var w=t(x,1),E=w[0];_(E?l(E):u())}).catch(function(x){_(c(x))})}},as.setUser=function(_){return function(b){n.Formio.setUser(_),b(l(_))}},as.logout=function(){return function(_){n.Formio.logout().then(function(){_(u())})}},as}var Ld={},tB;function IRe(){if(tB)return Ld;tB=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.auth=void 0;var t=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},e=function(){function c(u,d){var f=[],h=!0,p=!1,m=void 0;try{for(var g=u[Symbol.iterator](),v;!(h=(v=g.next()).done)&&(f.push(v.value),!(d&&f.length===d));h=!0);}catch(y){p=!0,m=y}finally{try{!h&&g.return&&g.return()}finally{if(p)throw m}}return f}return function(u,d){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return c(u,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=gk(),r=i(n);function i(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d]);return u.default=c,u}function o(c,u,d){return u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,c}var s={init:!1,isActive:!1,user:null,authenticated:!1,submissionAccess:{},formAccess:{},projectAccess:{},roles:{},is:{},error:""};function a(c,u){return Object.entries(c).reduce(function(d,f){var h=e(f,2),p=h[0],m=h[1];return t({},d,o({},p,u.includes(m._id)))},{})}function l(c){return Object.keys(c).reduce(function(u,d){return t({},u,o({},d,d==="anonymous"))},{})}return Ld.auth=function(u){return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,f=arguments[1];switch(f.type){case r.USER_REQUEST:return t({},d,{init:!0,submissionAccess:!1,isActive:!0});case r.USER_REQUEST_SUCCESS:return t({},d,{isActive:!1,user:f.user,authenticated:!0,is:a(d.roles,f.user.roles),error:""});case r.USER_REQUEST_FAILURE:return t({},d,{isActive:!1,is:l(d.roles),error:f.error});case r.USER_LOGOUT:return t({},d,{user:null,isActive:!1,authenticated:!1,is:l(d.roles),error:""});case r.USER_SUBMISSION_ACCESS:return t({},d,{submissionAccess:f.submissionAccess});case r.USER_FORM_ACCESS:return t({},d,{formAccess:f.formAccess});case r.USER_PROJECT_ACCESS:return t({},d,{projectAccess:f.projectAccess});case r.USER_ROLES:return t({},d,{roles:f.roles});default:return d}}},Ld}var X1={},nB;function DRe(){return nB||(nB=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.default={}),X1}var rB;function MRe(){return rB||(rB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=TRe();Object.keys(e).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})});var n=gk();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[o]}})});var r=IRe();Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return r[o]}})});var i=DRe();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})})}(v_)),v_}var y_={},ri={},ls={},iB;function vk(){return iB||(iB=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.FORM_CLEAR_ERROR="FORM_CLEAR_ERROR",ls.FORM_REQUEST="FORM_REQUEST",ls.FORM_SUCCESS="FORM_SUCCESS",ls.FORM_FAILURE="FORM_FAILURE",ls.FORM_SAVE="FORM_SAVE",ls.FORM_RESET="FORM_RESET"),ls}var jd={},b_={},n0={},oB;function $Re(){if(oB)return n0;oB=1,Object.defineProperty(n0,"__esModule",{value:!0});var t=n0.selectRoot=function(n,r){return r[n]};return n0.selectError=function(n,r){return t(n,r).error},n0.selectIsActive=function(n,r){return t(n,r).isActive},n0}var sB;function Mc(){return sB||(sB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=$Re();Object.keys(e).forEach(function(n){n==="default"||n==="__esModule"||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})}(b_)),b_}var aB;function OZ(){if(aB)return jd;aB=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.selectForm=void 0;var t=Mc();return jd.selectForm=function(n,r){return(0,t.selectRoot)(n,r).form},jd}var lB;function NRe(){if(lB)return ri;lB=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.deleteForm=ri.saveForm=ri.getForm=ri.resetForm=ri.clearFormError=void 0;var t=ji,e=vk(),n=i(e),r=OZ();function i(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(d[f]=u[f]);return d.default=u,d}ri.clearFormError=function(d){return{type:n.FORM_CLEAR_ERROR,name:d}};var o=function(d,f,h){return{type:n.FORM_REQUEST,name:d,id:f,url:h}},s=function(d,f,h){return{type:n.FORM_SUCCESS,form:f,name:d,url:h}},a=function(d,f){return{type:n.FORM_FAILURE,error:f,name:d}},l=ri.resetForm=function(d){return{type:n.FORM_RESET,name:d}},c=function(d,f){return{type:n.FORM_SAVE,form:f,name:d}};return ri.getForm=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};return function(p,m){var g=(0,r.selectForm)(d,m());if(!(g.components&&Array.isArray(g.components)&&g.components.length&&g._id===f)){var v=t.Formio.getProjectUrl()+"/"+(f?"form/"+f:d),y=new t.Formio(v);return p(o(d,f,v)),y.loadForm().then(function(_){p(s(d,_)),h(null,_)}).catch(function(_){p(a(d,_)),h(_)})}}},ri.saveForm=function(d,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};return function(p){p(c(d,f));var m=f._id,g=t.Formio.getProjectUrl()+"/form"+(m?"/"+m:""),v=new t.Formio(g);v.saveForm(f).then(function(y){var _=t.Formio.getProjectUrl()+"/form/"+y._id;p(s(d,y,_)),h(null,y)}).catch(function(y){p(a(d,y)),h(y)})}},ri.deleteForm=function(d,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};return function(p){var m=t.Formio.getProjectUrl()+"/form/"+f,g=new t.Formio(m);return g.deleteForm().then(function(){p(l(d)),h()}).catch(function(v){p(a(d,v)),h(v)})}},ri}var Y1={},cB;function LRe(){if(cB)return Y1;cB=1,Object.defineProperty(Y1,"__esModule",{value:!0});var t=Object.assign||function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o};Y1.form=i;var e=vk(),n=r(e);function r(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);return s.default=o,s}function i(o){var s={id:"",isActive:!1,lastUpdated:0,form:{},url:"",error:""};return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,l=arguments[1];if(l.name!==o.name)return a;switch(l.type){case n.FORM_CLEAR_ERROR:return t({},a,{error:""});case n.FORM_REQUEST:return t({},a,{isActive:!0,id:l.id,form:{},url:l.url,error:""});case n.FORM_SUCCESS:return t({},a,{isActive:!1,id:l.form._id,form:l.form,url:l.url||a.url,error:""});case n.FORM_FAILURE:return t({},a,{isActive:!1,isInvalid:!0,error:l.error});case n.FORM_SAVE:return t({},a,{isActive:!0});case n.FORM_RESET:return s;default:return a}}}return Y1}var uB;function jRe(){return uB||(uB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=NRe();Object.keys(e).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})});var n=vk();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[o]}})});var r=LRe();Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return r[o]}})});var i=OZ();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})})}(y_)),y_}var __={},yl={},bl={},dB;function yk(){return dB||(dB=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.FORMS_RESET="FORMS_RESET",bl.FORMS_REQUEST="FORMS_REQUEST",bl.FORMS_SUCCESS="FORMS_SUCCESS",bl.FORMS_FAILURE="FORMS_FAILURE"),bl}var fB;function BRe(){if(fB)return yl;fB=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.indexForms=yl.resetForms=void 0;var t=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},e=ji,n=Mc(),r=yk(),i=o(r);function o(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d]);return u.default=c,u}yl.resetForms=function(u){return{type:i.FORMS_RESET,name:u}};var s=function(u,d,f){return{type:i.FORMS_REQUEST,name:u,page:d,params:f}},a=function(u,d){return{type:i.FORMS_SUCCESS,name:u,forms:d}},l=function(u,d){return{type:i.FORMS_FAILURE,name:u,error:d}};return yl.indexForms=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};return function(p,m){p(s(u,d,f));var g=(0,n.selectRoot)(u,m()),v=g.limit,y=g.query,_=g.select,b=g.sort,x=new e.Formio(e.Formio.getProjectUrl()+"/form"),w=t({},y,f);return v!==10?w.limit=v:delete w.limit,d!==1?w.skip=(d-1)*v:delete w.skip,_?w.select=_:delete w.select,b?w.sort=b:delete w.sort,x.loadForms({params:w}).then(function(E){p(a(u,E)),h(null,E)}).catch(function(E){p(l(u,E)),h(E)})}},yl}var Q1={},x_,hB;function FRe(){if(hB)return x_;hB=1;var t=CZ(),e=SZ(),n=yy();function r(i,o,s){for(var a=-1,l=o.length,c={};++a<l;){var u=o[a],d=t(i,u);s(d,u)&&e(c,n(u,i),d)}return c}return x_=r,x_}var w_,pB;function zRe(){if(pB)return w_;pB=1;function t(e,n){return e!=null&&n in Object(e)}return w_=t,w_}var E_,mB;function qRe(){if(mB)return E_;mB=1;var t=yy(),e=hp(),n=bi(),r=ik(),i=dy(),o=hk();function s(a,l,c){l=t(l,a);for(var u=-1,d=l.length,f=!1;++u<d;){var h=o(l[u]);if(!(f=a!=null&&c(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||e(a)))}return E_=s,E_}var S_,gB;function VRe(){if(gB)return S_;gB=1;var t=zRe(),e=qRe();function n(r,i){return r!=null&&e(r,i,t)}return S_=n,S_}var C_,vB;function HRe(){if(vB)return C_;vB=1;var t=FRe(),e=VRe();function n(r,i){return t(r,i,function(o,s){return e(r,s)})}return C_=n,C_}var k_,yB;function URe(){if(yB)return k_;yB=1;var t=Tc(),e=hp(),n=bi(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return k_=i,k_}var O_,bB;function WRe(){if(bB)return O_;bB=1;var t=sk(),e=URe();function n(r,i,o,s,a){var l=-1,c=r.length;for(o||(o=e),a||(a=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?n(u,i-1,o,s,a):t(a,u):s||(a[a.length]=u)}return a}return O_=n,O_}var R_,_B;function GRe(){if(_B)return R_;_B=1;var t=WRe();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return R_=e,R_}var P_,xB;function KRe(){if(xB)return P_;xB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return P_=t,P_}var A_,wB;function XRe(){if(wB)return A_;wB=1;var t=KRe(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=e(s.length-i,0),c=Array(l);++a<l;)c[a]=s[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=s[a];return u[i]=o(c),t(r,this,u)}}return A_=n,A_}var T_,EB;function YRe(){if(EB)return T_;EB=1;function t(e){return function(){return e}}return T_=t,T_}var I_,SB;function QRe(){if(SB)return I_;SB=1;function t(e){return e}return I_=t,I_}var D_,CB;function ZRe(){if(CB)return D_;CB=1;var t=YRe(),e=KQ(),n=QRe(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return D_=r,D_}var M_,kB;function JRe(){if(kB)return M_;kB=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),l=e-(a-s);if(s=a,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return M_=r,M_}var $_,OB;function ePe(){if(OB)return $_;OB=1;var t=ZRe(),e=JRe(),n=e(t);return $_=n,$_}var N_,RB;function tPe(){if(RB)return N_;RB=1;var t=GRe(),e=XRe(),n=ePe();function r(i){return n(e(i,void 0,t),i+"")}return N_=r,N_}var L_,PB;function RZ(){if(PB)return L_;PB=1;var t=HRe(),e=tPe(),n=e(function(r,i){return r==null?{}:t(r,i)});return L_=n,L_}var AB;function nPe(){if(AB)return Q1;AB=1,Object.defineProperty(Q1,"__esModule",{value:!0});var t=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])}return l};Q1.forms=a;var e=RZ(),n=s(e),r=yk(),i=o(r);function o(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u]);return c.default=l,c}function s(l){return l&&l.__esModule?l:{default:l}}function a(l){var c=l.name,u=l.limit,d=u===void 0?10:u,f=l.query,h=f===void 0?{}:f,p=l.select,m=p===void 0?"":p,g=l.sort,v=g===void 0?"":g,y={error:"",forms:[],isActive:!1,limit:d,pagination:{numPages:0,page:1,total:0},query:h,select:m,sort:v};return function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,b=arguments[1];if(b.name!==c)return _;switch(b.type){case i.FORMS_RESET:return y;case i.FORMS_REQUEST:return t({},_,(0,n.default)(b.params,["limit","query","select","sort"]),{error:"",forms:[],isActive:!0,pagination:t({},_.pagination,{page:b.page})});case i.FORMS_SUCCESS:{var x=b.forms.serverCount;return t({},_,{forms:b.forms,isActive:!1,pagination:t({},_.pagination,{numPages:Math.ceil(x/_.limit),total:x})})}case i.FORMS_FAILURE:return t({},_,{error:b.error,isActive:!1});default:return _}}}return Q1}var Bd={},TB;function rPe(){if(TB)return Bd;TB=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.selectForms=void 0;var t=Mc();return Bd.selectForms=function(n,r){return(0,t.selectRoot)(n,r).forms},Bd}var IB;function iPe(){return IB||(IB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=BRe();Object.keys(e).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})});var n=yk();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[o]}})});var r=nPe();Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return r[o]}})});var i=rPe();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})})}(__)),__}var j_={},ii={},cs={},DB;function bk(){return DB||(DB=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.SUBMISSION_CLEAR_ERROR="SUBMISSION_CLEAR_ERROR",cs.SUBMISSION_REQUEST="SUBMISSION_REQUEST",cs.SUBMISSION_SAVE="SUBMISSION_SAVE",cs.SUBMISSION_SUCCESS="SUBMISSION_SUCCESS",cs.SUBMISSION_FAILURE="SUBMISSION_FAILURE",cs.SUBMISSION_RESET="SUBMISSION_RESET"),cs}var MB;function oPe(){if(MB)return ii;MB=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.deleteSubmission=ii.saveSubmission=ii.getSubmission=ii.resetSubmission=ii.clearSubmissionError=void 0;var t=ji,e=bk(),n=r(e);function r(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d]);return u.default=c,u}ii.clearSubmissionError=function(u){return{type:n.SUBMISSION_CLEAR_ERROR,name:u}};var i=function(u,d,f,h){return{type:n.SUBMISSION_REQUEST,name:u,id:d,formId:f,url:h}},o=function(u,d){return{type:n.SUBMISSION_SAVE,name:u}},s=function(u,d,f){return{type:n.SUBMISSION_SUCCESS,name:u,submission:d,url:f}},a=function(u,d){return{type:n.SUBMISSION_FAILURE,name:u,error:d}},l=ii.resetSubmission=function(u){return{type:n.SUBMISSION_RESET,name:u}};return ii.getSubmission=function(u,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};return function(p,m){if(m().id!==d){var g=t.Formio.getProjectUrl()+"/"+(f?"form/"+f:u)+"/submission/"+d,v=new t.Formio(g);p(i(u,d,f,g)),v.loadSubmission().then(function(y){p(s(u,y)),h(null,y)}).catch(function(y){p(a(u,y)),h(y)})}}},ii.saveSubmission=function(u,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};return function(p){p(o(u));var m=d._id,g=new t.Formio(t.Formio.getProjectUrl()+"/"+(f?"form/"+f:u)+"/submission"+(m?"/"+m:""));g.saveSubmission(d).then(function(v){var y=t.Formio.getProjectUrl()+"/"+(f?"form/"+f:u)+"/submission/"+v._id;p(s(u,v,y)),h(null,v)}).catch(function(v){p(a(u,v)),h(v)})}},ii.deleteSubmission=function(u,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};return function(p,m){var g=new t.Formio(t.Formio.getProjectUrl()+"/"+(f?"form/"+f:u)+"/submission/"+d);return g.deleteSubmission().then(function(){p(l(u)),h(null,!0)}).catch(function(v){p(a(u,v)),h(v)})}},ii}var Z1={},$B;function sPe(){if($B)return Z1;$B=1,Object.defineProperty(Z1,"__esModule",{value:!0});var t=Object.assign||function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o};Z1.submission=i;var e=bk(),n=r(e);function r(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);return s.default=o,s}function i(o){var s={formId:"",id:"",isActive:!1,lastUpdated:0,submission:{},url:"",error:""};return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,l=arguments[1];if(l.name!==o.name)return a;switch(l.type){case n.SUBMISSION_CLEAR_ERROR:return t({},a,{error:""});case n.SUBMISSION_REQUEST:return t({},a,{formId:l.formId,id:l.id,url:l.url,submission:{},isActive:!0});case n.SUBMISSION_SAVE:return t({},a,{formId:l.formId,id:l.id,url:l.url||a.url,submission:{},isActive:!0});case n.SUBMISSION_SUCCESS:return t({},a,{id:l.submission._id,submission:l.submission,isActive:!1,error:""});case n.SUBMISSION_FAILURE:return t({},a,{isActive:!1,isInvalid:!0,error:l.error});case n.SUBMISSION_RESET:return s;default:return a}}}return Z1}var Fd={},NB;function aPe(){if(NB)return Fd;NB=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.selectSubmission=void 0;var t=Mc();return Fd.selectSubmission=function(n,r){return(0,t.selectRoot)(n,r).submission},Fd}var LB;function lPe(){return LB||(LB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=oPe();Object.keys(e).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})});var n=bk();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[o]}})});var r=sPe();Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return r[o]}})});var i=aPe();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})})}(j_)),j_}var B_={},_l={},xl={},jB;function _k(){return jB||(jB=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.SUBMISSIONS_RESET="SUBMISSIONS_RESET",xl.SUBMISSIONS_REQUEST="SUBMISSIONS_REQUEST",xl.SUBMISSIONS_SUCCESS="SUBMISSIONS_SUCCESS",xl.SUBMISSIONS_FAILURE="SUBMISSIONS_FAILURE"),xl}var BB;function cPe(){if(BB)return _l;BB=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.getSubmissions=_l.resetSubmissions=void 0;var t=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},e=ji,n=Mc(),r=_k(),i=o(r);function o(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d]);return u.default=c,u}_l.resetSubmissions=function(u){return{type:i.SUBMISSIONS_RESET,name:u}};var s=function(u,d,f,h){return{type:i.SUBMISSIONS_REQUEST,name:u,page:d,params:f,formId:h}},a=function(u,d){return{type:i.SUBMISSIONS_SUCCESS,name:u,submissions:d}},l=function(u,d){return{type:i.SUBMISSIONS_FAILURE,name:u,error:d}};return _l.getSubmissions=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments[3],p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){};return function(m,g){m(s(u,d,f,h));var v=(0,n.selectRoot)(u,g()),y=v.limit,_=v.query,b=v.select,x=v.sort,w=new e.Formio(e.Formio.getProjectUrl()+"/"+(h?"form/"+h:u)+"/submission"),E=t({},_,f);return y!==10?E.limit=y:delete E.limit,d!==1?E.skip=(d-1)*y:delete E.skip,b?E.select=b:delete E.select,x?E.sort=x:delete E.sort,w.loadSubmissions({params:E}).then(function(S){m(a(u,S)),p(null,S)}).catch(function(S){m(l(u,S)),p(S)})}},_l}var J1={},FB;function uPe(){if(FB)return J1;FB=1,Object.defineProperty(J1,"__esModule",{value:!0});var t=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])}return l};J1.submissions=a;var e=RZ(),n=s(e),r=_k(),i=o(r);function o(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u]);return c.default=l,c}function s(l){return l&&l.__esModule?l:{default:l}}function a(l){var c=l.name,u=l.limit,d=u===void 0?10:u,f=l.query,h=f===void 0?{}:f,p=l.select,m=p===void 0?"":p,g=l.sort,v=g===void 0?"":g,y={error:"",formId:"",isActive:!1,limit:d,pagination:{numPages:0,page:1,total:0},query:h,select:m,sort:v,submissions:[]};return function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,b=arguments[1];if(b.name!==c)return _;switch(b.type){case i.SUBMISSIONS_RESET:return y;case i.SUBMISSIONS_REQUEST:return t({},_,(0,n.default)(b.params,["limit","query","select","sort"]),{error:"",formId:b.formId,isActive:!0,pagination:t({},_.pagination,{page:b.page}),submissions:[]});case i.SUBMISSIONS_SUCCESS:{var x=b.submissions.serverCount;return t({},_,{isActive:!1,pagination:t({},_.pagination,{numPages:Math.ceil(x/_.limit),total:x}),submissions:b.submissions})}case i.SUBMISSIONS_FAILURE:return t({},_,{error:b.error,isActive:!1});default:return _}}}return J1}var zd={},zB;function dPe(){if(zB)return zd;zB=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.selectSubmissions=void 0;var t=Mc();return zd.selectSubmissions=function(n,r){return(0,t.selectRoot)(n,r).submissions},zd}var qB;function fPe(){return qB||(qB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=cPe();Object.keys(e).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})});var n=_k();Object.keys(n).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[o]}})});var r=uPe();Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return r[o]}})});var i=dPe();Object.keys(i).forEach(function(o){o==="default"||o==="__esModule"||Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})})}(B_)),B_}var VB;function hPe(){return VB||(VB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=MRe();Object.keys(e).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})});var n=jRe();Object.keys(n).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return n[a]}})});var r=iPe();Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return r[a]}})});var i=Mc();Object.keys(i).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return i[a]}})});var o=lPe();Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return o[a]}})});var s=fPe();Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})})}(g_)),g_}var HB;function pPe(){return HB||(HB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Templates=t.Utils=t.Formio=t.Components=t.WizardBuilder=t.Wizard=t.WebformBuilder=t.Webform=void 0;var e=ARe();Object.keys(e).forEach(function(d){d==="default"||d==="__esModule"||Object.defineProperty(t,d,{enumerable:!0,get:function(){return e[d]}})});var n=_y();Object.keys(n).forEach(function(d){d==="default"||d==="__esModule"||Object.defineProperty(t,d,{enumerable:!0,get:function(){return n[d]}})});var r=hPe();Object.keys(r).forEach(function(d){d==="default"||d==="__esModule"||Object.defineProperty(t,d,{enumerable:!0,get:function(){return r[d]}})});var i=vp();Object.keys(i).forEach(function(d){d==="default"||d==="__esModule"||Object.defineProperty(t,d,{enumerable:!0,get:function(){return i[d]}})});var o=pk();Object.keys(o).forEach(function(d){d==="default"||d==="__esModule"||Object.defineProperty(t,d,{enumerable:!0,get:function(){return o[d]}})});var s=ji;Object.defineProperty(t,"Components",{enumerable:!0,get:function(){return s.Components}}),Object.defineProperty(t,"Formio",{enumerable:!0,get:function(){return s.Formio}}),Object.defineProperty(t,"Utils",{enumerable:!0,get:function(){return s.Utils}}),Object.defineProperty(t,"Templates",{enumerable:!0,get:function(){return s.Templates}});var a=s.Formio.Webform,l=s.Formio.WebformBuilder,c=s.Formio.Wizard,u=s.Formio.WizardBuilder;t.Webform=a,t.WebformBuilder=l,t.Wizard=c,t.WizardBuilder=u}(vb)),vb}var mPe=pPe();function PZ(t,e){return function(){return t.apply(e,arguments)}}const{toString:gPe}=Object.prototype,{getPrototypeOf:xk}=Object,{iterator:xy,toStringTag:AZ}=Symbol,wy=(t=>e=>{const n=gPe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Eo=t=>(t=t.toLowerCase(),e=>wy(e)===t),Ey=t=>e=>typeof e===t,{isArray:Ju}=Array,ah=Ey("undefined");function vPe(t){return t!==null&&!ah(t)&&t.constructor!==null&&!ah(t.constructor)&&Xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TZ=Eo("ArrayBuffer");function yPe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TZ(t.buffer),e}const bPe=Ey("string"),Xr=Ey("function"),IZ=Ey("number"),Sy=t=>t!==null&&typeof t=="object",_Pe=t=>t===!0||t===!1,og=t=>{if(wy(t)!=="object")return!1;const e=xk(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(AZ in t)&&!(xy in t)},xPe=Eo("Date"),wPe=Eo("File"),EPe=Eo("Blob"),SPe=Eo("FileList"),CPe=t=>Sy(t)&&Xr(t.pipe),kPe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xr(t.append)&&((e=wy(t))==="formdata"||e==="object"&&Xr(t.toString)&&t.toString()==="[object FormData]"))},OPe=Eo("URLSearchParams"),[RPe,PPe,APe,TPe]=["ReadableStream","Request","Response","Headers"].map(Eo),IPe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ju(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function DZ(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MZ=t=>!ah(t)&&t!==Fl;function Y7(){const{caseless:t}=MZ(this)&&this||{},e={},n=(r,i)=>{const o=t&&DZ(e,i)||i;og(e[o])&&og(r)?e[o]=Y7(e[o],r):og(r)?e[o]=Y7({},r):Ju(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yp(arguments[r],n);return e}const DPe=(t,e,n,{allOwnKeys:r}={})=>(yp(e,(i,o)=>{n&&Xr(i)?t[o]=PZ(i,n):t[o]=i},{allOwnKeys:r}),t),MPe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$Pe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NPe=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&xk(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LPe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},jPe=t=>{if(!t)return null;if(Ju(t))return t;let e=t.length;if(!IZ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},BPe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&xk(Uint8Array)),FPe=(t,e)=>{const r=(t&&t[xy]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},zPe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qPe=Eo("HTMLFormElement"),VPe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),UB=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HPe=Eo("RegExp"),$Z=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yp(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},UPe=t=>{$Z(t,(e,n)=>{if(Xr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WPe=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ju(t)?r(t):r(String(t).split(e)),n},GPe=()=>{},KPe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XPe(t){return!!(t&&Xr(t.append)&&t[AZ]==="FormData"&&t[xy])}const YPe=t=>{const e=new Array(10),n=(r,i)=>{if(Sy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ju(r)?[]:{};return yp(r,(s,a)=>{const l=n(s,i+1);!ah(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},QPe=Eo("AsyncFunction"),ZPe=t=>t&&(Sy(t)||Xr(t))&&Xr(t.then)&&Xr(t.catch),NZ=((t,e)=>t?setImmediate:e?((n,r)=>(Fl.addEventListener("message",({source:i,data:o})=>{i===Fl&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xr(Fl.postMessage)),JPe=typeof queueMicrotask<"u"?queueMicrotask.bind(Fl):typeof process<"u"&&process.nextTick||NZ,eAe=t=>t!=null&&Xr(t[xy]),be={isArray:Ju,isArrayBuffer:TZ,isBuffer:vPe,isFormData:kPe,isArrayBufferView:yPe,isString:bPe,isNumber:IZ,isBoolean:_Pe,isObject:Sy,isPlainObject:og,isReadableStream:RPe,isRequest:PPe,isResponse:APe,isHeaders:TPe,isUndefined:ah,isDate:xPe,isFile:wPe,isBlob:EPe,isRegExp:HPe,isFunction:Xr,isStream:CPe,isURLSearchParams:OPe,isTypedArray:BPe,isFileList:SPe,forEach:yp,merge:Y7,extend:DPe,trim:IPe,stripBOM:MPe,inherits:$Pe,toFlatObject:NPe,kindOf:wy,kindOfTest:Eo,endsWith:LPe,toArray:jPe,forEachEntry:FPe,matchAll:zPe,isHTMLForm:qPe,hasOwnProperty:UB,hasOwnProp:UB,reduceDescriptors:$Z,freezeMethods:UPe,toObjectSet:WPe,toCamelCase:VPe,noop:GPe,toFiniteNumber:KPe,findKey:DZ,global:Fl,isContextDefined:MZ,isSpecCompliantForm:XPe,toJSONObject:YPe,isAsyncFn:QPe,isThenable:ZPe,setImmediate:NZ,asap:JPe,isIterable:eAe};function ot(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}be.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const LZ=ot.prototype,jZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jZ[t]={value:t}});Object.defineProperties(ot,jZ);Object.defineProperty(LZ,"isAxiosError",{value:!0});ot.from=(t,e,n,r,i,o)=>{const s=Object.create(LZ);return be.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ot.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const tAe=null;function Q7(t){return be.isPlainObject(t)||be.isArray(t)}function BZ(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function WB(t,e,n){return t?t.concat(e).map(function(i,o){return i=BZ(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function nAe(t){return be.isArray(t)&&!t.some(Q7)}const rAe=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function Cy(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!be.isUndefined(g[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(be.isDate(p))return p.toISOString();if(!l&&be.isBlob(p))throw new ot("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(p)||be.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,g){let v=p;if(p&&!g&&typeof p=="object"){if(be.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(be.isArray(p)&&nAe(p)||(be.isFileList(p)||be.endsWith(m,"[]"))&&(v=be.toArray(p)))return m=BZ(m),v.forEach(function(_,b){!(be.isUndefined(_)||_===null)&&e.append(s===!0?WB([m],b,o):s===null?m:m+"[]",c(_))}),!1}return Q7(p)?!0:(e.append(WB(g,m,o),c(p)),!1)}const d=[],f=Object.assign(rAe,{defaultVisitor:u,convertValue:c,isVisitable:Q7});function h(p,m){if(!be.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),be.forEach(p,function(v,y){(!(be.isUndefined(v)||v===null)&&i.call(e,v,be.isString(y)?y.trim():y,m,f))===!0&&h(v,m?m.concat(y):[y])}),d.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return h(t),e}function GB(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wk(t,e){this._pairs=[],t&&Cy(t,this,e)}const FZ=wk.prototype;FZ.append=function(e,n){this._pairs.push([e,n])};FZ.toString=function(e){const n=e?function(r){return e.call(this,r,GB)}:GB;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function iAe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zZ(t,e,n){if(!e)return t;const r=n&&n.encode||iAe;be.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=be.isURLSearchParams(e)?e.toString():new wk(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class KB{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oAe=typeof URLSearchParams<"u"?URLSearchParams:wk,sAe=typeof FormData<"u"?FormData:null,aAe=typeof Blob<"u"?Blob:null,lAe={isBrowser:!0,classes:{URLSearchParams:oAe,FormData:sAe,Blob:aAe},protocols:["http","https","file","blob","url","data"]},Ek=typeof window<"u"&&typeof document<"u",Z7=typeof navigator=="object"&&navigator||void 0,cAe=Ek&&(!Z7||["ReactNative","NativeScript","NS"].indexOf(Z7.product)<0),uAe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dAe=Ek&&window.location.href||"http://localhost",fAe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ek,hasStandardBrowserEnv:cAe,hasStandardBrowserWebWorkerEnv:uAe,navigator:Z7,origin:dAe},Symbol.toStringTag,{value:"Module"})),mr={...fAe,...lAe};function hAe(t,e){return Cy(t,new mr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return mr.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function pAe(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mAe(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function VZ(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&be.isArray(i)?i.length:s,l?(be.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!be.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&be.isArray(i[s])&&(i[s]=mAe(i[s])),!a)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(pAe(r),i,n,0)}),n}return null}function gAe(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bp={transitional:qZ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=be.isObject(e);if(o&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i?JSON.stringify(VZ(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hAe(e,this.formSerializer).toString();if((a=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cy(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),gAe(e)):e}],transformResponse:[function(e){const n=this.transitional||bp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?ot.from(a,ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mr.classes.FormData,Blob:mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{bp.headers[t]={}});const vAe=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yAe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&vAe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},XB=Symbol("internals");function qd(t){return t&&String(t).trim().toLowerCase()}function sg(t){return t===!1||t==null?t:be.isArray(t)?t.map(sg):String(t)}function bAe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const _Ae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function F_(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function xAe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function wAe(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Yr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=qd(l);if(!u)throw new Error("header name must be a non-empty string");const d=be.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=sg(a))}const s=(a,l)=>be.forEach(a,(c,u)=>o(c,u,l));if(be.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(be.isString(e)&&(e=e.trim())&&!_Ae(e))s(yAe(e),n);else if(be.isObject(e)&&be.isIterable(e)){let a={},l,c;for(const u of e){if(!be.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?be.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=qd(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return bAe(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qd(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||F_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=qd(s),s){const a=be.findKey(r,s);a&&(!n||F_(r,r[a],a,n))&&(delete r[a],i=!0)}}return be.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||F_(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,o)=>{const s=be.findKey(r,o);if(s){n[s]=sg(i),delete n[o];return}const a=e?xAe(o):String(o).trim();a!==o&&delete n[o],n[a]=sg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[XB]=this[XB]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=qd(s);r[a]||(wAe(i,s),r[a]=!0)}return be.isArray(e)?e.forEach(o):o(e),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Yr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(Yr);function z_(t,e){const n=this||bp,r=e||n,i=Yr.from(r.headers);let o=r.data;return be.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function HZ(t){return!!(t&&t.__CANCEL__)}function ed(t,e,n){ot.call(this,t??"canceled",ot.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(ed,ot,{__CANCEL__:!0});function UZ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function EAe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function SAe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function CAe(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const dv=(t,e,n=3)=>{let r=0;const i=SAe(50,250);return CAe(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},YB=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},QB=t=>(...e)=>be.asap(()=>t(...e)),kAe=mr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,mr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(mr.origin),mr.navigator&&/(msie|trident)/i.test(mr.navigator.userAgent)):()=>!0,OAe=mr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];be.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),be.isString(r)&&s.push("path="+r),be.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RAe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PAe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WZ(t,e,n){let r=!RAe(e);return t&&(r||n==!1)?PAe(t,e):e}const ZB=t=>t instanceof Yr?{...t}:t;function fc(t,e){e=e||{};const n={};function r(c,u,d,f){return be.isPlainObject(c)&&be.isPlainObject(u)?be.merge.call({caseless:f},c,u):be.isPlainObject(u)?be.merge({},u):be.isArray(u)?u.slice():u}function i(c,u,d,f){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!be.isUndefined(u))return r(void 0,u)}function s(c,u){if(be.isUndefined(u)){if(!be.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(ZB(c),ZB(u),d,!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);be.isUndefined(f)&&d!==a||(n[u]=f)}),n}const GZ=t=>{const e=fc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Yr.from(s),e.url=zZ(WZ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(be.isFormData(n)){if(mr.hasStandardBrowserEnv||mr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(mr.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(e)),r||r!==!1&&kAe(e.url))){const c=i&&o&&OAe.read(o);c&&s.set(i,c)}return e},AAe=typeof XMLHttpRequest<"u",TAe=AAe&&function(t){return new Promise(function(n,r){const i=GZ(t);let o=i.data;const s=Yr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function v(){if(!g)return;const _=Yr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:t,request:g};UZ(function(E){n(E),m()},function(E){r(E),m()},x),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new ot("Request aborted",ot.ECONNABORTED,t,g)),g=null)},g.onerror=function(){r(new ot("Network Error",ot.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||qZ;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),r(new ot(b,x.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,g)),g=null},o===void 0&&s.setContentType(null),"setRequestHeader"in g&&be.forEach(s.toJSON(),function(b,x){g.setRequestHeader(x,b)}),be.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),a&&a!=="json"&&(g.responseType=i.responseType),c&&([f,p]=dv(c,!0),g.addEventListener("progress",f)),l&&g.upload&&([d,h]=dv(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=_=>{g&&(r(!_||_.type?new ed(null,t,g):_),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=EAe(i.url);if(y&&mr.protocols.indexOf(y)===-1){r(new ot("Unsupported protocol "+y+":",ot.ERR_BAD_REQUEST,t));return}g.send(o||null)})},IAe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ot?u:new ed(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>be.asap(a),l}},DAe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MAe=async function*(t,e){for await(const n of $Ae(t))yield*DAe(n,e)},$Ae=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},JB=(t,e,n,r)=>{const i=MAe(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},ky=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KZ=ky&&typeof ReadableStream=="function",NAe=ky&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XZ=(t,...e)=>{try{return!!t(...e)}catch{return!1}},LAe=KZ&&XZ(()=>{let t=!1;const e=new Request(mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),eF=64*1024,J7=KZ&&XZ(()=>be.isReadableStream(new Response("").body)),fv={stream:J7&&(t=>t.body)};ky&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fv[e]&&(fv[e]=be.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ot(`Response type '${e}' is not supported`,ot.ERR_NOT_SUPPORT,r)})})})(new Response);const jAe=async t=>{if(t==null)return 0;if(be.isBlob(t))return t.size;if(be.isSpecCompliantForm(t))return(await new Request(mr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(be.isArrayBufferView(t)||be.isArrayBuffer(t))return t.byteLength;if(be.isURLSearchParams(t)&&(t=t+""),be.isString(t))return(await NAe(t)).byteLength},BAe=async(t,e)=>{const n=be.toFiniteNumber(t.getContentLength());return n??jAe(e)},FAe=ky&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=GZ(t);c=c?(c+"").toLowerCase():"text";let h=IAe([i,o&&o.toAbortSignal()],s),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&LAe&&n!=="get"&&n!=="head"&&(g=await BAe(u,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),w;if(be.isFormData(r)&&(w=x.headers.get("content-type"))&&u.setContentType(w),x.body){const[E,S]=YB(g,dv(QB(l)));r=JB(x.body,eF,E,S)}}be.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let y=await fetch(p);const _=J7&&(c==="stream"||c==="response");if(J7&&(a||_&&m)){const x={};["status","statusText","headers"].forEach(k=>{x[k]=y[k]});const w=be.toFiniteNumber(y.headers.get("content-length")),[E,S]=a&&YB(w,dv(QB(a),!0))||[];y=new Response(JB(y.body,eF,E,()=>{S&&S(),m&&m()}),x)}c=c||"text";let b=await fv[be.findKey(fv,c)||"text"](y,t);return!_&&m&&m(),await new Promise((x,w)=>{UZ(x,w,{data:b,headers:Yr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,t,p),{cause:v.cause||v}):ot.from(v,v&&v.code,t,p)}}),eE={http:tAe,xhr:TAe,fetch:FAe};be.forEach(eE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tF=t=>`- ${t}`,zAe=t=>be.isFunction(t)||t===null||t===!1,YZ={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!zAe(n)&&(r=eE[(s=String(n)).toLowerCase()],r===void 0))throw new ot(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(tF).join(`
`):" "+tF(o[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:eE};function q_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ed(null,t)}function nF(t){return q_(t),t.headers=Yr.from(t.headers),t.data=z_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),YZ.getAdapter(t.adapter||bp.adapter)(t).then(function(r){return q_(t),r.data=z_.call(t,t.transformResponse,r),r.headers=Yr.from(r.headers),r},function(r){return HZ(r)||(q_(t),r&&r.response&&(r.response.data=z_.call(t,t.transformResponse,r.response),r.response.headers=Yr.from(r.response.headers))),Promise.reject(r)})}const QZ="1.9.0",Oy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Oy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const rF={};Oy.transitional=function(e,n,r){function i(o,s){return"[Axios v"+QZ+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new ot(i(s," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!rF[s]&&(rF[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Oy.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qAe(t,e,n){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new ot("option "+o+" must be "+l,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+o,ot.ERR_BAD_OPTION)}}const ag={assertOptions:qAe,validators:Oy},Ao=ag.validators;let Ql=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KB,response:new KB}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&ag.assertOptions(r,{silentJSONParsing:Ao.transitional(Ao.boolean),forcedJSONParsing:Ao.transitional(Ao.boolean),clarifyTimeoutError:Ao.transitional(Ao.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:ag.assertOptions(i,{encode:Ao.function,serialize:Ao.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ag.assertOptions(n,{baseUrl:Ao.spelling("baseURL"),withXsrfToken:Ao.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&be.merge(o.common,o[n.method]);o&&be.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=Yr.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[nF.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(g){m.call(this,g);break}}try{u=nF.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=fc(this.defaults,e);const n=WZ(e.baseURL,e.url,e.allowAbsoluteUrls);return zZ(n,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){Ql.prototype[e]=function(n,r){return this.request(fc(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(fc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ql.prototype[e]=n(),Ql.prototype[e+"Form"]=n(!0)});let VAe=class ZZ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new ed(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ZZ(function(i){e=i}),cancel:e}}};function HAe(t){return function(n){return t.apply(null,n)}}function UAe(t){return be.isObject(t)&&t.isAxiosError===!0}const tE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tE).forEach(([t,e])=>{tE[e]=t});function JZ(t){const e=new Ql(t),n=PZ(Ql.prototype.request,e);return be.extend(n,Ql.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return JZ(fc(t,i))},n}const Rn=JZ(bp);Rn.Axios=Ql;Rn.CanceledError=ed;Rn.CancelToken=VAe;Rn.isCancel=HZ;Rn.VERSION=QZ;Rn.toFormData=Cy;Rn.AxiosError=ot;Rn.Cancel=Rn.CanceledError;Rn.all=function(e){return Promise.all(e)};Rn.spread=HAe;Rn.isAxiosError=UAe;Rn.mergeConfig=fc;Rn.AxiosHeaders=Yr;Rn.formToJSON=t=>VZ(be.isHTMLForm(t)?new FormData(t):t);Rn.getAdapter=YZ.getAdapter;Rn.HttpStatusCode=tE;Rn.default=Rn;const{Axios:Yqe,AxiosError:Qqe,CanceledError:Zqe,isCancel:Jqe,CancelToken:eVe,VERSION:tVe,all:nVe,Cancel:rVe,isAxiosError:iVe,spread:oVe,toFormData:sVe,AxiosHeaders:aVe,HttpStatusCode:lVe,formToJSON:cVe,getAdapter:uVe,mergeConfig:dVe}=Rn,em=Rn.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),tm="igrp-wf-studio:form:",nm="igrp-wf-studio:decision:";class hv{static isLocalDevelopment(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.port==="5173"}static async loadForm(e){try{if(!e)throw new Error("FormKey inv√°lido");if(this.isLocalDevelopment()){const n=localStorage.getItem(tm+e);if(n)return JSON.parse(n)}try{const n=await em.get(`/forms/${encodeURIComponent(e)}`);if(n.status===200&&n.data)return n.data}catch(n){if(!this.isLocalDevelopment())throw n}return this.createEmptyForm(e)}catch(n){return console.error("Erro ao carregar formul√°rio:",n),this.createEmptyForm(e)}}static async saveForm(e,n){try{if(!e)throw new Error("FormKey inv√°lido");if(n.id||(n.id=e.split("/").pop()?.replace(".json","")||"form"),this.isLocalDevelopment())return localStorage.setItem(tm+e,JSON.stringify(n)),console.log(`Formul√°rio ${e} salvo localmente.`),e;try{return await em.post(`/forms/${encodeURIComponent(e)}`,n),e}catch(r){if(this.isLocalDevelopment())return localStorage.setItem(tm+e,JSON.stringify(n)),console.log(`Formul√°rio ${e} salvo localmente ap√≥s falha no backend.`),e;throw r}}catch(r){if(console.error("Erro ao salvar formul√°rio:",r),this.isLocalDevelopment())try{return localStorage.setItem(tm+e,JSON.stringify(n)),console.log(`Formul√°rio ${e} salvo localmente ap√≥s erro.`),e}catch(i){console.error("Erro ao salvar formul√°rio localmente:",i)}throw r}}static async loadDecision(e){try{if(!e)throw new Error("DecisionTable inv√°lido");if(this.isLocalDevelopment()){const n=localStorage.getItem(nm+e);if(n)return n}try{const n=await em.get(`/decisions/${encodeURIComponent(e)}`);if(n.status===200&&n.data)return n.data}catch(n){if(!this.isLocalDevelopment())throw n}return this.createEmptyDecision(e)}catch(n){return console.error("Erro ao carregar tabela de decis√£o:",n),this.createEmptyDecision(e)}}static async saveDecision(e,n){try{if(!e)throw new Error("DecisionTable inv√°lido");if(this.isLocalDevelopment())return localStorage.setItem(nm+e,n),console.log(`Tabela de decis√£o ${e} salva localmente.`),e;try{return await em.post(`/decisions/${encodeURIComponent(e)}`,{xml:n}),e}catch(r){if(this.isLocalDevelopment())return localStorage.setItem(nm+e,n),console.log(`Tabela de decis√£o ${e} salva localmente ap√≥s falha no backend.`),e;throw r}}catch(r){if(console.error("Erro ao salvar tabela de decis√£o:",r),this.isLocalDevelopment())try{return localStorage.setItem(nm+e,n),console.log(`Tabela de decis√£o ${e} salva localmente ap√≥s erro.`),e}catch(i){console.error("Erro ao salvar tabela de decis√£o localmente:",i)}throw r}}static createEmptyForm(e){return{id:e.split("/").pop()?.replace(".json","")||"form",name:"Novo Formul√°rio",display:"form",components:[]}}static createEmptyDecision(e){const n=e.split("/").pop()?.replace(".dmn","")||"decision";return`<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" id="definitions_${n}" name="Decision" namespace="http://camunda.org/schema/1.0/dmn">
  <decision id="${n}" name="Decision">
    <decisionTable id="decisionTable_${n}">
      <input id="input1" label="Input 1">
        <inputExpression id="inputExpression1" typeRef="string">
          <text>input1</text>
        </inputExpression>
      </input>
      <output id="output1" label="Output 1" name="output1" typeRef="string" />
      <rule id="rule1">
        <inputEntry id="inputEntry1">
          <text>"value"</text>
        </inputEntry>
        <outputEntry id="outputEntry1">
          <text>"result"</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
</definitions>`}}const WAe=Bt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,GAe=Bt.div`
  background-color: white;
  border-radius: 4px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  width: 90%;  /* Aumentado de 80% para 90% */
  max-width: 1200px; /* Aumentado de 900px para 1200px */
  height: 90vh; /* Definido altura fixa para ocupar quase toda a tela */
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,KAe=Bt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid #e0e0e0;
`,XAe=Bt.h3`
  margin: 0;
  font-size: 18px;
  font-weight: 500;
`,YAe=Bt.div`
  padding: 16px;
  overflow-y: auto;
  flex: 1;
`,QAe=Bt.div`
  display: flex;
  justify-content: flex-end;
  padding: 16px;
  border-top: 1px solid #e0e0e0;
  gap: 8px;
`,iF=Bt.button`
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  border: 1px solid ${t=>t.primary?"#2196f3":"#ddd"};
  background-color: ${t=>t.primary?"#2196f3":"white"};
  color: ${t=>t.primary?"white":"#333"};
  
  &:hover {
    background-color: ${t=>t.primary?"#1976d2":"#f5f5f5"};
  }
`,ZAe=Bt.button`
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: #666;
  
  &:hover {
    color: #333;
  }
`,JAe=Bt.div`
  display: flex;
  border-bottom: 1px solid #e0e0e0;
  margin-bottom: 16px;
`,oF=Bt.button`
  padding: 8px 16px;
  background: none;
  border: none;
  border-bottom: 2px solid ${t=>t.active?"#2196f3":"transparent"};
  color: ${t=>t.active?"#2196f3":"#333"};
  font-weight: ${t=>t.active?"500":"normal"};
  cursor: pointer;
  
  &:hover {
    background-color: #f5f5f5;
  }
`,eTe=Bt.div`
  width: 100%;
  height: 600px; /* Aumentado para dar mais espa√ßo ao editor */
  border: 1px solid #ddd;
  border-radius: 4px;
  overflow: auto;
`,tTe=({formKey:t,onSave:e,onClose:n})=>{const[r,i]=Ee(null),[o,s]=Ee(!0),[a,l]=Ee("visual"),c=on(null),u=on(null);bt(()=>{(async()=>{s(!0);try{const m=await hv.loadForm(t);i(m)}catch(m){console.error("Erro ao carregar formul√°rio:",m),i({display:"form",components:[]})}finally{s(!1)}})()},[t]),bt(()=>{c.current&&r&&a==="json"&&(c.current.value=JSON.stringify(r,null,2))},[r,a]);const d=p=>{i(p)},f=async()=>{try{let p=r;if(a==="visual"&&u.current)try{p=r}catch(g){console.error("Erro ao obter schema do form builder:",g),alert("Erro ao obter schema do formul√°rio. Por favor, tente novamente.");return}if(a==="json"&&c.current)try{p=JSON.parse(c.current.value)}catch(g){console.error("JSON inv√°lido:",g),alert("O JSON do formul√°rio √© inv√°lido. Por favor, corrija os erros antes de salvar.");return}p.id||(p.id=t.split("/").pop()?.replace(".json","")||"form"),p.name||(p.name="Formul√°rio "+p.id);const m=await hv.saveForm(t,p);e(m),n()}catch(p){console.error("Erro ao salvar formul√°rio:",p),alert("Erro ao salvar formul√°rio. Verifique o console para mais detalhes.")}},h={noDefaultSubmitButton:!0,builder:{basic:{components:{textfield:!0,textarea:!0,number:!0,checkbox:!0,selectboxes:!0,select:!0,radio:!0,button:!0,email:!0,url:!0,phoneNumber:!0,datetime:!0,day:!0,time:!0,currency:!0,survey:!0,signature:!0,htmlelement:!0,content:!0,columns:!0,fieldset:!0,panel:!0,table:!0,tabs:!0,well:!0}},advanced:!1,data:!1,layout:{components:{columns:!0,fieldset:!0,panel:!0,table:!0,tabs:!0,well:!0}},premium:!1}};return P.jsx(WAe,{children:P.jsxs(GAe,{children:[P.jsxs(KAe,{children:[P.jsxs(XAe,{children:["Editor de Formul√°rio - ",t]}),P.jsx(ZAe,{onClick:n,children:"√ó"})]}),P.jsx(YAe,{children:o?P.jsx("div",{children:"Carregando formul√°rio..."}):P.jsxs(P.Fragment,{children:[P.jsxs(JAe,{children:[P.jsx(oF,{active:a==="visual",onClick:()=>l("visual"),children:"Editor Visual"}),P.jsx(oF,{active:a==="json",onClick:()=>l("json"),children:"Editor JSON"})]}),a==="visual"?P.jsx(eTe,{children:r&&P.jsx(mPe.FormBuilder,{ref:u,form:r,onChange:d,options:h})}):P.jsx("div",{children:P.jsx("textarea",{ref:c,style:{width:"100%",height:"600px",fontFamily:"monospace",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},defaultValue:JSON.stringify(r,null,2)})})]})}),P.jsxs(QAe,{children:[P.jsx(iF,{onClick:n,children:"Cancelar"}),P.jsx(iF,{primary:!0,onClick:f,children:"Salvar"})]})]})})},nTe=t=>{const{formKey:e,onSave:n}=t,r=document.createElement("div");r.id="form-editor-modal-root",document.body.appendChild(r);const i=()=>{Tf.unmountComponentAtNode(r)&&r.parentNode&&r.parentNode.removeChild(r)};Tf.render(P.jsx(tTe,{formKey:e,onSave:n,onClose:i}),r)};var rTe=Object.prototype.toString;function iTe(t){return rTe.call(t)==="[object String]"}function nE(){return nE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function eJ(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return nE.apply(void 0,[t].concat(n))}var Sk=Object.prototype.toString,oTe=Object.prototype.hasOwnProperty;function sTe(t){return t===void 0}function aTe(t){return Sk.call(t)==="[object Array]"}function lTe(t){return Sk.call(t)==="[object Object]"}function tJ(t){return Sk.call(t)==="[object String]"}function cTe(t,e){return oTe.call(t,e)}function ho(t,e){var n,r;if(!sTe(t)){var i=aTe(t)?dTe:uTe;for(var o in t)if(cTe(t,o)&&(n=t[o],r=e(n,i(o)),r===!1))return n}}function uTe(t){return t}function dTe(t){return Number(t)}function cu(t,e){return t.bind(e)}function rE(){return rE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function zl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rE.apply(void 0,[t].concat(n))}function fTe(t,e){var n={},r=Object(t);return ho(e,function(i){i in r&&(n[i]=t[i])}),n}function Ck(){}Ck.prototype.get=function(t){return this.$model.properties.get(this,t)};Ck.prototype.set=function(t,e){this.$model.properties.set(this,t,e)};function nJ(t,e){this.model=t,this.properties=e}nJ.prototype.createType=function(t){var e=this.model,n=this.properties,r=Object.create(Ck.prototype);ho(t.properties,function(s){!s.isMany&&s.default!==void 0&&(r[s.name]=s.default)}),n.defineModel(r,e),n.defineDescriptor(r,t);var i=t.ns.name;function o(s){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),ho(s,cu(function(a,l){this.set(l,a)},this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,e),n.defineDescriptor(o,t),o};var hTe={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},rJ={String:function(t){return t},Boolean:function(t){return t==="true"},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function kk(t,e){var n=rJ[t];return n?n(e):e}function iE(t){return!!hTe[t]}function iJ(t){return!!rJ[t]}function Pr(t,e){var n=t.split(/:/),r,i;if(n.length===1)r=t,i=e;else if(n.length===2)r=n[1],i=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+t);return t=(i?i+":":"")+r,{name:t,prefix:i,localName:r}}function Xi(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}Xi.prototype.build=function(){return fTe(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};Xi.prototype.addProperty=function(t,e,n){typeof e=="boolean"&&(n=e,e=void 0),this.addNamedProperty(t,n!==!1);var r=this.properties;e!==void 0?r.splice(e,0,t):r.push(t)};Xi.prototype.replaceProperty=function(t,e,n){var r=t.ns,i=this.properties,o=this.propertiesByName,s=t.name!==e.name;if(t.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(e,!1)}if(t.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(e,!1)}var a=i.indexOf(t);if(a===-1)throw new Error("property <"+r.name+"> not found in property list");i.splice(a,1),this.addProperty(e,n?void 0:a,s),o[r.name]=o[r.localName]=e};Xi.prototype.redefineProperty=function(t,e,n){var r=t.ns.prefix,i=e.split("#"),o=Pr(i[0],r),s=Pr(i[1],o.prefix).name,a=this.propertiesByName[s];if(a)this.replaceProperty(a,t,n);else throw new Error("refined property <"+s+"> not found");delete t.redefines};Xi.prototype.addNamedProperty=function(t,e){var n=t.ns,r=this.propertiesByName;e&&(this.assertNotDefined(t,n.name),this.assertNotDefined(t,n.localName)),r[n.name]=r[n.localName]=t};Xi.prototype.removeNamedProperty=function(t){var e=t.ns,n=this.propertiesByName;delete n[e.name],delete n[e.localName]};Xi.prototype.setBodyProperty=function(t,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t};Xi.prototype.setIdProperty=function(t,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t};Xi.prototype.assertNotDefined=function(t,e){var n=t.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")};Xi.prototype.hasProperty=function(t){return this.propertiesByName[t]};Xi.prototype.addTrait=function(t,e){var n=this.allTypesByName,r=this.allTypes,i=t.name;i in n||(ho(t.properties,cu(function(o){o=zl({},o,{name:o.ns.localName,inherited:e}),Object.defineProperty(o,"definedBy",{value:t});var s=o.replaces,a=o.redefines;s||a?this.redefineProperty(o,s||a,s):(o.isBody&&this.setBodyProperty(o),o.isId&&this.setIdProperty(o),this.addProperty(o))},this)),r.push(t),n[i]=t)};function ol(t,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,ho(t,cu(this.registerPackage,this))}ol.prototype.getPackage=function(t){return this.packageMap[t]};ol.prototype.getPackages=function(){return this.packages};ol.prototype.registerPackage=function(t){t=zl({},t);var e=this.packageMap;sF(e,t,"prefix"),sF(e,t,"uri"),ho(t.types,cu(function(n){this.registerType(n,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)};ol.prototype.registerType=function(t,e){t=zl({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:zl(t.meta||{})});var n=Pr(t.name,e.prefix),r=n.name,i={};ho(t.properties,cu(function(o){var s=Pr(o.name,n.prefix),a=s.name;iE(o.type)||(o.type=Pr(o.type,s.prefix).name),zl(o,{ns:s,name:a}),i[a]=o},this)),zl(t,{ns:n,name:r,propertiesByName:i}),ho(t.extends,cu(function(o){var s=this.typeMap[o];s.traits=s.traits||[],s.traits.push(r)},this)),this.definePackage(t,e),this.typeMap[r]=t};ol.prototype.mapTypes=function(t,e,n){var r=iE(t.name)?{name:t.name}:this.typeMap[t.name],i=this;function o(a){return s(a,!0)}function s(a,l){var c=Pr(a,iE(a)?"":t.prefix);i.mapTypes(c,e,l)}if(!r)throw new Error("unknown type <"+t.name+">");ho(r.superClass,n?o:s),e(r,!n),ho(r.traits,o)};ol.prototype.getEffectiveDescriptor=function(t){var e=Pr(t),n=new Xi(e);this.mapTypes(e,function(i,o){n.addTrait(i,o)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r};ol.prototype.definePackage=function(t,e){this.properties.define(t,"$pkg",{value:e})};function sF(t,e,n){var r=e[n];if(r in t)throw new Error("package with "+n+" <"+r+"> already defined")}function td(t){this.model=t}td.prototype.set=function(t,e,n){if(!tJ(e)||!e.length)throw new TypeError("property name must be a non-empty string");var r=this.model.getPropertyDescriptor(t,e),i=r&&r.name;pTe(n)?r?delete t[i]:delete t.$attrs[e]:r?i in t?t[i]=n:oJ(t,r,n):t.$attrs[e]=n};td.prototype.get=function(t,e){var n=this.model.getPropertyDescriptor(t,e);if(!n)return t.$attrs[e];var r=n.name;return!t[r]&&n.isMany&&oJ(t,n,[]),t[r]};td.prototype.define=function(t,e,n){if(!n.writable){var r=n.value;n=zl({},n,{get:function(){return r}}),delete n.value}Object.defineProperty(t,e,n)};td.prototype.defineDescriptor=function(t,e){this.define(t,"$descriptor",{value:e})};td.prototype.defineModel=function(t,e){this.define(t,"$model",{value:e})};function pTe(t){return typeof t>"u"}function oJ(t,e,n){Object.defineProperty(t,e.name,{enumerable:!e.isReference,writable:!0,value:n,configurable:!0})}function Yi(t){this.properties=new td(this),this.factory=new nJ(this,this.properties),this.registry=new ol(t,this.properties),this.typeCache={}}Yi.prototype.create=function(t,e){var n=this.getType(t);if(!n)throw new Error("unknown type <"+t+">");return new n(e)};Yi.prototype.getType=function(t){var e=this.typeCache,n=tJ(t)?t:t.ns.name,r=e[n];return r||(t=this.registry.getEffectiveDescriptor(n),r=e[n]=this.factory.createType(t)),r};Yi.prototype.createAny=function(t,e,n){var r=Pr(t),i={$type:t,$instanceOf:function(s){return s===this.$type}},o={name:t,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:e}};return this.properties.defineDescriptor(i,o),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),this.properties.define(i,"$instanceOf",{enumerable:!1,writable:!0}),ho(n,function(s,a){lTe(s)&&s.value!==void 0?i[s.name]=s.value:i[a]=s}),i};Yi.prototype.getPackage=function(t){return this.registry.getPackage(t)};Yi.prototype.getPackages=function(){return this.registry.getPackages()};Yi.prototype.getElementDescriptor=function(t){return t.$descriptor};Yi.prototype.hasType=function(t,e){e===void 0&&(e=t,t=this);var n=t.$model.getElementDescriptor(t);return e in n.allTypesByName};Yi.prototype.getPropertyDescriptor=function(t,e){return this.getElementDescriptor(t).propertiesByName[e]};Yi.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var Ok=Object.prototype.toString,mTe=Object.prototype.hasOwnProperty;function gTe(t){return t===void 0}function sJ(t){return Ok.call(t)==="[object Array]"}function vTe(t){var e=Ok.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function Ry(t){return Ok.call(t)==="[object String]"}function aJ(t,e){return mTe.call(t,e)}function aF(t,e){e=lJ(e);var n;return sr(t,function(r,i){if(e(r,i))return n=r,!1}),n}function yTe(t,e){e=lJ(e);var n=sJ(t)?-1:void 0;return sr(t,function(r,i){if(e(r,i))return n=i,!1}),n}function Rk(t,e){var n=[];return sr(t,function(r,i){e(r,i)&&n.push(r)}),n}function sr(t,e){var n,r;if(!gTe(t)){var i=sJ(t)?_Te:bTe;for(var o in t)if(aJ(t,o)&&(n=t[o],r=e(n,i(o)),r===!1))return n}}function lJ(t){return vTe(t)?t:function(e){return e===t}}function bTe(t){return t}function _Te(t){return Number(t)}function oE(){return oE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function po(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return oE.apply(void 0,[t].concat(n))}var lF=String.fromCharCode,xTe=Object.prototype.hasOwnProperty,wTe=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,Rf={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Rf).forEach(function(t){Rf[t.toUpperCase()]=Rf[t]});function ETe(t,e,n,r){return r?xTe.call(Rf,r)?Rf[r]:"&"+r+";":lF(e||parseInt(n,16))}function wl(t){return t.length>3&&t.indexOf("&")!==-1?t.replace(wTe,ETe):t}var STe="http://www.w3.org/2001/XMLSchema-instance",CTe="xsi",cF="xsi:type",uF="non-whitespace outside of root node";function r0(t){return new Error(t)}function dF(t){return"missing namespace for prefix <"+t+">"}function rm(t){return{get:t,enumerable:!0}}function kTe(t){var e={},n;for(n in t)e[n]=t[n];return e}function sE(t){return t+"$uri"}function OTe(t){var e={},n,r;for(n in t)r=t[n],e[r]=r,e[sE(r)]=n;return e}function fF(){return{line:0,column:0}}function RTe(t){throw t}function cJ(t){if(!this)return new cJ(t);var e=t&&t.proxy,n,r,i,o,s=RTe,a,l,c,u,d=fF,f=!1,h=!1,p=null,m=!1,g;function v(b){b instanceof Error||(b=r0(b)),p=b,s(b,d)}function y(b){a&&(b instanceof Error||(b=r0(b)),a(b,d))}this.on=function(b,x){if(typeof x!="function")throw r0("required args <name, cb>");switch(b){case"openTag":r=x;break;case"text":n=x;break;case"closeTag":i=x;break;case"error":s=x;break;case"warn":a=x;break;case"cdata":o=x;break;case"attention":u=x;break;case"question":c=x;break;case"comment":l=x;break;default:throw r0("unsupported event: "+b)}return this},this.ns=function(b){if(typeof b>"u"&&(b={}),typeof b!="object")throw r0("required args <nsMap={}>");var x={},w;for(w in b)x[w]=b[w];return x[STe]=CTe,h=!0,g=x,this},this.parse=function(b){if(typeof b!="string")throw r0("required args <xml=string>");return p=null,_(b),d=fF,m=!1,p},this.stop=function(){m=!0};function _(b){var x=h?[]:null,w=h?OTe(g):null,E,S=[],k=0,I=!1,M=!1,R=0,D=0,C,V,J,Y,j,B,G,z,N,F="",W=0,X;function oe(){if(X!==null)return X;var O,T,K,Q=h&&w.xmlns,ae=h&&f?[]:null,ue=W,A=F,ie=A.length,de,H,q,Z,pe,se={},te={},he,le,fe;e:for(;ue<ie;ue++)if(he=!1,le=A.charCodeAt(ue),!(le===32||le<14&&le>8)){for((le<65||le>122||le>90&&le<97)&&le!==95&&le!==58&&(y("illegal first char attribute name"),he=!0),fe=ue+1;fe<ie;fe++)if(le=A.charCodeAt(fe),!(le>96&&le<123||le>64&&le<91||le>47&&le<59||le===46||le===45||le===95)){if(le===32||le<14&&le>8){y("missing attribute value"),ue=fe;continue e}if(le===61)break;y("illegal attribute name char"),he=!0}if(pe=A.substring(ue,fe),pe==="xmlns:xmlns"&&(y("illegal declaration of xmlns"),he=!0),le=A.charCodeAt(fe+1),le===34)fe=A.indexOf('"',ue=fe+2),fe===-1&&(fe=A.indexOf("'",ue),fe!==-1&&(y("attribute value quote missmatch"),he=!0));else if(le===39)fe=A.indexOf("'",ue=fe+2),fe===-1&&(fe=A.indexOf('"',ue),fe!==-1&&(y("attribute value quote missmatch"),he=!0));else for(y("missing attribute value quotes"),he=!0,fe=fe+1;fe<ie&&(le=A.charCodeAt(fe+1),!(le===32||le<14&&le>8));fe++);for(fe===-1&&(y("missing closing quotes"),fe=ie,he=!0),he||(q=A.substring(ue,fe)),ue=fe;fe+1<ie&&(le=A.charCodeAt(fe+1),!(le===32||le<14&&le>8));fe++)ue===fe&&(y("illegal character after attribute end"),he=!0);if(ue=fe+1,he)continue e;if(pe in te){y("attribute <"+pe+"> already defined");continue}if(te[pe]=!0,!h){se[pe]=q;continue}if(f){if(H=pe==="xmlns"?"xmlns":pe.charCodeAt(0)===120&&pe.substr(0,6)==="xmlns:"?pe.substr(6):null,H!==null){if(O=wl(q),T=sE(H),Z=g[O],!Z){if(H==="xmlns"||T in w&&w[T]!==O)do Z="ns"+k++;while(typeof w[Z]<"u");else Z=H;g[O]=Z}w[H]!==Z&&(de||(w=kTe(w),de=!0),w[H]=Z,H==="xmlns"&&(w[sE(Z)]=O,Q=Z),w[T]=O),se[pe]=q;continue}ae.push(pe,q);continue}if(le=pe.indexOf(":"),le===-1){se[pe]=q;continue}if(!(K=w[pe.substring(0,le)])){y(dF(pe.substring(0,le)));continue}pe=Q===K?pe.substr(le+1):K+pe.substr(le),pe===cF&&(le=q.indexOf(":"),le!==-1?(K=q.substring(0,le),K=w[K]||K,q=K+q.substring(le)):q=Q+":"+q),se[pe]=q}if(f)for(ue=0,ie=ae.length;ue<ie;ue++){if(pe=ae[ue++],q=ae[ue],le=pe.indexOf(":"),le!==-1){if(!(K=w[pe.substring(0,le)])){y(dF(pe.substring(0,le)));continue}pe=Q===K?pe.substr(le+1):K+pe.substr(le),pe===cF&&(le=q.indexOf(":"),le!==-1?(K=q.substring(0,le),K=w[K]||K,q=K+q.substring(le)):q=Q+":"+q)}se[pe]=q}return X=se}function L(){for(var O=/(\r\n|\r|\n)/g,T=0,K=0,Q=0,ae=D,ue,A;R>=Q&&(ue=O.exec(b),!(!ue||(ae=ue[0].length+ue.index,ae>R)));)T+=1,Q=ae;return R==-1?(K=ae,A=b.substring(D)):D===0?A=b.substring(D,R):(K=R-Q,A=D==-1?b.substring(R):b.substring(R,D+1)),{data:A,line:T,column:K}}for(d=L,e&&(N=Object.create({},{name:rm(function(){return G}),originalName:rm(function(){return z}),attrs:rm(oe),ns:rm(function(){return w})}));D!==-1;){if(b.charCodeAt(D)===60?R=D:R=b.indexOf("<",D),R===-1){if(S.length)return v("unexpected end of file");if(D===0)return v("missing start tag");D<b.length&&b.substring(D).trim()&&y(uF);return}if(D!==R){if(S.length){if(n&&(n(b.substring(D,R),wl,d),m))return}else if(b.substring(D,R).trim()&&(y(uF),m))return}if(Y=b.charCodeAt(R+1),Y===33){if(J=b.charCodeAt(R+2),J===91&&b.substr(R+3,6)==="CDATA["){if(D=b.indexOf("]]>",R),D===-1)return v("unclosed cdata");if(o&&(o(b.substring(R+9,D),d),m))return;D+=3;continue}if(J===45&&b.charCodeAt(R+3)===45){if(D=b.indexOf("-->",R),D===-1)return v("unclosed comment");if(l&&(l(b.substring(R+4,D),wl,d),m))return;D+=3;continue}}if(Y===63){if(D=b.indexOf("?>",R),D===-1)return v("unclosed question");if(c&&(c(b.substring(R,D+2),d),m))return;D+=2;continue}for(C=R+1;;C++){if(j=b.charCodeAt(C),isNaN(j))return D=-1,v("unclosed tag");if(j===34)J=b.indexOf('"',C+1),C=J!==-1?J:C;else if(j===39)J=b.indexOf("'",C+1),C=J!==-1?J:C;else if(j===62){D=C;break}}if(Y===33){if(u&&(u(b.substring(R,D+1),wl,d),m))return;D+=1;continue}if(X={},Y===47){if(I=!1,M=!0,!S.length)return v("missing open tag");if(C=G=S.pop(),J=R+2+C.length,b.substring(R+2,J)!==C)return v("closing tag mismatch");for(;J<D;J++)if(Y=b.charCodeAt(J),!(Y===32||Y>8&&Y<14))return v("close tag")}else{if(b.charCodeAt(D-1)===47?(C=G=b.substring(R+1,D-1),I=!0,M=!0):(C=G=b.substring(R+1,D),I=!0,M=!1),!(Y>96&&Y<123||Y>64&&Y<91||Y===95||Y===58))return v("illegal first char nodeName");for(J=1,V=C.length;J<V;J++)if(Y=C.charCodeAt(J),!(Y>96&&Y<123||Y>64&&Y<91||Y>47&&Y<59||Y===45||Y===95||Y==46)){if(Y===32||Y<14&&Y>8){G=C.substring(0,J),X=null;break}return v("invalid nodeName")}M||S.push(G)}if(h){if(E=w,I&&(M||x.push(E),X===null&&(f=C.indexOf("xmlns",J)!==-1)&&(W=J,F=C,oe(),f=!1)),z=G,Y=G.indexOf(":"),Y!==-1){if(B=w[G.substring(0,Y)],!B)return v("missing namespace on <"+z+">");G=G.substr(Y+1)}else B=w.xmlns;B&&(G=B+":"+G)}if(I&&(W=J,F=C,r&&(e?r(N,wl,M,d):r(G,oe,wl,M,d),m)))return;if(M){if(i&&(i(e?N:G,wl,I,d),m))return;h&&(I?w=E:w=x.pop())}D+=1}}}function uJ(t){return t.xml&&t.xml.tagAlias==="lowerCase"}var PTe={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Py="xsi:type";function dJ(t){return t.xml&&t.xml.serialize}function fJ(t){return dJ(t)===Py}function ATe(t){return dJ(t)==="property"}function TTe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function hJ(t,e){return uJ(e)?t.prefix+":"+TTe(t.localName):t.name}function ITe(t,e){var n=t.name,r=t.localName,i=e.xml&&e.xml.typePrefix;return i&&r.indexOf(i)===0?t.prefix+":"+r.slice(i.length):n}function DTe(t,e){var n=Pr(t),r=e.getPackage(n.prefix);return ITe(n,r)}function La(t){return new Error(t)}function Is(t){return t.$descriptor}function MTe(t){po(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw La("expected element");var n=this.elementsById,r=Is(e),i=r.idProperty,o;if(i&&(o=e.get(i.name),o)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(o))throw new Error("illegal ID <"+o+">");if(n[o])throw La("duplicate ID <"+o+">");n[o]=e}},this.addWarning=function(e){this.warnings.push(e)}}function _p(){}_p.prototype.handleEnd=function(){};_p.prototype.handleText=function(){};_p.prototype.handleNode=function(){};function Pk(){}Pk.prototype=Object.create(_p.prototype);Pk.prototype.handleNode=function(){return this};function nd(){}nd.prototype=Object.create(_p.prototype);nd.prototype.handleText=function(t){this.body=(this.body||"")+t};function xp(t,e){this.property=t,this.context=e}xp.prototype=Object.create(nd.prototype);xp.prototype.handleNode=function(t){if(this.element)throw La("expected no sub nodes");return this.element=this.createReference(t),this};xp.prototype.handleEnd=function(){this.element.id=this.body};xp.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}};function Ak(t,e){this.element=e,this.propertyDesc=t}Ak.prototype=Object.create(nd.prototype);Ak.prototype.handleEnd=function(){var t=this.body||"",e=this.element,n=this.propertyDesc;t=kk(n.type,t),n.isMany?e.get(n.name).push(t):e.set(n.name,t)};function Ay(){}Ay.prototype=Object.create(nd.prototype);Ay.prototype.handleNode=function(t){var e=this,n=this.element;return n?e=this.handleChild(t):(n=this.element=this.createElement(t),this.context.addElement(n)),e};function xr(t,e,n){this.model=t,this.type=t.getType(e),this.context=n}xr.prototype=Object.create(Ay.prototype);xr.prototype.addReference=function(t){this.context.addReference(t)};xr.prototype.handleText=function(t){var e=this.element,n=Is(e),r=n.bodyProperty;if(!r)throw La("unexpected body text <"+t+">");nd.prototype.handleText.call(this,t)};xr.prototype.handleEnd=function(){var t=this.body,e=this.element,n=Is(e),r=n.bodyProperty;r&&t!==void 0&&(t=kk(r.type,t),e.set(r.name,t))};xr.prototype.createElement=function(t){var e=t.attributes,n=this.type,r=Is(n),i=this.context,o=new n({}),s=this.model,a;return sr(e,function(l,c){var u=r.propertiesByName[c],d;u&&u.isReference?u.isMany?(d=l.split(" "),sr(d,function(f){i.addReference({element:o,property:u.ns.name,id:f})})):i.addReference({element:o,property:u.ns.name,id:l}):(u?l=kk(u.type,l):c!=="xmlns"&&(a=Pr(c,r.ns.prefix),s.getPackage(a.prefix)&&i.addWarning({message:"unknown attribute <"+c+">",element:o,property:c,value:l})),o.set(c,l))}),o};xr.prototype.getPropertyForNode=function(t){var e=t.name,n=Pr(e),r=this.type,i=this.model,o=Is(r),s=n.name,a=o.propertiesByName[s],l,c;if(a&&!a.isAttr)return fJ(a)&&(l=t.attributes[Py],l)?(l=DTe(l,i),c=i.getType(l),po({},a,{effectiveType:Is(c).name})):a;var u=i.getPackage(n.prefix);if(u){if(l=hJ(n,u),c=i.getType(l),a=aF(o.properties,function(d){return!d.isVirtual&&!d.isReference&&!d.isAttribute&&c.hasType(d.type)}),a)return po({},a,{effectiveType:Is(c).name})}else if(a=aF(o.properties,function(d){return!d.isReference&&!d.isAttribute&&d.type==="Element"}),a)return a;throw La("unrecognized element <"+n.name+">")};xr.prototype.toString=function(){return"ElementDescriptor["+Is(this.type).name+"]"};xr.prototype.valueHandler=function(t,e){return new Ak(t,e)};xr.prototype.referenceHandler=function(t){return new xp(t,this.context)};xr.prototype.handler=function(t){return t==="Element"?new uu(this.model,t,this.context):new xr(this.model,t,this.context)};xr.prototype.handleChild=function(t){var e,n,r,i;if(e=this.getPropertyForNode(t),r=this.element,n=e.effectiveType||e.type,iJ(n))return this.valueHandler(e,r);e.isReference?i=this.referenceHandler(e).handleNode(t):i=this.handler(n).handleNode(t);var o=i.element;return o!==void 0&&(e.isMany?r.get(e.name).push(o):r.set(e.name,o),e.isReference?(po(o,{element:r}),this.context.addReference(o)):o.$parent=r),i};function Tk(t,e,n){xr.call(this,t,e,n)}Tk.prototype=Object.create(xr.prototype);Tk.prototype.createElement=function(t){var e=t.name,n=Pr(e),r=this.model,i=this.type,o=r.getPackage(n.prefix),s=o&&hJ(n,o)||e;if(!i.hasType(s))throw La("unexpected element <"+t.originalName+">");return xr.prototype.createElement.call(this,t)};function uu(t,e,n){this.model=t,this.context=n}uu.prototype=Object.create(Ay.prototype);uu.prototype.createElement=function(t){var e=t.name,n=Pr(e),r=n.prefix,i=t.ns[r+"$uri"],o=t.attributes;return this.model.createAny(e,i,o)};uu.prototype.handleChild=function(t){var e=new uu(this.model,"Element",this.context).handleNode(t),n=this.element,r=e.element,i;return r!==void 0&&(i=n.$children=n.$children||[],i.push(r),r.$parent=n),e};uu.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function Ik(t){t instanceof Yi&&(t={model:t}),po(this,{lax:!1},t)}Ik.prototype.fromXML=function(t,e,n){var r=e.rootHandler;e instanceof xr?(r=e,e={}):typeof e=="string"?(r=this.handler(e),e={}):typeof r=="string"&&(r=this.handler(r));var i=this.model,o=this.lax,s=new MTe(po({},e,{rootHandler:r})),a=new cJ({proxy:!0}),l=$Te();r.context=s,l.push(r);function c(x,w,E){var S=w(),k=S.line,I=S.column,M=S.data;M.charAt(0)==="<"&&M.indexOf(" ")!==-1&&(M=M.slice(0,M.indexOf(" "))+">");var R="unparsable content "+(M?M+" ":"")+`detected
	line: `+k+`
	column: `+I+`
	nested error: `+x.message;if(E)return s.addWarning({message:R,error:x}),!0;throw La(R)}function u(x,w){return c(x,w,!0)}function d(){var x=s.elementsById,w=s.references,E,S;for(E=0;S=w[E];E++){var k=S.element,I=x[S.id],M=Is(k).propertiesByName[S.property];if(I||s.addWarning({message:"unresolved reference <"+S.id+">",element:S.element,property:S.property,value:S.id}),M.isMany){var R=k.get(M.name),D=R.indexOf(S);D===-1&&(D=R.length),I?R[D]=I:R.splice(D,1)}else k.set(M.name,I)}}function f(){l.pop().handleEnd()}var h=/^<\?xml /i,p=/ encoding="([^"]+)"/i,m=/^utf-8$/i;function g(x){if(h.test(x)){var w=p.exec(x),E=w&&w[1];!E||m.test(E)||s.addWarning({message:"unsupported document encoding <"+E+">, falling back to UTF-8"})}}function v(x,w){var E=l.peek();try{l.push(E.handleNode(x))}catch(S){c(S,w,o)&&l.push(new Pk)}}function y(x,w){try{l.peek().handleText(x)}catch(E){u(E,w)}}function _(x,w){x.trim()&&y(x,w)}var b=i.getPackages().reduce(function(x,w){return x[w.uri]=w.prefix,x},{"http://www.w3.org/XML/1998/namespace":"xml"});return a.ns(b).on("openTag",function(x,w,E,S){var k=x.attrs||{},I=Object.keys(k).reduce(function(R,D){var C=w(k[D]);return R[D]=C,R},{}),M={name:x.name,originalName:x.originalName,attributes:I,ns:x.ns};v(M,S)}).on("question",g).on("closeTag",f).on("cdata",y).on("text",function(x,w,E){_(w(x),E)}).on("error",c).on("warn",u),new Promise(function(x,w){var E;try{a.parse(t),d()}catch(R){E=R}var S=r.element;!E&&!S&&(E=La("failed to parse document as <"+r.type.$descriptor.name+">"));var k=s.warnings,I=s.references,M=s.elementsById;return E?(E.warnings=k,w(E)):x({rootElement:S,elementsById:M,references:I,warnings:k})})};Ik.prototype.handler=function(t){return new Tk(this.model,t)};function $Te(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}var NTe=`<?xml version="1.0" encoding="UTF-8"?>
`,LTe=/<|>|'|"|&|\n\r|\n/g,pJ=/<|>|&/g;function jTe(t){var e={},n={},r={},i=[],o=[];this.byUri=function(s){return n[s]||t&&t.byUri(s)},this.add=function(s,a){n[s.uri]=s,a?i.push(s):o.push(s),this.mapPrefix(s.prefix,s.uri)},this.uriByPrefix=function(s){return e[s||"xmlns"]},this.mapPrefix=function(s,a){e[s||"xmlns"]=a},this.getNSKey=function(s){return s.prefix!==void 0?s.uri+"|"+s.prefix:s.uri},this.logUsed=function(s){var a=s.uri,l=this.getNSKey(s);r[l]=this.byUri(a),t&&t.logUsed(s)},this.getUsed=function(s){function a(u){var d=l.getNSKey(u);return r[d]}var l=this,c=[].concat(i,o);return c.filter(a)}}function BTe(t){return t.charAt(0).toLowerCase()+t.slice(1)}function FTe(t,e){return uJ(e)?BTe(t):t}function mJ(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function gJ(t){return Ry(t)?t:(t.prefix?t.prefix+":":"")+t.localName}function zTe(t){return t.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var n="xmlns"+(e.prefix?":"+e.prefix:"");return{name:n,value:e.uri}})}function qTe(t,e){return e.isGeneric?po({localName:e.ns.localName},t):po({localName:FTe(e.ns.localName,e.$pkg)},t)}function VTe(t,e){return po({localName:e.ns.localName},t)}function HTe(t){var e=t.$descriptor;return Rk(e.properties,function(n){var r=n.name;if(n.isVirtual||!aJ(t,r))return!1;var i=t[r];return i===n.default||i===null?!1:n.isMany?i.length:!0})}var UTe={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},WTe={"<":"lt",">":"gt","&":"amp"};function vJ(t,e,n){return t=Ry(t)?t:""+t,t.replace(e,function(r){return"&"+n[r]+";"})}function GTe(t){return vJ(t,LTe,UTe)}function KTe(t){return vJ(t,pJ,WTe)}function XTe(t){return Rk(t,function(e){return e.isAttr})}function YTe(t){return Rk(t,function(e){return!e.isAttr})}function Dk(t){this.tagName=t}Dk.prototype.build=function(t){return this.element=t,this};Dk.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function hc(){}hc.prototype.serializeValue=hc.prototype.serializeTo=function(t){t.append(this.escape?KTe(this.value):this.value)};hc.prototype.build=function(t,e){return this.value=e,t.type==="String"&&e.search(pJ)!==-1&&(this.escape=!0),this};function Mk(t){this.tagName=t}mJ(Mk,hc);Mk.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()};function Yt(t,e){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=e}Yt.prototype.build=function(t){this.element=t;var e=t.$descriptor,n=this.propertyDescriptor,r,i,o=e.isGeneric;return o?r=this.parseGeneric(t):r=this.parseNsAttributes(t),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),o||(i=HTe(t),this.parseAttributes(XTe(i)),this.parseContainments(YTe(i))),this.parseGenericAttributes(t,r),this};Yt.prototype.nsTagName=function(t){var e=this.logNamespaceUsed(t.ns);return qTe(e,t)};Yt.prototype.nsPropertyTagName=function(t){var e=this.logNamespaceUsed(t.ns);return VTe(e,t)};Yt.prototype.isLocalNs=function(t){return t.uri===this.ns.uri};Yt.prototype.nsAttributeName=function(t){var e;if(Ry(t)?e=Pr(t):e=t.ns,t.inherited)return{localName:e.localName};var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:e.localName}:po({localName:e.localName},n)};Yt.prototype.parseGeneric=function(t){var e=this,n=this.body,r=[];return sr(t,function(i,o){var s;o==="$body"?n.push(new hc().build({type:"String"},i)):o==="$children"?sr(i,function(a){n.push(new Yt(e).build(a))}):o.indexOf("$")!==0&&(s=e.parseNsAttribute(t,o,i),s&&r.push({name:o,value:i}))}),r};Yt.prototype.parseNsAttribute=function(t,e,n){var r=t.$model,i=Pr(e),o;if(i.prefix==="xmlns"&&(o={prefix:i.localName,uri:n}),!i.prefix&&i.localName==="xmlns"&&(o={uri:n}),!o)return{name:e,value:n};if(r&&r.getPackage(n))this.logNamespace(o,!0,!0);else{var s=this.logNamespaceUsed(o,!0);this.getNamespaces().logUsed(s)}};Yt.prototype.parseNsAttributes=function(t,e){var n=this,r=t.$attrs,i=[];return sr(r,function(o,s){var a=n.parseNsAttribute(t,s,o);a&&i.push(a)}),i};Yt.prototype.parseGenericAttributes=function(t,e){var n=this;sr(e,function(r){if(r.name!==Py)try{n.addAttribute(n.nsAttributeName(r.name),r.value)}catch(i){console.warn("missing namespace information for ",r.name,"=",r.value,"on",t,i)}})};Yt.prototype.parseContainments=function(t){var e=this,n=this.body,r=this.element;sr(t,function(i){var o=r.get(i.name),s=i.isReference,a=i.isMany;if(a||(o=[o]),i.isBody)n.push(new hc().build(i,o[0]));else if(iJ(i.type))sr(o,function(u){n.push(new Mk(e.addTagName(e.nsPropertyTagName(i))).build(i,u))});else if(s)sr(o,function(u){n.push(new Dk(e.addTagName(e.nsPropertyTagName(i))).build(u))});else{var l=fJ(i),c=ATe(i);sr(o,function(u){var d;l?d=new Ty(e,i):c?d=new Yt(e,i):d=new Yt(e),n.push(d.build(u))})}})};Yt.prototype.getNamespaces=function(t){var e=this.namespaces,n=this.parent,r;return e||(r=n&&n.getNamespaces(),t||!r?this.namespaces=e=new jTe(r):e=r),e};Yt.prototype.logNamespace=function(t,e,n){var r=this.getNamespaces(n),i=t.uri,o=t.prefix,s=r.byUri(i);return(!s||n)&&r.add(t,e),r.mapPrefix(o,i),t};Yt.prototype.logNamespaceUsed=function(t,e){var n=this.element,r=n.$model,i=this.getNamespaces(e),o=t.prefix,s=t.uri,a,l,c;if(!o&&!s)return{localName:t.localName};if(c=PTe[o]||r&&(r.getPackage(o)||{}).uri,s=s||c||i.uriByPrefix(o),!s)throw new Error("no namespace uri given for prefix <"+o+">");if(t=i.byUri(s),!t){for(a=o,l=1;i.uriByPrefix(a);)a=o+"_"+l++;t=this.logNamespace({prefix:a,uri:s},c===s)}return o&&i.mapPrefix(o,s),t};Yt.prototype.parseAttributes=function(t){var e=this,n=this.element;sr(t,function(r){var i=n.get(r.name);if(r.isReference)if(!r.isMany)i=i.id;else{var o=[];sr(i,function(s){o.push(s.id)}),i=o.join(" ")}e.addAttribute(e.nsAttributeName(r),i)})};Yt.prototype.addTagName=function(t){var e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),gJ(t)};Yt.prototype.addAttribute=function(t,e){var n=this.attrs;Ry(e)&&(e=GTe(e));var r=yTe(n,function(o){return o.name.localName===t.localName&&o.name.uri===t.uri&&o.name.prefix===t.prefix}),i={name:t,value:e};r!==-1?n.splice(r,1,i):n.push(i)};Yt.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=zTe(n).concat(e)),sr(e,function(r){t.append(" ").append(gJ(r.name)).append('="').append(r.value).append('"')})};Yt.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==hc;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),sr(this.body,function(r){r.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()};function Ty(t,e){Yt.call(this,t,e)}mJ(Ty,Yt);Ty.prototype.parseNsAttributes=function(t){var e=Yt.prototype.parseNsAttributes.call(this,t),n=t.$descriptor;if(n.name===this.propertyDescriptor.type)return e;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=t.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Py),(r.prefix?r.prefix+":":"")+o+n.ns.localName),e};Ty.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri};function QTe(){this.value="",this.write=function(t){this.value+=t}}function ZTe(t,e){var n=[""];this.append=function(r){return t.write(r),this},this.appendNewLine=function(){return e&&t.write(`
`),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function JTe(t){t=po({format:!1,preamble:!0},t||{});function e(n,r){var i=r||new QTe,o=new ZTe(i,t.format);if(t.preamble&&o.append(NTe),new Yt().build(n).serializeTo(o),!r)return i.value}return{toXML:e}}function Iy(t,e){Yi.call(this,t,e)}Iy.prototype=Object.create(Yi.prototype);Iy.prototype.fromXML=function(t,e,n){iTe(e)||(n=e,e="dmn:Definitions");var r=new Ik(eJ({model:this,lax:!0},n)),i=r.handler(e);return r.fromXML(t,i)};Iy.prototype.toXML=function(t,e){var n=new JTe(e);return new Promise(function(r,i){try{var o=n.toXML(t);return r({xml:o})}catch(s){return i(s)}})};var eIe="DC",tIe="dc",nIe="http://www.omg.org/spec/DMN/20180521/DC/",rIe=[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],iIe=[],oIe=[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}],sIe={name:eIe,prefix:tIe,uri:nIe,types:rIe,associations:iIe,enumerations:oIe},aIe="DI",lIe="di",cIe="http://www.omg.org/spec/DMN/20180521/DI/",uIe=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],dIe=[],fIe=[],hIe={tagAlias:"lowerCase"},pIe={name:aIe,prefix:lIe,uri:cIe,types:uIe,associations:dIe,enumerations:fIe,xml:hIe},mIe="DMN",gIe="dmn",vIe="https://www.omg.org/spec/DMN/20191111/MODEL/",yIe=[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],bIe=[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],_Ie=[],xIe={tagAlias:"lowerCase"},wIe={name:mIe,prefix:gIe,uri:vIe,types:yIe,enumerations:bIe,associations:_Ie,xml:xIe},EIe="DMNDI",SIe="dmndi",CIe="https://www.omg.org/spec/DMN/20191111/DMNDI/",kIe=[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],OIe=[],RIe=[],PIe={name:EIe,prefix:SIe,uri:CIe,types:kIe,associations:OIe,enumerations:RIe},AIe="bpmn.io DI for DMN",TIe="http://bpmn.io/schema/dmn/biodi/2.0",IIe="biodi",DIe={tagAlias:"lowerCase"},MIe=[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}],$Ie={name:AIe,uri:TIe,prefix:IIe,xml:DIe,types:MIe},NIe={dc:sIe,di:pIe,dmn:wIe,dmndi:PIe,biodi:$Ie};function LIe(t,e){var n=eJ({},NIe,t);return new Iy(n,e)}function lg(t){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var e=arguments.length;if(e>=1&&Ct(arguments[e-1])){var n=arguments[e-1];console.warn(new Error("Passing callbacks to "+jIe(t.name)+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var r=Array.prototype.slice.call(arguments,0,-1);t.apply(this,r).then(function(i){var o=Object.keys(i)[0];return n(null,i[o])},function(i){return n(i,i.warnings)})}else return t.apply(this,arguments)}}function jIe(t){return t.replace("bound ","")}const BIe={width:"100%",height:"100%",position:"relative"};class FIe{constructor(e={}){ye(this,"_viewsChanged",()=>{this._emit("views.changed",{views:this._views,activeView:this._activeView})});this._eventBus=new ar,this._viewsChanged=_u(this._viewsChanged,0),this._views=[],this._viewers={},this.open=lg(this.open.bind(this)),this.importXML=lg(this.importXML.bind(this)),this.saveXML=lg(this.saveXML.bind(this)),this._init(e)}importXML(e,n){var r=this;return n=n||{open:!0},new Promise(function(o,s){var a=r._activeView;r._clear().then(()=>{e=r._emit("import.parse.start",{xml:e})||e;var l;r._moddle.fromXML(e,"dmn:Definitions").then(c=>{var u=c.rootElement,d=c.references,f=c.elementsById;if(l=c.warnings,u=r._emit("import.parse.complete",i({error:null,definitions:u,elementsById:f,references:d,warnings:l}))||u,r._setDefinitions(u),!n.open){r._emit("import.done",{error:null,warnings:l}),o({warnings:l});return}var h=r._getInitialView(r._views,a);if(!h){var p=new Error("no displayable contents");return r._emit("import.done",{error:p,warnings:l}),p.warnings=l,s(p)}r.open(h).then(m=>({warnings:m.warnings})).catch(m=>({error:m,warnings:m.warnings})).then(m=>{var g=[].concat(l,m.warnings);r._emit("import.done",{error:m.error,warnings:g}),m.error?(m.error.warnings=g,s(m.error)):o({warnings:g})})}).catch(c=>(l=c.warnings,c=zIe(c,e)||qIe(c)||c,r._emit("import.parse.complete",i({error:c,warnings:l})),r._emit("import.done",{error:c,warnings:l}),c.warnings=l,s(c)))}).catch(l=>(r._emit("import.done",{error:l,warnings:[]}),l.warnings=[],s(l)))});function i(o){var s=r._eventBus.createEvent(o);return Object.defineProperty(s,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:o.warnings,references:o.references,elementsById:o.elementsById}}}),s}}getDefinitions(){return this._definitions}getActiveView(){return this._activeView}getActiveViewer(){var e=this.getActiveView();return e&&this._getViewer(e)}getView(e){return this._views.filter(function(n){return n.element===e})[0]}getViews(){return this._views}saveXML(e){var n=this;e=e||{};var r=this._definitions;return new Promise(function(i,o){if(!r){o(new Error("no definitions loaded"));return}r=n._emit("saveXML.start",{definitions:r})||r,n._moddle.toXML(r,e).then(function(s){var a=s.xml;return a=n._emit("saveXML.serialized",{xml:a})||a,{xml:a}}).catch(s=>({error:s})).then(s=>{n._emit("saveXML.done",s),s.error?o(s.error):i({xml:s.xml})})})}on(...e){this._eventBus.on(...e)}off(...e){this._eventBus.off(...e)}once(...e){this._eventBus.once(...e)}attachTo(e){e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Ue(e)),e.appendChild(this._container),this._emit("attach",{})}detach(){this._emit("detach",{}),Gn(this._container)}destroy(){Object.keys(this._viewers).forEach(e=>{var n=this._viewers[e];mF(n,"destroy")}),Gn(this._container)}_init(e){this._options=e,this._moddle=this._createModdle(e),this._viewers={},this._views=[];const n=at('<div class="dmn-js-parent"></div>'),r=re({},BIe,e);re(n.style,{width:hF(r.width),height:hF(r.height),position:r.position}),this._container=n,e.container&&this.attachTo(e.container)}_clear(){return this._switchView(null)}open(e){return this._switchView(e)}_setDefinitions(e){this._definitions=e,this._updateViews()}_updateViews(){var e=this._definitions;if(!e){this._views=[],this._switchView(null);return}var n=this._getViewProviders(),r=[e,...e.drgElement||[]],i=this._views,o=[];for(var s of r){var a=Ge(n,function(h){return typeof h.opens=="string"?h.opens===s.$type:h.opens(s)});if(a){var l={element:s,id:s.id,name:s.name,type:a.id};o.push(l)}}var c=this._activeView,u;if(c&&(u=Ge(o,function(h){return im(c,h)})||this._getInitialView(o),!u)){this._switchView(null);return}var d=!im(c,u)||pF(c,u),f=i.length!==o.length||!ui(o,function(h){return Ge(i,function(p){return im(p,h)&&!pF(p,h)})});this._activeView=u,this._views=o,(d||f)&&this._viewsChanged()}_getInitialView(e,n){var r;return n&&(r=Ge(e,function(i){return im(i,n)})||Ge(e,function(i){return i.type===n})),r||e[0]}_switchView(e){var n=this;return new Promise(function(r,i){var o=(u,d)=>{n._viewsChanged(),u?i(u):r(d)},s=n.getActiveView(),a,l=e&&n._getViewer(e),c=e&&e.element;if(s&&(a=n._getViewer(s),a!==l&&(mF(a,"clear"),a.detach())),n._activeView=e,l){a!==l&&l.attachTo(n._container),n._emit("import.render.start",{view:e,element:c}),l.open(c).then(u=>{n._emit("import.render.complete",{view:e,error:null,warnings:u.warnings}),o(null,u)}).catch(u=>{n._emit("import.render.complete",{view:e,error:u,warnings:u.warnings}),o(u,null)});return}o()})}_getViewer(e){var n=e.type,r=this._viewers[n];return r||(r=this._viewers[n]=this._createViewer(e.type),this._emit("viewer.created",{type:n,viewer:r})),r}_createViewer(e){var n=Ge(this._getViewProviders(),function(s){return s.id===e});if(!n)throw new Error("no provider for view type <"+e+">");var r=n.constructor,i=this._options[e]||{},o=this._options.common||{};return new r({...o,...i,additionalModules:[...i.additionalModules||[],{_parent:["value",this],moddle:["value",this._moddle]}]})}_emit(...e){return this._eventBus.fire(...e)}_createModdle(e){return new LIe(e.moddleExtensions)}_getViewProviders(){return[]}}function hF(t){return t+(He(t)?"px":"")}function zIe(t,e){if(t.message!=="failed to parse document as <dmn:Definitions>")return null;var n=e.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')!==-1&&"1.1"||e.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')!==-1&&"1.2";return n?(t=new Error("unsupported DMN "+n+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+n+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",t),t):null}function qIe(t){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=e.exec(t.message);return n?(t.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+n[2],t):null}function im(t,e){return Jt(t)?Jt(e)?t.element===e.element||t.id===e.id:!1:!Jt(e)}function pF(t,e){return!t||!e||t.name!==e.name}function mF(t,e){Ct(t[e])&&t[e]()}function me(t,e){var n=vr(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function St(t){return me(t,"dmn:InputClause")}function Kn(t){return me(t,"dmn:OutputClause")}function vr(t){return t&&t.businessObject||t}function VIe(t){return vr(t).name}function Ar(t,e){return zs(e,function(n){return me(t,n)})}function pv(t){var e=vr(t);if(me(e,"dmn:Decision"))return e.get("decisionLogic");if(me(e,"dmn:BusinessKnowledgeModel")){var n=e.get("encapsulatedLogic");return n&&n.get("body")}}const HIe="https://www.omg.org/spec/DMN/20191111/FEEL/";function UIe(t){for(let e=t;e;e=e.$parent){const n=e.get("expressionLanguage");if(n)return!!(n===HIe||/feel/i.test(n));if(me(e,"dmn:FunctionDefinition"))return(e.get("kind")||"FEEL")==="FEEL"}return!0}class WIe extends FIe{_init(e){super._init(e),this.on("import.parse.complete",n=>{n.error||this._collectIds(n.definitions,n.elementsById)}),this.on("destroy",()=>{this._moddle.ids.clear()}),this.on("viewer.created",({viewer:n})=>{n.on("elements.changed",({elements:r})=>{var i=r.some(function(o){return Ar(o,["dmn:Decision","dmn:Definitions","dmn:BusinessKnowledgeModel"])});i&&this._updateViews()})})}_collectIds(e,n){var r=e.$model,i=r.ids,o;i.clear();for(o in n)i.claim(o,n[o])}_createModdle(e){var n=super._createModdle(e);return n.ids=new fi([32,36,1]),n}}var GIe=new hi({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function KIe(t,e){var n=[];function r(v){var y=v.gfx;if(y)throw new Error("already rendered "+v.id);return t.element(v)}function i(v){return t.root(v)}function o(v){try{var y=v.di&&r(v);return y}catch(_){g(_.message,{element:v,error:_})}}function s(v,y){var _=v.dmnDI;if(!_)throw new Error("no dmndi:DMNDI");var b=_.diagrams||[];if(y&&b.indexOf(y)===-1)throw new Error("diagram not part of dmndi:DMNDI");if(!y&&b&&b.length&&(y=b[0]),!y)throw new Error("no diagram to display");v.di=y,d(y),i(v),a(v.get("drgElement")),l(v.get("artifact")),m()}function a(v){ee(v,function(y){o(y),u(y)})}function l(v){ee(v,function(y){me(y,"dmn:Association")?c(y):o(y)})}function c(v){p(function(){o(v)})}function u(v){ee(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(y){ee(v[y],function(_){p(function(){o(_)})})})}function d(v){ee(v.diagramElements,f)}function f(v){h(v)}function h(v){var y=v.dmnElementRef;y?y.di?g("multiple DI elements defined for element",{element:y}):(GIe.bind(y,"di"),y.di=v):g("no DMN element referenced in element",{element:v})}function p(v){n.push(v)}function m(){ee(n,function(v){v()})}function g(v,y){t.error(v,y)}return{handleDefinitions:s}}function XIe(t,e,n){var r=t.get("drdImporter"),i=t.get("eventBus"),o,s=[];function a(l){var c={root:function(d){return r.root(d)},element:function(d,f){return r.add(d,f)},error:function(d,f){s.push({message:d,context:f})}},u=new KIe(c);u.handleDefinitions(l)}i.fire("import.start",{definitions:e});try{a(e)}catch(l){o=l}i.fire("import.done",{error:o,warnings:s}),n(o,s)}var $k="$NO_OP",YIe="a runtime error occured! Use Inferno in development environment to find the error.",mv=Array.isArray;function Nk(t){var e=typeof t;return e==="string"||e==="number"}function gt(t){return gv(t)||Xt(t)}function ja(t){return Xt(t)||t===!1||QIe(t)||gv(t)}function pt(t){return typeof t=="function"}function du(t){return typeof t=="string"}function aE(t){return typeof t=="number"}function Xt(t){return t===null}function QIe(t){return t===!0}function gv(t){return t===void 0}function ZIe(t){throw t||(t=YIe),new Error("Inferno Error: "+t)}function lh(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}var Pf="$";function Lk(t,e,n,r,i,o,s,a){return{childFlags:t,children:e,className:n,dom:null,flags:r,key:i===void 0?null:i,parentVNode:null,props:o===void 0?null:o,ref:s===void 0?null:s,type:a}}function U(t,e,n,r,i,o,s,a){var l=i===void 0?1:i,c=Lk(l,r,n,t,s,o,a,e);return l===0&&_J(c,c.children),c}function we(t,e,n,r,i){(t&2)>0&&(t=e.prototype&&pt(e.prototype.render)?4:8);var o=e.defaultProps;if(!gt(o)){n||(n={});for(var s in o)gv(n[s])&&(n[s]=o[s])}if((t&8)>0){var a=e.defaultHooks;if(!gt(a))if(!i)i=a;else for(var l in a)gv(i[l])&&(i[l]=a[l])}var c=Lk(1,null,null,t,r,n,i,e),u=no.createVNode;return pt(u)&&u(c),c}function vt(t,e){return Lk(1,gt(t)?"":t,null,16,e,null,null,null)}function Ba(t){var e=t.props;if(e){var n=t.flags;n&481&&(e.children!==void 0&&gt(t.children)&&_J(t,e.children),e.className!==void 0&&(t.className=e.className||null,e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(n&8?t.ref=lh(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function hr(t){var e,n=t.flags;if(n&14){var r,i=t.props;if(!Xt(i)){r={};for(var o in i)r[o]=i[o]}e=we(n,t.type,r,t.key,t.ref)}else n&481?e=U(n,t.type,t.className,t.children,t.childFlags,t.props,t.key,t.ref):n&16?e=vt(t.children,t.key):n&1024&&(e=t);return e}function yJ(){return vt("",null)}function bJ(t,e,n,r){for(var i=t.length;n<i;n++){var o=t[n];if(!ja(o)){var s=r+Pf+n;if(mv(o))bJ(o,e,0,s);else{if(Nk(o))o=vt(o,s);else{var a=o.key,l=du(a)&&a[0]===Pf;(!Xt(o.dom)||l)&&(o=hr(o)),Xt(a)||l?o.key=s:o.key=r+a}e.push(o)}}}}function _J(t,e){var n,r=1;if(ja(e))n=e;else if(du(e))r=2,n=vt(e);else if(aE(e))r=2,n=vt(e+"");else if(mv(e)){var i=e.length;if(i===0)n=null,r=1;else{(Object.isFrozen(e)||e.$===!0)&&(e=e.slice()),r=8;for(var o=0;o<i;o++){var s=e[o];if(ja(s)||mv(s)){n=n||e.slice(0,o),bJ(e,n,o,"");break}else if(Nk(s))n=n||e.slice(0,o),n.push(vt(s,Pf+o));else{var a=s.key,l=Xt(s.dom),c=Xt(a),u=!c&&du(a)&&a[0]===Pf;!l||c||u?(n=n||e.slice(0,o),(!l||u)&&(s=hr(s)),(c||u)&&(s.key=Pf+o),n.push(s)):n&&n.push(s)}}n=n||e,n.$=!0}}else n=e,Xt(e.dom)||(n=hr(e)),r=2;return t.children=n,t.childFlags=r,t}var no={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},El="http://www.w3.org/1999/xlink",V_="http://www.w3.org/XML/1998/namespace",JIe="http://www.w3.org/2000/svg",gF={"xlink:actuate":El,"xlink:arcrole":El,"xlink:href":El,"xlink:role":El,"xlink:show":El,"xlink:title":El,"xlink:type":El,"xml:base":V_,"xml:lang":V_,"xml:space":V_},Wn={},Yo=[];function Dy(t,e){t.appendChild(e)}function om(t,e,n){gt(n)?Dy(t,e):t.insertBefore(e,n)}function eDe(t,e){return e?document.createElementNS(JIe,t):document.createElement(t)}function jk(t,e,n){t.replaceChild(e,n)}function tDe(t,e){t.removeChild(e)}function Bk(t){for(var e;(e=t.shift())!==void 0;)e()}var sm={},H_={};function xJ(t,e,n){var r=sm[t],i=n.$EV;e?(r||(H_[t]=oDe(t),sm[t]=0),i||(i=n.$EV={}),i[t]||sm[t]++,i[t]=e):i&&i[t]&&(sm[t]--,r===1&&(document.removeEventListener(wJ(t),H_[t]),H_[t]=null),i[t]=e)}function nDe(t){return pt(t.composedPath)?t.composedPath()[0]:t.target}function rDe(t,e,n,r){for(var i=nDe(t);!Xt(i);){if(e&&i.disabled)return;var o=i.$EV;if(o){var s=o[n];if(s&&(r.dom=i,s.event?s.event(s.data,t):s(t),t.cancelBubble))return}i=i.parentNode}}function wJ(t){return t.substr(2).toLowerCase()}function iDe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function oDe(t){var e=function(r){var i=r.type,o=i==="click"||i==="dblclick";if(o&&r.button!==0)return r.stopPropagation(),!1;r.stopPropagation=iDe;var s={dom:document};Object.defineProperty(r,"currentTarget",{configurable:!0,get:function(){return s.dom}}),rDe(r,o,t,s)};return document.addEventListener(wJ(t),e),e}function EJ(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}function sDe(t,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&EJ(t,e.dangerouslySetInnerHTML.__html))}function vF(t,e,n){if(t[e]){var r=t[e];r.event?r.event(r.data,n):r(n)}else{var i=e.toLowerCase();t[i]&&t[i](n)}}function wp(t,e){var n=function(i){i.stopPropagation();var o=this.$V;if(o){var s=o.props||Wn,a=o.dom;if(du(t))vF(s,t,i);else for(var l=0;l<t.length;l++)vF(s,t[l],i);if(pt(e)){var c=this.$V,u=c.props||Wn;e(u,a,!1,c)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function Fk(t){return t==="checkbox"||t==="radio"}var aDe=wp("onInput",zk),lDe=wp(["onClick","onChange"],zk);function SJ(t){t.stopPropagation()}SJ.wrapped=!0;function cDe(t,e){Fk(e.type)?(t.onchange=lDe,t.onclick=SJ):t.oninput=aDe}function zk(t,e){var n=t.type,r=t.value,i=t.checked,o=t.multiple,s=t.defaultValue,a=!gt(r);n&&n!==e.type&&e.setAttribute("type",n),!gt(o)&&o!==e.multiple&&(e.multiple=o),!gt(s)&&!a&&(e.defaultValue=s+""),Fk(n)?(a&&(e.value=r),gt(i)||(e.checked=i)):a&&e.value!==r?(e.defaultValue=r,e.value=r):gt(i)||(e.checked=i)}function yF(t,e){var n=t.type;if(n==="optgroup"){var r=t.children,i=t.childFlags;if(i&12)for(var o=0,s=r.length;o<s;o++)U_(r[o],e);else i===2&&U_(r,e)}else U_(t,e)}function U_(t,e){var n=t.props||Wn,r=t.dom;r.value=n.value,mv(e)&&e.indexOf(n.value)!==-1||n.value===e?r.selected=!0:(!gt(e)||!gt(n.selected))&&(r.selected=n.selected||!1)}var uDe=wp("onChange",CJ);function dDe(t){t.onchange=uDe}function CJ(t,e,n,r){var i=!!t.multiple;!gt(t.multiple)&&i!==e.multiple&&(e.multiple=i);var o=r.childFlags;if((o&1)===0){var s=r.children,a=t.value;if(n&&gt(a)&&(a=t.defaultValue),o&12)for(var l=0,c=s.length;l<c;l++)yF(s[l],a);else o===2&&yF(s,a)}}var fDe=wp("onInput",kJ),hDe=wp("onChange");function pDe(t,e){t.oninput=fDe,e.onChange&&(t.onchange=hDe)}function kJ(t,e,n){var r=t.value,i=e.value;if(gt(r)){if(n){var o=t.defaultValue;!gt(o)&&o!==i&&(e.defaultValue=o,e.value=o)}}else i!==r&&(e.defaultValue=r,e.value=r)}function OJ(t,e,n,r,i,o){t&64?zk(r,n):t&256?CJ(r,n,i,e):t&128&&kJ(r,n,i),o&&(n.$V=e)}function mDe(t,e,n){t&64?cDe(e,n):t&256?dDe(e):t&128&&pDe(e,n)}function RJ(t){return t.type&&Fk(t.type)?!gt(t.checked):!gt(t.value)}function Ei(t,e){Zl(t),e&&t.dom&&(tDe(e,t.dom),t.dom=null)}function Zl(t){var e=t.flags;if(e&481){var n=t.ref,r=t.props;pt(n)&&n(null);var i=t.children,o=t.childFlags;if(o&12?qk(i):o===2&&Zl(i),!Xt(r))for(var s in r)switch(s){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":xJ(s,null,t.dom);break}}else{var a=t.children;if(a)if(e&14){var l=t.ref;e&4?(pt(a.componentWillUnmount)&&a.componentWillUnmount(),pt(l)&&l(null),a.$UN=!0,a.$LI&&Zl(a.$LI)):(!gt(l)&&pt(l.onComponentWillUnmount)&&l.onComponentWillUnmount(t.dom,t.props||Wn),Zl(a))}else e&1024&&Ei(a,t.type)}}function qk(t){for(var e=0,n=t.length;e<n;e++)Zl(t[e])}function cg(t,e){qk(e),t.textContent=""}function gDe(t,e){return function(n){t(e.data,n)}}function vDe(t,e,n){var r=t.toLowerCase();if(!pt(e)&&!gt(e)){var i=e.event;i&&pt(i)&&(n[r]=gDe(i,e))}else{var o=n[r];(!o||!o.wrapped)&&(n[r]=e)}}function bF(t,e){switch(t){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return e;default:return e+"px"}}function yDe(t,e,n){var r=n.style,i,o;if(du(e)){r.cssText=e;return}if(!gt(t)&&!du(t)){for(i in e)o=e[i],o!==t[i]&&(r[i]=aE(o)?bF(i,o):o);for(i in t)gt(e[i])&&(r[i]="")}else for(i in e)o=e[i],r[i]=aE(o)?bF(i,o):o}function lE(t,e,n,r,i,o,s){switch(t){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":xJ(t,n,r);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":r.autofocus=!!n;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":r[t]=!!n;break;case"defaultChecked":case"value":case"volume":if(o&&t==="value")return;var a=gt(n)?"":n;r[t]!==a&&(r[t]=a);break;case"dangerouslySetInnerHTML":var l=e&&e.__html||"",c=n&&n.__html||"";l!==c&&!gt(c)&&!EJ(r,c)&&(Xt(s)||(s.childFlags&12?qk(s.children):s.childFlags===2&&Zl(s.children),s.children=null,s.childFlags=1),r.innerHTML=c);break;default:t[0]==="o"&&t[1]==="n"?vDe(t,n,r):gt(n)?r.removeAttribute(t):t==="style"?yDe(e,n,r):i&&gF[t]?r.setAttributeNS(gF[t],t,n):r.setAttribute(t,n);break}}function PJ(t,e,n,r,i){var o=!1,s=(e&448)>0;s&&(o=RJ(n),o&&mDe(e,r,n));for(var a in n)lE(a,null,n[a],r,i,o,null);s&&OJ(e,t,r,n,!0,o)}function AJ(t,e,n,r){var i=new e(n,r);if(t.children=i,i.$V=t,i.$BS=!1,i.context=r,i.props===Wn&&(i.props=n),i.$UN=!1,pt(i.componentWillMount)){if(i.$BR=!0,i.componentWillMount(),i.$PSS){var o=i.state,s=i.$PS;if(Xt(o))i.state=s;else for(var a in s)o[a]=s[a];i.$PSS=!1,i.$PS=null}i.$BR=!1}pt(no.beforeRender)&&no.beforeRender(i);var l=Ep(i.render(n,i.state,r),t),c;return pt(i.getChildContext)&&(c=i.getChildContext()),gt(c)?i.$CX=r:i.$CX=lh(r,c),pt(no.afterRender)&&no.afterRender(i),i.$LI=l,i}function Ep(t,e){return ja(t)?t=yJ():Nk(t)?t=vt(t,null):(t.dom&&(t=hr(t)),t.flags&14&&(t.parentVNode=e)),t}function Tr(t,e,n,r){var i=t.flags;if(i&481)return TJ(t,e,n,r);if(i&14)return bDe(t,e,n,r,(i&4)>0);if(i&512||i&16)return cE(t,e);if(i&1024)return Tr(t.children,t.type,n,!1),t.dom=cE(yJ(),e)}function cE(t,e){var n=t.dom=document.createTextNode(t.children);return Xt(e)||Dy(e,n),n}function TJ(t,e,n,r){var i=t.flags,o=t.children,s=t.props,a=t.className,l=t.ref,c=t.childFlags;r=r||(i&32)>0;var u=eDe(t.type,r);if(t.dom=u,!gt(a)&&a!==""&&(r?u.setAttribute("class",a):u.className=a),Xt(e)||Dy(e,u),(c&1)===0){var d=r===!0&&t.type!=="foreignObject";c===2?Tr(o,u,n,d):c&12&&Af(o,u,n,d)}return Xt(s)||PJ(t,i,s,u,r),pt(l)&&Vk(u,l),u}function Af(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var s=t[i];Xt(s.dom)||(t[i]=s=hr(s)),Tr(s,e,n,r)}}function bDe(t,e,n,r,i){var o,s=t.type,a=t.props||Wn,l=t.ref;if(i){var c=AJ(t,s,a,n);t.dom=o=Tr(c.$LI,null,c.$CX,r),IJ(t,l,c),c.$UPD=!1}else{var u=Ep(s(a,n),t);t.children=u,t.dom=o=Tr(u,null,n,r),DJ(a,l,o)}return Xt(e)||Dy(e,o),o}function _De(t){return function(){t.$UPD=!0,t.componentDidMount(),t.$UPD=!1}}function IJ(t,e,n){pt(e)&&e(n),pt(n.componentDidMount)&&Yo.push(_De(n))}function xDe(t,e,n){return function(){return t.onComponentDidMount(e,n)}}function DJ(t,e,n){gt(e)||(pt(e.onComponentWillMount)&&e.onComponentWillMount(t),pt(e.onComponentDidMount)&&Yo.push(xDe(e,n,t)))}function Vk(t,e){Yo.push(function(){return e(t)})}function wDe(t,e,n,r,i){var o=t.type,s=t.ref,a=t.props||Wn;if(i){var l=AJ(t,o,a,n),c=l.$LI;ch(c,e,l.$CX,r),t.dom=c.dom,IJ(t,s,l),l.$UPD=!1}else{var u=Ep(o(a,n),t);ch(u,e,n,r),t.children=u,t.dom=u.dom,DJ(a,s,e)}}function EDe(t,e,n,r){var i=t.children,o=t.props,s=t.className,a=t.flags,l=t.ref;if(r=r||(a&32)>0,e.nodeType!==1||e.tagName.toLowerCase()!==t.type){var c=TJ(t,null,n,r);t.dom=c,jk(e.parentNode,c,e)}else{t.dom=e;var u=e.firstChild,d=t.childFlags;if((d&1)===0){for(var f=null;u;)f=u.nextSibling,u.nodeType===8&&(u.data==="!"?e.replaceChild(document.createTextNode(""),u):e.removeChild(u)),u=f;if(u=e.firstChild,d===2)Xt(u)?Tr(i,e,n,r):(f=u.nextSibling,ch(i,u,n,r),u=f);else if(d&12)for(var h=0,p=i.length;h<p;h++){var m=i[h];Xt(u)?Tr(m,e,n,r):(f=u.nextSibling,ch(m,u,n,r),u=f)}for(;u;)f=u.nextSibling,e.removeChild(u),u=f}else!Xt(e.firstChild)&&!sDe(e,o)&&(e.textContent="",a&448&&(e.defaultValue=""));Xt(o)||PJ(t,a,o,e,r),gt(s)?e.className!==""&&e.removeAttribute("class"):r?e.setAttribute("class",s):e.className=s,pt(l)&&Vk(e,l)}}function SDe(t,e){if(e.nodeType!==3){var n=cE(t,null);t.dom=n,jk(e.parentNode,n,e)}else{var r=t.children;e.nodeValue!==r&&(e.nodeValue=r),t.dom=e}}function ch(t,e,n,r){var i=t.flags;i&14?wDe(t,e,n,r,(i&4)>0):i&481?EDe(t,e,n,r):i&16?SDe(t,e):i&512?t.dom=e:ZIe()}function CDe(t,e,n){var r=e.firstChild;if(!Xt(r))for(ja(t)||ch(t,r,Wn,!1),r=e.firstChild;r=r.nextSibling;)e.removeChild(r);Yo.length>0&&Bk(Yo),e.$V=t,pt(n)&&n()}function Hk(t,e,n,r,i){Zl(t),jk(n,Tr(e,null,r,i),t.dom)}function xs(t,e,n,r,i){var o=e.flags|0;t.flags!==o||o&2048?Hk(t,e,n,r,i):o&481?RDe(t,e,n,r,i,o):o&14?PDe(t,e,n,r,i,(o&4)>0):o&16?ADe(t,e):o&512?e.dom=t.dom:ODe(t,e,r)}function kDe(t,e){t.textContent!==e.children&&(t.textContent=e.children)}function ODe(t,e,n){var r=t.type,i=e.type,o=e.children;if(MJ(t.childFlags,e.childFlags,t.children,o,r,n,!1),e.dom=t.dom,r!==i&&!ja(o)){var s=o.dom;r.removeChild(s),i.appendChild(s)}}function RDe(t,e,n,r,i,o){var s=e.type;if(t.type!==s)Hk(t,e,n,r,i);else{var a=t.dom,l=t.props,c=e.props,u=!1,d=!1,f;if(e.dom=a,i=i||(o&32)>0,l!==c){var h=l||Wn;if(f=c||Wn,f!==Wn){u=(o&448)>0,u&&(d=RJ(f));for(var p in f){var m=h[p],g=f[p];m!==g&&lE(p,m,g,a,i,d,t)}}if(h!==Wn)for(var v in h)!f.hasOwnProperty(v)&&!gt(h[v])&&lE(v,h[v],null,a,i,d,t)}var y=t.children,_=e.children,b=e.ref,x=t.className,w=e.className;o&4096?kDe(a,_):MJ(t.childFlags,e.childFlags,y,_,a,r,i&&s!=="foreignObject"),u&&OJ(o,e,a,f,!1,d),x!==w&&(gt(w)?a.removeAttribute("class"):i?a.setAttribute("class",w):a.className=w),pt(b)&&t.ref!==b&&Vk(a,b)}}function MJ(t,e,n,r,i,o,s){switch(t){case 2:switch(e){case 2:xs(n,r,i,o,s);break;case 1:Ei(n,i);break;default:Ei(n,i),Af(r,i,o,s);break}break;case 1:switch(e){case 2:Tr(r,i,o,s);break;case 1:break;default:Af(r,i,o,s);break}break;default:if(e&12){var a=n.length,l=r.length;a===0?l>0&&Af(r,i,o,s):l===0?cg(i,n):e===8&&t===8?IDe(n,r,i,o,s,a,l):TDe(n,r,i,o,s,a,l)}else e===1?cg(i,n):e===2&&(cg(i,n),Tr(r,i,o,s));break}}function $J(t,e,n,r,i,o,s,a,l){var c=t.state,u=t.props;n.children=t;var d;if(!t.$UN){if(u!==r||r===Wn){if(!l&&pt(t.componentWillReceiveProps)){if(t.$BR=!0,t.componentWillReceiveProps(r,o),t.$UN)return;t.$BR=!1}t.$PSS&&(e=lh(e,t.$PS),t.$PSS=!1,t.$PS=null)}var f=!!t.shouldComponentUpdate;if(a||!f||f&&t.shouldComponentUpdate(r,e,o)){pt(t.componentWillUpdate)&&(t.$BS=!0,t.componentWillUpdate(r,e,o),t.$BS=!1),t.props=r,t.state=e,t.context=o,pt(no.beforeRender)&&no.beforeRender(t),d=t.render(r,e,o),pt(no.afterRender)&&no.afterRender(t);var h=d!==$k,p;if(pt(t.getChildContext)&&(p=t.getChildContext()),gt(p)?p=o:p=lh(o,p),t.$CX=p,h){var m=t.$LI,g=Ep(d,n);xs(m,g,i,p,s),t.$LI=g,pt(t.componentDidUpdate)&&t.componentDidUpdate(u,c)}}else t.props=r,t.state=e,t.context=o;n.dom=t.$LI.dom}}function PDe(t,e,n,r,i,o){var s=e.type,a=t.key,l=e.key;if(t.type!==s||a!==l)Hk(t,e,n,r,i);else{var c=e.props||Wn;if(o){var u=t.children;u.$UPD=!0,u.$V=e,$J(u,u.state,e,c,n,r,i,!1,!1),u.$UPD=!1}else{var d=!0,f=t.props,h=e.ref,p=!gt(h),m=t.children;if(e.dom=t.dom,e.children=m,p&&pt(h.onComponentShouldUpdate)&&(d=h.onComponentShouldUpdate(f,c)),d!==!1){p&&pt(h.onComponentWillUpdate)&&h.onComponentWillUpdate(f,c);var g=s(c,r);g!==$k&&(g=Ep(g,e),xs(m,g,n,r,i),e.children=g,e.dom=g.dom,p&&pt(h.onComponentDidUpdate)&&h.onComponentDidUpdate(f,c))}else m.flags&14&&(m.parentVNode=e)}}}function ADe(t,e){var n=e.children,r=t.dom;n!==t.children&&(r.nodeValue=n),e.dom=r}function TDe(t,e,n,r,i,o,s){for(var a=o>s?s:o,l=0,c,u;l<a;l++)c=e[l],u=t[l],c.dom&&(c=e[l]=hr(c)),xs(u,c,n,r,i),t[l]=c;if(o<s)for(l=a;l<s;l++)c=e[l],c.dom&&(c=e[l]=hr(c)),Tr(c,n,r,i);else if(o>s)for(l=a;l<o;l++)Ei(t[l],n)}function IDe(t,e,n,r,i,o,s){var a=o-1,l=s-1,c,u=0,d=t[u],f=e[u],h;e:{for(;d.key===f.key;){if(f.dom&&(e[u]=f=hr(f)),xs(d,f,n,r,i),t[u]=f,u++,u>a||u>l)break e;d=t[u],f=e[u]}for(d=t[a],f=e[l];d.key===f.key;){if(f.dom&&(e[l]=f=hr(f)),xs(d,f,n,r,i),t[a]=f,a--,l--,u>a||u>l)break e;d=t[a],f=e[l]}}if(u>a){if(u<=l){h=l+1;for(var p=h<s?e[h].dom:null;u<=l;)f=e[u],f.dom&&(e[u]=f=hr(f)),u++,om(n,Tr(f,null,r,i),p)}}else if(u>l)for(;u<=a;)Ei(t[u++],n);else{var m=u,g=u,v=a-u+1,y=l-u+1,_=[];for(c=0;c<y;c++)_.push(0);var b=v===o,x=!1,w=0,E=0;if(s<4||(v|y)<32)for(c=m;c<=a;c++)if(d=t[c],E<y){for(u=g;u<=l;u++)if(f=e[u],d.key===f.key){if(_[u-g]=c+1,b)for(b=!1;c>m;)Ei(t[m++],n);w>u?x=!0:w=u,f.dom&&(e[u]=f=hr(f)),xs(d,f,n,r,i),E++;break}!b&&u>l&&Ei(d,n)}else b||Ei(d,n);else{var S={};for(c=g;c<=l;c++)S[e[c].key]=c;for(c=m;c<=a;c++)if(d=t[c],E<y)if(u=S[d.key],u!==void 0){if(b)for(b=!1;c>m;)Ei(t[m++],n);f=e[u],_[u-g]=c+1,w>u?x=!0:w=u,f.dom&&(e[u]=f=hr(f)),xs(d,f,n,r,i),E++}else b||Ei(d,n);else b||Ei(d,n)}if(b)cg(n,t),Af(e,n,r,i);else if(x){var k=DDe(_);for(u=k.length-1,c=y-1;c>=0;c--)_[c]===0?(w=c+g,f=e[w],f.dom&&(e[w]=f=hr(f)),h=w+1,om(n,Tr(f,null,r,i),h<s?e[h].dom:null)):u<0||c!==k[u]?(w=c+g,f=e[w],h=w+1,om(n,f.dom,h<s?e[h].dom:null)):u--}else if(E!==y)for(c=y-1;c>=0;c--)_[c]===0&&(w=c+g,f=e[w],f.dom&&(e[w]=f=hr(f)),h=w+1,om(n,Tr(f,null,r,i),h<s?e[h].dom:null))}}function DDe(t){var e=t.slice(),n=[0],r,i,o,s,a,l=t.length;for(r=0;r<l;r++){var c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<c?o=a+1:s=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function vv(t,e,n){if(t!==$k){var r=e.$V;if(gt(r)?ja(t)||(t.dom&&(t=hr(t)),Xt(e.firstChild)?(Tr(t,e,Wn,!1),e.$V=t):CDe(t,e),r=t):gt(t)?(Ei(r,e),e.$V=null):(t.dom&&(t=hr(t)),xs(r,t,e,Wn,!1),r=e.$V=t),Yo.length>0&&Bk(Yo),pt(n)&&n(),pt(no.renderComplete)&&no.renderComplete(r),r&&r.flags&14)return r.children}}function MDe(t,e){return U(1024,e,null,t,0,null,ja(t)?null:t.key,null)}var _F=typeof Promise>"u"?null:Promise.resolve(),$De=typeof requestAnimationFrame>"u"?setTimeout:requestAnimationFrame.bind(window);function NDe(t){return _F?_F.then(t):$De(t)}function xF(t,e,n,r){pt(e)&&(e=e(t.state,t.props,t.context));var i=t.$PS;if(gt(i))t.$PS=e;else for(var o in e)i[o]=e[o];if(!t.$PSS&&!t.$BR)if(!t.$UPD)t.$PSS=!0,t.$UPD=!0,NJ(t,r,n),t.$UPD=!1;else{var s=t.$QU;Xt(s)&&(s=t.$QU=[],NDe(LDe(t,s))),pt(n)&&s.push(n)}else t.$PSS=!0,t.$BR&&pt(n)&&Yo.push(n.bind(t))}function LDe(t,e){return function(){t.$QU=null,t.$UPD=!0,NJ(t,!1,function(){for(var n=0,r=e.length;n<r;n++)e[n].call(t)}),t.$UPD=!1}}function NJ(t,e,n){if(!t.$UN){if(e||!t.$BR){t.$PSS=!1;var r=t.$PS,i=t.state,o=lh(i,r),s=t.props,a=t.context;t.$PS=null;var l=t.$V,c=t.$LI,u=c.dom&&c.dom.parentNode;if($J(t,o,l,s,u,a,(l.flags&32)>0,e,!0),t.$UN)return;if((t.$LI.flags&1024)===0)for(var d=t.$LI.dom;!Xt(l=l.parentVNode);)(l.flags&14)>0&&(l.dom=d);Yo.length>0&&Bk(Yo)}else t.state=t.$PS,t.$PS=null;pt(n)&&n.call(t)}}var Ne=function(){function t(n,r){this.state=null,this.props=void 0,this.context=void 0,this.refs=void 0,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=n||Wn,this.context=r||Wn}var e=t.prototype;return e.forceUpdate=function(r){this.$UN||xF(this,{},r,!0)},e.setState=function(r,i){if(!this.$UN)if(!this.$BS)xF(this,r,i,!1);else return},e.render=function(r,i,o){},t}();Ne.defaultProps=void 0;var LJ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function jJ(t){var e='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+LJ+"</a>",n=at(e);t.appendChild(n),Be.bind(n,"click",function(r){qDe(),r.preventDefault()})}class Uk extends Ne{constructor(e,n){super(e,n),this.node=null}componentDidMount(){jJ(this.node)}render(){return U(1,"div",null,null,1,null,null,e=>this.node=e)}}function Wk(t){return t.join(";")}var jDe=Wk(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),BDe=Wk(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"]),FDe=Wk(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"]),zDe='<div class="bjs-powered-by-lightbox" style="'+jDe+'"><div class="backdrop" style="'+BDe+'"></div><div class="notice" style="'+FDe+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+LJ+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Vd;function qDe(){Vd||(Vd=at(zDe),rr.bind(Vd,".backdrop","click",function(t){document.body.removeChild(Vd)})),document.body.appendChild(Vd)}var VDe=new fi,am="hsl(225, 10%, 15%)";function Gk(t,e,n,r,i,o){di.call(this,e);var s=VDe.next(),a=r.computeStyle,l={},c=t&&t.defaultFillColor||"white",u=t&&t.defaultStrokeColor||am,d=t&&t.defaultLabelColor;function f(E,S,k){var I=E+"-"+EF(S)+"-"+EF(k)+"-"+s;return l[I]||p(I,E,S,k),"url(#"+I+")"}function h(E,S){var k=re({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},S.attrs),I=S.ref||{x:0,y:0},M=S.scale||1;k.strokeDasharray==="none"&&(k.strokeDasharray=[1e4,1]);var R=Me("marker");Ce(S.element,k),Ve(R,S.element),Ce(R,{id:E,viewBox:"0 0 20 20",refX:I.x,refY:I.y,markerWidth:20*M,markerHeight:20*M,orient:"auto"});var D=Ue("defs",o._svg);D||(D=Me("defs"),Ve(o._svg,D)),Ve(D,R),l[E]=R}function p(E,S,k,I){if(S==="association-start"){var M=Me("path");Ce(M,{d:"M 11 5 L 1 10 L 11 15"}),h(E,{element:M,attrs:{fill:"none",stroke:I,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}else if(S==="association-end"){var R=Me("path");Ce(R,{d:"M 1 5 L 11 10 L 1 15"}),h(E,{element:R,attrs:{fill:"none",stroke:I,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}else if(S==="information-requirement-end"){var D=Me("path");Ce(D,{d:"M 1 5 L 11 10 L 1 15 Z"}),h(E,{element:D,attrs:{fill:I,stroke:"none"},ref:{x:11,y:10},scale:1})}else if(S==="knowledge-requirement-end"){var C=Me("path");Ce(C,{d:"M 1 3 L 11 10 L 1 17"}),h(E,{element:C,attrs:{fill:"none",stroke:I,strokeWidth:2},ref:{x:11,y:10},scale:.8})}else if(S==="authority-requirement-end"){var V=Me("circle");Ce(V,{cx:3,cy:3,r:3}),h(E,{element:V,attrs:{fill:I,stroke:"none"},ref:{x:3,y:3},scale:.9})}}function m(E,S,k,I,M,R){On(M)&&(R=M,M=0),M=M||0,R=a(R,{stroke:am,strokeWidth:2,fill:"white"});var D=Me("rect");return Ce(D,{x:M,y:M,width:S-M*2,height:k-M*2,rx:I,ry:I}),Ce(D,R),Ve(E,D),D}function g(E,S,k){var I=i.createText(S||"",k);return Vn(I,"class","djs-label"),Ve(E,I),I}function v(E,S,k,I){var M=VIe(S);return I=re({box:S,align:k,padding:5,style:{fill:SF(S,d,u)}},I),g(E,M,I)}function y(E,S,k){k=a(k,["no-fill"],{strokeWidth:2,stroke:am});var I=Me("path");return Ce(I,{d:S}),Ce(I,k),Ve(E,I),I}var _={"dmn:Decision":function(E,S){var k=m(E,S.width,S.height,0,{stroke:Do(S,u),fill:la(S,c)});return v(E,S,"center-middle"),k},"dmn:KnowledgeSource":function(E,S){var k=n.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:S.width,containerHeight:S.height,position:{mx:0,my:.075}}),I=y(E,k,{strokeWidth:2,fill:la(S,c),stroke:Do(S,u)});return v(E,S,"center-middle"),I},"dmn:BusinessKnowledgeModel":function(E,S){var k=n.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:S.width,containerHeight:S.height,position:{mx:0,my:.3}}),I=y(E,k,{strokeWidth:2,fill:la(S,c),stroke:Do(S,u)});return v(E,S,"center-middle"),I},"dmn:InputData":function(E,S){var k=m(E,S.width,S.height,22,{stroke:Do(S,u),fill:la(S,c)});return v(E,S,"center-middle"),k},"dmn:TextAnnotation":function(E,S){var k={fill:"none",stroke:"none"},I=m(E,S.width,S.height,0,0,k),M=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:S.width,containerHeight:S.height,position:{mx:0,my:0}});y(E,M,{stroke:Do(S,u)});var R=wF(S).text||"";return g(E,R,{style:{fill:SF(S,d,u)},box:S,align:"left-top",padding:5}),I},"dmn:Association":function(E,S){var k=wF(S),I=la(S,c),M=Do(S,u),R={stroke:M,strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"};return(k.associationDirection==="One"||k.associationDirection==="Both")&&(R.markerEnd=f("association-end",I,M)),k.associationDirection==="Both"&&(R.markerStart=f("association-start",I,M)),w(E,S.waypoints,R)},"dmn:InformationRequirement":function(E,S){var k=la(S,c),I=Do(S,u),M={stroke:I,strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("information-requirement-end",k,I)};return w(E,S.waypoints,M)},"dmn:KnowledgeRequirement":function(E,S){var k=la(S,c),I=Do(S,u),M={stroke:I,strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("knowledge-requirement-end",k,I)};return w(E,S.waypoints,M)},"dmn:AuthorityRequirement":function(E,S){var k=la(S,c),I=Do(S,u),M={stroke:I,strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:f("authority-requirement-end",k,I)};return w(E,S.waypoints,M)}};function b(E,S){var k=_[S.type];return k?k(E,S):di.prototype.drawShape.apply(this,[E,S])}function x(E,S){var k=S.type,I=_[k];return I?I(E,S):di.prototype.drawConnection.apply(this,[E,S])}function w(E,S,k){k=a(k,["no-fill"],{stroke:am,strokeWidth:2,fill:"none"});var I=mh(S,k);return Ve(E,I),I}this.canRender=function(E){return me(E,"dmn:DMNElement")||me(E,"dmn:InformationRequirement")||me(E,"dmn:KnowledgeRequirement")||me(E,"dmn:AuthorityRequirement")},this.drawShape=b,this.drawConnection=x}Oe(Gk,di);Gk.$inject=["config.drdRenderer","eventBus","pathMap","styles","textRenderer","canvas"];function wF(t){return t.businessObject}function EF(t){return t.replace(/[^0-9a-zA-z]+/g,"_")}function Do(t,e){return e}function la(t,e){return e}function SF(t,e,n){return e||Do(t,n)}var HDe=12,UDe=1.2,WDe=30;function BJ(t){var e=re({fontFamily:"Arial, sans-serif",fontSize:HDe,fontWeight:"normal",lineHeight:UDe},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,r=re({},e,{fontSize:n},t&&t.externalStyle||{}),i=new Eh({style:e});this.getExternalLabelBounds=function(o,s){var a=i.getDimensions(s,{box:{width:90,height:30,x:o.width/2+o.x,y:o.height/2+o.y},style:r});return{x:Math.round(o.x+o.width/2-a.width/2),y:Math.round(o.y),width:Math.ceil(a.width),height:Math.ceil(a.height)}},this.getTextAnnotationBounds=function(o,s){var a=i.getDimensions(s,{box:o,style:e,align:"left-top",padding:5});return{x:o.x,y:o.y,width:o.width,height:Math.max(WDe,Math.round(a.height))}},this.createText=function(o,s){return i.createText(o,s||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return r}}BJ.$inject=["config.textRenderer"];function GDe(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var r=this.pathMap[e],i,o;n.abspos?(i=n.abspos.x,o=n.abspos.y):(i=n.containerWidth*n.position.mx,o=n.containerHeight*n.position.my);var s={};if(n.position){for(var a=n.containerHeight/r.height*n.yScaleFactor,l=n.containerWidth/r.width*n.xScaleFactor,c=0;c<r.heightElements.length;c++)s["y"+c]=r.heightElements[c]*a;for(var u=0;u<r.widthElements.length;u++)s["x"+u]=r.widthElements[u]*l}var d=QDe(r.d,{mx:i,my:o,e:s});return d}}var KDe=/\{([^{}]+)\}/g,XDe=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function YDe(t,e,n){var r=n;return e.replace(XDe,function(i,o,s,a,l){o=o||a,r&&(o in r&&(r=r[o]),typeof r=="function"&&l&&(r=r()))}),r=(r==null||r==n?t:r)+"",r}function QDe(t,e){return String(t).replace(KDe,function(n,r){return YDe(n,r,e)})}const ZDe={__init__:["drdRenderer"],drdRenderer:["type",Gk],textRenderer:["type",BJ],pathMap:["type",GDe]};function $c(t,e,n,r){this._eventBus=t,this._canvas=e,this._elementRegistry=r,this._elementFactory=n}$c.$inject=["eventBus","canvas","elementFactory","elementRegistry"];$c.prototype.root=function(t){var e=this._elementFactory.createRoot(uE(t));return this._canvas.setRootElement(e),e};$c.prototype.add=function(t){var e=this._elementFactory,n=this._canvas,r=this._eventBus,i=t.di,o,s,a,l,c,u;if(i.$instanceOf("dmndi:DMNShape"))u=i.bounds,c=uE(t,{x:Math.round(u.x),y:Math.round(u.y),width:Math.round(u.width),height:Math.round(u.height)}),o=e.createShape(c),n.addShape(o),r.fire("drdElement.added",{element:o,di:i});else if(i.$instanceOf("dmndi:DMNEdge"))s=JDe(i),a=this._getSource(t),l=this._getTarget(t),a&&l&&(c=uE(t,{hidden:!1,source:a,target:l,waypoints:s}),o=e.createConnection(c),n.addConnection(o),r.fire("drdElement.added",{element:o,di:i}));else throw new Error("unknown di for element "+t.id);return o};$c.prototype._getSource=function(t){var e,n;if(me(t,"dmn:Association")?n=t.sourceRef:me(t,"dmn:InformationRequirement")?n=t.requiredDecision||t.requiredInput:me(t,"dmn:KnowledgeRequirement")?n=t.requiredKnowledge:me(t,"dmn:AuthorityRequirement")&&(n=t.requiredDecision||t.requiredInput||t.requiredAuthority),n&&(e=n.href),e)return this._getShape(FJ(e))};$c.prototype._getTarget=function(t){return me(t,"dmn:Association")?t.targetRef&&this._getShape(FJ(t.targetRef.href)):this._getShape(t.$parent.id)};$c.prototype._getShape=function(t){return this._elementRegistry.get(t)};function uE(t,e){return re({id:t.id,type:t.$type,businessObject:t},e)}function JDe(t){var e=t.waypoint;if(e)return Nn(e,function(n){var r={x:n.x,y:n.y};return re({original:r},r)})}function FJ(t){return t.split("#").pop()}const eMe={drdImporter:["type",$c]},tMe={__depends__:[ZDe,eMe]};function My(t,e,n){this._eventBus=t,this._canvas=e,this._translate=n,t.on("diagram.init",function(){this._init()},this),t.on("import.done",function(r){r.error||this.update()},this),this.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="'+this._translate("Definition name")+'" spellcheck="false"></div><div class="dmn-definitions-id" title="'+this._translate("Definition ID")+'" spellcheck="false"></div></div>'}My.$inject=["eventBus","canvas","translate"];My.prototype._init=function(){var t=this._canvas,e=this._eventBus,n=t.getContainer(),r=this._container=at(this.HTML_MARKUP);n.appendChild(r),this.nameElement=Ue(".dmn-definitions-name",this._container),this.idElement=Ue(".dmn-definitions-id",this._container),rr.bind(r,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(i){i.stopPropagation()}),e.fire("definitionIdView.create",{html:r})};My.prototype.update=function(){var t=this._canvas.getRootElement().businessObject;this.nameElement.textContent=t.name,this.idElement.textContent=t.id};function Kk(t,e){function n(r,i){var o=e.getContainer();et(o).toggle(r,i)}t.on("palette.create",function(){n("with-palette",!0)}),t.on("palette.changed",function(r){n("with-palette-two-column",r.twoColumn)})}Kk.$inject=["eventBus","canvas"];const Xk={__depends__:[wr],__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",My],definitionPropertiesPaletteAdapter:["type",Kk]};var CF=[{className:"dmn-icon-decision-table",matches:function(t){var e=vr(t);return me(e,"dmn:Decision")&&me(e.decisionLogic,"dmn:DecisionTable")},title:"Open decision table"},{className:"dmn-icon-literal-expression",matches:function(t){var e=pv(t);return me(e,"dmn:LiteralExpression")},title:"Open literal expression"}];class zJ{constructor(e,n,r,i,o){this._injector=e,this._eventBus=n,this._overlays=r,this._translate=o,this._config=i||{enabled:!0},n.on(["shape.added"],({element:s})=>{for(let l=0;l<CF.length;l++){const{matches:c,className:u,title:d}=CF[l];var a=c&&c(s);a&&this.addOverlay(s,u,d)}})}addOverlay(e,n,r){const i=this._config.enabled!==!1,o=this._getOverlayNode(n,r,i),s=this._overlays.add(e,{position:{top:2,left:2},html:o});i&&(et(o).add("interactive"),this.bindEventListener(e,o,s))}_getOverlayNode(e,n,r){const i=document.createElement("div");if(i.className="drill-down-overlay",!r){const s=document.createElement("span");return s.className=e,i.appendChild(s),i}const o=document.createElement("button");return o.type="button",o.className=e,o.title=this._translate(n),i.appendChild(o),i}bindEventListener(e,n,r){const i=this._overlays,o=this._eventBus,s=i._overlayRoot;rr.bind(s,'[data-overlay-id="'+r+'"]',"click",()=>{o.fire("drillDown.click",{element:e})!==!1&&this.drillDown(e)})}drillDown(e){const n=this._injector.get("_parent",!1);if(!n)return!1;const r=n.getView(e.businessObject);return r?(n.open(r),!0):!1}}zJ.$inject=["injector","eventBus","overlays","config.drillDown","translate"];const nMe={__depends__:[Su,wr],__init__:["drillDown"],drillDown:["type",zJ]};function Br(t){this._container=this._createContainer(),jJ(this._container),this._init(this._container,t)}Oe(Br,go);Br.prototype.saveSVG=lg(function(t){var e=this;return new Promise(function(n){var r=e.get("canvas"),i=r.getActiveLayer(),o=Ue("defs",r._svg),s=Ox(i),a=o&&o.outerHTML||"",l=i.getBBox(),c=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with dmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+a+s+"</svg>";n({svg:c})})});Br.prototype.getModules=function(){return this._modules};Br.prototype.destroy=function(){go.prototype.destroy.call(this),Gn(this._container)};Br.prototype.on=function(t,e,n,r){return this.get("eventBus").on(t,e,n,r)};Br.prototype.off=function(t,e){this.get("eventBus").off(t,e)};Br.prototype._init=function(t,e){var{additionalModules:n,canvas:r,...i}=e,o=e.modules||this.getModules(),s=[{drd:["value",this]}],a=[...s,...o,...n||[]],l={...i,canvas:{...r,container:t},modules:a};go.call(this,l),e&&e.container&&this.attachTo(e.container)};Br.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)};Br.prototype._createContainer=function(){return at('<div class="dmn-drd-container"></div>')};Br.prototype.open=function(t){var e=this;return new Promise((n,r)=>{var i;try{return e._definitions&&e.clear(),e._definitions=t,XIe(e,t,function(o,s){o?(o.warnings=s||[],r(o)):n({warnings:s||[]})})}catch(o){i=o}i?(i.warnings=i.warnings||[],r(i)):n({warnings:[]})})};Br.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach();var e=this._container;t.appendChild(e),this._emit("attach",{}),this.get("canvas").resized()};Br.prototype.detach=function(){var t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))};Br.prototype._modules=[tMe,wr,$r,Su,Xk,nMe];function qJ(t){if(me(t,"dmn:Decision")||me(t,"dmn:BusinessKnowledgeModel")||me(t,"dmn:InputData")||me(t,"dmn:KnowledgeSource"))return"name";if(me(t,"dmn:TextAnnotation"))return"text"}function yv(t){var e=t.businessObject,n=qJ(e);if(n)return e[n]||""}function rMe(t,e,n){var r=t.businessObject,i=qJ(r);return i&&(r[i]=e),n&&(t.hidden=!e),t}function Yk(t,e,n){this._elementRegistry=t,this._canvas=n,e.registerProvider(this)}Yk.$inject=["elementRegistry","searchPad","canvas"];Yk.prototype.find=function(t){const e=this._canvas.getRootElement();let n=this._elementRegistry.filter(function(r){return!r.labelTarget});return n=Xe(n,function(r){return r!==e}),n=Nn(n,function(r){return{primaryTokens:OF(yv(r),t),secondaryTokens:OF(r.id,t),element:r}}),n=Xe(n,function(r){return kF(r.primaryTokens)||kF(r.secondaryTokens)}),n=br(n,function(r){return yv(r.element)+r.element.id}),n};function kF(t){return Xe(t,function(n){return!!n.matched}).length>0}function OF(t,e){const n=[],r=t;if(!t)return n;t=t.toLowerCase(),e=e.toLowerCase();const i=t.indexOf(e);return i>-1?(i!==0&&n.push({normal:r.substr(0,i)}),n.push({matched:r.substr(i,e.length)}),e.length+i<t.length&&n.push({normal:r.substr(e.length+i,t.length)})):n.push({normal:r}),n}const iMe={__depends__:[ZW],__init__:["dmnSearch"],dmnSearch:["type",Yk]};function Jl(t){Br.call(this,t)}Oe(Jl,Br);Jl.prototype._navigationModules=[mS,hS,iMe];Jl.prototype._modules=[].concat(Jl.prototype._modules,Jl.prototype._navigationModules);var oMe={width:135,height:46},VJ={width:180,height:80},sMe={width:125,height:45},aMe={width:100,height:63};function Nc(t){Fi.call(this),this._drdFactory=t}Oe(Nc,Fi);Nc.$inject=["drdFactory"];Nc.prototype.baseCreate=Fi.prototype.create;Nc.prototype.create=function(t,e){return this.createDrdElement(t,e)};Nc.prototype.createDrdElement=function(t,e){var n=this._drdFactory,r;e=e||{};var i=e.businessObject;if(!i){if(!e.type)throw new Error("no shape type specified");i=n.create(e.type)}return i.di||(t==="connection"?i.di=n.createDiEdge(i,[]):t==="shape"&&(i.di=n.createDiShape(i,{}))),r=this._getDefaultSize(i),e=re({businessObject:i,id:i.id},r,e),this.baseCreate(t,e)};Nc.prototype._getDefaultSize=function(t){return me(t,"dmn:BusinessKnowledgeModel")?oMe:me(t,"dmn:Decision")?VJ:me(t,"dmn:InputData")?sMe:me(t,"dmn:KnowledgeSource")?aMe:{width:100,height:80}};var W_="left",RF="right",lm=60,PF=VJ.width;function lMe(t,e){if(me(e,"dmn:TextAnnotation"))return cMe(t,e);if(me(e,"dmn:DRGElement"))return uMe(t,e)}function cMe(t,e){var n=De(t),r={x:n.right+e.width/2,y:n.top-50-e.height/2},i={y:{margin:-30,minDistance:20}};return Rh(t,e,r,Xv(i))}function uMe(t,e){var n=De(t),r=Le(t);function i(a){return a.target===t?1:-1}var o=DH(t,{defaultDistance:180,direction:"s",getWeight:i,filter:dMe,reference:"center"}),s={x:r.x,y:n.bottom+o};return Rh(t,e,s,fMe(t))}function dMe(t){return!me(t,"dmn:Association")}function AF(t,e){return Math.abs(e.x-t.x)}function fMe(t){var e=Le(t),n,r;return function(i,o,s){var a;return n?(o.x<e.x?n=s:r=s,AF(e,Le(n))<AF(e,Le(r))?a=W_:a=RF):(n=s,r=s,Le(s).x-e.x>0?a=W_:a=RF),a===W_?{x:Math.min(Le(n).x-PF-lm,De(n).left-lm-i.width/2),y:o.y}:{x:Math.max(Le(r).x+PF+lm,De(r).right+lm+i.width/2),y:o.y}}}function HJ(t){t.on("autoPlace",function(e){var n=e.shape,r=e.source;return lMe(r,n)})}HJ.$inject=["eventBus"];const hMe={__depends__:[NH],__init__:["dmnAutoPlace"],dmnAutoPlace:["type",HJ]};function UJ(t,e,n,r){function i(o,s,a){a=a||{};var l=s.type,c=o.businessObject,u=t.create(l),d={type:l,businessObject:u};if(d.width=o.width,d.height=o.height,u.name=c.name,s.table){var f=t.create("dmn:DecisionTable");f.$parent=u;var h=t.create("dmn:OutputClause");h.typeRef="string",h.$parent=f,f.output=[h];var p=t.create("dmn:InputClause");p.$parent=f;var m=t.create("dmn:LiteralExpression",{typeRef:"string"});p.inputExpression=m,m.$parent=p,f.input=[p],TF(u,f,t)}if(s.expression){var g=t.create("dmn:LiteralExpression"),v=t.create("dmn:InformationItem",{name:c.name});TF(u,g,t,v)}return e.replaceElement(o,d,a)}this.replaceElement=i}UJ.$inject=["drdFactory","replace","selection","modeling"];function TF(t,e,n,r){if(me(t,"dmn:Decision"))t.decisionLogic=e,e.$parent=t;else if(me(t,"dmn:BusinessKnowledgeModel")){var i=n.create("dmn:FunctionDefinition",{body:e});t.encapsulatedLogic=i,i.$parent=t,e.$parent=i}r&&(t.variable=r,r.$parent=t)}const pMe={__depends__:[YU,$r],drdReplace:["type",UJ]},IF={DECISION:[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}],BKM:[{label:"Empty",actionName:"replace-with-empty",className:"dmn-icon-clear",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:BusinessKnowledgeModel",table:!1,expression:!0}}]};function Lc(t,e,n,r,i,o){this._popupMenu=t,this._modeling=e,this._moddle=n,this._drdReplace=r,this._rules=i,this._translate=o,this.register()}Lc.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"];Lc.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)};Lc.prototype.getEntries=function(t){var e=t.businessObject,n=this._rules,r,i;return n.allowed("shape.replace",{element:t})?me(e,"dmn:Decision")?(i=pv(e),r=Xe(IF.DECISION,function(o){var s=o.actionName==="replace-with-empty-decision"&&i,a=o.actionName==="replace-with-decision-table"&&!me(i,"dmn:DecisionTable"),l=o.actionName==="replace-with-literal-expression"&&!me(i,"dmn:LiteralExpression");return s||a||l}),this._createEntries(t,r)):me(e,"dmn:BusinessKnowledgeModel")?(i=pv(e),r=Xe(IF.BKM,function(o){var s=o.actionName==="replace-with-empty"&&i,a=o.actionName==="replace-with-decision-table"&&!me(i,"dmn:DecisionTable"),l=o.actionName==="replace-with-literal-expression"&&!me(i,"dmn:LiteralExpression");return s||a||l}),this._createEntries(t,r)):[]:[]};Lc.prototype._createEntries=function(t,e){var n=[],r=this;return ee(e,function(i){var o=r._createMenuEntry(i,t);n.push(o)}),n};Lc.prototype._createMenuEntry=function(t,e,n){var r=this._drdReplace.replaceElement,i=this._translate,o=function(){return r(e,t.target)};n=n||o;var s={label:i(t.label),className:t.className,id:t.actionName,action:n};return s};Lc.prototype.getHeaderEntries=function(t){return[]};const mMe={__depends__:[wr,Gv,pMe],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Lc]};function Sp(t,e,n,r,i,o,s,a,l,c,u,d){u=u||{},e.registerProvider(this),this._contextPad=e,this._modeling=n,this._elementFactory=r,this._connect=i,this._create=o,this._rules=s,this._popupMenu=a,this._canvas=l,this._translate=c,u.autoPlace!==!1&&(this._autoPlace=d.get("autoPlace",!1)),t.on("create.end",250,function(f){var h=f.context.shape;if(M0(f)){var p=e.getEntries(h);p.replace&&p.replace.action.click(f,h)}})}Sp.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate","config.contextPad","injector"];Sp.prototype.getContextPadEntries=function(t){var e=this._modeling,n=this._elementFactory,r=this._connect,i=this._create,o=this._popupMenu,s=this._contextPad,a=this._rules,l=this._translate,c=this._autoPlace,u={};if(t.type==="label")return u;var d=t.businessObject;function f(v,y,_){r.start(v,y,_)}function h(v){e.removeElements([t])}function p(v){var y=5,_=s.getPad(v).html,b=_.getBoundingClientRect(),x={x:b.left,y:b.bottom+y};return x}function m(v,y,_,b){function x(E,S){var k=n.createShape(re({type:v},b));i.start(E,k,{source:S,hints:{connectionTarget:S}})}var w=c?function(E,S){var k=n.createShape(re({type:v},b));c.append(S,k,{connectionTarget:S})}:x;return{group:"model",className:y,title:_,action:{dragstart:x,click:w}}}me(d,"dmn:Decision")&&re(u,{"append.decision":m("dmn:Decision","dmn-icon-decision",l("Append decision"))}),Ar(d,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])&&re(u,{"append.knowledge-source":m("dmn:KnowledgeSource","dmn-icon-knowledge-source",l("Append knowledge source"))}),Ar(d,["dmn:BusinessKnowledgeModel","dmn:Decision"])&&re(u,{"append.business-knowledge-model":m("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge",l("Append business knowledge model"))}),Ar(d,["dmn:Decision","dmn:KnowledgeSource"])&&re(u,{"append.input-data":m("dmn:InputData","dmn-icon-input-data",l("Append input data"))}),me(d,"dmn:DRGElement")&&re(u,{"append.text-annotation":m("dmn:TextAnnotation","dmn-icon-text-annotation",l("Add text annotation")),connect:{group:"connect",className:"dmn-icon-connection-multi",title:l("Connect to other element"),action:{click:f,dragstart:f}}}),me(d,"dmn:TextAnnotation")&&re(u,{connect:{group:"connect",className:"dmn-icon-connection-multi",title:l("Connect to other element"),action:{click:f,dragstart:f}}}),o.isEmpty(t,"dmn-replace")||re(u,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:l("Change type"),action:{click:function(v,y){var _=re(p(y),{cursor:{x:v.x,y:v.y}});o.open(y,"dmn-replace",_)}}}});var g=a.allowed("elements.delete",{elements:[t]});return Fe(g)&&(g=g[0]===t),g&&re(u,{delete:{group:"edit",className:"dmn-icon-trash",title:l("Delete"),action:{click:h}}}),u};Sp.prototype.getMultiElementContextPadEntries=function(t){var e=this._modeling,n=this._translate,r={};return this._isDeleteAllowed(t)&&re(r,{delete:{group:"edit",className:"dmn-icon-trash",title:n("Delete"),action:{click:(i,o)=>e.removeElements(o.slice())}}}),r};Sp.prototype._isDeleteAllowed=function(t){var e=this._rules.allowed("elements.delete",{elements:t});return Fe(e)?ui(t,n=>e.includes(n)):e};const gMe={__depends__:[wr,gS,$r,Zv,Iu,mMe],__init__:["contextPadProvider"],contextPadProvider:["type",Sp]},vMe=/\s/,yMe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,bMe=/^[a-z_][\w-.]*$/i,_Me=/\$\{([^}]*)\}/g;function xMe(t,e){const n=t.$model.ids.assigned(e),r=n&&n!==t;return e?r?"Element must have unique ID.":wMe(e):"Element must have ID."}function wMe(t){if(t=SMe(t),EMe(t))return"Id must not contain spaces.";if(!bMe.test(t))return yMe.test(t)?"Id must not contain prefix.":"Id must be a valid QName."}function EMe(t){return vMe.test(t)}function SMe(t){return t.replace(_Me,"$1")}var CMe=300;function rd(t,e,n,r,i){this._eventBus=t,this._modeling=e,this._canvas=n,this._definitionPropertiesView=r,this._translate=i,t.on("definitionIdView.create",function(o){this._container=o.html;var s=Ue(".dmn-definitions-name",this._container),a=Ue(".dmn-definitions-id",this._container);this._setup(s,"name"),this._setup(a,"id")},this)}rd.$inject=["eventBus","modeling","canvas","definitionPropertiesView","translate"];rd.prototype.update=function(t,e){var n=this._canvas.getRootElement(),r={};if(r[t]=e,t==="id"){var i=xMe(vr(n),e);if(i){this._addErrorMessage(i);return}this._clearErrorMessage()}this._modeling.updateProperties(n,r)};rd.prototype._setup=function(t,e){var n=this;t.setAttribute("contenteditable",!0),t.addEventListener("input",_u(function(r){var i=r.target.value||r.target.textContent;n.update(e,i.trim())},CMe)),t.addEventListener("keydown",function(r){r.keyCode===13&&(t.blur(),window.getSelection().removeAllRanges())}),t.addEventListener("blur",function(){n._clearErrorMessage(),n._definitionPropertiesView.update()})};rd.prototype._addErrorMessage=function(t){const e='<span class="dmn-definitions-error-message">'+this._translate(t)+"</span>";var n=Ue(".dmn-definitions-id",this._container);this._clearErrorMessage(),et(n).add("dmn-definitions-error"),n.parentElement.appendChild(at(e))};rd.prototype._clearErrorMessage=function(){var t=Ue(".dmn-definitions-id",this._container);if(et(t).has("dmn-definitions-error")){et(t).remove("dmn-definitions-error");const e=Ue(".dmn-definitions-error-message",this._container);t.parentNode.removeChild(e)}};const kMe={__depends__:[Xk],__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",rd],definitionPropertiesPaletteAdapter:["type",Kk]};function WJ(t){t.registerFilter(function(e){return Xe(e,function(n){var r=Ar(n,["dmn:AuthorityRequirement","dmn:InformationRequirement","dmn:KnowledgeRequirement","dmn:Association","dmn:TextAnnotation"]);return!(n.labelTarget||r)})})}WJ.$inject=["distributeElements"];const OMe={__depends__:[bW],__init__:["drdDistributeElements"],drdDistributeElements:["type",WJ]};function $y(t){t.invoke(Lr,this)}Oe($y,Lr);$y.$inject=["injector"];$y.prototype._registerDefaultActions=function(t){Lr.prototype._registerDefaultActions.call(this,t);const e=t.get("canvas",!1),n=t.get("elementRegistry",!1),r=t.get("selection",!1),i=t.get("lassoTool",!1),o=t.get("handTool",!1),s=t.get("directEditing",!1),a=t.get("distributeElements",!1),l=t.get("alignElements",!1),c=t.get("searchPad",!1);e&&n&&r&&this._registerAction("selectElements",function(){var u=e.getRootElement(),d=n.filter(function(f){return f!==u});return r.select(d),d}),r&&a&&this._registerAction("distributeElements",function(u){var d=r.get(),f=u.type;d.length>2&&a.trigger(d,f)}),r&&l&&this._registerAction("alignElements",function(u){var d=r.get(),f=u.type;d.length>1&&l.trigger(d,f)}),i&&this._registerAction("lassoTool",function(){i.toggle()}),o&&this._registerAction("handTool",function(){o.toggle()}),r&&s&&this._registerAction("directEditing",function(){var u=r.get();u.length&&s.activate(u[0])}),r&&c&&this._registerAction("find",function(){c.toggle()})};const RMe={__depends__:[xW],editorActions:["type",$y]};function GJ(t){return t.dmnDI&&t.dmnDI.diagrams&&t.dmnDI.diagrams[0]}function KJ(t,e,n,r){function i(o){var s=o.dmnDI;s||(s=t.create("dmndi:DMNDI"),o.set("dmnDI",s));var a=t.create("dmndi:DMNDiagram");s.set("diagrams",[a]);var l=0;ee(o.get("drgElement"),function(c){if(me(c,"dmn:Decision")){var u=e._getDefaultSize(c),d=t.createDiShape(c,{x:150+l*30,y:150+l*30,width:u.width,height:u.height});r.updateDiParent(d,a),l++}})}n.on("import.start",({definitions:o})=>{GJ(o)||i(o)})}KJ.$inject=["drdFactory","elementFactory","eventBus","drdUpdater"];const PMe={__init__:["diGenerator"],diGenerator:["type",KJ]};function Ny(t){t.invoke(Hs,this)}Oe(Ny,Hs);Ny.$inject=["injector"];Ny.prototype.registerBindings=function(t,e){Hs.prototype.registerBindings.call(this,t,e);function n(r,i){e.isRegistered(r)&&t.addListener(i)}n("selectElements",function(r){var i=r.keyEvent;if(t.isKey(["a","A"],i)&&t.isCmd(i))return e.trigger("selectElements"),!0}),n("lassoTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["l","L"],i))return e.trigger("lassoTool"),!0}),n("handTool",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["h","H"],i))return e.trigger("handTool"),!0}),n("directEditing",function(r){var i=r.keyEvent;if(!t.hasModifier(i)&&t.isKey(["e","E"],i))return e.trigger("directEditing"),!0}),n("find",function(r){var i=r.keyEvent;if(t.isKey(["f","F"],i)&&t.isCmd(i))return e.trigger("find"),!0})};const AMe={__depends__:[kh],__init__:["keyboardBindings"],keyboardBindings:["type",Ny]};var XJ="djs-label-hidden";function Cp(t,e,n,r,i){this._canvas=t,this._modeling=r,this._textRenderer=i,this._eventBus=n,e.registerProvider(this),n.on("element.dblclick",function(o){e.activate(o.element)}),n.on(["autoPlace.start","canvas.viewbox.changing","drag.init","drillDown.click","element.mousedown","popupMenu.open","selection.changed"],function(){e.complete()}),n.on(["commandStack.changed"],function(){e.cancel()}),n.on("create.end",500,function(o){var s=o.shape;(me(s,"dmn:Decision")||me(s,"dmn:InputData")||me(s,"dmn:BusinessKnowledgeModel")||me(s,"dmn:KnowledgeSource")||me(s,"dmn:TextAnnotation"))&&e.activate(s)}),n.on("autoPlace.end",500,function(o){e.activate(o.shape)}),this._eventBus.on(["directEditing.complete","directEditing.cancel"],function(o){var s=o.active;if(s){var a=s.element.label||s.element;t.removeMarker(a,XJ)}})}Cp.$inject=["canvas","directEditing","eventBus","modeling","textRenderer"];Cp.prototype.activate=function(t){var e=yv(t);if(Jt(e)){var n={text:e},r=this.getEditingBBox(t);re(n,r);var i={},o=n.style||{};return me(t,"dmn:DRGElement")&&(re(i,{centerVertically:!0}),re(o,{backgroundColor:null,border:null})),me(t,"dmn:TextAnnotation")&&re(i,{resizable:!0}),re(n,{options:i,style:o}),this._canvas.addMarker(t,XJ),n}};Cp.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,r=e.getAbsoluteBBox(n),i={x:r.x,y:r.y},o=e.zoom(),s=this._textRenderer.getDefaultStyle(),a=s.fontSize*o,l=s.lineHeight,c={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};return me(t,"dmn:DRGElement")&&(re(i,{width:r.width,height:r.height}),re(c,{fontSize:a+"px",lineHeight:l,paddingTop:7*o+"px",paddingBottom:7*o+"px",paddingLeft:5*o+"px",paddingRight:5*o+"px"})),me(t,"dmn:TextAnnotation")&&(re(i,{width:r.width,height:r.height,minWidth:30*o,minHeight:10*o}),re(c,{textAlign:"left",paddingTop:5*o+"px",paddingBottom:7*o+"px",paddingLeft:7*o+"px",paddingRight:5*o+"px",fontSize:a+"px",lineHeight:l})),{bounds:i,style:c}};Cp.prototype.update=function(t,e,n,r){var i,o;me(t,"dmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(t),i={x:t.x,y:t.y,width:t.width/o.width*r.width,height:t.height/o.height*r.height}),TMe(e)&&(e=null),this._modeling.updateLabel(t,e,i)};function TMe(t){return!t||!t.trim()}const IMe={__depends__:[d2,Ch,IC],__init__:["labelEditingProvider"],labelEditingProvider:["type",Cp]};function Qk(t,e){e.invoke(xe,this),this.preExecute("connection.create",function(n){var r=n.connection,i=r.businessObject,o=n.source,s=n.target,a,l,c;me(r,"dmn:Association")?(l=i.sourceRef=t.create("dmn:DMNElementReference",{href:"#"+o.id}),l.$parent=i,c=i.targetRef=t.create("dmn:DMNElementReference",{href:"#"+s.id}),c.$parent=i):(a=i["required"+DMe(o)]=t.create("dmn:DMNElementReference",{href:"#"+o.id}),a.$parent=i)},!0)}Qk.$inject=["drdFactory","injector"];Oe(Qk,xe);function DMe(t){if(me(t,"dmn:BusinessKnowledgeModel"))return"Knowledge";if(me(t,"dmn:Decision"))return"Decision";if(me(t,"dmn:InputData"))return"Input";if(me(t,"dmn:KnowledgeSource"))return"Authority"}var MMe=500;function Zk(t,e,n,r){t.invoke(xe,this),this.preExecute(["connection.create","connection.reconnect"],function(o){var s=o.connection,a=o.newSource||o.source,l=o.newTarget||o.target;if(!(me(s,"dmn:InformationRequirement")&&!r.allowed("connection.connect",{connection:s,source:a,target:l}))&&me(s,"dmn:InformationRequirement")){var c=Ft(a,l);o.hints||(o.hints={}),re(o.hints,$Me(a,l,c))}},!0);function i(o,s,a){s||(s=o.incoming.filter(function(c){return me(c,"dmn:InformationRequirement")}));var l={};a?l[a]=s:l=LMe(o,s),ee(l,function(c,u){c=jMe(c,u);var d=NMe(c,o,u);c.forEach((f,h)=>{var p=d[h].start,m=d[h].end,g=e.layoutConnection(f,{connectionStart:p,connectionEnd:m});n.updateWaypoints(f,g)})})}this.postExecuted(["connection.create","connection.delete","connection.reconnect"],function(o){var s=o.connection,a=s.source||o.source,l=s.target||o.target;if(me(s,"dmn:InformationRequirement")){var c=Ft(a,l),u=l.incoming.filter(d=>{var f=Ft(d.source,d.target);return me(d,"dmn:InformationRequirement")&&DF(f,c)});u.length&&i(l,u,c)}},!0),this.preExecute("connection.reconnect",function(o){var s=o.connection,a=s.source,l=s.target;if(me(s,"dmn:InformationRequirement")){var c=Ft(a,l),u=l.incoming.filter(d=>{var f=Ft(d.source,d.target);return d!==s&&me(d,"dmn:InformationRequirement")&&DF(f,c)});u.length&&i(l,u,c)}},!0),this.postExecuted("elements.move",MMe,function(o){var s=o.shapes,a=o.closure,l=a.enclosedConnections;s.forEach(function(c){if(Ar(c,["dmn:Decision","dmn:InputData"])){var u=c.incoming.filter(function(d){return me(d,"dmn:InformationRequirement")&&!l[d.id]});u.length&&i(c,u),c.outgoing.forEach(function(d){!me(d,"dmn:InformationRequirement")||l[d.id]||i(d.target)})}})},!0)}Zk.$inject=["injector","layouter","modeling","rules"];Oe(Zk,xe);function $Me(t,e,n){var r=Le(t),i=Le(e);return n.includes("bottom")?(r.y=t.y,i.y=e.y+e.height):n.includes("top")?(r.y=t.y+t.height,i.y=e.y):n.includes("right")?(r.x=t.x,i.x=e.x+e.width):(r.x=t.x+t.width,i.x=e.x),{connectionStart:r,connectionEnd:i}}function NMe(t,e,n){return t.map(function(r,i){var o=r.source,s=Le(o),a=De(o),l=De(e),c=t.length;return n.includes("bottom")?{start:{x:s.x,y:a.top},end:{x:l.left+e.width/(c+1)*(i+1),y:l.bottom}}:n.includes("top")?{start:{x:s.x,y:a.bottom},end:{x:l.left+e.width/(c+1)*(i+1),y:l.top}}:n.includes("right")?{start:{x:a.left,y:s.y},end:{x:l.right,y:l.top+e.height/(c+1)*(i+1)}}:{start:{x:a.right,y:s.y},end:{x:l.left,y:l.top+e.height/(c+1)*(i+1)}}})}function LMe(t,e){var n={};return e.forEach(function(r){var i=Ft(r.source,t).split("-").shift();n[i]||(n[i]=[]),n[i].push(r)}),n}function DF(t,e){return t&&e&&t.split("-").shift()===e.split("-").shift()}function jMe(t,e){var n;return e.includes("top")||e.includes("bottom")?n="x":n="y",t.sort(function(r,i){return Le(r.source)[n]-Le(i.source)[n]})}function Jk(t,e,n){t.invoke(xe,this),this.preExecute("connection.reconnect",function(r){var i=r.connection,o=r.newSource||i.source,s=r.newTarget||i.target,a=i.waypoints.slice(),l=n.allowed("connection.reconnect",{connection:i,source:o,target:s});!l||l.type===i.type||(r.connection=e.connect(o,s,{type:l.type,waypoints:a}),e.removeConnection(i))},!0)}Oe(Jk,xe);Jk.$inject=["injector","modeling","rules"];function eO(t,e,n){xe.call(this,t),this._modeling=e,this.postExecuted(["shape.replace"],1500,function(r){var i=r.context,o=i.oldShape,s=i.newShape;e.unclaimId(o.businessObject.id,o.businessObject),e.updateProperties(s,{id:o.id}),n.select(s)})}Oe(eO,xe);eO.$inject=["eventBus","modeling","selection"];const MF="id";class kp extends xe{constructor(e){super(e),this.executed("element.updateProperties",this.updateIds.bind(this))}updateIds({context:e}){const{element:n,oldProperties:r,properties:i}=e,o=vr(n);if(this.shouldSkipUpdate(o,r,i))return;const s=FMe(o);s.get("drgElement").forEach(c=>{zMe(c,r.id,i.id)}),s.get("artifact").forEach(c=>{qMe(c,r.id,i.id)})}shouldSkipUpdate(e,n,r){return!BMe(n,r)||!me(e,"dmn:DRGElement")&&!me(e,"dmn:TextAnnotation")}}kp.$inject=["eventBus"];function BMe(t,e){return MF in t&&MF in e}function FMe(t){let e=t;for(;!me(e,"dmn:Definitions");)e=e.$parent;return e}function zMe(t,e,n){ee({authorityRequirement:()=>{t.authorityRequirement.forEach(i=>{const{requiredAuthority:o,requiredDecision:s,requiredInput:a}=i;o&&o.href===`#${e}`&&(o.href=`#${n}`),s&&s.href===`#${e}`&&(s.href=`#${n}`),a&&a.href===`#${e}`&&(a.href=`#${n}`)})},informationRequirement:()=>{t.informationRequirement.forEach(i=>{const{requiredDecision:o,requiredInput:s}=i;o&&o.href===`#${e}`&&(o.href=`#${n}`),s&&s.href===`#${e}`&&(s.href=`#${n}`)})},knowledgeRequirement:()=>{t.knowledgeRequirement.forEach(i=>{const{requiredKnowledge:o}=i;o&&o.href===`#${e}`&&(o.href=`#${n}`)})}},(i,o)=>{t[o]&&i()})}function qMe(t,e,n){ee({sourceRef:()=>{const{sourceRef:i}=t;i.href===`#${e}`&&(i.href=`#${n}`)},targetRef:()=>{const{targetRef:i}=t;i.href===`#${e}`&&(i.href=`#${n}`)}},(i,o)=>{t[o]&&i()})}var hx;let tO=(hx=class extends xe{constructor(n,r){super(n);ye(this,"updateVariableFromLabel",({context:n})=>{const{element:r,newLabel:i}=n,o=vr(r),s=o.variable;s&&this._modeling.updateProperties(s,{name:i})});ye(this,"updateVariableFromElement",({context:n})=>{const{element:r,properties:i}=n,o=vr(r);o.variable&&(me(r,"dmn:Decision")||me(r,"dmn:BusinessKnowledgeModel"))&&this.isNameChanged(i)&&(this.isVariable(r)||this.shouldSyncVariable(r)||this.syncElementVariableChange(o))});this._modeling=r,this.postExecuted("element.updateProperties",this.updateVariableFromElement),this.postExecuted("element.updateLabel",this.updateVariableFromLabel)}isNameChanged(n){return"name"in n}isVariable(n){const r=VMe(n);return me(n,"dmn:InformationItem")&&r&&r.get("variable")===n}shouldSyncVariable(n){const r=vr(n),i=r.get("variable");return i&&r.name===i.name}syncElementVariableChange(n){const r=n.get("name"),i=n.variable;this._modeling.updateProperties(i,{name:r})}},ye(hx,"$inject",["eventBus","modeling"]),hx);function VMe(t){return t.$parent}const HMe={__init__:["createConnectionBehavior","idChangeBehavior","nameChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",Qk],idChangeBehavior:["type",kp],nameChangeBehavior:["type",tO],layoutConnectionBehavior:["type",Zk],replaceConnectionBehavior:["type",Jk],replaceElementBehavior:["type",eO]};function jc(t){t.invoke(Nr,this)}Oe(jc,Nr);jc.$inject=["injector"];jc.prototype.init=function(){this.addRule("connection.create",function(t){var e=t.source,n=t.target;return dE(e,n)}),this.addRule("connection.reconnect",function(t){t.connection;var e=t.source,n=t.target;return dE(e,n)}),this.addRule("connection.updateWaypoints",function(t){const e=t.connection;return{type:e.type,businessObject:e.businessObject}}),this.addRule("elements.move",function(t){var e=t.target,n=t.shapes;return t.position,QJ(n,e)}),this.addRule("shape.create",function(t){var e=t.shape,n=t.target;return YJ(e,n)}),this.addRule("shape.resize",function(t){var e=t.shape;return me(e,"dmn:TextAnnotation")})};jc.prototype.canConnect=dE;jc.prototype.canCreate=YJ;jc.prototype.canMove=QJ;function dE(t,e){if(!t||$F(t)||!e||$F(e))return null;if(t===e)return!1;if(me(t,"dmn:BusinessKnowledgeModel")&&Ar(e,["dmn:BusinessKnowledgeModel","dmn:Decision"]))return{type:"dmn:KnowledgeRequirement"};if(me(t,"dmn:Decision")){if(me(e,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(me(e,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}if(me(t,"dmn:Definitions")||me(e,"dmn:Definitions"))return!1;if(me(t,"dmn:InputData")){if(me(e,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(me(e,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return me(t,"dmn:KnowledgeSource")&&Ar(e,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:me(t,"dmn:TextAnnotation")&&!me(e,"dmn:TextAnnotation")||!me(t,"dmn:TextAnnotation")&&me(e,"dmn:TextAnnotation")?{type:"dmn:Association"}:!1}function YJ(t,e){return Ar(t,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation"])&&me(e,"dmn:Definitions")}function QJ(t,e){return Fe(t)||(t=[t]),!!(!e||ui(t,function(n){return Ar(n,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation","dmn:InformationRequirement","dmn:AuthorityRequirement","dmn:KnowledgeRequirement","dmn:Association"])})&&me(e,"dmn:Definitions"))}function $F(t){return!!t.labelTarget}const UMe={__depends__:[qi],__init__:["drdRules"],drdRules:["type",jc]};function So(t){this._model=t}So.$inject=["moddle"];So.prototype._needsId=function(t){return Ar(t,["dmn:Artifact","dmn:DMNElement","dmn:DRGElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])};So.prototype._ensureId=function(t){var e=(t.$type||"").replace(/^[^:]*:/g,"")+"_";!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(e,t))};So.prototype.create=function(t,e){var n=this._model.create(t,e||{});return this._ensureId(n),n};So.prototype.createDiShape=function(t,e,n){return this.create("dmndi:DMNShape",re({dmnElementRef:t,bounds:this.createDiBounds(e)},n))};So.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)};So.prototype.createDiEdge=function(t,e,n){return this.create("dmndi:DMNEdge",{dmnElementRef:t,waypoint:this.createDiWaypoints(e)},n)};So.prototype.createDiWaypoints=function(t){var e=this;return t.map(function(n){return e.createDiWaypoint(n)})};So.prototype.createDiWaypoint=function(t){return this.create("dc:Point",Ii(t,["x","y"]))};So.prototype.createExtensionElements=function(){return this.create("dmn:ExtensionElements",{values:[]})};function sl(t,e,n,r,i){i.invoke(xe,this),this._definitionPropertiesView=e,this._drdFactory=n,this._drdRules=r;var o=this;function s(d){var f=d.connection,h=d.cropped;h||(f.waypoints=t.getCroppedWaypoints(f),d.cropped=!0)}this.executed(["connection.create","connection.layout"],s,!0),this.reverted(["connection.layout"],function(d){delete d.cropped},!0);function a(d){var f=d.connection,h=d.parent,p=d.shape;f&&!me(f,"dmn:Association")&&(h=f.target),o.updateParent(p||f,h)}function l(d){var f=d.connection,h=d.shape,p=d.parent||d.newParent;f&&!me(f,"dmn:Association")&&(p=f.target),o.updateParent(h||f,p)}this.executed(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],a,!0),this.reverted(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],l,!0);function c(d){var f=d.shape;(me(f,"dmn:DRGElement")||me(f,"dmn:TextAnnotation"))&&o.updateBounds(f)}this.executed(["shape.create","shape.move","shape.resize"],c,!0),this.reverted(["shape.create","shape.move","shape.resize"],c,!0);function u(d){o.updateConnectionWaypoints(d)}this.executed(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],u,!0),this.reverted(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],u,!0),this.executed("connection.create",function(d){var f=d.connection,h=f.businessObject,p=d.target,m=p.businessObject;me(f,"dmn:Association")?a(d):o.updateSemanticParent(h,m)},!0),this.reverted("connection.create",function(d){l(d)},!0),this.executed("connection.reconnect",function(d){var f=d.connection,h=f.businessObject,p=d.newTarget,m=p.businessObject;me(h,"dmn:Association")||o.updateSemanticParent(h,m)},!0),this.reverted("connection.reconnect",function(d){var f=d.connection,h=f.businessObject,p=d.oldTarget,m=p.businessObject;me(h,"dmn:Association")||o.updateSemanticParent(h,m)},!0),this.executed("element.updateProperties",function(d){e.update()},!0),this.reverted("element.updateProperties",function(d){e.update()},!0)}Oe(sl,xe);sl.$inject=["connectionDocking","definitionPropertiesView","drdFactory","drdRules","injector"];sl.prototype.updateBounds=function(t){var e=t.businessObject,n=e.di.bounds;re(n,{x:t.x,y:t.y,width:t.width,height:t.height})};sl.prototype.updateConnectionWaypoints=function(t){var e=this._drdFactory,n=t.connection,r=n.businessObject,i=r.di;i.waypoint=e.createDiWaypoints(n.waypoints).map(function(o){return o.$parent=i,o})};sl.prototype.updateParent=function(t,e){var n=t.parent;!me(t,"dmn:DRGElement")&&!me(t,"dmn:Artifact")&&(n=e);var r=t.businessObject,i=n&&n.businessObject;this.updateSemanticParent(r,i),this.updateDiParent(r.di,i&&i.di)};sl.prototype.updateSemanticParent=function(t,e){var n,r;t.$parent!==e&&(me(t,"dmn:DRGElement")?r="drgElement":me(t,"dmn:Artifact")?r="artifact":me(t,"dmn:InformationRequirement")?r="informationRequirement":me(t,"dmn:AuthorityRequirement")?r="authorityRequirement":me(t,"dmn:KnowledgeRequirement")&&(r="knowledgeRequirement"),t.$parent&&(n=t.$parent.get(r),nn(n,t)),e?(n=e.get(r),n&&(n.push(t),t.$parent=e)):t.$parent=null)};sl.prototype.updateDiParent=function(t,e){if(t.$parent!==e)if(Ar(t,["dmndi:DMNEdge","dmndi:DMNShape"])){for(var n=e||t;!me(n,"dmndi:DMNDiagram");)n=n.$parent;var r=n.get("diagramElements");e?(t.$parent=n,un(r,t)):(t.$parent=null,nn(r,t))}else throw new Error("unsupported")};function Ly(t){this._moddle=t}Ly.$inject=["moddle"];Ly.prototype.execute=function(t){var e=this._moddle.ids,n=t.id,r=t.element,i=t.claiming;i?e.claim(n,r):e.unclaim(n)};Ly.prototype.revert=function(t){var e=this._moddle.ids,n=t.id,r=t.element,i=t.claiming;i?e.unclaim(n):e.claim(n,r)};function WMe(){function t(r,i){var o=r.label||r,s=r.labelTarget||r;return rMe(o,i,s!==o),[o,s]}function e(r){return r.oldLabel=yv(r.element),t(r.element,r.newLabel)}function n(r){return t(r.element,r.oldLabel)}this.execute=e,this.revert=n}const GMe="name",Ds="id";function jy(t,e){this._elementRegistry=t,this._moddle=e}jy.$inject=["elementRegistry","moddle"];jy.prototype.execute=function(t){const{element:e,properties:n}=t,r=[e];if(!e)throw new Error("element required");const i=this._elementRegistry,o=this._moddle.ids,s=vr(e),a=t.oldProperties||KMe(s,js(n));return ZJ(n,s)&&(o.unclaim(s[Ds]),i.updateId(e,n[Ds]),o.claim(n[Ds],s)),GMe in n&&e.label&&r.push(e.label),JJ(s,n),t.oldProperties=a,t.changed=r,r};jy.prototype.revert=function(t){const{element:e,properties:n,oldProperties:r}=t,i=vr(e),o=this._elementRegistry,s=this._moddle.ids;return JJ(i,r),ZJ(n,i)&&(s.unclaim(n[Ds]),o.updateId(e,r[Ds]),s.claim(r[Ds],i)),t.changed};function ZJ(t,e){return Ds in t&&t[Ds]!==e[Ds]}function KMe(t,e){return cn(e,function(n,r){return n[r]=t.get(r),n},{})}function JJ(t,e){ee(e,function(n,r){t.set(r,n)})}function By(t){this._elementRegistry=t}By.$inject=["elementRegistry"];By.prototype.execute=function(t){var e=t.element,n=t.moddleElement,r=t.properties;if(!n)throw new Error("<moddleElement> required");var i=t.changed||[e],o=t.oldProperties||XMe(n,js(r));return eee(n,r),t.oldProperties=o,t.changed=i,i};By.prototype.revert=function(t){var e=t.oldProperties,n=t.moddleElement,r=t.changed;return eee(n,e),r};function XMe(t,e){return cn(e,function(n,r){return n[r]=t.get(r),n},{})}function eee(t,e){ee(e,function(n,r){t.set(r,n)})}function is(t,e,n){this._canvas=t,this._drdRules=e,n.invoke(kt,this)}Oe(is,kt);is.$inject=["canvas","drdRules","injector"];is.prototype.claimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e,claiming:!0})};is.prototype.connect=function(t,e,n,r){var i=this._drdRules,o=this._canvas.getRootElement();return n||(n=i.canConnect(t,e)||{type:"dmn:Association"}),this.createConnection(t,e,n,o,r)};is.prototype.getHandlers=function(){var t=kt.prototype.getHandlers.call(this);return t["id.updateClaim"]=Ly,t["element.updateLabel"]=WMe,t["element.updateProperties"]=jy,t["element.updateModdleProperties"]=By,t};is.prototype.unclaimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e})};is.prototype.updateModdleProperties=function(t,e,n){this._commandStack.execute("element.updateModdleProperties",{element:t,moddleElement:e,properties:n})};is.prototype.updateProperties=function(t,e){this._commandStack.execute("element.updateProperties",{element:t,properties:e})};is.prototype.updateLabel=function(t,e,n,r){this._commandStack.execute("element.updateLabel",{element:t,newLabel:e,newBounds:n,hints:r||{}})};var cm=20;function Fy(t){this._connectionDocking=t}Oe(Fy,RC);Fy.$inject=["connectionDocking"];Fy.prototype.layoutConnection=function(t,e){var n=this._connectionDocking;e||(e={});var r=e.source||t.source,i=e.target||t.target,o=e.waypoints||t.waypoints||[],s=e.connectionStart,a=e.connectionEnd,l=Ft(r,i);if(s||(s=NF(o[0],r)),a||(a=NF(o[o.length-1],i)),me(t,"dmn:InformationRequirement")){o=[s,a];var c=n.getCroppedWaypoints(re({},t,{waypoints:o}),r,i);a=c.pop();var u={x:a.x,y:a.y};return l.includes("bottom")?u.y+=cm:l.includes("top")?u.y-=cm:l.includes("right")?u.x+=cm:u.x-=cm,o=c.concat([u,a]),o}return[s,a]};function NF(t,e){return t?t.original||t:Le(e)}const YMe={__init__:["modeling","drdUpdater"],__depends__:[HMe,UMe,Xk,d2,$r,Ch],drdFactory:["type",So],drdUpdater:["type",sl],elementFactory:["type",Nc],modeling:["type",is],layouter:["type",Fy],connectionDocking:["type",Xs]},QMe=`
M2.45221 16.0068L18.7175 1.74436L18.0615 0.996331L18.7175 1.74436C19.2646 1.26455 19.9676 
1 20.6953 1H140.926C142.583 1 143.926 2.34295 143.926 3.99967L143.93 37.5457C143.93 
38.3668 143.593 39.152 142.999 39.7183L143.689 40.4424L142.999 39.7183L127.299 
54.6723C126.741 55.2036 126 55.5 125.23 55.5H4.53787C2.88599 55.5 1.54491 54.1646 1.5379 
52.5127L1.43066 27.229L1.43065 27.2248L1.4301 18.2626C1.43005 
17.3986 1.80255 16.5765 2.45221 16.0068Z
`,ZMe=`
M1.79494 63.0032L1.2941 63.6423L1.79493 63.0032C1.71778 62.9427 1.6428 62.8741 1.57288 
62.8L1.01736 63.3241L1.57288 62.8C1.20495 62.41 1 61.8941 1 61.3579V2.65067C1 1.74066 
1.73867 1.00345 2.64868 1.00526L108.006 1.2145C109.66 1.21778 111 2.55996 111 
4.21449V21.7015V61.6762C111 63.3188 109.679 64.656 108.037 64.676L107.06 64.6879C106.66 
64.6927 106.26 64.6165 105.89 64.4652C105.04 64.1176 104.222 63.78 103.43 
63.4531C93.4866 59.3517 87.6891 56.9603 76.3991 58.1057C71.7035 58.5821 66.8747 60.74 
61.5721 63.1744C61.3243 63.2881 61.0753 63.4026 60.825 63.5177C55.6712 65.8868 49.9696 
68.5077 43.2365 70.3468C31.101 73.6617 15.2135 73.5179 1.79494 63.0032Z
`,JMe={width:135,height:46},e$e={width:100,height:63};function LF(t,e,n){return Me("path",{d:t,strokeWidth:2,transform:`translate(${e.x}, ${e.y})`,...n})}const jF=5;function zy(t,e){this._styles=e,t.registerProvider(this)}zy.$inject=["outline","styles"];zy.prototype.getOutline=function(t){const e=this._styles.cls("djs-outline",["no-fill"]);var n;return me(t,"dmn:InputData")?(n=Me("rect"),Ce(n,re({x:-5,y:-5,rx:27,width:t.width+jF*2,height:t.height+jF*2},e))):me(t,"dmn:BusinessKnowledgeModel")&&BF(t,"dmn:BusinessKnowledgeModel")?n=LF(QMe,{x:-6,y:-6},e):me(t,"dmn:KnowledgeSource")&&BF(t,"dmn:KnowledgeSource")&&(n=LF(ZMe,{x:-6,y:-1.5},e)),n};zy.prototype.updateOutline=function(t){return!!Ar(t,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])};function BF(t,e){var n;return e==="dmn:BusinessKnowledgeModel"?n=JMe:e==="dmn:KnowledgeSource"&&(n=e$e),t.width===n.width&&t.height===n.height}const t$e={__depends__:[jC],__init__:["outlineProvider"],outlineProvider:["type",zy]};function nO(t,e,n,r,i,o){this._palette=t,this._create=e,this._elementFactory=n,this._handTool=r,this._lassoTool=i,this._translate=o,t.registerProvider(this)}nO.$inject=["palette","create","elementFactory","handTool","lassoTool","translate"];nO.prototype.getPaletteEntries=function(t){var e={},n=this._create,r=this._elementFactory,i=this._handTool,o=this._lassoTool,s=this._translate;function a(l,c,u,d,f){function h(p){var m=r.createShape(re({type:l},f));n.start(p,m)}return{group:c,className:u,title:d,action:{dragstart:h,click:h}}}return re(e,{"hand-tool":{group:"tools",className:"dmn-icon-hand-tool",title:s("Activate hand tool"),action:{click:function(l){i.activateHand(l)}}},"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:s("Activate lasso tool"),action:{click:function(l){o.activateSelection(l)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":a("dmn:Decision","drd","dmn-icon-decision",s("Create decision")),"create.input-data":a("dmn:InputData","drd","dmn-icon-input-data",s("Create input data")),"create.knowledge-source":a("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source",s("Create knowledge source")),"create.business-knowledge-model":a("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge",s("Create knowledge model"))}),e};const n$e={__depends__:[wr,FW,Iu,qW,HW],__init__:["paletteProvider"],paletteProvider:["type",nO]};var r$e="reconnectStart",i$e="reconnectEnd",o$e=2e3;function tee(t){t.on(["bendpoint.move.move","bendpoint.move.end"],o$e,function(e){var n=e.context,r=n.allowed,i=n.hover,o=n.source,s=n.target,a=n.type;if(n.hints||(n.hints={}),delete n.hints.connectionStart,delete n.hints.connectionEnd,!(r&&r.type!=="dmn:InformationRequirement")&&!(!i||!Ar(i,["dmn:Decision","dmn:InputData"]))&&o!==s){var l=a===r$e||a===i$e,c=Ft(o,s);l&&i===o?(s$e(e,c),n.hints.connectionEnd=ree(s,c)):l&&i===s&&(n.hints.connectionStart=nee(o,c),a$e(e,c))}})}tee.$inject=["eventBus"];function nee(t,e){var n=De(t),r=Le(t);return e.includes("bottom")?r.y=n.top:e.includes("top")?r.y=n.bottom:e.includes("right")?r.x=n.left:r.x=n.right,r}function ree(t,e){var n=De(t),r=Le(t);return e.includes("bottom")?r.y=n.bottom:e.includes("top")?r.y=n.top:e.includes("right")?r.x=n.right:r.x=n.left,r}function s$e(t,e){var n=t.context,r=n.source,i=nee(r,e),o=t.x-i.x,s=t.y-i.y;t.x-=o,t.y-=s,t.dx-=o,t.dy-=s}function a$e(t,e){var n=t.context,r=n.target,i=ree(r,e),o=0,s=0;e.includes("top")||e.includes("bottom")?s=t.y-i.y:o=t.x-i.x,t.x-=o,t.y-=s,t.dx-=o,t.dy-=s}var l$e=250;function iee(t){t.on(["connect.hover","connect.move","connect.end"],l$e,function(e){var n=e.context,r=n.canExecute,i=n.hover,o=n.source,s=n.target;if(r&&r.type==="dmn:InformationRequirement"){var a=Ft(o,s);n.connectionStart=Le(o),i===o?n.connectionEnd=Le(s):n.connectionEnd={x:e.x,y:e.y},a.includes("bottom")?(n.connectionStart.y=De(o).top,n.connectionEnd.y=De(s).bottom):a.includes("top")?(n.connectionStart.y=De(o).bottom,n.connectionEnd.y=De(s).top):a.includes("right")?(n.connectionStart.x=De(o).left,n.connectionEnd.x=De(s).right):(n.connectionStart.x=De(o).right,n.connectionEnd.x=De(s).left)}else delete n.connectionStart,delete n.connectionEnd})}iee.$inject=["eventBus"];const c$e={__depends__:[YW],__init__:["bendpointSnapping","connectSnapping"],bendpointSnapping:["type",tee],connectSnapping:["type",iee]};function R0(t){Jl.call(this,t)}Oe(R0,Jl);R0.prototype._modelingModules=[uH,hMe,qH,rU,gMe,sU,kMe,OMe,RMe,PMe,SW,AMe,fS,PW,IMe,YMe,LW,t$e,n$e,MC,c$e];R0.prototype._modules=[].concat(R0.prototype._modules,R0.prototype._modelingModules);function u$e(t){const e={variables:[],rootElement:C$e(t)};for(let n=t;n;n=n.$parent)d$e(n,e);return e.variables}function d$e(t,e){P0(t,"dmn:Decision")?f$e(t,e):P0(t,"dmn:BusinessKnowledgeModel")?h$e(t,e):P0(t,"dmn:Expression")&&w$e(t,e)}function f$e(t,e){for(const n of t.get("informationRequirement"))p$e(n,e);for(const n of t.get("knowledgeRequirement"))oee(n,e)}function h$e(t,e){for(const n of t.get("knowledgeRequirement"))oee(n,e)}function p$e(t,e){const n=t.get("requiredInput");n&&m$e(n,e);const r=t.get("requiredDecision");r&&g$e(r,e)}function m$e(t,e){const n=rO(t,e.rootElement);if(!n)return;const r=n.get("name");r&&e.variables.push({name:r,origin:n})}function g$e(t,e){const n=rO(t,e.rootElement);if(!n)return;const r=n.get("name");if(!r)return;const i={name:r,origin:n},o=n.get("decisionLogic");o&&v$e(o,i),e.variables.push(i)}function v$e(t,e,n){if(P0(t,"dmn:DecisionTable")){const r=t.get("output");y$e(r,e)}}function y$e(t,e,n){if(t.length===1){const i={...FF(t[0]),name:e.name};Object.assign(e,i);return}const r=t.map(FF);e.entries=r.filter(i=>!!i.name)}function FF(t){const e={name:t.name};return t.typeRef&&(e.detail=t.typeRef),e}function oee(t,e){const n=t.get("requiredKnowledge");n&&b$e(n,e)}function b$e(t,e){const n=rO(t,e.rootElement);n&&P0(n,"dmn:BusinessKnowledgeModel")&&_$e(n,e)}function _$e(t,e){const n=t.get("name");if(!n)return;const r={name:n,origin:t},i=t.get("encapsulatedLogic");i&&x$e(i,r),e.variables.push(r)}function x$e(t,e,n){const i=t.get("formalParameter").map((o,s)=>{const a={name:o.get("name")||`param ${s+1}`,type:o.get("typeRef")};return a.type||delete a.type,a});Object.assign(e,{type:"function",params:i})}function w$e(t,e){P0(t,"dmn:FunctionDefinition")&&E$e(t,e)}function E$e(t,e){const n=t.get("formalParameter");for(const r of n)S$e(r,e)}function S$e(t,e){const n=t.get("name");if(!n)return;const r={name:n,origin:t};t.get("typeRef")&&(r.detail=t.get("typeRef")),e.variables.push(r)}function C$e(t){let e=t;for(;e.$parent;)e=e.$parent;return e}function rO(t,e){const n=t.get("href");if(!n||!n.startsWith("#"))return;const r=n.slice(1);return e.get("drgElement").find(o=>o.get("id")===r)}function P0(t,e){return t.$instanceOf(e)}class see{constructor(e){e.registerProvider(this)}getVariables(e,n){return e.concat(u$e(n))}}see.$inject=["variableResolver"];class k$e{constructor(){this._providers=[]}registerProvider(e){this._providers.push(e)}getVariables(e){return this._providers.reduce((n,r)=>r.getVariables(n,e),[])}}const iO={__init__:["dmnVariableProvider"],dmnVariableProvider:["type",see],variableResolver:["type",k$e]};class Op{constructor(e){re(this,e),Fs(this,"businessObject",{writable:!0})}}class O$e extends Op{constructor(e){super(e),Fs(this,"rows",{enumerable:!0,value:this.rows||[]}),Fs(this,"cols",{enumerable:!0,value:this.cols||[]})}}class Ur extends Op{constructor(e){super(e),Fs(this,"root",{writable:!0}),Fs(this,"cells",{enumerable:!0,value:this.cells||[]})}}class Wr extends Op{constructor(e){super(e),Fs(this,"root",{writable:!0}),Fs(this,"cells",{enumerable:!0,value:this.cells||[]})}}class qy extends Op{constructor(e){super(e),Fs(this,"row",{writable:!0}),Fs(this,"col",{writable:!0})}}const R$e={root:O$e,row:Ur,col:Wr,cell:qy};function P$e(t,e){const n=R$e[t];if(!n)throw new Error("unknown type "+t);return new n(e)}function Fs(t,e,n){Object.defineProperty(t,e,n)}let aee=class{constructor(){this._uid=12}create(e,n={}){return n.id||(n.id=e+"_"+this._uid++),P$e(e,n)}createRoot(e){return this.create("root",e)}createRow(e){return this.create("row",e)}createCol(e){return this.create("col",e)}createCell(e){return this.create("cell",e)}},lee=class{constructor(e){this._eventBus=e,this._elements={},e.on("table.clear",this.clear.bind(this))}add(e,n){const{id:r}=e;this._elements[r]=e}remove(e){const n=e.id||e;delete this._elements[n]}get(e){return this._elements[e]}getAll(){return G_(this._elements)}forEach(e){G_(this._elements).forEach(n=>e(n))}filter(e){return G_(this._elements).filter(n=>e(n))}clear(){this._elements={}}updateId(e,n){this._validateId(n),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:n}),this.remove(e),e.id=n,this.add(e)}_validateId(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}};lee.$inject=["eventBus"];function G_(t){return Object.keys(t).map(function(e){return t[e]})}let cee=class{constructor(e){this._listeners={},e.on("elements.changed",({elements:n})=>{this.elementsChanged(n)}),e.on("root.remove",n=>{const r=n.root.id;this._listeners[r]&&e.once("root.add",i=>{const o=i.root.id;this.updateId(r,o)})}),e.on("element.updateId",({element:n,newId:r})=>{this.updateId(n.id,r)})}elementsChanged(e){const n={},r=e.length;for(let i=0;i<r;i++){const{id:o}=e[i];if(n[o])return;n[o]=!0;const s=this._listeners[o]&&this._listeners[o].length;if(s)for(let a=0;a<s;a++)this._listeners[o][a]&&this._listeners[o][a]()}}onElementsChanged(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=n}offElementsChanged(e,n){if(this._listeners[e])if(n){const r=this._listeners[e].indexOf(n);r!==-1&&this._listeners[e].splice(r,1)}else this._listeners[e].length=0}updateId(e,n){this._listeners[e]&&(this._listeners[n]=this._listeners[e],delete this._listeners[e])}};cee.$inject=["eventBus"];const A$e=1e3;let T$e=class{constructor(){this._listeners={}}getComponent(e,n){const r=this._listeners[e];if(!r)return;let i;for(let o=0;o<r.length&&(i=r[o].callback(n),!i);o++);return i}getComponents(e,n){const r=this._listeners[e],i=[];if(!r)return i;for(let o=0;o<r.length;o++){const s=r[o].callback(n);s&&i.push(s)}return i.length,i}onGetComponent(e,n,r){if(Ct(n)&&(r=n,n=A$e),!He(n))throw new Error("priority must be a number");const i=this._getListeners(e);let o,s;const a={priority:n,callback:r};for(s=0;o=i[s];s++)if(o.priority<n){i.splice(s,0,a);return}i.push(a)}offGetComponent(e,n){const r=this._getListeners(e);let i,o,s;if(n)for(s=r.length-1;i=r[s];s--)o=i.callback,o===n&&r.splice(s,1);else r.length=0}_getListeners(e){let n=this._listeners[e];return n||(this._listeners[e]=n=[]),n}};class I$e extends Ne{constructor(e){super(e);const n=this._injector=e.injector;this._sheet=n.get("sheet"),this._changeSupport=n.get("changeSupport"),this._components=n.get("components"),this._eventBus=n.get("eventBus");const r=n.get("throttle");this.onElementsChanged=this.onElementsChanged.bind(this),this.onScroll=r(this.onScroll.bind(this))}onElementsChanged(){this.forceUpdate()}onScroll(){this._eventBus.fire("sheet.scroll")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}componentWillMount(){const{id:e}=this._sheet.getRoot();this._changeSupport.onElementsChanged(e,this.onElementsChanged)}componentWillUnmount(){const{id:e}=this._sheet.getRoot();this._changeSupport.offElementsChanged(e,this.onElementsChanged)}render(){const{rows:e,cols:n}=this._sheet.getRoot(),r=this._components.getComponents("table.before"),i=this._components.getComponents("table.after"),o=this._components.getComponent("table.head"),s=this._components.getComponent("table.body"),a=this._components.getComponent("table.foot");return U(1,"div","tjs-container",[r&&r.map((l,c)=>we(2,l,null,c)),U(1,"div","tjs-table-container",U(1,"table","tjs-table",[o&&we(2,o,{rows:e,cols:n}),s&&we(2,s,{rows:e,cols:n}),a&&we(2,a,{rows:e,cols:n})],0),2,{onScroll:this.onScroll}),i&&i.map((l,c)=>we(2,l,null,c))],0)}}let uee=class{constructor(e,n,r,i,o){const{container:s}=r;this._container=s,i.on("root.added",()=>{vv(we(2,I$e,{injector:o}),s)}),i.on("root.remove",()=>{vv(null,s)})}getContainer(){return this._container}};uee.$inject=["changeSupport","components","config.renderer","eventBus","injector"];const dee={__init__:["changeSupport","components","renderer"],changeSupport:["type",cee],components:["type",T$e],renderer:["type",uee]};class fee{constructor(e,n){this._elementRegistry=e,this._eventBus=n,this._root=null,n.on("table.clear",()=>{this.setRoot(null)})}setRoot(e){if(this._root){const n=this._root;this._eventBus.fire("root.remove",{root:n}),this._root=null,this._eventBus.fire("root.removed",{root:n})}e&&this._eventBus.fire("root.add",{root:e}),this._root=e,e&&this._eventBus.fire("root.added",{root:e})}getRoot(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}addRow(e,n){const r=this.getRoot();if(r.cols.length!=e.cells.length)throw new Error("number of cells is not equal to number of cols");return typeof n>"u"&&(n=r.rows.length),um(n,r.rows,e),e.root=r,this._elementRegistry.add(e),e.cells.forEach((i,o)=>{this._elementRegistry.add(i),i.row=e,i.col=r.cols[o],um(n,r.cols[o].cells,i)}),this._eventBus.fire("row.add",{row:e}),e}removeRow(e){const n=this.getRoot();typeof e=="string"&&(e=this._elementRegistry.get(e));const r=n.rows.indexOf(e);r!==-1&&(dm(r,n.rows),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((i,o)=>{this._elementRegistry.remove(i),i.col=void 0,dm(r,n.cols[o].cells)}),this._eventBus.fire("row.remove",{row:e}))}addCol(e,n){const r=this.getRoot();if(this._elementRegistry.add(e),r.rows.length!=e.cells.length)throw new Error("number of cells is not equal to number of rows");return typeof n>"u"&&(n=r.cols.length),um(n,r.cols,e),e.root=r,e.cells.forEach((i,o)=>{this._elementRegistry.add(i),i.col=e,i.row=r.rows[o],um(n,r.rows[o].cells,i)}),this._eventBus.fire("col.add",{col:e}),e}removeCol(e){const n=this.getRoot();typeof e=="string"&&(e=this._elementRegistry.get(e));const r=n.cols.indexOf(e);r!==-1&&(dm(r,n.cols),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach((i,o)=>{this._elementRegistry.remove(i),i.row=void 0,dm(r,n.rows[o].cells)}),this._eventBus.fire("col.remove",{col:e}))}resized(){this._eventBus.fire("sheet.resized")}}fee.$inject=["elementRegistry","eventBus"];function um(t,e,n){return e.splice(t,0,n)}function dm(t,e){return e.splice(t,1)}function hee(t=!0){const e=typeof t=="number"?t:t?300:0;return e?n=>yae(n,e):n=>n}hee.$inject=["config.throttle"];const D$e={__depends__:[dee],__init__:["elementFactory","sheet"],elementFactory:["type",aee],elementRegistry:["type",lee],eventBus:["type",ar],sheet:["type",fee],throttle:["factory",hee]};class M$e{constructor(e={}){let{injector:n}=e;if(!n){let{modules:r,config:i}=this._init(e);n=$$e(i,r)}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}_init(e){let{modules:n,...r}=e;return{modules:n,config:r}}destroy(){const e=this.get("eventBus");e.fire("table.destroy"),e.fire("diagram.destroy")}clear(){const e=this.get("eventBus");e.fire("table.clear"),e.fire("diagram.clear")}}function $$e(t,e){const n=[{config:["value",t]},D$e].concat(e||[]),r=new Iv(n);return r.init(),r}function K_(t){if(!t)return"<null>";const e=t.id?` id="${t.id}"`:"";return`<${t.$type}${e} />`}function N$e(t,e){function n(l,c,u){var d=l.gfx;if(d)throw new Error(`already rendered ${K_(l)}`);return t.element(l,c,u)}function r(l){return t.table(l)}function i(l){l.id||(l.id="decision");const c=l.decisionLogic;if(c){if(!c.output)throw new Error(`missing output for ${K_(c)}`);const u=r(c);c.input&&o(c.input,u,c),o(c.output,u,c),s(c.rule,u,c)}else throw new Error(`no table for ${K_(l)}`)}function o(l,c,u){ee(l,function(d){n(d,c,u)})}function s(l,c,u){ee(l,function(d){n(d,c,u),a(d.inputEntry,d),a(d.outputEntry,d)})}function a(l,c,u){ee(l,function(d){n(d,c,u)})}return{handleDecision:i}}function L$e(t,e,n){const r=t.get("tableImporter"),i=t.get("eventBus"),o=t.get("sheet");t.get("modeling",!1);let s,a=[];function l(c){const u={create(f,h,p,m){return r.create(f,h,p,m)},table(f){return r.add(f)},element(f,h,p){return r.add(f,h,p)},error(f,h){a.push({message:f,context:h})}};new N$e(u).handleDecision(c)}i.fire("import.render.start",{decision:e});try{l(e)}catch(c){s=c}i.fire("import.render.complete",{error:s,warnings:a}),i.fire("elements.changed",{elements:[o.getRoot()]}),n(s,a)}function j$e(){return{elements:[],index:{}}}function zF(t,e){const{elements:n,index:r}=t;return r[e]?t:{elements:[...n,e],index:{...r,[e]:!0}}}function B$e(t,e){return t.elements.join(e)}function oO(...t){let e=j$e();return t.forEach(function(n){const r=typeof n;r==="string"&&n.length>0?e=zF(e,n):r==="object"&&n!==null&&Object.keys(n).forEach(function(i){n[i]&&(e=zF(e,i))})}),B$e(e," ")}function cr(t){const e=t.constructor;return pee(e,t)}function pee(t,e){const n=t.$inject;if(!n)return;const{injector:r}=e.context,i=[...n,function(...o){for(const s in o){const a=n[s],l=o[s];e[a]=l}}];r.invoke(i)}function F$e(t,...e){return function(...n){let r;return e.forEach(function(i){if(r=i.call(t,...n),typeof r<"u")return!1}),r}.bind(t)}function Bc(t,e){Object.keys(e).forEach(function(n){if(n==="$inject"||n==="__init")return;const r=e[n];n==="constructor"&&r.call(t,t.props,t.context);const i=t[n];if(typeof i<"u"){if(typeof i!="function")throw new Error(`failed to mixin <${n}>: cannot combine with non-fn component value`);t[n]=F$e(t,i,r)}else t[n]=r.bind(t)}),"$inject"in e&&pee(e,t),"__init"in e&&e.__init.call(t,t.props,t.context)}const sO={getSelectionClasses(){const{selected:t,selectedSecondary:e,focussed:n}=this.state;return oO({selected:t,"selected-secondary":e,focussed:n})},selectionChanged(t){this.setState(t)},componentWillUpdate(t){t.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate(t){t.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount(){this.updateSelectionSubscription(!0)},componentWillUnmount(){this.updateSelectionSubscription(!1)},updateSelectionSubscription(t){const{elementId:e}=this.props;e&&e&&this.eventBus[t?"on":"off"](`selection.${e}.changed`,this.selectionChanged)}};sO.$inject=["eventBus"];class z$e extends Ne{constructor(e,n){super(e,n),Bc(this,sO),cr(this)}getRenderProps(...e){const{className:n,elementId:r,coords:i,...o}=this.props,s={className:oO(...e,this.getSelectionClasses(),n)};return r&&(s["data-element-id"]=r),i&&(s["data-coords"]=i),{...s,...o}}}class uh extends z$e{constructor(e,n){super(e,n),this.state={}}render(){const{children:e}=this.props,n=this.getRenderProps("cell");return Ba(U(1,"td",null,e,0,{...n}))}}const id={slotFill(t,e){const{type:n,context:r,...i}=t,o=this.components.getComponent(n,r)||e;return o?Ba(we(2,o,{...r,...i})):null},slotFills(t){const{type:e,context:n,...r}=t;return this.components.getComponents(e,n).map(o=>Ba(we(2,o,{...n,...r})))}};id.$inject=["components"];const qF=400;class aO extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});Bc(this,id),cr(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){const i=(this.getRoot().businessObject.get("annotationsWidth")||qF)+"px";return U(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:qF}}),this.translate("Annotations")],0,{style:{width:i}})}}aO.$inject=["changeSupport","sheet","translate"];function q$e(t){const{row:e}=t,{id:n,description:r}=e.businessObject;return we(2,uh,{className:"annotation",elementId:n,children:r||"-"})}function mee(t){t.onGetComponent("cell",({cellType:e})=>{if(e==="after-label-cells")return aO;if(e==="after-rule-cells")return q$e})}mee.$inject=["components"];const V$e={__init__:["annotationsProvider"],annotationsProvider:["type",mee]};function Hd(t,e){return re({id:t.id,type:t.$type,businessObject:t},e)}class gee{constructor(e,n,r){this._elementFactory=e,this._eventBus=n,this._sheet=r}add(e){let n;if(me(e,"dmn:DecisionTable"))n=this._elementFactory.createRoot(Hd(e)),this._sheet.setRoot(n);else if(me(e,"dmn:InputClause"))n=this._elementFactory.createCol(Hd(e)),this._sheet.addCol(n);else if(me(e,"dmn:OutputClause"))n=this._elementFactory.createCol(Hd(e)),this._sheet.addCol(n);else if(me(e,"dmn:DecisionRule")){e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]);const r=[...e.inputEntry,...e.outputEntry].map(i=>this._elementFactory.createCell(Hd(i)));n=this._elementFactory.createRow(re(Hd(e),{cells:r})),this._sheet.addRow(n)}return this._eventBus.fire("dmnElement.added",{element:n}),n}}gee.$inject=["elementFactory","eventBus","sheet"];const H$e={__depends__:[wr],tableImporter:["type",gee]},U$e={__depends__:[H$e,dee]};class W$e extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});Bc(this,id),this._sheet=r.injector.get("sheet"),this._changeSupport=r.changeSupport}componentWillMount(){const n=this._sheet.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this._sheet.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}render(){const n=this._sheet.getRoot();if(!me(n,"dmn:DMNElement"))return null;const r=vr(n),i=r.input,o=r.output;return U(1,"thead",null,U(1,"tr",null,[U(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),i&&i.map((s,a)=>{const l=s.width||"192px";return this.slotFill({type:"cell",context:{cellType:"input-header",input:s,index:a,inputsLength:i.length,width:l},key:s.id},G$e)}),o.map((s,a)=>this.slotFill({type:"cell",context:{cellType:"output-header",output:s,index:a,outputsLength:o.length},key:s.id},K$e)),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}function G$e(t,e){const{input:n,className:r,index:i}=t,{label:o,inputExpression:s,inputValues:a}=n,l=e.injector.get("translate"),c=(r||"")+" input-cell";return U(1,"th",c,[U(1,"div","clause",l(i===0?"When":"And"),0),o?U(1,"div","input-label",o,0,{title:l("Input label: ")+o}):U(1,"div","input-expression",s.text,0,{title:l("Input expression: ")+s.text}),U(1,"div","input-variable",a&&a.text||s.typeRef,0,{title:a&&a.text?l("Input values"):l("Input type")})],0,{"data-col-id":n.id},n.id)}function K$e(t,e){const{output:n,className:r,index:i}=t,{label:o,name:s,outputValues:a,typeRef:l}=n,c=e.injector.get("translate"),u=(r||"")+" output-cell";return U(1,"th",u,[U(1,"div","clause",c(i===0?"Then":"And"),0),o?U(1,"div","output-label",o,0,{title:c("Output label")}):U(1,"div","output-name",s,0,{title:c("Output name")}),U(1,"div","output-variable",a&&a.text||l,0,{title:a&&a.text?c("Output values"):c("Output type")})],0,null,n.id)}function vee(t){t.onGetComponent("table.head",()=>W$e)}vee.$inject=["components"];const X$e={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",vee]};let yee=class extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),cr(this)}render(){const e=this.sheet.getRoot();if(!me(e,"dmn:DMNElement"))return null;const{name:n}=e.businessObject.$parent,r=this.components.getComponent("hit-policy")||Y$e;return U(1,"div","decision-table-properties",[U(1,"div","decision-table-name",n,0,{title:this._translate("Decision name: ")+n}),U(1,"div","decision-table-header-separator"),we(2,r)],4)}};yee.$inject=["sheet","components"];function Y$e(){return null}const Q$e=500;let bee=class{constructor(e){e.onGetComponent("table.before",Q$e,()=>yee)}};bee.$inject=["components"];const Z$e={__init__:["decisionTableProperties"],decisionTableProperties:["type",bee]};class J$e extends Ne{render(){const{row:e,rowIndex:n}=this.props,{components:r}=this.context,i=r.getComponents("cell-inner",{cellType:"rule-index",row:e,rowIndex:n});return U(1,"td","rule-index",[i&&i.map(o=>we(2,o,{row:e,rowIndex:n})),n+1],0,{"data-element-id":e.id,"data-row-id":e.id})}}class _ee{constructor(e){e.onGetComponent("cell",({cellType:n})=>{if(n==="before-rule-cells")return J$e})}}_ee.$inject=["components"];const eNe={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",_ee]},tNe=[{label:"FEEL",value:"feel"}];class xee{constructor(e){this._injector=e;const n=e.get("config.expressionLanguages")||{};this._config={options:tNe,defaults:{editor:"feel"}},n.options&&(this._config.options=n.options);const r=this._getLegacyDefaults();re(this._config.defaults,r,n.defaults)}getDefault(e){const{defaults:n}=this._config,r=n[e]||n.editor;return this._getLanguageByValue(r)||this.getAll()[0]}getLabel(e){const n=this._getLanguageByValue(e);return n?n.label:e}getAll(){return this._config.options}_getLegacyDefaults(){const e={},n=this._injector,r=n.get("config.defaultInputExpressionLanguage"),i=n.get("config.defaultOutputExpressionLanguage");return r&&(e.inputCell=r),i&&(e.outputCell=i),e}_getLanguageByValue(e){return Ge(this.getAll(),n=>e===n.value)}}xee.$inject=["injector"];const al={__init__:["expressionLanguages"],expressionLanguages:["type",xee]};class nNe extends Ne{render({rows:e,cols:n}){const{components:r}=this.context;return U(1,"tbody",null,e.map((i,o)=>{const s=r.getComponent("row",{rowType:"rule"});return s&&we(2,s,{row:i,rowIndex:o,cols:n},i.id)}),0)}}class rNe extends Ne{constructor(e,n){super(e,n),Bc(this,id)}render(){const{row:e,rowIndex:n,cols:r}=this.props,{cells:i}=e;return U(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:e,rowIndex:n}}),i.map((o,s)=>this.slotFill({type:"cell",context:{cellType:"rule",cell:o,rowIndex:n,colIndex:s},key:o.id,row:e,col:r[s]})),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:e,rowIndex:n}})],0)}}class iNe extends Ne{render(){const{cell:e,row:n,col:r}=this.props;return me(e,"dmn:UnaryTests")?we(2,uh,{className:"input-cell",elementId:e.id,"data-row-id":n.id,"data-col-id":r.id,children:e.businessObject.text}):we(2,uh,{className:"output-cell",elementId:e.id,"data-row-id":n.id,"data-col-id":r.id,children:e.businessObject.text})}}let wee=class{constructor(e){e.onGetComponent("table.body",()=>nNe),e.onGetComponent("row",({rowType:n})=>{if(n==="rule")return rNe}),e.onGetComponent("cell",({cellType:n})=>{if(n==="rule")return iNe})}};wee.$inject=["components"];const Eee={__depends__:[al],__init__:["decisionRules"],decisionRules:["type",wee]},fE=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}];class See extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),cr(this)}getRoot(){return this.sheet.getRoot()}render(){const e=this.getRoot(),n=e.businessObject,{aggregation:r,hitPolicy:i}=n,o=Ge(fE,s=>oNe(s.value,{aggregation:r,hitPolicy:i}));return U(1,"div","hit-policy header",[U(1,"label","dms-label",this._translate("Hit policy:"),0),U(1,"span","hit-policy-value",this._translate(o.label),0)],4,{title:this._translate(o.explanation)})}}See.$inject=["sheet"];function oNe(t,e){return t.hitPolicy===e.hitPolicy&&t.aggregation===e.aggregation}function Cee(t){t.onGetComponent("hit-policy",()=>See)}Cee.$inject=["components"];const sNe={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",Cee]};let aNe=class extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:i}=r;this._translate=i.get("translate"),this._eventBus=i.get("eventBus")}render(){return U(1,"div","view-drd",U(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,n=>this.node=n)}},kee=class{constructor(e,n,r,i){this._injector=r,this._sheet=i,e.onGetComponent("table.before",()=>{if(this.canViewDrd())return aNe}),n.on("showDrd",()=>{const o=r.get("_parent",!1),s=i.getRoot(),a=VF(s);if(!a)return;const l=o.getView(a);o.open(l)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return!1;const n=this._sheet.getRoot(),r=VF(n);return!!e.getView(r)}};kee.$inject=["components","eventBus","injector","sheet"];function VF(t){const{businessObject:e}=t;return e?e.$parent.$parent:void 0}const lNe={__init__:["viewDrd"],viewDrd:["type",kee]};let Oee=class{constructor(e){e.onGetComponent("table.before",()=>Uk)}};Oee.$inject=["components"];const cNe={__init__:["poweredBy"],poweredBy:["type",Oee]};let HF=class hE extends M$e{constructor(e={}){const n=hE._createContainer();super(re(e,{renderer:{container:n}})),this._container=n}open(e){var n=this;return new Promise((r,i)=>{var o;try{return n._decision&&n.clear(),n._decision=e,L$e(n,e,function(s,a){s?(s.warnings=a||[],i(s)):r({warnings:a||[]})})}catch(s){o=s}o?(o.warnings=o.warnings||[],i(o)):r({warnings:[]})})}_init(e){let{modules:n,additionalModules:r,...i}=e,o=n||this.getModules(),s=r||[],a=[{decisionTable:["value",this]}];return{modules:[cNe,...o,...s,...a],config:i}}on(e,n,r,i){return this.get("eventBus").on(e,n,r,i)}off(e,n){this.get("eventBus").off(e,n)}_emit(e,n){return this.get("eventBus").fire(e,n)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach();const n=this._container;e.appendChild(n),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),Gn(e))}destroy(){super.destroy(),this.detach()}getModules(){return hE._getModules()}static _getModules(){return[V$e,U$e,wr,X$e,Z$e,eNe,Eee,sNe,lNe]}static _createContainer(){return at('<div class="dmn-decision-table-container"></div>')}};class Ree extends Ne{constructor(n,r){super(n,r);ye(this,"handleClick",n=>{n.stopPropagation(),this.addRule(n.target.dataset.colIndex)});cr(this),this.addRule=this.addRule.bind(this)}componentWillMount(){this._eventBus=this.context.injector.get("eventBus")}addRule(n){this._eventBus.fire("addRule",{colIndex:n})}render(){const{cols:n}=this.props,r=[U(1,"td","add-rule-add",U(1,"button","dmn-icon-plus action-icon",null,1,{title:this.translate("Add rule")}),2)],{businessObject:i}=this.sheet.getRoot();(!i.input||!i.input.length)&&r.push(U(1,"td","input-cell",vt("-"),2));for(let o=0;o<n.length+1;o++){let s="add-rule";const a=n[o]&&n[o].businessObject;let l="";a?(a.$instanceOf("dmn:InputClause")&&(s+=" input-cell",l="-"),a.$instanceOf("dmn:OutputClause")&&(s+=" output-cell")):s+=" annotation",r.push(U(1,"td",s,l,0,{"data-col-index":o}))}return U(1,"tfoot","actionable add-rule",U(1,"tr",null,r,0),2,{onClick:this.handleClick})}}Ree.$inject=["sheet","translate"];class Pee{constructor(e,n,r,i){e.onGetComponent("table.foot",()=>Ree),r.on("addRule",(o,s)=>{const a=n.trigger("addRule"),l=s.colIndex;a.cells[l]?i.select(a.cells[l]):i.select(a.cells[0])})}}Pee.$inject=["components","editorActions","eventBus","selection"];class Aee{constructor(e,n,r){this._elementRegistry=e,this._eventBus=n,this._renderer=r,this._selection=void 0,n.on("diagram.clear",()=>{this._selection=void 0})}select(e){kn(e)&&(e=this._elementRegistry.get(e));const n=this._selection;n!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{oldSelection:n,selection:e}))}deselect(){const e=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:e,selection:this._selection})}get(){return this._selection}hasSelection(){return!!this._selection}}Aee.$inject=["elementRegistry","eventBus","renderer"];class Tee{constructor(e,n,r,i){this._elementRegistry=e,this._renderer=r,this._selection=i,n.on(["cell.click","cell.contextmenu"],({id:o})=>{const s=e.get(o);s&&i.select(s)}),n.on("row.remove",({row:o})=>{const s=i.get();s&&o===s.row&&i.deselect()}),n.on("col.remove",({col:o})=>{const s=i.get();s&&o===s.col&&i.deselect()})}}Tee.$inject=["elementRegistry","eventBus","renderer","selection"];const Vy={__init__:["selection","selectionBehavior"],selection:["type",Aee],selectionBehavior:["type",Tee]};function uNe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const UF=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"];class Iee{constructor(e,n){uNe(this,"_handleEvent",r=>{const{target:i,type:o}=r,s=dNe(i);if(!s)return;const a=s.getAttribute("data-element-id");if(a){const l=this._eventBus.createEvent({id:a,event:r,node:s,target:s});this._eventBus.fire(`cell.${o}`,l),l.defaultPrevented&&r.preventDefault(),l.cancelBubble&&r.stopPropagation()}}),this._eventBus=n,this._container=e.container,n.on("table.init",()=>{this._addEventListeners(UF)}),n.on("table.destroy",()=>{this._removeEventListeners(UF)})}_addEventListeners(e){const n=this._container;e.forEach(r=>{n.addEventListener(r,this._handleEvent)})}_removeEventListeners(e){const n=this._container;e.forEach(r=>{n.removeEventListener(r,this._handleEvent)})}}Iee.$inject=["config.renderer","eventBus"];function dNe(t){return Mr(t,"[data-element-id]",!0)}const lO={__init__:["interactionEvents"],interactionEvents:["type",Iee]};var ug={exports:{}};/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */var fNe=ug.exports,WF;function hNe(){return WF||(WF=1,function(t,e){(function(n,r){t.exports=r(n)})(typeof qo<"u"?qo:fNe,function(n){if(n.CSS&&n.CSS.escape)return n.CSS.escape;var r=function(i){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var o=String(i),s=o.length,a=-1,l,c="",u=o.charCodeAt(0);++a<s;){if(l=o.charCodeAt(a),l==0){c+="ÔøΩ";continue}if(l>=1&&l<=31||l==127||a==0&&l>=48&&l<=57||a==1&&l>=48&&l<=57&&u==45){c+="\\"+l.toString(16)+" ";continue}if(a==0&&s==1&&l==45){c+="\\"+o.charAt(a);continue}if(l>=128||l==45||l==95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122){c+=o.charAt(a);continue}c+="\\"+o.charAt(a)}return c};return n.CSS||(n.CSS={}),n.CSS.escape=r,r})}(ug)),ug.exports}var pNe=hNe();const Dee=pc(pNe);var GF=mNe;function mNe(t,e){return t^e}var gNe=/\b(Array|Date|Object|Math|JSON)\b/g,vNe=function(t,e){var n=_Ne(yNe(t));return e&&typeof e=="string"&&(e=xNe(e)),e?bNe(t,n,e):n};function yNe(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(gNe,"").match(/[a-zA-Z_]\w*/g)||[]}function bNe(t,e,n){var r=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return t.replace(r,function(i){return i[i.length-1]=="("||~e.indexOf(i)?n(i):i})}function _Ne(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}function xNe(t){return function(e){return t+e}}var Mee=Pn;function Pn(t,e){if(!(this instanceof Pn))return new Pn(t,e);if(this.node=this.start=this.peeked=t,this.root=e,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],t&&this.higher(t))throw new Error("root must be a parent or ancestor to node")}Pn.prototype.reset=function(t){return this.node=t||this.start,this};Pn.prototype.revisit=function(t){return this._revisit=t??!0,this};Pn.prototype.opening=function(){return this.node.nodeType==1&&(this.closingTag=!1),this};Pn.prototype.atOpening=function(){return!this.closingTag};Pn.prototype.closing=function(){return this.node.nodeType==1&&(this.closingTag=!0),this};Pn.prototype.atClosing=function(){return this.closingTag};Pn.prototype.next=$ee("nextSibling","firstChild");Pn.prototype.previous=Pn.prototype.prev=$ee("previousSibling","lastChild");function $ee(t,e){var n=t=="nextSibling";return function(i,o,s){i=this.compile(i),o=o&&o>0?o:1;for(var a=this.node,l=this.closingTag,c=this._revisit;a;){if(GF(n,l)&&a[e])a=a[e],l=!n;else if(a.nodeType==1&&!a[e]&&GF(n,l)){if(l=n,!c)continue}else if(a[t])a=a[t],l=!n;else if(a=a.parentNode,l=n,!c)continue;if(!a||this.higher(a,this.root))break;if(i(a)&&this.selects(a,s)&&this.rejects(a,s)){if(--o)continue;return s||(this.node=a),this.closingTag=l,a}}return null}}Pn.prototype.select=function(t){return t=this.compile(t),this._selects.push(t),this};Pn.prototype.selects=function(t,e){var n=this._selects,r=n.length;if(!r)return!0;for(var i=0;i<r;i++)if(n[i].call(this,t,e))return!0;return!1};Pn.prototype.reject=function(t){return t=this.compile(t),this._rejects.push(t),this};Pn.prototype.rejects=function(t,e){var n=this._rejects,r=n.length;if(!r)return!0;for(var i=0;i<r;i++)if(n[i].call(this,t,e))return!1;return!0};Pn.prototype.higher=function(t){var e=this.root;if(!e)return!1;for(t=t.parentNode;t&&t!=e;)t=t.parentNode;return t!=e};Pn.prototype.compile=function(t){switch(typeof t){case"number":return function(e){return t==e.nodeType};case"string":return new Function("node","return "+vNe(t,"node."));case"function":return t;default:return function(){return!0}}};Pn.prototype.peak=Pn.prototype.peek=function(t,e){return arguments.length==1&&(e=t,t=!0),e=e??1,e?e>0?this.next(t,e,!0):this.prev(t,Math.abs(e),!0):this.node};Pn.prototype.use=function(t){return t(this),this};var fu=window.getSelection();function Nee(t){fu.removeAllRanges(),fu.addRange(t)}function wNe(){return fu}function ENe(t){if(!fu.rangeCount)return null;var e=fu.focusNode;return bv(e)&&(e=e.parentNode),t==e||t.contains(e)}function SNe(t,e){var n=CNe(t,e);Nee(n)}function cO(t){if(!ENe(t))return null;var e=fu.getRangeAt(0),n=e.startContainer,r=e.endContainer,i=e.startOffset,o=e.endOffset,s=Mee(t.firstChild,t),a=s.node,l,c=!1,u,d=0;function f(p,m){return arguments.length===1&&(m=p),p.parentNode===r&&m==r.childNodes[o]}function h(p,m){return arguments.length===1&&(m=p),p.parentNode===n&&m==n.childNodes[i]}for(;a&&(h(a)&&(u=d),!f(a));){if(c||(Lee(a)||l&&l.nextSibling==a&&(jee(a)||Bee(a)))&&d++,bv(a)){if(n===a&&(u=d+i),r===a){d+=o;break}d+=a.textContent.length}if((bv(a)||c)&&(h(a,a.nextSibling)&&(u=d),f(a,a.nextSibling)))break;l=a,a=s.next(),c=s.closingTag}return{start:typeof u>"u"?d:u,end:d}}function CNe(t,e){for(var n=e.start,r=e.end,i=document.createRange(),o=Mee(t.firstChild,t),s=o.node,a=!1,l=0,c;s;){if(l===n&&(a?i.setStartAfter(s):i.setStartBefore(s)),l===r)return a?i.setEndAfter(s):i.setEndBefore(s),i;if(a||(Lee(s)||s.previousSibling&&(jee(s)||Bee(s)))&&l++,bv(s)){if(c=s.textContent.length,l<=n&&l+c>n&&i.setStart(s,n-l),l+c>r)return i.setEnd(s,r-l),i;l+=c}s=o.next(),a=o.closingTag}return l<=n&&(t.lastChild?i.setStartAfter(t.lastChild):i.setStart(t,0)),t.lastChild?i.setEndAfter(t.lastChild):i.setEnd(t,0),i}function bv(t){return t.nodeType===3}function Lee(t){return t.nodeType===1&&t.nodeName==="BR"}function jee(t){return t.nodeType===1&&t.nodeName==="DIV"}function Bee(t){return t.nodeType===1&&t.nodeName==="P"}const kNe="[contenteditable]",ONe="[data-element-id]";function fm(t){return t.getAttribute("data-element-id")}function RNe(t){const e=t.getAttribute("data-coords");if(!e)return null;const[n,r]=e.split(":");return{row:n,col:r}}function PNe(t,e){const n=`${t.row}:${t.col}`;return Ue(`[data-coords="${Dee(n)}"]`,e)}function hu(t,e){return Ue(`[data-element-id="${Dee(t)}"]`,e)}function ANe(t){return Mr(t,".no-deselect",!0)}function pE(t){return Mr(t,ONe,!0)}function Fee(t){const e=kNe;return Av(t,e)?t:Ue(e,t)}function TNe(t){const e=Fee(t);if(!e||!document.body.contains(e)||document.activeElement===e)return;e.focus();const n=cO(e);(!n||n.end===0)&&window.getSelection().setPosition(e.firstChild,e.firstChild.length)}const X_=500,INe={above:!0,below:!0,right:!0,left:!0};function zee(t,e,n,r,i){const{container:o}=t;let s=null;function a(f,h){e.fire("selection."+f+".changed",h),e.fire("cellSelection.changed",{elementId:f,selection:h})}function l(f){const h=f.target;if(ANe(h))return;const p=pE(h),m=p&&fm(p),g=!f.defaultPrevented;d(m,g)}function c(f){const h=fm(f.target),p=!f.defaultPrevented;return f.stopPropagation(),d(h,p)}function u(f){const h=fm(f.target);a(h,{focussed:!1})}function d(f,h=!0){s!==f&&a(s,{selected:!1,focussed:!1}),s=f,f&&a(f,{selected:!0,focussed:h}),f?r.select(f):r.deselect()}e.on("cell.click",X_,l),e.on("cell.focusin",X_,c),e.on("cell.focusout",X_,u),e.on("cellSelection.changed",function(f){const{elementId:h,selection:p}=f,m=hu(h,o);p.focussed&&m&&TNe(m)}),e.on("selection.changed",function(f){const{selection:h,oldSelection:p}=f;var m=h&&h.id,g=p&&p.id;m&&m!==s?d(h.id):g&&g===s&&d()}),this.isCellSelected=function(){return!!s},this.getCellSelection=function(){return s},this.selectCell=function(f){if(!s)return;if(!(f in INe))throw new Error("direction must be any of { above, below, left, right }");var h=hu(s,o);const p=RNe(h);if(!p)return!1;const m=DNe(p,f),g=PNe(m,o);if(!g)return!1;const v=fm(g);return v&&d(v,{focussed:!0,selected:!0}),!0},e.on("contextMenu.close",function(){if(s)return d(s)})}zee.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"];function DNe(t,e){const{row:n,col:r}=t;if(e==="above"||e==="below"){const i=parseInt(n,10);if(isNaN(i))return t;const o=e==="above"?i-1:i+1;return{col:r,row:o}}if(e==="left"||e==="right"){const i=parseInt(r,10);if(isNaN(i))return t;const o=e==="left"?i-1:i+1;return{row:n,col:o}}throw new Error("invalid direction <"+e+">")}const Hy={__depends__:[lO,Vy],__init__:["cellSelection"],cellSelection:["type",zee]},Y_=2e3;class qee extends Nr{constructor(e,n){super(e),this._sheet=n}init(){this.addRule("col.move",Y_,({col:e,index:n})=>{const{businessObject:r}=this._sheet.getRoot(),{input:i}=r;return St(e)?n<i.length:n>=i.length}),this.addRule("col.remove",Y_,({col:e})=>{const{cols:n}=this._sheet.getRoot();return Kn(e)?n.filter(r=>Kn(r)).length>1:!0}),this.addRule("paste",Y_,({data:e,target:n})=>{if(!e||!n)return!1;const{root:r}=e;return n instanceof Ur?this.canPasteRows(r):n instanceof Wr?this.canPasteCols(r,n):!1})}canPasteRows(e){const{cols:n}=this._sheet.getRoot();return ui(e,r=>r.type!=="row"||r.cells.length!==n.length?!1:ui(r.cells,(i,o)=>St(n[o])?i.businessObject.$type==="dmn:UnaryTests":i.businessObject.$type==="dmn:LiteralExpression"))}canPasteCols(e,n){const{rows:r}=this._sheet.getRoot();return ui(e,i=>i.type!=="col"||i.cells.length!==r.length?!1:St(n)?i.businessObject.$type==="dmn:InputClause":i.businessObject.$type==="dmn:OutputClause")}}qee.$inject=["eventBus","sheet"];const MNe={__depends__:[qi]},uO={__depends__:[MNe],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",qee]};class Vee{constructor(e,n,r){this._clipboard=e,this._modeling=n,this._sheet=r}execute(e){let{data:n}=e;return e.oldData=this._clipboard.get(),this._clipboard.set(n),this._sheet.getRoot()}postExecute(e){let{elements:n}=e;n.forEach(r=>{r instanceof Ur?this._modeling.removeRow(r):r instanceof Wr&&this._modeling.removeCol(r)})}revert(e){const{oldData:n}=e;return this._clipboard.set(n),this._sheet.getRoot()}}Vee.$inject=["clipboard","modeling","sheet"];const $Ne=[BNe,FNe],NNe=[UNe,HNe];function mE(t,e,n){return n=n||$Ne,e=e||{},Fe(t)?LNe(t,e,n):Hee(t,e,n)}function LNe(t,e,n){return cn(t,(r,i)=>{var o=r.descriptorCache,s=r.root;let{root:a,descriptorCache:l}=Hee(i,o,n);return{root:[...s,a],descriptorCache:{...o,...l}}},{root:[],descriptorCache:e})}function Hee(t,e,n){var r=t.id,i={id:r},o=e.elements||{},s=o[r];if(s)return{root:s,descriptorCache:e};let a=jNe(t,i,n,{...e,elements:o});return{root:a.root,descriptorCache:{...a.descriptorCache,elements:{...a.descriptorCache.elements,[r]:a.root}}}}function jNe(t,e,n,r){function i(o,s){return mE(o,s,n)}return cn(n,function(o,s){return s(t,o.root,o.descriptorCache,i)},{root:e,descriptorCache:r})}function BNe(t,e,n,r){var i=n,o={...e,type:zNe(t)};if(t instanceof Ur||t instanceof Wr){let s=r(t.cells,i);o.cells=s.root,i=s.descriptorCache}return{root:o,descriptorCache:i}}function FNe(t,e,n){var r=t.businessObject;if(!r)return{root:e,descriptorCache:n};var i=gE(r,n);return{root:{...e,businessObject:i.root},descriptorCache:i.descriptorCache}}function zNe(t){if(t instanceof Ur)return"row";if(t instanceof Wr)return"col";if(t instanceof qy)return"cell";throw new Error("cannot deduce element type: #"+t.id)}function gE(t,e){var n,r,i=t.id;if(i&&(n=e.boCache||{},r=n[i],r))return{root:r,descriptorCache:e};var o={$type:t.$type};return i&&(o.id=i,n={...n,[i]:o},e={...e,boCache:n}),t.$descriptor.properties.forEach(function(s){var a=t[s.name];if(a){if(Fe(a)&&(a=a.map(l=>{var c=gE(l,e);return e=c.descriptorCache,c.root})),a.$type){let l=gE(a,e);e=l.descriptorCache,a=l.root}o[s.name]=a}}),{root:o,descriptorCache:e}}function Uee(t,e,n){return n=n||NNe,e=e||{},Fe(t.root)?qNe(t,e,n):Wee(t,e,n)}function qNe(t,e,n){let r=t.root,i=t.descriptorCache;return cn(r,(o,s)=>{var a=o.reviveCache,l=o.root;let{root:c,reviveCache:u}=Wee({root:s,descriptorCache:i},a,n);return{root:[...l,c],reviveCache:u}},{root:[],reviveCache:e})}function Wee(t,e,n){var r=t.root,i=r.id,o=e.elements||{},s=o[i];if(s)return{root:s,reviveCache:e};var a={id:i};let l=VNe(t,a,n,{...e,elements:o});return{root:l.root,reviveCache:{...l.reviveCache,elements:{...l.reviveCache.elements,[i]:l.root}}}}function VNe(t,e,n,r){function i(o,s){return Uee(o,s,n)}return cn(n,function(o,s){return s(t,o.root,o.reviveCache,i)},{root:e,reviveCache:r})}function HNe(t,e,n,r){var i=t.root,o=t.descriptorCache,s={...e};if(e.businessObject&&e.businessObject.id&&(s.id=e.businessObject.id),i.type==="row"||i.type==="col"){let c=r({root:i.cells,descriptorCache:o},n);s.cells=c.root,n=c.reviveCache}var a=WNe(i),l=new a(s);return l instanceof Ur?l.cells.forEach(c=>{c.row=l}):l instanceof Wr&&l.cells.forEach(c=>{c.col=l}),{root:l,reviveCache:n}}function UNe(t,e,n){var r=t.root.businessObject;if(!r)return{root:e,reviveCache:n};var i=vE({root:r,descriptorCache:t.descriptorCache},n);return{root:{...e,businessObject:i.root},reviveCache:i.reviveCache}}function WNe(t){switch(t.type){case"row":return Ur;case"cell":return qy;case"col":return Wr;default:throw new Error("unknown element type: #"+t.type)}}function vE(t,e){var n=t.root,r=n.id;let i,o;if(r&&(i=e.boCache||{},o=i[r],o))return{root:o,reviveCache:e};var s={};js(n).forEach(c=>{let u,d;n[c].$type?(d=vE({root:n[c]},e),u=d.root,e=d.reviveCache,i=e.boCache||{}):Fe(n[c])?u=n[c].map(f=>(d=vE({root:f},e),e=d.reviveCache,i=e.boCache||{},d.root)):u=n[c],s[c]=u});const a=s.$type;delete s.$type,(!e._keepIds||e._model.ids.assigned(s.id))&&delete s.id;var l=e._dmnFactory.create(a,s);return ee(s,c=>{c.$type&&(c.$parent=l),Fe(c)&&c.forEach(u=>u.$parent=l)}),r&&(i={...i,[r]:l},e={...e,boCache:i}),{root:l,reviveCache:e}}class Gee{constructor(e,n,r,i,o,s,a,l){this._clipboard=e,this._dmnFactory=n,this._elementFactory=r,this._elementRegistry=i,this._eventBus=o,this._model=s,this._modeling=a,this._sheet=l}postExecute(e){let{element:n,after:r}=e;const i=this._clipboard.get();if(!i)throw new Error("missing clipboard data");const o=this._sheet.getRoot(),s=Uee(i.elements,{_dmnFactory:this._dmnFactory,_keepIds:i.keepIds,_model:this._model}).root;if(n instanceof Ur){let a=o.rows.indexOf(n);if(a===-1)return;s.forEach(l=>{r&&a++,this._modeling.addRow(l,a)})}else if(n instanceof Wr){let a=o.cols.indexOf(n);if(a===-1)return;s.forEach(l=>{r&&a++,this._modeling.addCol(l,a)})}return e.oldElements=this._clipboard.get(),this._sheet.getRoot()}revert(e){}}Gee.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"];class Kee{constructor(e,n,r,i,o,s){this._clipboard=e,this._commandStack=n,this._eventBus=r,this._modeling=i,this._sheet=o,this._rules=s,n.registerHandler("cut",Vee),n.registerHandler("paste",Gee)}copy(e){Fe(e)||(e=[e]);const n={elements:mE(e)};this._eventBus.fire("copyCutPaste.copy",{data:n}),this._clipboard.set(n)}cut(e){Fe(e)||(e=[e]);const n={elements:mE(e),keepIds:!0},r={elements:e,data:n};this._eventBus.fire("copyCutPaste.cut",{data:n}),this._commandStack.execute("cut",r)}pasteBefore(e){return this._paste(e,{before:!0})}pasteAfter(e){return this._paste(e,{after:!0})}_paste(e,n){const r=this._clipboard.get();return r?this._rules.allowed("paste",{data:r.elements,target:e})?(this._commandStack.execute("paste",{element:e,...n}),this._clipboard.clear(),!0):!1:void 0}pasteAt(e){}}Kee.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"];const Xee={__depends__:[pC,uO],__init__:["copyCutPaste"],copyCutPaste:["type",Kee]};class Yee{constructor(e,n,r,i,o,s){const a={addRule(){return r.addRow({type:"dmn:DecisionRule"})},addRuleAbove(l){let c=l&&l.rule;if(!c&&!i.hasSelection())return;c=c||i.get().row;const u=s.getRoot(),d=u.rows.indexOf(c);if(d!==-1)return r.addRow({type:"dmn:DecisionRule"},d)},addRuleBelow(l){let c=l&&l.rule;if(!c&&!i.hasSelection())return;c=c||i.get().row;const u=s.getRoot(),d=u.rows.indexOf(c);if(d!==-1)return r.addRow({type:"dmn:DecisionRule"},d+1)},removeRule(l){let c=l&&l.rule;!c&&!i.hasSelection()||(c=c||i.get().row,r.removeRow(c))},addInput(){const l=s.getRoot(),c=l.businessObject,{input:u}=c;return r.addCol({type:"dmn:InputClause"},u?u.length:0)},addInputLeft(l){let c=l&&l.input;if(!c&&!i.hasSelection())return;c=c||i.get().col;const u=s.getRoot(),d=u.cols.indexOf(c);if(d!==-1)return r.addCol({type:"dmn:InputClause"},d)},addInputRight(l){let c=l&&l.input;if(!c&&!i.hasSelection())return;c=c||i.get().col;const u=s.getRoot(),d=u.cols.indexOf(c);if(d!==-1)return r.addCol({type:"dmn:InputClause"},d+1)},removeInput(l){let c=l&&l.input;!c&&!i.hasSelection()||(c=c||i.get().col,r.removeCol(c))},addOutput(){const l=s.getRoot(),c=l.businessObject,u=c.get("input"),d=c.get("output");return r.addCol({type:"dmn:OutputClause"},u.length+d.length)},addOutputLeft(l){let c=l&&l.output;if(!c&&!i.hasSelection())return;c=c||i.get().col;const u=s.getRoot(),d=u.cols.indexOf(c);if(d!==-1)return r.addCol({type:"dmn:OutputClause"},d)},addOutputRight(l){let c=l&&l.output;if(!c&&!i.hasSelection())return;c=c||i.get().col;const u=s.getRoot(),d=u.cols.indexOf(c);if(d!==-1)return r.addCol({type:"dmn:OutputClause"},d+1)},removeOutput(l){let c=l&&l.output;!c&&!i.hasSelection()||(c=c||i.get().col,r.removeCol(c))},addClause(){if(!i.hasSelection())return;const l=i.get().col;if(me(l,"dmn:InputClause"))return a.addInput({input:l});if(me(l,"dmn:OutputClause"))return a.addOutput({output:l})},addClauseLeft(){if(!i.hasSelection())return;const l=i.get().col;if(me(l,"dmn:InputClause"))return a.addInputLeft({input:l});if(me(l,"dmn:OutputClause"))return a.addOutputLeft({output:l})},addClauseRight(){if(!i.hasSelection())return;const l=i.get().col;if(me(l,"dmn:InputClause"))return a.addInputRight({input:l});if(me(l,"dmn:OutputClause"))return a.addOutputRight({output:l})},removeClause(){if(!i.hasSelection())return;const l=i.get().col;if(me(l,"dmn:InputClause"))return a.removeInput({input:l});if(me(l,"dmn:OutputClause"))return a.removeOutput({output:l})},selectCellAbove(){return o.selectCell("above")},selectCellBelow(){return o.selectCell("below")},copy({element:l}){e.copy(l)},cut({element:l}){e.cut(l)},pasteBefore({element:l}){return e.pasteBefore(l)},pasteAfter({element:l}){return e.pasteAfter(l)}};n.register(a)}}Yee.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"];const KF="is not a registered action",GNe="is already registered";let Qee=class{constructor(e,n,r,i){this._actions={undo(){e.undo()},redo(){e.redo()},select({cell:o}){i.select(o)},deselect(){i.deselect()},addRow({attrs:o,index:s}){r.addRow(o,s)},removeRow({row:o}){r.removeRow(o)},moveRow({row:o,index:s}){r.moveRow(o,s)},addCol({attrs:o,index:s}){r.addCol(o,s)},removeCol({col:o}){r.removeCol(o)},moveCol({col:o,index:s}){r.moveCol(o,s)}}}trigger(e,n){if(!this._actions[e])throw Q_(e,KF);return this._actions[e](n)}register(e,n){if(typeof e=="string")return this._registerAction(e,n);ee(e,(r,i)=>{this._registerAction(i,r)})}_registerAction(e,n){if(this.isRegistered(e))throw Q_(e,GNe);this._actions[e]=n}unregister(e){if(!this.isRegistered(e))throw Q_(e,KF);this._actions[e]=void 0}isRegistered(e){return!!this._actions[e]}};Qee.$inject=["commandStack","eventBus","modeling","selection"];function Q_(t,e){return new Error(t+" "+e)}const Zee={__depends__:[Vy],__init__:["editorActions"],editorActions:["type",Qee]},od={__depends__:[Hy,Xee,Zee,Vy],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",Yee]},KNe={__depends__:[od],__init__:["addRule"],addRule:["type",Pee]};/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Z_,XF;function XNe(){if(XF)return Z_;XF=1;var t=/["'&<>]/;Z_=e;function e(n){var r=""+n,i=t.exec(r);if(!i)return r;var o,s="",a=0,l=0;for(a=i.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}l!==a&&(s+=r.substring(l,a)),l=a+1,s+=o}return l!==a?s+r.substring(l,a):s}return Z_}var YNe=XNe();const QNe=pc(YNe);var hm={exports:{}},YF;function ZNe(){if(YF)return hm.exports;YF=1;function t(r,i,o){var s=r.start,a=s,c=o.length-i.length;o.length-i.length;var l=i.substring(s);o.lastIndexOf(l)===o.length-l.length&&(i=i.substring(0,i.length-l.length),o=o.substring(0,o.length-l.length));var c=e(i,o);return c&&(c.type==="remove"?a=c.newStart:a=c.newEnd),n(a)}hm.exports=t;function e(r,i){var o,s,a,l=0,c,u,d=0;for(i.length>r.length?(s=i,c=r):(s=r,c=i);l<s.length;)a=s.charAt(l),u=c.charAt(d),a!==u?(o||(o={l_start:l,s_start:d}),l++):(o&&!o.complete&&(o.l_end=l,o.s_end=d,o.complete=!0),d++,l++);if(o&&!o.complete&&(o.complete=!0,o.s_end=c.length,o.l_end=s.length),!!o)return i.length>r.length?{newStart:o.l_start,newEnd:o.l_end,type:"add"}:{newStart:o.s_start,newEnd:o.s_end,type:i.length<r.length?"remove":"replace"}}function n(r,i){return{start:r,end:i===void 0?r:i}}return hm.exports.range=n,hm.exports}var JNe=ZNe();const eLe=pc(JNe);class pu extends Ne{constructor(n,r){super(n,r);ye(this,"onFocus",n=>{var r=this.props.onFocus;this.setState({focussed:!0}),typeof r=="function"&&r(n)});ye(this,"onBlur",n=>{const{onBlur:r,onChange:i,value:o}=this.props;if(this.setState({focussed:!1}),typeof i=="function"&&this.node){const s=pm(this.node);s!==o&&i(s)}typeof r=="function"&&r(n)});ye(this,"onkeydown",n=>{if(n.which===13){if(n.preventDefault(),this.props.ctrlForNewline&&!iLe(n)||this.props.singleLine)return;n.stopPropagation(),nLe(),this.onInput(n)}});ye(this,"onInput",n=>{var r=this.props.onInput;if(typeof r=="function"){var i=pm(this.node);r(i)}});ye(this,"onkeypress",n=>{this.onInputIEPolyfill&&this.onInputIEPolyfill(n)});ye(this,"onPaste",n=>{if(this.onInputIEPolyfill&&this.onInputIEPolyfill(n),this.props.singleLine){const r=(n.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,r.replace(/\n/g," ")),n.preventDefault()}});this.state={},rLe()&&(this.onInputIEPolyfill=i=>{var o=this.node.innerHTML;setTimeout(()=>{var s=this.node.innerHTML;o!==s&&this.onInput(i)},0)})}componentWillUpdate(n,r){var i=this.node,o=r.focussed&&cO(i);this.selected=o&&{range:o,text:pm(i)}}componentDidUpdate(){var n=this.selected;if(!n)return;const r=n.range,i=n.text,o=this.node,s=pm(o),a=s!==i?eLe(r,i,s):r;SNe(o,a)}getClassName(){const{className:n,placeholder:r,value:i}=this.props;return[n||"","content-editable",!i&&r?"placeholder":""].join(" ")}render(n){var{label:r,value:i,placeholder:o}=n;return i=QNe(i).replace(/\r?\n/g,"<br/>")+"<br/>",U(1,"div",this.getClassName(),null,1,{"aria-label":r,role:"textbox","aria-multiline":!this.props.singleLine,tabIndex:"0",contentEditable:"true",spellCheck:"false","data-placeholder":o||"",onInput:this.onInput,onkeypress:this.onkeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onkeydown:this.onkeydown,dangerouslySetInnerHTML:{__html:i}},null,s=>this.node=s)}}function tLe(){return document.createElement("br")}function pm(t){return t.innerText.replace(/\n$/,"")}function nLe(){var t=wNe(),e=t.getRangeAt(0);if(e){var n=e.cloneRange(),r=tLe();n.deleteContents(),n.insertNode(r),n.setStartAfter(r),n.setEndAfter(r),Nee(n)}}function rLe(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0}function iLe(t){return t.metaKey||t.ctrlKey}class sd extends Ne{constructor(n,r){super(n,r);ye(this,"onFocus",n=>{this.setState({focussed:!0});var{onFocus:r}=this.props;typeof r=="function"&&r(n)});ye(this,"onBlur",n=>{this.setState({focussed:!1});const{invalid:r}=this.state;r&&this.setState({changing:!1,invalid:!1});const{onBlur:i}=this.props;typeof i=="function"&&i(n)});this.state={changing:!1,focussed:!1};const{injector:i}=r,o=i.get("debounceInput");this.inputChanged=o(s=>{const{onChange:a}=this.props;typeof a=="function"&&a(s);const l=this.state.changing;this.setState({changing:l===s?!1:l})}),this.onInput=s=>{var a=this.props.validate||function(){},l=a(s);this.setState({changing:s,invalid:l}),l||this.inputChanged(s)}}getClassName(){var{className:n,value:r}=this.props,{changing:i,focussed:o,invalid:s}=this.state;return n+=" editable",o&&(n+=" focussed"),s&&(n+=" invalid"),!r&&!i&&(n+=" empty"),n}getDisplayValue(){var{value:n,placeholder:r}=this.props,{focussed:i,changing:o}=this.state;return typeof o=="string"&&(n=o),n||(n=i?"":r||""),n}getEditor(n={}){return we(2,pu,{className:n.className,ctrlForNewline:this.props.ctrlForNewline,label:this.props.label,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}class Jee extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"setAnnotationValue",n=>{const{row:r}=this.props;this.modeling.editAnnotation(r.businessObject,n)});cr(this)}componentWillMount(){const{row:n}=this.props;this.changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const{row:n}=this.props;this.changeSupport.offElementsChanged(n.id,this.onElementsChanged)}render(){const{row:n,rowIndex:r}=this.props,{description:i,id:o}=n.businessObject;return we(2,uh,{className:"annotation",onChange:this.setAnnotationValue,coords:`${r}:annotation`,value:i,elementId:o,"data-row-id":n.id,children:we(2,oLe,{label:this.translate("Annotation"),ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:i})})}}Jee.$inject=["changeSupport","modeling","translate"];class oLe extends sd{render(){return U(1,"div",this.getClassName(),this.getEditor(),0)}}function ete(t){t.onGetComponent("cell",({cellType:e})=>{if(e==="after-label-cells")return aO;if(e==="after-rule-cells")return Jee})}ete.$inject=["components"];const sLe=300;function tte(t){return function(n){if(t!==!1){var r=He(t)?t:sLe;return _u(n,r)}else return n}}tte.$inject=["config.debounceInput"];const ll={debounceInput:["factory",tte]},aLe={__depends__:[ll],__init__:["annotationsProvider"],annotationsProvider:["type",ete]};function lLe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J_,QF;function cLe(){if(QF)return J_;QF=1,J_=t;function t(e,n){return e^n}return J_}var ex,ZF;function uLe(){if(ZF)return ex;ZF=1;var t=/\b(Array|Date|Object|Math|JSON)\b/g;ex=function(o,s){var a=r(e(o));return s&&typeof s=="string"&&(s=i(s)),s?n(o,a,s):a};function e(o){return o.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(t,"").match(/[a-zA-Z_]\w*/g)||[]}function n(o,s,a){var l=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return o.replace(l,function(c){return c[c.length-1]=="("||~s.indexOf(c)?a(c):c})}function r(o){for(var s=[],a=0;a<o.length;a++)~s.indexOf(o[a])||s.push(o[a]);return s}function i(o){return function(s){return o+s}}return ex}var tx,JF;function dLe(){if(JF)return tx;JF=1;var t=cLe(),e=uLe();tx=n;function n(i,o){if(!(this instanceof n))return new n(i,o);if(this.node=this.start=this.peeked=i,this.root=o,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],i&&this.higher(i))throw new Error("root must be a parent or ancestor to node")}n.prototype.reset=function(i){return this.node=i||this.start,this},n.prototype.revisit=function(i){return this._revisit=i??!0,this},n.prototype.opening=function(){return this.node.nodeType==1&&(this.closingTag=!1),this},n.prototype.atOpening=function(){return!this.closingTag},n.prototype.closing=function(){return this.node.nodeType==1&&(this.closingTag=!0),this},n.prototype.atClosing=function(){return this.closingTag},n.prototype.next=r("nextSibling","firstChild"),n.prototype.previous=n.prototype.prev=r("previousSibling","lastChild");function r(i,o){var s=i=="nextSibling";return function(l,c,u){l=this.compile(l),c=c&&c>0?c:1;for(var d=this.node,f=this.closingTag,h=this._revisit;d;){if(t(s,f)&&d[o])d=d[o],f=!s;else if(d.nodeType==1&&!d[o]&&t(s,f)){if(f=s,!h)continue}else if(d[i])d=d[i],f=!s;else if(d=d.parentNode,f=s,!h)continue;if(!d||this.higher(d,this.root))break;if(l(d)&&this.selects(d,u)&&this.rejects(d,u)){if(--c)continue;return u||(this.node=d),this.closingTag=f,d}}return null}}return n.prototype.select=function(i){return i=this.compile(i),this._selects.push(i),this},n.prototype.selects=function(i,o){var s=this._selects,a=s.length;if(!a)return!0;for(var l=0;l<a;l++)if(s[l].call(this,i,o))return!0;return!1},n.prototype.reject=function(i){return i=this.compile(i),this._rejects.push(i),this},n.prototype.rejects=function(i,o){var s=this._rejects,a=s.length;if(!a)return!0;for(var l=0;l<a;l++)if(s[l].call(this,i,o))return!1;return!0},n.prototype.higher=function(i){var o=this.root;if(!o)return!1;for(i=i.parentNode;i&&i!=o;)i=i.parentNode;return i!=o},n.prototype.compile=function(i){switch(typeof i){case"number":return function(o){return i==o.nodeType};case"string":return new Function("node","Object.freeze(node); return "+e(i,"node."));case"function":return i;default:return function(){return!0}}},n.prototype.peak=n.prototype.peek=function(i,o){return arguments.length==1&&(o=i,i=!0),o=o??1,o?o>0?this.next(i,o,!0):this.prev(i,Math.abs(o),!0):this.node},n.prototype.use=function(i){return i(this),this},tx}var fLe=dLe(),hLe=lLe(fLe),ez=window.getSelection();function pLe(t){ez.removeAllRanges(),ez.addRange(t)}function mLe(t,e){var n=gLe(t,e);pLe(n)}function gLe(t,e){for(var n=e.start,r=e.end,i=document.createRange(),o=hLe(t.firstChild,t),s=o.node,a=!1,l=0,c;s;){if(l===n&&(a?i.setStartAfter(s):i.setStartBefore(s)),l===r)return a?i.setEndAfter(s):i.setEndBefore(s),i;if(a||(yLe(s)||s.previousSibling&&(bLe(s)||_Le(s)))&&l++,vLe(s)){if(c=s.textContent.length,l<=n&&l+c>n&&i.setStart(s,n-l),l+c>r)return i.setEnd(s,r-l),i;l+=c}s=o.next(),a=o.closingTag}return l<=n&&(t.lastChild?i.setStartAfter(t.lastChild):i.setStart(t,0)),t.lastChild?i.setEndAfter(t.lastChild):i.setEnd(t,0),i}function vLe(t){return t.nodeType===3}function yLe(t){return t.nodeType===1&&t.nodeName==="BR"}function bLe(t){return t.nodeType===1&&t.nodeName==="DIV"}function _Le(t){return t.nodeType===1&&t.nodeName==="P"}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const xLe={position:"absolute"};class nte extends Ne{constructor(e,n){super(e,n),ql(this,"open",({position:r,context:i})=>{this.close(),this.setState({isOpen:!0,position:r||{x:0,y:0},context:i||{}})}),ql(this,"close",()=>{this.state.isOpen&&this.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})}),ql(this,"triggerClose",()=>{this.eventBus.fire("contextMenu.close")}),this.state={isOpen:!1,position:{x:0,y:0}},cr(this)}componentDidMount(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}componentWillUnmount(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}render(){const{isOpen:e,context:n,position:r}=this.state;if(!e)return null;const i=this.components.getComponents("context-menu",n);return i.length?we(2,rte,{className:"context-menu no-deselect",context:n,position:r,offset:n.offset||{x:0,y:0},autoFocus:n.autoFocus!==!1,autoClose:n.autoClose!==!1,components:i,onClose:this.triggerClose}):null}}nte.$inject=["eventBus","components"];let rte=class extends Ne{constructor(e,n){super(e,n),ql(this,"onGlobalMouseDown",r=>{this.checkClose(r.target)}),ql(this,"onGlobalKey",r=>{var i=r.which;(i===13||i===27)&&(r.stopPropagation(),r.preventDefault(),this.close())}),ql(this,"onFocusChanged",r=>{this.checkClose(r.target)}),ql(this,"setNode",r=>{this.node=r;const{autoFocus:i}=this.props;r&&(this.updatePosition(),i&&ELe(r))}),cr(this)}close(){const{onClose:e}=this.props;Ct(e)&&e()}checkClose(e){const{autoClose:n}=this.props;if(n){var r=this.node;r&&r!==e&&(r.contains(e)||this.close())}}componentDidMount(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("mousedown",this.onGlobalMouseDown)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("mousedown",this.onGlobalMouseDown)}updatePosition(){const{position:e,offset:n}=this.props,{node:r}=this,i=r.getBoundingClientRect();e.width||(e.width=0),e.height||(e.height=0);const o=this.renderer.getContainer(),s=o.getBoundingClientRect();s.width>s.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));const{scrollLeft:a,scrollTop:l}=SLe(r),c={};let u;e.align&&(u=e.align.split("-"));let d,f;(u&&u[1]||(e.x+e.width/2>s.width/2?"left":"right"))==="left"?(d=e.x-s.left-i.width+n.x+a,r.classList.remove("right"),r.classList.add("left")):(d=-s.left+e.x+e.width-n.x+a,r.classList.remove("left"),r.classList.add("right")),d=u?d:tz(d,0+a,s.width-i.width+a),c.left=d+"px",(u&&u[0]||(e.y+e.height/2>s.height/2?"top":"bottom"))==="top"?(f=e.y-s.top-i.height+n.y+l,r.classList.remove("bottom"),r.classList.add("top")):(f=-s.top+e.y-n.y+l,r.classList.remove("top"),r.classList.add("bottom")),f=u?f:tz(f,0+l,s.height-i.height+l),c.top=f+"px",c.overflowY="auto",c.maxHeight=s.height-f+l+"px",re(this.node.style,xLe,c)}render(){const{context:e,components:n,className:r}=this.props;return U(1,"div",r,n.map((i,o)=>we(2,i,{context:e},o)),0,{onContextMenu:i=>i.preventDefault()},null,this.setNode)}};rte.$inject=["renderer"];function tz(t,e,n){return Math.max(e,Math.min(n,t))}const wLe=`
  input[type=text],
  input[type=number],
  input[type=button],
  input[type=submit],
  [contenteditable],
  [tabindex],
  a[href],
  textarea,
  button
`;function ELe(t){var e=Ue(wLe,t);e&&(e.focus(),e.selectionStart&&e.type==="text"?e.selectionStart=1e5:"contentEditable"in e&&mLe(e,{start:1e5,end:1e5}))}function SLe(t){const e=Mr(t,".tjs-container");if(!e)return{scrollTop:0,scrollLeft:0};const{scrollLeft:n,scrollTop:r}=e;return{scrollTop:r,scrollLeft:n}}let ite=class{constructor(e,n,r){this._eventBus=n,e.onGetComponent("table.before",()=>nte)}open(e,n){this._eventBus.fire("contextMenu.open",{position:e,context:n})}close(){this._eventBus.fire("contextMenu.close")}};ite.$inject=["components","eventBus","renderer"];const cl={__init__:["contextMenu"],contextMenu:["type",ite]};function Vl(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function Hl(t){return t.shiftKey}class ote{constructor(e,n,r,i,o,s,a){ye(this,"_clearClipboard",()=>{this._clipboard.clear()});ye(this,"_registerBindings",()=>{[(i,o)=>{if(Vl(o)&&i===67){const s=this._getSelectedCell();return s?(Hl(o)?this._editorActions.trigger("copy",{element:s.col}):this._editorActions.trigger("copy",{element:s.row}),!0):void 0}},(i,o)=>{if(Vl(o)&&i===88){const s=this._getSelectedCell();return s?(Hl(o)?this._editorActions.trigger("cut",{element:s.col}):this._editorActions.trigger("cut",{element:s.row}),!0):void 0}},(i,o)=>{let s;if(Vl(o)&&i===86){const a=this._getSelectedCell();if(!a)return;Hl(o)?(s=this._editorActions.trigger("pasteAfter",{element:a.col}),s&&this._cellSelection.selectCell("right")):(s=this._editorActions.trigger("pasteAfter",{element:a.row}),s&&this._cellSelection.selectCell("below"))}return typeof s<"u"}].forEach(i=>{this._keyboard.addListener(i)})});this._clipboard=r,this._cellSelection=i,this._elementRegistry=o,this._editorActions=s,this._keyboard=e.get("keyboard",!1),this._renderer=a,this._keyboard&&(n.on("keyboard.init",this._registerBindings),n.on("keyboard.bind",()=>{Be.bind(document,"copy",this._clearClipboard,!0),Be.bind(document,"cut",this._clearClipboard,!0)}),n.on("keyboard.unbind",()=>{Be.unbind(document,"copy",this._clearClipboard,!0),Be.unbind(document,"cut",this._clearClipboard,!0)}))}_getSelectedCell(){const e=this._cellSelection.getCellSelection();if(!e)return;const n=this._elementRegistry.get(e);if(!n)return;const r=this._renderer.getContainer(),i=hu(e,r),o=Fee(i);if(document.activeElement!==o)return;const s=cO(i);if(!(s&&s.start!==s.end))return n}}ote.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"];const CLe={__depends__:[pC,Hy],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",ote]};class ste extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{this.editorActions.trigger("addInput")});cr(this)}render(){return U(1,"th","input-cell create-inputs header actionable",[this.translate("Input"),vt(" "),U(1,"button","add-input dmn-icon-plus action-icon",null,1,{title:this.translate("Add input")})],0,{onClick:this.onClick,title:this.translate("Add input")})}}ste.$inject=["editorActions","translate"];class ate extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{this.editorActions.trigger("addInput")});cr(this)}render(){return U(1,"td","input-cell create-inputs",vt("-"),2,{onClick:this.onClick,title:this.translate("Add input")})}}ate.$inject=["editorActions","translate"];const kLe=500;class lte{constructor(e,n){e.onGetComponent("cell",kLe,({cellType:r})=>{const{businessObject:i}=n.getRoot();if(!(i.input&&i.input.length)){if(r==="before-label-cells")return ste;if(r==="before-rule-cells")return ate}})}}lte.$inject=["components","sheet"];const OLe={__depends__:[od],__init__:["createInputsProvider"],createInputsProvider:["type",lte]},RLe=["string","boolean","number","date","time","dateTime","dayTimeDuration","yearMonthDuration","Any"];class dO{constructor(e){this._dataTypes=e||RLe}getAll(){return this._dataTypes}}dO.$inject=["config.dataTypes"];const Uy={__init__:["dataTypes"],dataTypes:["type",dO]};class cte{constructor(e,n,r,i,o,s,a,l,c,u,d){this._contextMenu=n,this._clipboard=r,this._editorActions=i,this._elementRegistry=s,this._eventBus=o,this._modeling=a,this._selection=l,this._sheet=c,this._rules=u,this._translate=d,this._getEntries=this._getEntries.bind(this),e.onGetComponent("context-menu",(f={})=>{if(f.contextMenuType&&f.contextMenuType==="context-menu"){const h=this._getEntries(f),p=this._elementRegistry.get(f.id),m=PLe(p)&&e.getComponents("context-menu-cell-additional",f);if(m&&m.length){const g=U(1,"div","context-menu-group context-menu-group-cell",m,0,{role:"presentation"});h.push(g)}return()=>U(1,"div","context-menu-flex",h,0,{tabIndex:0,role:"menu","aria-label":"Decision table context menu"})}}),o.on("cell.contextmenu",({event:f,id:h,node:p})=>{f.preventDefault(),n.open({x:f.pageX,y:f.pageY},{contextMenuType:"context-menu",event:f,id:h})})}_getEntries(e){const n={addRuleAbove:l=>{const c=l.cells.map(d=>d.id).indexOf(e.id),u=this._editorActions.trigger("addRuleAbove",{rule:l});u.cells[c]?this._selection.select(u.cells[c]):this._selection.select(u.cells[0]),this._contextMenu.close()},addRuleBelow:l=>{const c=l.cells.map(d=>d.id).indexOf(e.id),u=this._editorActions.trigger("addRuleBelow",{rule:l});u.cells[c]?this._selection.select(u.cells[c]):this._selection.select(u.cells[0]),this._contextMenu.close()},removeRule:l=>{this._editorActions.trigger("removeRule",{rule:l}),this._contextMenu.close()},addInputLeft:l=>{this._editorActions.trigger("addInputLeft",{input:l}),this._contextMenu.close()},addInputRight:l=>{this._editorActions.trigger("addInputRight",{input:l}),this._contextMenu.close()},removeInput:l=>{this._editorActions.trigger("removeInput",{input:l}),this._contextMenu.close()},addOutputLeft:l=>{this._editorActions.trigger("addOutputLeft",{output:l}),this._contextMenu.close()},addOutputRight:l=>{this._editorActions.trigger("addOutputRight",{output:l}),this._contextMenu.close()},removeOutput:l=>{this._editorActions.trigger("removeOutput",{output:l}),this._contextMenu.close()},copy:l=>{this._editorActions.trigger("copy",{element:l}),this._contextMenu.close()},cut:l=>{this._editorActions.trigger("cut",{element:l}),this._contextMenu.close()},pasteBefore:l=>{this._editorActions.trigger("pasteBefore",{element:l}),this._contextMenu.close()},pasteAfter:l=>{this._editorActions.trigger("pasteAfter",{element:l}),this._contextMenu.close()}},r=e&&e.id;if(!r)return null;const i=this._elementRegistry.get(r);if(!i)return null;const o=this._clipboard.get()||{},s=[],a=i.row||i;if(me(a,"dmn:DecisionRule")){const l=this._rules.allowed("paste",{data:o.elements,target:a});s.push(U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-copy-rule",this._translate("Copy rule"),0,{onClick:()=>n.copy(a),tabIndex:"-1",role:"menuitem"}),U(1,"div","context-menu-group-entry context-menu-entry-cut-rule",this._translate("Cut rule"),0,{onClick:()=>n.cut(a),tabIndex:"-1",role:"menuitem"}),U(1,"div",`context-menu-group-entry ${l?"":"disabled"} context-menu-entry-paste-rule-above`,this._translate("Paste rule above"),0,{onClick:()=>n.pasteBefore(a),tabIndex:"-1",role:"menuitem","aria-disabled":!l}),U(1,"div",`context-menu-group-entry ${l?"":"disabled"} context-menu-entry-paste-rule-below`,this._translate("Paste rule below"),0,{onClick:()=>n.pasteAfter(a),tabIndex:"-1",role:"menuitem","aria-disabled":!l})],4,{role:"presentation"}),U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",this._translate("Add rule above"),0,{onClick:()=>n.addRuleAbove(a),tabIndex:"-1",role:"menuitem"}),U(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",this._translate("Add rule below"),0,{onClick:()=>n.addRuleBelow(a),tabIndex:"-1",role:"menuitem"}),U(1,"div","context-menu-group-entry context-menu-entry-remove-rule",this._translate("Remove rule"),0,{onClick:()=>n.removeRule(a),tabIndex:"-1",role:"menuitem"})],4,{role:"presentation"}))}else if(me(i,"dmn:InputClause")){const l=me(i,"dmn:InputClause")?i:i.col,c=this._rules.allowed("col.remove",{col:i.col||i}),u=this._rules.allowed("paste",{data:o.elements,target:i.col||i});s.push(U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-copy-input",this._translate("Copy input column"),0,{onClick:()=>n.copy(l),tabIndex:"-1",role:"menuitem"}),U(1,"div",`context-menu-group-entry ${c?"":"disabled"} context-menu-entry-cut-input`,this._translate("Cut input column"),0,{onClick:()=>n.cut(l),tabIndex:"-1",role:"menuitem","aria-disabled":!c}),U(1,"div",`context-menu-group-entry ${u?"":"disabled"} context-menu-entry-paste-input-left`,this._translate("Paste input column left"),0,{onClick:()=>n.pasteBefore(l),tabIndex:"-1",role:"menuitem","aria-disabled":!u}),U(1,"div",`context-menu-group-entry ${u?"":"disabled"} context-menu-entry-paste-input-right`,this._translate("Paste input column right"),0,{onClick:()=>n.pasteAfter(l),tabIndex:"-1",role:"menuitem","aria-disabled":!u})],4,{role:"presentation"}),U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-add-input-left",this._translate("Add input column left"),0,{onClick:()=>n.addInputLeft(l),tabIndex:"-1",role:"menuitem"}),U(1,"div","context-menu-group-entry context-menu-entry-add-input-right",this._translate("Add input column right"),0,{onClick:()=>n.addInputRight(l),tabIndex:"-1",role:"menuitem"}),U(1,"div",`context-menu-group-entry ${c?"":"disabled"} context-menu-entry-remove-input`,this._translate("Remove input column"),0,{onClick:()=>n.removeInput(l),tabIndex:"-1",role:"menuitem","aria-disabled":!c})],4,{role:"presentation"}))}else if(me(i,"dmn:OutputClause")||me(i.col,"dmn:OutputClause")){const l=me(i,"dmn:OutputClause")?i:i.col,c=this._rules.allowed("col.remove",{col:i.col||i}),u=this._rules.allowed("paste",{data:o.elements,target:i.col||i});s.push(U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-copy-output",this._translate("Copy output column"),0,{onClick:()=>n.copy(l),tabIndex:"-1",role:"menuitem"}),U(1,"div",`context-menu-group-entry ${c?"":"disabled"} context-menu-entry-cut-output`,this._translate("Cut output column"),0,{onClick:()=>n.cut(l),tabIndex:"-1",role:"menuitem","aria-disabled":!c}),U(1,"div",`context-menu-group-entry ${u?"":"disabled"} context-menu-entry-paste-output-left`,this._translate("Paste output column left"),0,{onClick:()=>n.pasteBefore(l),tabIndex:"-1",role:"menuitem","aria-disabled":!u}),U(1,"div",`context-menu-group-entry ${u?"":"disabled"} context-menu-entry-paste-output-right`,this._translate("Paste output column right"),0,{onClick:()=>n.pasteAfter(l),tabIndex:"-1",role:"menuitem","aria-disabled":!u})],4,{role:"presentation"}),U(1,"div","context-menu-group",[U(1,"div","context-menu-group-entry context-menu-entry-add-output-left",this._translate("Add output column left"),0,{onClick:()=>n.addOutputLeft(l),tabIndex:"-1",role:"menuitem"}),U(1,"div","context-menu-group-entry context-menu-entry-add-output-right",this._translate("Add output column right"),0,{onClick:()=>n.addOutputRight(l),tabIndex:"-1",role:"menuitem"}),U(1,"div",`context-menu-group-entry ${c?"":"disabled"} context-menu-entry-remove-output`,this._translate("Remove output column"),0,{onClick:()=>n.removeOutput(l),tabIndex:"-1",role:"menuitem","aria-disabled":!c})],4,{role:"presentation"}))}return s}}cte.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","selection","sheet","rules","translate"];function PLe(t){return t instanceof qy}const ALe=["row.add","row.remove","col.add","col.remove"];class ute{constructor(e,n){n.on("commandStack.executed",({command:r})=>{ALe.indexOf(r)!==-1&&e.close()}),n.on("commandStack.reverted",()=>{e.close()})}}ute.$inject=["contextMenu","eventBus"];class dte{constructor(e){ye(this,"addEventListeners",()=>{document.addEventListener("keydown",this.handleKeyEvent),document.addEventListener("mouseover",this.handleMouseOver)});ye(this,"removeEventListeners",()=>{document.removeEventListener("keydown",this.handleKeyEvent),document.removeEventListener("mouseover",this.handleMouseOver)});ye(this,"handleKeyEvent",e=>{e.key==="ArrowUp"?(e.preventDefault(),this.move(e.target,-1)):e.key==="ArrowDown"?(e.preventDefault(),this.move(e.target,1)):e.key==="Enter"&&(e.preventDefault(),this.clickCurrentEntry())});ye(this,"handleMouseOver",()=>{this.getEntries().forEach(r=>ILe(r));const{focused:n}=this.getActiveEntries(document);n&&et(n).remove("focused")});ye(this,"getEntries",()=>Array.from(Ko(".context-menu-group-entry")).filter(e=>!et(e).has("disabled")));ye(this,"getActiveEntries",e=>{const n=Ue(".context-menu-group-entry:hover",e),r=Ue(".context-menu-group-entry.focused",e);return{hover:n,focused:r,current:r||n}});ye(this,"move",(e,n)=>{const r=this.getEntries(),{current:i,hover:o}=this.getActiveEntries(e);if(!i){const l=r[0];et(l).add("focused");return}const s=r.indexOf(i)+n;let a=r[s];s<0&&(a=r[r.length-1]),s>=r.length&&(a=r[0]),o&&TLe(o),et(i).remove("focused"),et(a).add("focused"),a.style.removeProperty("background-color")});ye(this,"clickCurrentEntry",()=>{const{current:e}=this.getActiveEntries(document);e&&e.click()});e.on("contextMenu.open",()=>this.addEventListeners()),e.on("contextMenu.close",()=>this.removeEventListeners()),e.on("commandStack.executed",()=>this.removeEventListeners())}}dte.$inject=["eventBus"];function TLe(t){t.style.setProperty("pointer-events","none"),t.style.setProperty("background-color","transparent")}function ILe(t){t.style.removeProperty("background-color"),t.style.removeProperty("pointer-events")}const DLe={__depends__:[od,cl,uO],__init__:["decisionTableContextMenu","contextMenuCloseBehavior","contextMenuKeyboard"],decisionTableContextMenu:["type",cte],contextMenuCloseBehavior:["type",ute],contextMenuKeyboard:["type",dte]};class MLe extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{const{output:r}=this.props;this._eventBus.fire("output.edit",{event:n,output:r})});ye(this,"onContextmenu",n=>{const{id:r}=this.props.output;this._eventBus.fire("cell.contextmenu",{event:n,id:r})});ye(this,"onElementsChanged",()=>{this.forceUpdate()});Bc(this,id),this._translate=r.injector.get("translate")}componentWillMount(){const{injector:n}=this.context;this._changeSupport=this.context.changeSupport,this._eventBus=n.get("eventBus"),this._elementRegistry=n.get("elementRegistry");const{output:r}=this.props;this._changeSupport.onElementsChanged(r.id,this.onElementsChanged)}componentWillUnmount(){const{output:n}=this.props;this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}render(){const{output:n,index:r,outputsLength:i}=this.props,{label:o,name:s,outputValues:a,typeRef:l}=n,c=n.width?n.width+"px":"192px";return U(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(n.id),index:r,outputsLength:i},col:n}),U(1,"div","clause",r===0?this._translate("Then"):this._translate("And"),0),o?U(1,"div","output-label",o,0,{title:this._translate("Output label: ")+o}):U(1,"div","output-name",s,0,{title:this._translate("Output name: ")+s}),U(1,"div","output-variable",a&&a.text||this._translate(l||""),0,{title:a&&a.text?this._translate("Output values"):this._translate("Output type")})],0,{"data-col-id":n.id,onDblClick:this.onClick,onContextMenu:this.onContextmenu,style:{width:c}})}}class Ms extends Ne{constructor(n,r){super(n,r);ye(this,"onInput",n=>{const{onInput:r}=this.props,i=n.target.value;this.setState({value:i},()=>{typeof r=="function"&&r(i)})});ye(this,"onChange",n=>{const{onChange:r}=this.props;typeof r=="function"&&r(n.target.value)});ye(this,"onKeyDown",n=>{const{onKeyDown:r}=this.props;typeof r=="function"&&r(n)});ye(this,"onKeyUp",n=>{const{onKeyUp:r}=this.props;typeof r=="function"&&r(n)});this.state={value:n.value}}componentDidUpdate(n){const{value:r}=this.props;r!==n.value&&r!==this.state.value&&this.setState({value:r})}render(){const{className:n,label:r,id:i,placeholder:o,type:s}=this.props,{value:a}=this.state;return U(64,"input",[n||"","dms-input"].join(" "),null,1,{"aria-label":r,placeholder:o||"",onChange:this.onChange,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellCheck:"false",type:s||"text",value:a,id:i})}}class $Le extends Ne{constructor(e,n){super(e,n),this.translate=n.injector?n.injector.get("translate"):NLe,this.setName=r=>{r=r||void 0,this.handleChange({name:r})},this.setLabel=r=>{r=r||void 0,this.handleChange({label:r})}}handleChange(e){var{onChange:n}=this.props;typeof n=="function"&&n(e)}render(){const{name:e,label:n}=this.props;return U(1,"div","context-menu-container ref-output-editor output-edit",[U(1,"div","dms-form-control",we(2,pu,{label:this.translate("Output label"),className:"dms-output-label",value:n||"",placeholder:this.translate("Output"),singleLine:!0,onInput:this.setLabel}),2),U(1,"div","dms-form-control",[U(1,"label","dms-label",this.translate("Output name"),0),we(2,Ms,{label:this.translate("Output name"),className:"ref-output-name",value:e||"",onInput:this.setName})],4)],4)}}function NLe(t){return t}class fte extends Ne{constructor(n,r){super(n,r);ye(this,"persistChanges",()=>{const{output:n}=this.props.context,{unsaved:r}=this.state;r&&(this.modeling.updateProperties(n,r),this.setState({unsaved:!1}))});ye(this,"handleChange",n=>{this.setState({unsaved:{...this.state.unsaved,...n}},this.persistChanges)});this.state={},cr(this),this.persistChanges=this.debounceInput(this.persistChanges)}getValue(n){const{output:r}=this.props.context,{unsaved:i}=this.state;return i&&n in i?i[n]:r.get(n)}render(){return we(2,$Le,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange})}}fte.$inject=["debounceInput","modeling"];class LLe extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{const{col:r}=this.props;this._eventBus.fire("output.edit",{event:n,output:r})});this._translate=r.injector.get("translate"),this._eventBus=r.injector.get("eventBus")}render(){return U(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit output"),type:"button",onClick:this.onClick})}}class hte{constructor(e,n,r,i){e.onGetComponent("cell",({cellType:o})=>{if(o==="output-header")return MLe}),e.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType==="output-edit")return fte}),e.onGetComponent("cell-inner",(o={})=>{const{cellType:s}=o;if(s==="output-cell")return LLe}),r.on("output.edit",({event:o,output:s})=>{const{target:a}=o,l=Mr(a,"th",!0),{left:c,top:u}=l.getBoundingClientRect(),d=jLe(l);n.open({x:c,y:u,align:"bottom-right"},{contextMenuType:"output-edit",output:s,offset:d})})}}hte.$inject=["components","contextMenu","eventBus","renderer"];function jLe(t){if(!Av(t,".output-cell + .output-cell"))return{x:-1,y:0}}class BLe extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{const{input:r}=this.props;this._eventBus.fire("input.edit",{event:n,input:r})});ye(this,"onContextmenu",n=>{const{id:r}=this.props.input;this._eventBus.fire("cell.contextmenu",{event:n,id:r})});ye(this,"onElementsChanged",()=>{this.forceUpdate()});Bc(this,id),this._translate=r.injector.get("translate")}componentWillMount(){const{injector:n}=this.context;this._changeSupport=this.context.changeSupport,this._sheet=n.get("sheet"),this._eventBus=n.get("eventBus"),this._elementRegistry=n.get("elementRegistry");const r=this._sheet.getRoot(),{input:i}=this.props;this._changeSupport.onElementsChanged(r.id,this.onElementsChanged),this._changeSupport.onElementsChanged(i.id,this.onElementsChanged)}componentWillUnmount(){const n=this._sheet.getRoot(),{input:r}=this.props;this._changeSupport.offElementsChanged(n.id,this.onElementsChanged),this._changeSupport.offElementsChanged(r.id,this.onElementsChanged)}render(){const{input:n,index:r,inputsLength:i}=this.props,{inputExpression:o,inputValues:s}=n,a=n.get("label"),l=n.width?n.width+"px":"192px";return U(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(n.id),index:r,inputsLength:i},col:n}),U(1,"div","clause",r===0?this._translate("When"):this._translate("And"),0),a?U(1,"div","input-label",a,0,{title:this._translate("Input label: ")+a}):U(1,"div","input-expression",o.text,0,{title:this._translate("Input expression: ")+o.text}),U(1,"div","input-variable",s&&s.text||this._translate(o.typeRef||""),0,{title:s&&s.text?this._translate("Input values"):this._translate("Input type")})],0,{"data-col-id":n.id,onDblClick:this.onClick,onContextMenu:this.onContextmenu,style:{width:l}})}}let Wy=class extends Ne{constructor(n,r){super(n,r);ye(this,"handleMouseEvent",n=>{n.stopPropagation()});ye(this,"handleKeyDownCapture",n=>{if(n.key==="Enter"){if(zLe(this.node)){n.triggeredFromAutocomplete=!0;return}this.props.ctrlForNewline&&!FLe(n)&&n.preventDefault(),this.props.singleLine&&n.preventDefault()}});ye(this,"handleKeyDown",n=>{["Enter","Escape"].includes(n.key)&&n.triggeredFromAutocomplete&&n.stopPropagation()});ye(this,"handleChange",n=>{const{onInput:r}=this.props;this.setState({value:n}),r&&r(n)});ye(this,"handleBlur",()=>{const{onBlur:n,onChange:r}=this.props;r&&this.state.value!==this.props.value&&r(this.state.value),n&&n()});ye(this,"setNode",n=>{this.node=n});this.node=null,this.editor=null,this.state={value:n.value}}componentDidMount(){this.editor=new Ac({contentAttributes:{"aria-label":this.props.label},container:this.node,onChange:this.handleChange,value:this.state.value,variables:this.props.variables||[],extensions:[$e.lineWrapping]}),this.node.addEventListener("mousedown",this.handleMouseEvent),this.node.addEventListener("keydown",this.handleKeyDownCapture,!0),this.node.addEventListener("keydown",this.handleKeyDown),this.props.autoFocus&&this.editor.focus(this.state.value.length)}componentDidUpdate(n){const{value:r}=this.props;n.value!==r&&r!==this.state.value&&this.setState({value:r},()=>{this.editor.setValue(r)}),qLe(n.variables,this.props.variables)||this.editor.setVariables(this.props.variables)}componentWillUnmount(){this.node.removeEventListener("mousedown",this.handleMouseEvent),this.node.removeEventListener("keydown",this.handleKeyDownCapture,!0),this.node.removeEventListener("keydown",this.handleKeyDown)}render(){return U(1,"div",["literal-expression",this.props.className||""].join(" "),null,1,{onClick:this.handleMouseEvent,onFocusIn:this.props.onFocus,onFocusOut:this.handleBlur},null,this.setNode)}};function FLe(t){return t.metaKey||t.ctrlKey}function zLe(t){return t.querySelector(".cm-tooltip-autocomplete")}function qLe(t,e){return JSON.stringify(t)===JSON.stringify(e)}class VLe extends Ne{constructor(n,r){super(n,r);ye(this,"handleKeyDown",n=>{n.key==="Enter"&&n.stopPropagation()});this.translate=r.injector.get("translate"),this.expressionLanguages=r.injector.get("expressionLanguages",!1),this.variableResolver=r.injector.get("variableResolver",!1),this.handleValue=i=>{let o={text:i};this.handleChange(o)},this.handleLabelChange=i=>{var o=i||void 0;this.handleChange({label:o})}}handleChange(n){var{onChange:r}=this.props;typeof r=="function"&&r(n)}getExpressionEditorComponent(){return this.expressionLanguages&&this.expressionLanguages.getDefault("inputCell").value!=="feel"?pu:Wy}_getVariables(){return this.variableResolver&&this.variableResolver.getVariables(this.props.element)}render(){const{label:n,text:r}=this.props,i=this.getExpressionEditorComponent(),o=this._getVariables();return U(1,"div","context-menu-container ref-input-editor input-edit",[U(1,"div","dms-form-control",we(2,pu,{label:this.translate("Input label"),className:"dms-input-label",value:n||"",placeholder:this.translate("Input"),singleLine:!0,onInput:this.handleLabelChange}),2),U(1,"div","dms-form-control",[U(1,"label","dms-label",this.translate("Expression"),0),we(2,i,{label:this.translate("Input expression"),placeholder:this.translate("Enter expression"),className:["ref-text","dms-input"].join(" "),onInput:this.handleValue,value:r||"",variables:o})],4)],4,{onKeyDown:this.handleKeyDown})}}class pte extends Ne{constructor(n,r){super(n,r);ye(this,"persistChanges",()=>{const{input:n}=this.props.context,{unsaved:r}=this.state;if(!r)return;const{label:i,...o}=r;var s={};"label"in r&&(s.label=i),HLe(o)&&(s.inputExpression=o),this.modeling.updateProperties(n,s),this.setState({unsaved:!1})});ye(this,"handleChange",n=>{this.setState({unsaved:{...this.state.unsaved,...n}},this.persistChanges)});this.state={},cr(this),this.persistChanges=this.debounceInput(this.persistChanges)}getValue(n){let{input:r}=this.props.context;const{unsaved:i}=this.state;let o=r;return n==="text"&&(o=o.inputExpression),i&&n in i?i[n]:o.get(n)}render(){return we(2,VLe,{label:this.getValue("label"),text:this.getValue("text"),element:this.props.context.input,onChange:this.handleChange})}}pte.$inject=["debounceInput","modeling","injector"];function HLe(t){return Object.keys(t).length}class ULe extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",n=>{const{col:r}=this.props;this._eventBus.fire("input.edit",{event:n,input:r})});this._translate=r.injector.get("translate"),this._eventBus=r.injector.get("eventBus")}render(){return U(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":this._translate("Edit input"),type:"button",onClick:this.onClick})}}class mte{constructor(e,n,r,i){e.onGetComponent("cell",({cellType:o})=>{if(o==="input-header")return BLe}),e.onGetComponent("context-menu",(o={})=>{if(o.contextMenuType==="input-edit")return pte}),e.onGetComponent("cell-inner",(o={})=>{const{cellType:s}=o;if(s==="input-cell")return ULe}),r.on("input.edit",({event:o,input:s})=>{const{target:a}=o,l=Mr(a,"th",!0),{left:c,top:u}=l.getBoundingClientRect();n.open({x:c,y:u,align:"bottom-right"},{contextMenuType:"input-edit",input:s})})}}mte.$inject=["components","contextMenu","eventBus","renderer"];class an extends Ne{constructor(n,r){super(n,r);ye(this,"onChange",n=>{this.setState({value:n});const{onChange:r}=this.props;typeof r=="function"&&r(n)});ye(this,"onInputClick",n=>{n.preventDefault(),n.stopPropagation(),this.setOptionsVisible(!this.state.optionsVisible),this.focusInput()});ye(this,"onInput",n=>{const{value:r}=n.target;this.onChange(r)});ye(this,"onOptionClick",(n,r)=>{r.preventDefault(),r.stopPropagation(),this.setOptionsVisible(!1),this.onChange(n),this.focusInput()});ye(this,"onFocusChanged",n=>{this.checkClose(n.target)});ye(this,"onGlobalClick",n=>{this.checkClose(n.target)});ye(this,"onKeyDown",n=>{const{optionsVisible:r}=this.state;var i=n.which;(i===40||i===38)&&(n.stopPropagation(),n.preventDefault(),r?this.select(i===40?1:-1):this.setOptionsVisible(!0)),r&&(i===13||i===27)&&(n.stopPropagation(),n.preventDefault(),this.setOptionsVisible(!1))});ye(this,"onKeyboard",n=>{const{optionsVisible:r}=this.state;if(r&&n===27)return this.setOptionsVisible(!1),!0});cr(this);const{value:i}=n;this.state={value:i,optionsVisible:!1},this._portalEl=null}componentDidMount(){document.addEventListener("mousedown",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}componentWillUnmount(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("mousedown",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}componentWillReceiveProps(n){const{value:r}=n;this.setState({value:r})}componentWillUpdate(n,r){const{optionsVisible:i}=r;i?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}componentDidUpdate(){const{optionsVisible:n}=this.state;if(!n||!this.inputNode)return;const r=this.getOptionsBounds();re(this._portalEl.style,r)}getOptionsBounds(){const n=this.renderer.getContainer(),{top:r,left:i,bottom:o}=n.getBoundingClientRect(),{top:s,left:a,width:l,height:c,bottom:u}=this.inputNode.getBoundingClientRect(),d=s+c-r+n.scrollTop,f=a-i+n.scrollLeft,h={top:`${d}px`,left:`${f}px`,width:`${l}px`,"max-height":`calc(100% - ${d}px)`};if(o-u<c){const p=o-s;h.bottom=`${p}px`,h["max-height"]=`calc(100% - ${p})`,delete h.top}return h}addPortalEl(){this._portalEl=at('<div class="dms-select-options"></div>'),this.renderer.getContainer().appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",nz)}removePortalEl(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",nz),Gn(this._portalEl),this._portalEl=null)}focusInput(){const n=this.inputNode;n.focus(),"selectionStart"in n&&(n.selectionStart=1e5)}checkClose(n){this._portalEl&&!this._portalEl.contains(n)&&!this.parentNode.contains(n)&&this.setOptionsVisible(!1)}select(n){const{options:r}=this.props,{value:i}=this.state;if(!r)return;const o=r.filter(c=>c.value===i)[0],s=o?r.indexOf(o):-1,a=s===-1?n===1?0:r.length-1:(s+n)%r.length,l=r[a<0?r.length+a:a];this.onChange(l.value)}setOptionsVisible(n){this.setState({optionsVisible:n})}renderOptions(n,r){return U(1,"div","options",n.map(i=>U(1,"div",["option",r===i?"active":""].join(" "),i.label,0,{"data-value":i.value,onClick:o=>this.onOptionClick(i.value,o)})),0)}render(){const{className:n,label:r,id:i,options:o,noInput:s,title:a}=this.props,{optionsVisible:l,value:c}=this.state,u=o?o.filter(f=>f.value===c)[0]:!1,d=u?u.label:c;return U(1,"div",[n||"","dms-input-select"].join(" "),[s?U(1,"div","dms-input",d,0,{"aria-label":r,tabIndex:"0",onKeyDown:this.onKeyDown},null,f=>this.inputNode=f):U(64,"input","dms-input",null,1,{"aria-label":r,onInput:this.onInput,onKeyDown:this.onKeyDown,spellCheck:"false",type:"text",value:c,id:i},null,f=>this.inputNode=f),U(1,"span",["dms-input-select-icon",l?"dmn-icon-up":"dmn-icon-down"].join(" ")),l&&MDe(this.renderOptions(o,u),this._portalEl)],0,{title:a,onClick:this.onInputClick},null,f=>this.parentNode=f)}}an.$inject=["keyboard","renderer"];function nz(t){t.stopPropagation()}class WLe extends Ne{constructor(n,r){super(n);ye(this,"onTypeChange",n=>{const r=this.getElement(),i=me(r,"dmn:LiteralExpression")?r.$parent:r;let o;St(i)?o={inputExpression:{typeRef:n}}:Kn(i)&&(o={typeRef:n}),this._modeling.updateProperties(i,o)});this._translate=r.injector.get("translate"),this._modeling=r.injector.get("modeling"),this._dataTypes=r.injector.get("dataTypes")}getElement(){return this.props.context.input||this.props.context.output}render(){const n=this.getElement(),r=(me(n,"dmn:InputClause")?n.inputExpression:n).typeRef,i=this._dataTypes.getAll().map(s=>({label:this._translate(s),value:s})),o=this._translate("Type");return U(1,"div","type-ref-edit context-menu-container",U(1,"div","dms-form-control",[U(1,"label","dms-label",[o,vt(":")],0),we(2,an,{className:"type-ref-edit-select",label:o,onChange:this.onTypeChange,options:i,value:r})],4),2)}}const GLe=750;class gte{constructor(e){e.onGetComponent("context-menu",GLe,(n={})=>{const{contextMenuType:r}=n;if(r==="input-edit"||r==="output-edit")return WLe})}}gte.$inject=["components"];const KLe={__depends__:[cl,Uy],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",gte]};class vte extends xe{constructor(e,n){super(e),this.postExecuted("element.updateProperties",r=>{const{element:i,properties:o}=r.context,s=St(i)?o.inputExpression:o;if(s&&s.typeRef&&s.typeRef!=="string"){const a=me(i,"dmn:LiteralExpression")?i.$parent:i;n.editAllowedValues(a,null)}})}}vte.$inject=["eventBus","modeling"];const XLe="radio",YLe="remove dmn-icon-clear";class yte extends Ne{constructor(n,r){super(n,r);ye(this,"getRemoveClickHandler",n=>r=>{r.stopPropagation(),this.removeItem(n)});ye(this,"getToggleClickHandler",n=>r=>{r.stopPropagation(),this.toggleItem(n)});ye(this,"removeItem",n=>{const{onChange:r}=this.props,i=this.state.items.filter(o=>o!==n);this.setState({items:i}),r&&r(i)});ye(this,"toggleItem",n=>{const{onChange:r,type:i}=this.props,o=this.state.items.map(s=>(s===n?s.isChecked=!s.isChecked:i===XLe&&(s.isChecked=!1),s));this.setState({items:o}),r&&r(o)});const{items:i}=n;this.state={items:i}}componentWillReceiveProps(n){const{items:r}=n;this.setState({items:r})}render(){const{className:n,items:r,type:i,labelComponent:o}=this.props,s=["dms-list-component"];n&&s.push(n);const a=vc(r,"group"),l=QLe(a);return U(1,"div",s.join(" "),l.map(c=>{const u=c[0],d=c[1];return U(1,"div","group",[o&&o(u)||U(1,"h4","dms-heading",u,0),U(1,"ul","items no-wrap",d.map(f=>U(1,"li","item",[i&&U(64,"input","item-toggle",null,1,{type:i,checked:f.isChecked,onClick:this.getToggleClickHandler(f)}),vt("¬†"),f.value,f.isRemovable&&U(1,"span",YLe,null,1,{title:"Remove item",onClick:this.getRemoveClickHandler(f)})],0)),0)],0)}),0)}}function QLe(t){const e=[];for(let n in t)e.push([n,t[n]]);return e}class Li extends Ne{constructor(e,n){super(e,n);const{validate:r,value:i}=e,o=r?r(i||""):void 0;this.state={validationWarning:o,value:i},this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this)}componentWillReceiveProps(e){const{validate:n,value:r}=e,i=n?n(r||""):void 0;this.setState({validationWarning:i,value:r})}onInput(e){const{onInput:n,validate:r}=this.props,i=r?r(e):void 0;this.setState({validationWarning:i,value:e}),typeof n=="function"&&n&&n({isValid:!i,value:e})}onKeyDown(e){const{target:n}=e,{value:r}=n,{onKeyDown:i,validate:o}=this.props,s=o?o(r):void 0;typeof i=="function"&&i({isValid:!s,value:r,event:e})}onKeyUp(e){const{target:n}=e,{value:r}=n,{onKeyUp:i,validate:o}=this.props,s=o?o(r):void 0;typeof i=="function"&&i({isValid:!s,value:r,event:e})}render(){const{placeholder:e,type:n,className:r,label:i}=this.props,{validationWarning:o,value:s}=this.state,a=["dms-validated-input",r].join(" "),l=[];return o&&l.push("invalid"),U(1,"div",a,[we(2,Ms,{className:l,label:i,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:e||"",type:n,value:s||""}),o&&U(1,"p","dms-hint dms-validation-warning",o,0)],0)}}function nx(t){if(!t||ZLe(t.trim()))return{values:[]};let e=t.split(",");const n={values:[]};let r="";if(e.forEach(i=>{r+=i,/^"[^"]*"$/.test(r.trim())?(n.values.push(r.trim()),r=""):r+=","}),!r)return n}function ZLe(t){return t===""}function JLe(t){return t.map(e=>e.value)}let eje=class extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"setPredefinedValues",n=>{const r=this.getAllowedValuesTarget();this.setState({values:n}),this._modeling.editAllowedValues(r,n&&JLe(n))});ye(this,"onListChange",n=>{this.setPredefinedValues(n)});ye(this,"onInput",({isValid:n,value:r})=>{this.setState({inputValue:r})});ye(this,"onKeyDown",({isValid:n,event:r})=>{if(nje(r.keyCode)&&(r.stopPropagation(),r.preventDefault(),n)){const{inputValue:i,values:o}=this.state,s=nx(i);this.onListChange((o||[]).concat(s.values.map(a=>({value:a,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})))),this.setState({inputValue:""})}});ye(this,"handleRemovePredifinedValuesClick",n=>{n.stopPropagation(),this.removePredefinedValues()});ye(this,"removePredefinedValues",()=>{this.setPredefinedValues(null)});this._translate=r.injector.get("translate"),this._modeling=r.injector.get("modeling"),this._changeSupport=r.changeSupport;const i=this.getAllowedValuesTarget(),o=nx(i.inputValues&&i.inputValues.text||i.outputValues&&i.outputValues.text||"");o?this.state={values:o.values.map(s=>({value:s,isCheckable:!1,isRemovable:!0,group:this._translate("Predefined values")})),inputValue:""}:this.state={values:null,inputValue:""}}componentWillMount(){const n=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}getAllowedValuesTarget(){const n=this.getElement();return me(n,"dmn:LiteralExpression")?n.$parent:n}getElement(){return this.props.context.output||this.props.context.input.inputExpression}render(){const n=this.getElement(),{inputValue:r,values:i}=this.state;return n.typeRef==="string"?U(1,"div","context-menu-container allowed-values-edit",U(1,"div","dms-form-control",[!rx(i)&&i.length>0&&we(2,yte,{labelComponent:tje,items:i,onChange:this.onListChange}),!rx(i)&&!i.length&&U(1,"div",null,[U(1,"label","dms-label",this._translate("Predefined values"),0),U(1,"span","placeholder",this._translate("No values"),0)],4),!rx(i)&&U(1,"p","dms-hint",U(1,"button","del-values",this._translate("Clear predefined values"),0,{type:"button",onClick:this.handleRemovePredifinedValuesClick}),2),U(1,"label","dms-label",this._translate("Add predefined values"),0),we(2,Li,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:this._translate('"value", "value", ...'),type:"text",validate:o=>{if(!nx(o))return this._translate("Strings must be in double quotes")},value:r})],0),2):null}};function tje(t){return U(1,"label","dms-label",t,0)}function nje(t){return t===13}function rx(t){return t===null}const rje=500;class bte{constructor(e){e.onGetComponent("context-menu",rje,(n={})=>{const{contextMenuType:r}=n;if(r==="input-edit"||r==="output-edit")return eje})}}bte.$inject=["components"];const ije={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",vte],allowedValuesEditingProvider:["type",bte]};class oje extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"handleClick",n=>{n.stopPropagation(),this.add()});ye(this,"add",()=>{this._eventBus.fire("addInput")});this._sheet=r.injector.get("sheet"),this._eventBus=r.injector.get("eventBus"),this._changeSupport=r.changeSupport,this._translate=r.injector.get("translate")}componentWillMount(){const n=this.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}render(){return U(1,"div","add-input actionable",U(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add input")}),2,{onClick:this.handleClick})}}class sje extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"handleClick",n=>{n.stopPropagation(),this.add()});ye(this,"add",()=>{this._eventBus.fire("addOutput")});this._sheet=r.injector.get("sheet"),this._eventBus=r.injector.get("eventBus"),this._changeSupport=r.changeSupport,this._translate=r.injector.get("translate")}componentWillMount(){const n=this.getRoot();this._changeSupport.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const n=this.getRoot();this._changeSupport.offElementsChanged(n.id,this.onElementsChanged)}getRoot(){return this._sheet.getRoot()}render(){return U(1,"div","add-output actionable",U(1,"button","dmn-icon-plus action-icon",null,1,{title:this._translate("Add output")}),2,{onClick:this.handleClick})}}function _te(t,e,n){t.onGetComponent("cell-inner",(r={})=>{const{cellType:i,index:o,inputsLength:s,outputsLength:a}=r;if(i==="input-cell"&&o===s-1)return oje;if(i==="output-cell"&&o===a-1)return sje}),n.on("addInput",()=>{e.trigger("addInput")}),n.on("addOutput",()=>{e.trigger("addOutput")})}_te.$inject=["components","editorActions","eventBus"];const aje={__depends__:[od],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",_te]};var rz="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/pull/662";let xte=class{constructor(e,n,r,i,o){ye(this,"_init",()=>{this._registerDefaultBindings(),this._fire("init")});ye(this,"_destroy",()=>{this._fire("destroy"),this.unbind(),this._listeners=null});ye(this,"_keyHandler",e=>{var n,r,i=this._listeners,o=e.keyCode||e.charCode||-1;for(n=0;r=i[n];n++)if(r(o,e)){e.preventDefault(),e.stopPropagation();return}});ye(this,"unbind",()=>{var e=this._node;e&&(this._fire("unbind"),Be.unbind(e,"keydown",this._keyHandler)),this._node=null});this._config=e||{},this._editorActions=r,this._eventBus=n,this._cellSelection=i,this._listeners=[],n.on("table.destroy",this._destroy),n.on("table.init",this._init),n.on("attach",()=>{this._config.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(rz)),this._target=o.getContainer();var s=this._config&&this._config.bind!==!1;s&&this.bind()}),n.on("detach",this.unbind)}bind(e){e&&console.error("unsupported argument <node>",new Error(rz)),this.unbind(),e=this._node=this._target,Be.bind(e,"keydown",this._keyHandler),this._fire("bind")}getBinding(){return this._node}_fire(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var e=this._listeners,n=this._editorActions,r=this._cellSelection;function i(l,c){if(Vl(c)&&!Hl(c)&&l===90)return n.trigger("undo"),!0}function o(l,c){if(Vl(c)&&(l===89||l===90&&Hl(c)))return n.trigger("redo"),!0}e.push(i),e.push(o);function s(l,c){if(!(l!==13||Vl(c)||!Hl(c))&&pE(c.target))return n.trigger("selectCellAbove"),!0}e.push(s);function a(l,c){if(l!==13||Vl(c)||Hl(c)||!pE(c.target))return;const u=n.trigger("selectCellBelow"),d=r.getCellSelection();if(!u&&d&&!lje(d)){const f=n.trigger("addRule");return n.trigger("selectCellBelow"),f}return!0}e.push(a)}addListener(e){this._listeners.unshift(e)}removeListener(e){this._listeners=this._listeners.filter(n=>n!==e)}};xte.$inject=["config.keyboard","eventBus","editorActions","cellSelection","renderer"];function lje(t){return t==="__decisionProperties_name"}const Js={__depends__:[od],__init__:["keyboard"],keyboard:["type",xte]},cje={__depends__:[aje,ije,cl,ll,al,Js,KLe],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",mte],outputEditingProvider:["type",hte]};function ix(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const uje=`.dmn-decision-table-container td,
   .dmn-decision-table-container th`;let wte=class{constructor(e,n,r,i){ix(this,"handleDragOver",o=>{mm(o);const s=o.target,a=Mr(s,uje,!0);let l=!!a;const{hoverEl:c}=this._dragContext;c&&c!==a&&(this._emit("dragAndDrop.dragLeave",o),this._dragContext.targetEl=null,this._dragContext.hoverEl=null),a&&(a!==c&&(this._dragContext.hoverEl=a,l=this._emit("dragAndDrop.dragEnter",o),l!==!1&&(this._dragContext.targetEl=a)),l=this._emit("dragAndDrop.dragOver",o)),o.dataTransfer.dropEffect=l!==!1?"move":"none"}),ix(this,"handleDrop",o=>{mm(o);const s=this._emit("dragAndDrop.drop",o);if(s){const{draggedElement:a}=this._dragContext;if(a instanceof Ur){const{rows:l}=this._sheet.getRoot();let c=l.indexOf(s);this._modeling.moveRow(a,c)}else if(a instanceof Wr){const{cols:l}=this._sheet.getRoot();let c=l.indexOf(s);this._modeling.moveCol(a,c)}}this.handleDragEnd(o)}),ix(this,"handleDragEnd",o=>{mm(o),this._unbindListeners(),this._emit("dragAndDrop.dragEnd",o),this._dragContext=null}),this._eventBus=e,this._renderer=n,this._modeling=r,this._sheet=i,this._dragContext=null,e.on("table.destroy",()=>{this._unbindListeners()})}_bindListeners(){Be.bind(document,"dragover",this.handleDragOver),Be.bind(document,"drop",this.handleDrop),Be.bind(document,"dragend",this.handleDragEnd)}_unbindListeners(){Be.unbind(document,"dragover",this.handleDragOver),Be.unbind(document,"drop",this.handleDrop),Be.unbind(document,"dragend",this.handleDragEnd)}_emit(e,n){return this._eventBus.fire(e,{dragContext:this._dragContext,originalEvent:n})}startDrag(e,n){mm(n,!0),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData&&n.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:e},this._bindListeners(),this._emit("dragAndDrop.dragStart",n)}};wte.$inject=["eventBus","renderer","modeling","sheet"];function mm(t,e){t.stopPropagation(),e!==!0&&t.preventDefault()}const dje={__init__:["dragAndDrop"],dragAndDrop:["type",wte]},fO="top",fje="right",hje="bottom",hO="left";class Ete{constructor(e,n,r,i,o,s,a,l){ye(this,"_cleanup",()=>{const e=this._renderer.getContainer();ox(e),vje(e),this._dragImage&&(Gn(this._dragImage),this._dragImage=null)});this._elementRegistry=n,this._dragAndDrop=i,this._renderer=o,this._rules=s,this._sheet=a,this._translate=l,e.onGetComponent("cell-inner",({cellType:c,col:u,row:d})=>{if(c==="rule-index")return()=>U(1,"span","dmn-icon-drag vertical",vt("¬†"),2,{draggable:"true",onDragStart:f=>this.startDrag(d,f),title:this._translate("Move rule")});if(c==="input-cell"||c==="output-cell"){let f=`Move ${St(u)?"Input":"Output"}`;return()=>U(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:h=>this.startDrag(u,h),title:f})}}),r.on("dragAndDrop.dragEnter",c=>{const{dragContext:u}=c,{draggedElement:d,hoverEl:f}=u;if(d instanceof Ur)return!0;if(d instanceof Wr){const h=pje(f,this._elementRegistry,this._sheet);return h===-1?!1:this._rules.allowed("col.move",{col:d,index:h})}return!1}),r.on("dragAndDrop.dragLeave",c=>{const{dragContext:u}=c,{targetEl:d}=u;if(!d)return;const f=this._renderer.getContainer();ox(f)}),r.on("dragAndDrop.dragOver",c=>{const{dragContext:u,originalEvent:d}=c,{draggedElement:f,lastPosition:h,targetEl:p}=u,m=this._renderer.getContainer();if(!p)return!1;let g;return f instanceof Ur&&(g=az(d,p)),f instanceof Wr&&(g=sz(d,p)),h===g||(ox(m),f instanceof Ur&&(g===fO?iz(p,m,"top"):iz(p,m,"bottom")),f instanceof Wr&&(g===hO?oz(p,m,"left"):oz(p,m,"right")),u.lastPosition=g),!0}),r.on("dragAndDrop.drop",c=>{const{dragContext:u,originalEvent:d}=c,{draggedElement:f,targetEl:h}=u;if(!h)return!1;if(f instanceof Ur){const p=az(d,h),m=h.dataset.rowId,g=this._elementRegistry.get(m);if(!g||g===f)return;const v=yje(f,g,p,this._sheet.getRoot().rows);return v===f?void 0:v}if(f instanceof Wr){const p=sz(d,h),m=h.dataset.colId,g=this._elementRegistry.get(m);if(!g||g===f)return;const v=bje(f,g,p,this._sheet.getRoot().cols);return v===f?void 0:v}}),r.on("dragAndDrop.dragEnd",this._cleanup)}startDrag(e,n){const r=this._renderer.getContainer();this._dragImage=at(`<span style="
          visibility: hidden;
          position: fixed;
          top: -10000px
      "></span>`),document.body.appendChild(this._dragImage),n.dataTransfer.setDragImage&&n.dataTransfer.setDragImage(this._dragImage,0,0),e instanceof Ur?mje(e,r):e instanceof Wr&&gje(e,r),this._dragAndDrop.startDrag(e,n)}}Ete.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet","translate"];function pje(t,e,n){const r=e.get(t.dataset.colId);if(!r)return-1;const{cols:i}=n.getRoot();return i.indexOf(r)}function iz(t,e,n){const r=t.dataset.rowId;if(!r)return;const i=Ko(`[data-row-id=${r}]`,e);ee(i,o=>{ad(o)&&(et(o).add("dragover"),et(o).add(n))})}function oz(t,e,n){const r=t.dataset.colId;if(!r)return;const i=Ko(`[data-col-id=${r}]`,e);ee(i,o=>{ad(o)&&(et(o).add("dragover"),et(o).add(n))})}function ox(t){const e=Ko(".dragover",t);ee(e,n=>{ad(n)&&(et(n).remove("dragover"),et(n).remove("top"),et(n).remove("right"),et(n).remove("bottom"),et(n).remove("left"))})}function mje(t,e){const n=Ko(`[data-row-id=${t.id}]`,e);ee(n,r=>{ad(r)&&et(r).add("dragged")})}function gje(t,e){const n=Ko(`[data-col-id=${t.id}]`,e);ee(n,r=>{ad(r)&&et(r).add("dragged")})}function vje(t){const e=Ko(".dragged",t);ee(e,n=>{ad(n)&&et(n).remove("dragged")})}function sz(t,e){const n=e.getBoundingClientRect();return t.clientX<n.left+n.width/2?hO:fje}function az(t,e){const n=e.getBoundingClientRect();return t.clientY<n.top+n.height/2?fO:hje}function yje(t,e,n,r){return r.indexOf(t)>r.indexOf(e)&&(e=xje(e,r)),n===fO?_je(e,r):e}function bje(t,e,n,r){return r.indexOf(t)>r.indexOf(e)&&(e=Eje(e,r)),n===hO?wje(e,r):e}function _je(t,e){const n=e.indexOf(t);return e[Math.max(0,n-1)]}function xje(t,e){const n=e.indexOf(t);return e[Math.min(e.length-1,n+1)]}function wje(t,e){const n=e.indexOf(t);if(Kn(t)){const r=e.filter(o=>Kn(o))[0],i=e.indexOf(r);return e[Math.max(i,n-1)]}return e[Math.max(0,n-1)]}function Eje(t,e){const n=e.indexOf(t);if(St(t)){const r=e.filter(s=>St(s)),i=r[r.length-1],o=e.indexOf(i);return e[Math.min(o,n+1)]}return e[Math.min(e.length-1,n+1)]}function ad(t){return t&&(t.nodeType===1||t.nodeType==11)}const Sje={__depends__:[dje,uO],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",Ete]};class Cje extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"changeDescription",n=>{this._modeling.updateProperties(this._element,{description:n})});this._elementRegistry=r.injector.get("elementRegistry"),this._modeling=r.injector.get("modeling"),this._changeSupport=this.context.changeSupport;const{id:i}=this.props.context;this._element=this._elementRegistry.get(i)}componentWillMount(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}componentDidMount(){const{autoFocus:n}=this.props.context;n&&this.node&&Oje(this.node).focus()}componentWillUnmount(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);const{businessObject:n}=this._element,{description:r}=n;kn(r)&&!r.length&&this.changeDescription(null)}}render(){if(!this._element)return;const{businessObject:n}=this._element,{description:r}=n;if(kn(r))return U(1,"div","context-menu-container description-editor",we(2,kje,{className:"dms-input",onChange:this.changeDescription,value:r}),2,null,null,i=>this.node=i)}}let kje=class extends sd{render(){return U(1,"div",this.getClassName(),this.getEditor(),0)}};function Oje(t){return Ue(".content-editable",t)}const Rje=500,Pje=750,lz=26;class Ste{constructor(e,n,r,i,o,s,a){ye(this,"addDescription",e=>{this._modeling.updateProperties(e,{description:""});const n=this._renderer.getContainer(),i=hu(e.id,n).getBoundingClientRect(),o=cz(n,i);this._contextMenu.open(o,{contextMenuType:"cell-description",id:e.id,autoFocus:!0,offset:{x:4,y:4}})});ye(this,"removeDescription",e=>{this._modeling.updateProperties(e,{description:null}),this._contextMenu.close()});this._contextMenu=n,this._modeling=o,this._renderer=s,this._translate=a,i.on("cell.click",Pje,l=>{if(l.defaultPrevented)return;const{target:c,id:u}=l,d=r.get(u);if(!Ar(d,["dmn:UnaryTests","dmn:LiteralExpression"]))return;uz(d)||l.preventDefault();const h=s.getContainer(),p=c.getBoundingClientRect(),m=cz(h,p);n.open(m,{contextMenuType:"cell-description",autoFocus:!1,id:u,offset:{x:4,y:4}})}),e.onGetComponent("context-menu",(l={})=>{if(l.contextMenuType&&l.contextMenuType==="cell-description"){const c=r.get(l.id),u=uz(c);if(kn(u))return Cje}}),e.onGetComponent("context-menu-cell-additional",Rje,(l={})=>{if(l.contextMenuType&&l.contextMenuType==="context-menu"){const{id:c}=l;if(!c)return;const u=r.get(c);if(!u)return;const{businessObject:d}=u,{description:f}=d,h=kn(f),p=h?"remove-description":"add-description",m=h?()=>this.removeDescription(u):()=>this.addDescription(u);return U(1,"div",`context-menu-group-entry ${p}`,kn(f)?this._translate("Remove cell description"):this._translate("Add cell description"),0,{onClick:m})}})}}Ste.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer","translate"];function cz(t,e){const{top:n,left:r,width:i,height:o}=e;return{x:r+t.parentNode.scrollLeft-lz,y:n+t.parentNode.scrollTop,width:i+2*lz,height:o}}function uz(t){return t&&t.businessObject&&t.businessObject.description}const Aje={__depends__:[cl,lO],__init__:["description"],description:["type",Ste]};let Cte=class{constructor(e,n,r,i,o,s){this._modeling=r,this._translate=o,this._expressionLanguages=i,e.onGetComponent("context-menu-cell-additional",(a={})=>{if(a.contextMenuType&&a.contextMenuType==="context-menu"){const{event:l,id:c}=a;if(!c)return;const u=n.get(c);if(!u||!this._shouldDisplayContextMenuEntry(u))return;const d=f=>{s.open({x:(l||f).pageX,y:(l||f).pageY},{contextMenuType:"expression-language",id:c})};return U(1,"div","context-menu-group-entry",this._translate("Change cell expression language"),0,{onClick:d})}}),e.onGetComponent("context-menu",(a={})=>{if(a.contextMenuType&&a.contextMenuType==="expression-language"){const{id:l}=a;if(!l)return;const c=n.get(l);if(!c)return;const u=this._getElementExpressionLanguage(c),d=i.getAll(),f="context-menu-group-entry context-menu-entry-set-expression-language",h=this._translate("Expression language");return()=>U(1,"div","context-menu-flex",U(1,"div","context-menu-group",U(1,"div",f,[U(1,"div",null,h,0),we(2,an,{label:h,className:"expression-language",onChange:p=>this.onChange(c,p),options:d,value:u})],4),2),2)}}),e.onGetComponent("context-menu",(a={})=>{if(a.contextMenuType==="input-edit")return()=>{const{inputExpression:l}=a.input;if(!this._shouldDisplayContextMenuEntry(l))return;const c=this._getElementExpressionLanguage(l),u=i.getAll(),d=this._translate("Expression language");return U(1,"div","context-menu-container ref-language",U(1,"div","dms-form-control",[U(1,"label","dms-label",d,0),we(2,an,{label:d,className:"ref-language",value:c||"",onChange:f=>this.onChange(l,f),options:u})],4),2)}})}onChange(e,n){this._modeling.editExpressionLanguage(e,n)}_shouldDisplayContextMenuEntry(e){return this._expressionLanguages.getAll().length>1?!0:this._getElementExpressionLanguage(e)!==this._getDefaultElementExpressionLanguage(e)}_getElementExpressionLanguage(e){return vr(e).expressionLanguage||this._getDefaultElementExpressionLanguage(e)}_getDefaultElementExpressionLanguage(e){return this._expressionLanguages.getDefault(St(e.col)?"inputCell":"outputCell").value}};Cte.$inject=["components","elementRegistry","modeling","expressionLanguages","translate","contextMenu"];const Tje={__depends__:[al],__init__:["expressionLanguage"],expressionLanguage:["type",Cte]};class kte extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"setDecisionTableName",n=>{this.modeling.editDecisionTableName(n)});cr(this)}componentWillMount(){this.setupChangeListeners({bind:this.getBusinessObject().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}setupChangeListeners({bind:n,unbind:r}){typeof r=="string"&&this.changeSupport.offElementsChanged(r,this.onElementsChanged),typeof n=="string"&&this.changeSupport.onElementsChanged(n,this.onElementsChanged)}getBusinessObject(){return this.sheet.getRoot().businessObject.$parent}render(){const n=this.getBusinessObject(),{name:r}=n,i=this.components.getComponent("hit-policy")||Dje;return U(1,"div","decision-table-properties",[we(2,Ije,{label:this.translate("Decision name"),className:"decision-table-name",value:r,ctrlForNewline:!0,onBlur:Mje,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),U(1,"div","decision-table-header-separator"),we(2,i)],4)}}kte.$inject=["sheet","modeling","changeSupport","components","translate"];class Ije extends sd{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),Bc(this,sO)}render(){const e=this.props.value,n=oO(this.getSelectionClasses(),this.getClassName());return U(1,"div",n,this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:this._translate("Decision name: ")+e})}}function Dje(){return null}function Mje(t){t.target.scroll(0,0)}const $je=500;class Ote{constructor(e){e.onGetComponent("table.before",$je,()=>kte)}}Ote.$inject=["components"];const Nje={__depends__:[ll],__init__:["decisionTableProperties"],decisionTableProperties:["type",Ote]};class Rte extends Ne{constructor(n,r){super(n,r);ye(this,"onChange",({aggregation:n,hitPolicy:r})=>{this.modeling.editHitPolicy(r,n)});ye(this,"onElementsChanged",()=>{this.forceUpdate()});this._translate=r.injector.get("translate"),cr(this)}componentDidMount(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}componentWillUnmount(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}render(){const n=this.getRoot(),r=n.businessObject,{aggregation:i,hitPolicy:o}=r,s=Ge(fE,a=>Lje(a.value,{aggregation:i,hitPolicy:o}));return U(1,"div","hit-policy",[U(1,"label","dms-label",this._translate("Hit policy:"),0),we(2,an,{className:"hit-policy-edit-policy-select",label:this._translate("Hit policy"),onChange:this.onChange,options:fE.map(a=>({...a,label:this._translate(a.label)})),value:s.value,"data-hit-policy":"true",noInput:!0})],4,{title:this._translate(s.explanation)})}}Rte.$inject=["changeSupport","sheet","modeling"];function Lje(t,e){return t.hitPolicy===e.hitPolicy&&t.aggregation===e.aggregation}function Pte(t){t.onGetComponent("hit-policy",()=>Rte)}Pte.$inject=["components"];const jje={__depends__:[cl],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",Pte]};class Ate extends xe{constructor(e,n){super(e),this.executed(["row.add","row.remove","col.add","col.remove"],dz(r=>{var i=r.context,o=i.row||i.col;this.updateRoot(o,i.oldRoot)})),this.reverted(["row.add","row.remove","col.add","col.remove"],dz(r=>{var i=r.context,o=i.row||i.col;this.updateRoot(o,i.newRoot)}))}updateRoot(e,n){var r=e.root,i=e.businessObject;if(me(e,"dmn:DecisionRule")){if(n){let s=n.businessObject.get("rule"),a=s.indexOf(i);s.splice(a,1),i.$parent=null}if(r){let o=r.businessObject,s=r.rows.indexOf(e);o.get("rule").splice(s,0,i),i.$parent=o,e.cells.forEach((a,l)=>{this.wireCell(a,e,l)})}}if(me(e,"dmn:InputClause")||me(e,"dmn:OutputClause")){let o,s;if(n){let a=n.businessObject,l=a.get("input"),c=a.get("output");if(me(e,"dmn:InputClause")&&(o=l,s=l.indexOf(i)),me(e,"dmn:OutputClause")&&(o=c,s=c.indexOf(i)),s===-1)throw new Error("inconsistent model: clause not in table");o.splice(s,1),i.$parent=null,e.cells.forEach((u,d)=>{this.unwireCell(u,n.rows[d])})}if(r){let a=r.businessObject,l=a.get("input"),c=a.get("output"),u=r.cols.indexOf(e),d,f;me(e,"dmn:InputClause")&&(f=l,d=u),me(e,"dmn:OutputClause")&&(f=c,d=u-l.length),f.splice(d,0,i),i.$parent=a,e.cells.forEach((h,p)=>{this.wireCell(h,r.rows[p],u)})}}}unwireCell(e,n){var r=e.businessObject;let i=n.businessObject,o=i.get("inputEntry"),s=i.get("outputEntry"),a,l;if(me(e,"dmn:UnaryTests")&&(a=o),me(e,"dmn:LiteralExpression")&&(a=s),l=a.indexOf(r),l===-1)throw new Error("cell not in row");a.splice(l,1),r.$parent=null}wireCell(e,n,r){var i=e.businessObject;let o=n.businessObject,s=o.get("inputEntry"),a=o.get("outputEntry"),l,c;i.$parent!==o&&(me(e,"dmn:UnaryTests")&&(l=s,c=r),me(e,"dmn:LiteralExpression")&&(l=a,c=r-s.length),l.splice(c,0,i),i.$parent=o)}}Ate.$inject=["eventBus","sheet"];function dz(t){return function(e){var n=e.context,r=n.row||n.col;me(r,"dmn:DMNElement")&&t(e)}}let Tte=class{constructor(e){this._model=e}create(e,n={}){var r=this._model.create(e,n||{});return me(r,"dmn:InputClause")&&(n.inputExpression?r.inputExpression=n.inputExpression:(r.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),r.inputExpression.$parent=r)),me(r,"dmn:OutputClause")&&(r.typeRef=n.typeRef||"string"),(me(r,"dmn:UnaryTests")||me(r,"dmn:LiteralExpression"))&&(r.text=n.text||""),this._ensureId(r),r}_needsId(e){return me(e,"dmn:DMNElement")}_ensureId(e){var n=(e.$type||"").replace(/^[^:]*:/g,"")+"_";!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(n,e))}};Tte.$inject=["moddle"];class Ite extends aee{constructor(e){super(),this._dmnFactory=e}create(e,n){const r=this._dmnFactory;let{businessObject:i,type:o,...s}=n;if(!i){if(!o){if(e==="root")o="dmn:DecisionTable";else if(e==="cell"){let{col:a}=s;me(a,"dmn:OutputClause")&&(o="dmn:LiteralExpression"),me(a,"dmn:InputClause")&&(o="dmn:UnaryTests")}if(!o)throw new Error("cannot guess <type>")}i=r.create(o)}return super.create(e,{businessObject:i,id:i.id,...s})}}Ite.$inject=["dmnFactory"];class Dte{constructor(e,n){this._sheet=e,this._elementFactory=n}execute(e){const n=this._sheet,r=this._elementFactory,i=n.getRoot();let{row:o,index:s}=e;return typeof s>"u"&&(s=e.index=i.rows.length),e.newRoot=i,o.cells.length||i.cols.forEach((a,l)=>{const c=r.create("cell",{row:o,col:a});o.cells[l]=c}),n.addRow(o,s),n.getRoot()}revert(e){const{row:n}=e,r=this._sheet;return r.removeRow(n),r.getRoot()}}Dte.$inject=["sheet","elementFactory"];class Mte{constructor(e){this._sheet=e}execute(e){const n=this._sheet,r=n.getRoot();let{row:i}=e;const o=e.oldIndex=r.rows.indexOf(i);if(e.oldRoot=i.root,o===-1)throw new Error(`row#${i.id} not in sheet`);return n.removeRow(i),n.getRoot()}revert(e){const{row:n,oldIndex:r}=e,i=this._sheet;return i.addRow(n,r),i.getRoot()}}Mte.$inject=["sheet"];class $te{constructor(e){this._modeling=e}preExecute(e){let{row:n}=e;this._modeling.removeRow(n)}postExecute(e){let{row:n,index:r}=e;this._modeling.addRow(n,r)}}$te.$inject=["modeling"];class Nte{constructor(e,n){this._sheet=e,this._elementFactory=n}execute(e){const n=this._sheet,r=this._elementFactory,i=n.getRoot();let{col:o,index:s}=e;return typeof s>"u"&&(s=e.index=i.cols.length),e.newRoot=i,o.cells.length||i.rows.forEach((a,l)=>{const c=r.create("cell",{row:a,col:o});o.cells[l]=c}),n.addCol(o,s),n.getRoot()}revert(e){const{col:n}=e,r=this._sheet;return r.removeCol(n),r.getRoot()}}Nte.$inject=["sheet","elementFactory"];class Lte{constructor(e,n){this._sheet=e,this._elementFactory=n}execute(e){const n=this._sheet;let{col:r}=e;const i=e.oldRoot=r.root;if((e.oldIndex=i.cols.indexOf(r))===-1)throw new Error(`col#${r.id} not in sheet`);return n.removeCol(r),n.getRoot()}revert(e){const{col:n,oldIndex:r}=e,i=this._sheet;return i.addCol(n,r),i.getRoot()}}Lte.$inject=["sheet","elementFactory"];class jte{constructor(e){this._modeling=e}preExecute(e){let{col:n}=e;this._modeling.removeCol(n)}postExecute(e){let{col:n,index:r}=e;this._modeling.addCol(n,r)}}jte.$inject=["modeling"];class Bje{execute(e){let{cell:n}=e;return n}revert(e){const{cell:n}=e;return n}}let Bte=class Fte{constructor(e,n,r){this._eventBus=e,this._elementFactory=n,this._commandStack=r,e.on("table.init",()=>{Fje(this.getHandlers(),r)})}getHandlers(){return Fte._getHandlers()}static _getHandlers(){return{"row.add":Dte,"row.remove":Mte,"row.move":$te,"col.add":Nte,"col.remove":Lte,"col.move":jte,"cell.edit":Bje}}_create(e,n){return n instanceof Op?n:this._elementFactory.create(e,n)}addRow(e,n){const r=this._create("row",e),i={row:r,index:n};return this._commandStack.execute("row.add",i),r}removeRow(e){this._commandStack.execute("row.remove",{row:e})}moveRow(e,n){const r={row:e,index:n};this._commandStack.execute("row.move",r)}addCol(e,n){const r=this._create("col",e),i={col:r,index:n};return this._commandStack.execute("col.add",i),r}removeCol(e){this._commandStack.execute("col.remove",{col:e})}moveCol(e,n){const r={col:e,index:n};this._commandStack.execute("col.move",r)}editCell(e,n){const r={cell:e,...n};this._commandStack.execute("cell.edit",r)}};Bte.$inject=["eventBus","elementFactory","commandStack"];function Fje(t,e){ee(t,function(n,r){e.registerHandler(r,n)})}class zte{constructor(e,n,r){this._dmnFactory=e,this._moddle=n,this._modeling=r}execute(e){const{element:n,allowedValues:r}=e;return me(n,"dmn:InputClause")?(n.inputValues?e.oldAllowedValues=n.inputValues.text:gm(r)||(n.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),gm(r)?n.inputValues&&delete n.inputValues:n.inputValues.text=r.join(",")):(n.outputValues&&n?e.oldAllowedValues=n.outputValues.text:gm(r)||(n.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),gm(r)?n.outputValues&&delete n.outputValues:n.outputValues.text=r.join(",")),n}revert(e){const{element:n,oldAllowedValues:r}=e;return me(n,"dmn:InputClause")?r?(n.inputValues||(n.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),n.inputValues.text=r):delete n.inputValues:r?(n.outputValues||(n.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),n.outputValues.text=r):delete n.outputValues,n}}zte.$inject=["dmnFactory","moddle","modeling"];function gm(t){return t===null}const yE="id";class Gy{constructor(e,n){this._elementRegistry=e,this._moddle=n}execute(e){const{element:n,properties:r}=e,i=vr(n),{changed:o,oldProperties:s}=this.updateProperties(i,r);return e.oldProperties=s,[...o,n]}revert(e){const{element:n,oldProperties:r}=e;var i=vr(n),{changed:o}=this.updateProperties(i,r);return[...o,n]}updateProperties(e,n){const r=this._moddle.ids;return cn(n,(i,o,s)=>{const a=e.get(s);if(fz(o)){if(!fz(a))throw new Error(`non-existing property <${s}>: cannot update values`);let{changed:l,oldProperties:c}=this.updateProperties(a,o);return{changed:[...i.changed,...l,a],oldProperties:{...i.oldProperties,[s]:c}}}return s===yE&&zje(e,o)&&(r.unclaim(e[yE]),this._elementRegistry.updateId(e,o),r.claim(o,e)),e.set(s,o),{changed:i.changed,oldProperties:{...i.oldProperties,[s]:a}}},{changed:[],oldProperties:{}})}}Gy.$inject=["elementRegistry","moddle"];function zje(t,e){return t[yE]!==e}function fz(t){return Jt(t)&&On(t)}class qte{constructor(e){this._moddle=e}execute(e){const n=this._moddle.ids,r=e.id,i=e.element;e.claiming?n.claim(r,i):n.unclaim(r)}revert(e){const n=this._moddle.ids,r=e.id,i=e.element;e.claiming?n.unclaim(r):n.claim(r,i)}}qte.$inject=["moddle"];let Vte=class Hte extends Bte{constructor(e,n,r,i){super(e,n,r),this._eventBus=e,this._elementFactory=n,this._commandStack=r,this._sheet=i}getHandlers(){return Hte._getHandlers()}static _getHandlers(){return re({},super._getHandlers(),{editAllowedValues:zte,"element.updateProperties":Gy,"id.updateClaim":qte})}editDecisionTableName(e){const o={element:this._sheet.getRoot().businessObject.$parent,properties:{name:e}};this._commandStack.execute("element.updateProperties",o)}editDecisionTableId(e){const o={element:this._sheet.getRoot().businessObject.$parent,properties:{id:e}};this._commandStack.execute("element.updateProperties",o)}editHitPolicy(e,n){const o={element:this._sheet.getRoot().businessObject,properties:{hitPolicy:e,aggregation:n}};this._commandStack.execute("element.updateProperties",o)}updateProperties(e,n){const r={element:e,properties:n};this._commandStack.execute("element.updateProperties",r)}editInputExpression(e,n){const r={element:e,properties:n};this._commandStack.execute("element.updateProperties",r)}editOutputName(e,n){const r={element:e,properties:{name:n}};this._commandStack.execute("element.updateProperties",r)}editInputExpressionTypeRef(e,n){const r={element:e,properties:{typeRef:n}};this._commandStack.execute("element.updateProperties",r)}editOutputTypeRef(e,n){const r={element:e,properties:{typeRef:n}};this._commandStack.execute("element.updateProperties",r)}editCell(e,n){const r={element:e,properties:{text:n}};this._commandStack.execute("element.updateProperties",r)}editAnnotation(e,n){const r={element:e,properties:{description:n}};this._commandStack.execute("element.updateProperties",r)}editAllowedValues(e,n){const r={element:e,allowedValues:n};this._commandStack.execute("editAllowedValues",r)}editExpressionLanguage(e,n){const r={element:e,properties:{expressionLanguage:n}};this._commandStack.execute("element.updateProperties",r)}claimId(e,n){const r={id:e,element:n,claiming:!0};this._commandStack.execute("id.updateClaim",r)}unclaimId(e,n){const r={id:e,element:n};this._commandStack.execute("id.updateClaim",r)}};Vte.$inject=["eventBus","elementFactory","commandStack","sheet"];class Ute extends xe{constructor(e,n,r){super(e),this._ids=n.ids,this._modeling=r,this.preExecute(["row.add","col.add"],i=>{const o=i.context,s=o.row||o.col;this.claimId(s.businessObject),s.cells&&s.cells.forEach(a=>this.claimId(a.businessObject))})}claimId(e){e.id&&!this._ids.assigned(e.id)&&this._modeling.claimId(e.id,e),e.$descriptor.properties.forEach(n=>{const r=e[n.name];r&&(Fe(r)&&r.forEach(i=>this.claimId(i)),r.$type&&this.claimId(r))})}}Ute.$inject=["eventBus","moddle","modeling"];class Wte extends xe{constructor(e,n){super(e),this._modeling=n,this.preExecute(["row.remove","col.remove"],r=>{const i=r.context,o=i.row||i.col;this.unclaimId(o.businessObject),o.cells&&o.cells.forEach(s=>this.unclaimId(s.businessObject))})}unclaimId(e){e.id&&this._modeling.unclaimId(e.id,e),e.$descriptor.properties.forEach(n=>{const r=e[n.name];r&&(Fe(r)&&r.forEach(i=>this.unclaimId(i)),r.$type&&this.unclaimId(r))})}}Wte.$inject=["eventBus","modeling"];const qje={__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",Ute],idUnclaimBehavior:["type",Wte]},Vje={__init__:["dmnUpdater","idChangeBehavior","nameChangeBehavior","modeling"],__depends__:[qje,d2],dmnUpdater:["type",Ate],dmnFactory:["type",Tte],elementFactory:["type",Ite],idChangeBehavior:["type",kp],nameChangeBehavior:["type",tO],modeling:["type",Vte]};class Hje extends Ne{constructor(e,n){super(e,n),this.changeCellValue=this.changeCellValue.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this)}onElementsChanged(){this.forceUpdate()}componentWillMount(){const{injector:e}=this.context,{cell:n}=this.props,r=this._changeSupport=this.context.changeSupport;this._modeling=e.get("modeling"),r.onElementsChanged(n.id,this.onElementsChanged)}componentWillUnmount(){const{cell:e}=this.props;this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}changeCellValue(e){const{cell:n}=this.props;this._modeling.editCell(n.businessObject,e)}render(){const{cell:e,rowIndex:n,row:r,col:i,colIndex:o}=this.props,s=me(e,"dmn:UnaryTests"),a=e.businessObject;return we(2,uh,{className:s?"input-cell":"output-cell",elementId:e.id,coords:`${n}:${o}`,"data-row-id":r.id,"data-col-id":i.id,children:we(2,Wje,{placeholder:s?"-":"",onChange:this.changeCellValue,value:a.text,businessObject:a})})}}let Uje=class extends Ne{constructor(e,n){super(e,n),this.state={focussed:!1},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}onFocus(){this.setState({focussed:!0})}onBlur(){this.setState({focussed:!1})}render(){const{focussed:e}=this.state;return U(1,"div",`feel-editor${e?" focussed":""}`,[e&&Ba(we(2,Wy,{...this.props,autoFocus:!0,onBlur:this.onBlur})),Ba(we(2,pu,{...this.props,onInput:()=>{},onFocus:this.onFocus}))],0,{onClick:this.onFocus})}};class Wje extends Ne{constructor(e,n){super(e,n),this._expressionLanguages=n.injector.get("expressionLanguages"),this._translate=n.injector.get("translate"),this._variableResolver=n.injector.get("variableResolver",!1)}isDefaultExpressionLanguage(e){const{expressionLanguage:n}=e,r=this.getDefaultExpressionLanguage().value;return!n||n===r}getDescription(e){return e.description}getExpressionLanguageLabel(e){const{expressionLanguage:n}=e,r=this.getDefaultExpressionLanguage();return this._expressionLanguages.getLabel(n)||r.label}isScript(){const{businessObject:e}=this.props,n=this.getDefaultExpressionLanguage();return this._isInputCell()?e.text.indexOf(`
`)!==-1?!0:e.expressionLanguage&&e.expressionLanguage!==n:!1}_isInputCell(){return me(this.props.businessObject,"dmn:UnaryTests")}getDefaultExpressionLanguage(){const e=this._isInputCell()?"inputCell":"outputCell";return this._expressionLanguages.getDefault(e)}getEditor(){return this.isFEEL()?Uje:pu}isFEEL(){return this.getExpressionLanguage()==="feel"}getExpressionLanguage(){const{businessObject:e}=this.props;return e.expressionLanguage||this.getDefaultExpressionLanguage().value}_getVariables(){const{businessObject:e}=this.props;return this._variableResolver&&this._variableResolver.getVariables(e)}_getLabel(){return this._isInputCell()?this._translate("Input"):this._translate("Output")}render(){const{businessObject:e,placeholder:n,value:r,onChange:i}=this.props,o=this.getDescription(e),s=this.isDefaultExpressionLanguage(e),a=this.getExpressionLanguageLabel(e),l=this.isScript(),c=this.getEditor(),u=this._getVariables();return U(1,"div","cell-editor",[kn(o)&&U(1,"div","description-indicator"),we(2,c,{label:this._getLabel(),className:l?"script-editor":"",ctrlForNewline:!0,onInput:i,value:r,placeholder:n,variables:u}),!s&&U(1,"span","dms-badge dmn-expression-language",[U(1,"span","dms-badge-icon dmn-icon-file-code"),U(1,"span","dms-badge-label",a,0)],4,{title:this._translate("Expression language: {expressionLanguageLabel}",{expressionLanguageLabel:a})})],0)}}const Gje=1500;class Gte{constructor(e){e.onGetComponent("cell",Gje,({cellType:n})=>{if(n==="rule")return Hje})}}Gte.$inject=["components"];const Kje={__depends__:[ll,Eee],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",Gte]},vm=4;class Kte extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this.state={top:0,left:0,isVisible:!1,isDisabled:!1,selection:null},cr(this);const{debounceInput:r}=this;this.onClick=this.onClick.bind(this),this.handleSelectionChanged=this.handleSelectionChanged.bind(this),this.hideAndShowDebounced=this.hideAndShowDebounced.bind(this),this.showDebounced=r(this.showDebounced.bind(this)),this.updatePosition=this.updatePosition.bind(this)}componentDidMount(){const{eventBus:e}=this;e.on("cellSelection.changed",this.handleSelectionChanged),e.on("commandStack.changed",this.updatePosition),e.on("sheet.scroll",this.hideAndShowDebounced)}componentWillUnmount(){const{eventBus:e}=this;e.off("cellSelection.changed",this.handleSelectionChanged),e.off("commandStack.changed",this.updatePosition),e.off("sheet.scroll",this.hideAndShowDebounced)}hideAndShowDebounced(){this.state.isVisible&&(this.hide(),this.showDebounced())}showDebounced(){this.show()}hide(e={}){this.setState({...e,isVisible:!1})}show(e={}){this.setState({...e,isVisible:!0}),this.updatePosition()}handleSelectionChanged({elementId:e}){const{elementRegistry:n,expressionLanguages:r,simpleMode:i}=this,o=n.get(e);if(!o||!i.canSimpleEdit(o)){this.hide({isDisabled:!1,selection:null});return}const s=Xje(o),a=!Yje(o,s,r);this.show({isDisabled:a,selection:o})}updatePosition(){const{selection:e}=this.state,{node:n}=this;if(!e||!n)return;const{renderer:r}=this,i=r.getContainer(),o=i.getBoundingClientRect(),a=hu(e.id,i).getBoundingClientRect(),l=this.node.getBoundingClientRect(),{scrollLeft:c,scrollTop:u}=Zje(n),d={};a.left+a.width/2>o.width/2?d.left=-o.left+a.left-l.width+vm+c+"px":d.left=-o.left+a.left+a.width-vm+c+"px",a.top+a.height/2>o.height/2?d.top=-o.top+a.top-l.height+vm+u+"px":d.top=-o.top+a.top-vm+u+"px",re(this.node.style,d)}onClick(){const{eventBus:e}=this,{isDisabled:n}=this.state;if(n)return;const{selection:r}=this,i=r.get();i&&(e.fire("simpleMode.open",{element:i,node:hu(i.id,this._container)}),this.hide())}render(){const{isDisabled:e,isVisible:n,top:r,left:i}=this.state,o=["simple-mode-button","no-deselect"];return e&&o.push("disabled"),n?U(1,"div",o.join(" "),U(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:r,left:i},title:e?this._translate("Editing not supported for set expression language"):this._translate("Edit")},null,s=>this.node=s):null}}Kte.$inject=["debounceInput","elementRegistry","eventBus","expressionLanguages","renderer","selection","simpleMode"];function Xje(t){return t.businessObject.expressionLanguage}function Yje(t,e,n){return!e||e===Qje(t,n)}function Qje(t,e){if(St(t.col))return e.getDefault("inputCell").value;if(Kn(t.col))return e.getDefault("outputCell").value}function Zje(t){const e=Mr(t,".tjs-table-container");if(!e)return{scrollTop:0,scrollLeft:0};const{scrollLeft:n,scrollTop:r}=e;return{scrollTop:r,scrollLeft:n}}class Xte{constructor(e,n,r,i,o){this._providers=[],e.onGetComponent("table.before",()=>Kte),i.on("simpleMode.open",({element:s,node:a})=>{const{left:l,top:c,width:u,height:d}=a.getBoundingClientRect(),f=o.getContainer();n.open({x:l+f.parentNode.scrollLeft,y:c+f.parentNode.scrollTop,width:u,height:d},{contextMenuType:"simple-mode-edit",element:s,offset:{x:4,y:4}})}),i.on("cell.click",s=>{const{event:a,node:l,id:c}=s;if(Jje(a)){const u=r.get(c);u&&i.fire("simpleMode.open",{node:l,element:u}),s.preventDefault()}})}registerProvider(e){this._providers.push(e)}canSimpleEdit(e){return this._providers.reduce((n,r)=>n||r(e),!1)}}Xte.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"];function Jje(t){return t.altKey?!1:t.ctrlKey||t.metaKey}const ul={__depends__:[cl,Hy,al],__init__:["simpleMode"],simpleMode:["type",Xte]};function eBe(t){if(!t||tBe(t))return"none";if(t.trim()==="true")return"true";if(t.trim()==="false")return"false"}function tBe(t){return t===""}const nBe="true",rBe="false",sx="none";class iBe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=eBe(r.businessObject.text);this.state={value:i||sx},this.editCell=this.editCell.bind(this),this.onChange=this.onChange.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onChange(e){const{element:n}=this.props.context;this.editCell(n.businessObject,e===sx?"":e),this.setState({value:e})}render(){const{value:e}=this.state,n=[{label:"-",value:sx},{label:this._translate("Yes"),value:nBe},{label:this._translate("No"),value:rBe}];return U(1,"div","simple-boolean-edit context-menu-container",[U(1,"h3","dms-heading",this._translate("Edit boolean"),0),U(1,"h4","dms-heading",this._translate("Set value"),0),we(2,an,{label:this._translate("Boolean value"),noInput:!0,className:"dms-block",onChange:this.onChange,options:n,value:e})],4)}}class Yte{constructor(e,n){n.registerProvider(r=>(St(r.col)||Kn(r.col))&&hz(r)==="boolean"),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;if(hz(r.element)==="boolean")return iBe}})}}Yte.$inject=["components","simpleMode"];function hz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const oBe={__depends__:[Js,ul],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",Yte]},sBe=/^\d{4}(?:-\d\d){2}$/,aBe=/^\[date\("([^"]*)"\)..date\("([^"]*)"\)\]$/,lBe=/^(<|>)\s*date\("([^"]*)"\)$/,cBe=/^date\("([^"]*)"\)$/,uBe="exact",dBe="before",fBe="after",hBe="between";function v0(t){if(!sBe.test(t.trim()))return"Date must match pattern yyyy-MM-dd"}function ca(t,e){if(t===uBe)return`date("${e[0]}")`;if(t===dBe)return`< date("${e[0]}")`;if(t===fBe)return`> date("${e[0]}")`;if(t===hBe)return`[date("${e[0]}")..date("${e[1]}")]`}function ws(){const t=new Date;return t.setUTCHours(0,0,0,0),t.toISOString().slice(0,10)}function lf(t){if(!t||t.trim()==="")return{type:"exact",date:""};let e=t.match(aBe);if(e)return{type:"between",dates:[e[1],e[2]]};if(e=t.match(lBe),e)return{type:e[1]==="<"?"before":"after",date:e[2]};if(e=t.match(cBe),e)return{type:"exact",date:e[1]}}const pz="exact",pBe="before",mBe="after",Ud="between";let gBe=class extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=lf(r.businessObject.text);if(i){let s;i.date?s=[i.date,""]:i.dates?s=i.dates:s=["",""],this.state={type:i.type,dates:s}}else this.state={type:pz,dates:["",""]};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onTypeChange(e){const{element:n}=this.props.context,{dates:r}=this.state;this.setState({type:e}),lf(ca(e,r))&&this.editCell(n.businessObject,ca(e,r))}onSetStartDateTodayClick(){const{element:e}=this.props.context,{dates:n,type:r}=this.state,i=ws();this.setState({dates:[i,n[1]]}),lf(ca(r,[i,n[1]]))&&this.editCell(e.businessObject,ca(r,[i,n[1]]))}onSetEndDateTodayClick(){const{element:e}=this.props.context,{dates:n,type:r}=this.state,i=ws();this.setState({dates:[n[0],i]}),lf(ca(r,[n[0],i]))&&this.editCell(e.businessObject,ca(r,[n[0],i]))}onStartDateInput({value:e}){const{element:n}=this.props.context,{dates:r,type:i}=this.state;this.setState({dates:[e,r[1]]}),this.debouncedEditCell(n.businessObject,ca(i,[e,r[1]]))}onEndDateInput({value:e}){const{element:n}=this.props.context,{dates:r,type:i}=this.state;this.setState({dates:[r[0],e]}),this.debouncedEditCell(n.businessObject,ca(i,[r[0],e]))}render(){const{dates:e,type:n}=this.state,r=[{label:this._translate("Exactly"),value:pz},{label:this._translate("Before"),value:pBe},{label:this._translate("After"),value:mBe},{label:this._translate("Between"),value:Ud}];return U(1,"div","context-menu-container simple-date-edit",[U(1,"h3","dms-heading",this._translate("Edit date"),0),U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:r,value:n}),2),U(1,"h4","dms-heading",n===Ud?this._translate("Edit start date"):this._translate("Set date"),0),U(1,"div",null,[we(2,Li,{label:n===Ud?this._translate("Start date"):this._translate("Date"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:ws()}),validate:i=>v0(i)&&this._translate(v0(i)),value:e[0]}),U(1,"p","dms-hint",[U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),vt(".")],4)],4),n===Ud&&U(1,"h4","dms-heading",this._translate("Edit end date"),0),n===Ud&&U(1,"div",null,[we(2,Li,{label:this._translate("End date"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:ws()}),validate:i=>v0(i)&&this._translate(v0(i)),value:e[1]}),U(1,"p","dms-hint",[U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),vt(".")],4)],4)],0)}},vBe=class extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=lf(r.businessObject.text);this.state={date:i?i.date:""};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onClick(){const{element:e}=this.props.context,n=ws();this.setState({date:n}),this.editCell(e.businessObject,`date("${n}")`)}onInput({value:e}){const{element:n}=this.props.context;this.setState({date:e}),this.debouncedEditCell(n.businessObject,`date("${e}")`)}render(){const{date:e}=this.state;return U(1,"div","context-menu-container simple-date-edit",[U(1,"h3","dms-heading",this._translate("Edit date"),0),U(1,"h4","dms-heading",this._translate("Set date"),0),U(1,"div",null,[we(2,Li,{label:this._translate("Date value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:ws()}),validate:n=>v0(n)&&this._translate(v0(n)),value:e,className:"dms-block"}),U(1,"p","dms-hint",U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}},Qte=class{constructor(e,n){n.registerProvider(r=>{const i=mz(r);return(St(r.col)||Kn(r.col))&&gz(i)}),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;const i=mz(r.element);if(gz(i)){if(St(r.element.col))return gBe;if(Kn(r.element.col))return vBe}}})}};Qte.$inject=["components","simpleMode"];function mz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function gz(t){return t==="date"}const yBe={__depends__:[Js,ul],__init__:["simpleDateEdit"],simpleDateEdit:["type",Qte]},bBe=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,_Be=/^\[date and time\("([^"]*)"\)..date and time\("([^"]*)"\)\]$/,xBe=/^(<|>)\s*date and time\("([^"]*)"\)$/,wBe=/^date and time\("([^"]*)"\)$/,EBe="exact",SBe="before",CBe="after",kBe="between";function y0(t){if(!bBe.test(t.trim()))return"Date and time must match pattern yyyy-MM-ddTHH:mm:ss[time zone]"}function ua(t,e){if(t===EBe)return`date and time("${e[0]}")`;if(t===SBe)return`< date and time("${e[0]}")`;if(t===CBe)return`> date and time("${e[0]}")`;if(t===kBe)return`[date and time("${e[0]}")..date and time("${e[1]}")]`}function b0(){const t=new Date;return t.setUTCHours(0,0,0,0),t.toISOString().replace(".000Z","Z")}function cf(t){if(!t||t.trim()==="")return{type:"exact",date:""};let e=t.match(_Be);if(e)return{type:"between",dates:[e[1],e[2]]};if(e=t.match(xBe),e)return{type:e[1]==="<"?"before":"after",date:e[2]};if(e=t.match(wBe),e)return{type:"exact",date:e[1]}}const vz="exact",OBe="before",RBe="after",Wd="between";class PBe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=cf(r.businessObject.text);if(i){let s;i.date?s=[i.date,""]:i.dates?s=i.dates:s=["",""],this.state={type:i.type,dates:s}}else this.state={type:vz,dates:["",""]};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartDateTodayClick=this.onSetStartDateTodayClick.bind(this),this.onSetEndDateTodayClick=this.onSetEndDateTodayClick.bind(this),this.onStartDateInput=this.onStartDateInput.bind(this),this.onEndDateInput=this.onEndDateInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onTypeChange(e){const{element:n}=this.props.context,{dates:r}=this.state;this.setState({type:e}),cf(ua(e,r))&&this.editCell(n.businessObject,ua(e,r))}onSetStartDateTodayClick(){const{element:e}=this.props.context,{dates:n,type:r}=this.state,i=b0();this.setState({dates:[i,n[1]]}),cf(ua(r,[i,n[1]]))&&this.editCell(e.businessObject,ua(r,[i,n[1]]))}onSetEndDateTodayClick(){const{element:e}=this.props.context,{dates:n,type:r}=this.state,i=b0();this.setState({dates:[n[0],i]}),cf(ua(r,[n[0],i]))&&this.editCell(e.businessObject,ua(r,[n[0],i]))}onStartDateInput({value:e}){const{element:n}=this.props.context,{dates:r,type:i}=this.state;this.setState({dates:[e,r[1]]}),this.debouncedEditCell(n.businessObject,ua(i,[e,r[1]]))}onEndDateInput({value:e}){const{element:n}=this.props.context,{dates:r,type:i}=this.state;this.setState({dates:[r[0],e]}),this.debouncedEditCell(n.businessObject,ua(i,[r[0],e]))}render(){const{dates:e,type:n}=this.state,r=[{label:this._translate("Exactly"),value:vz},{label:this._translate("Before"),value:OBe},{label:this._translate("After"),value:RBe},{label:this._translate("Between"),value:Wd}];return U(1,"div","context-menu-container simple-date-edit",[U(1,"h3","dms-heading",this._translate("Edit date and time"),0),U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:r,value:n}),2),U(1,"h4","dms-heading",n===Wd?this._translate("Edit start date and time"):this._translate("Set date and time"),0),U(1,"div",null,[we(2,Li,{label:n===Wd?this._translate("Start date and time"):this._translate("Date and time"),className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:this._translate("e.g. { sample }",{sample:b0()}),validate:i=>y0(i)&&this._translate(y0(i)),value:e[0]}),U(1,"p","dms-hint",U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetStartDateTodayClick}),2)],4),n===Wd&&U(1,"h4","dms-heading",this._translate("Edit end date and time"),0),n===Wd&&U(1,"div",null,[we(2,Li,{label:this._translate("End date and time"),className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:this._translate("e.g. { sample }",{sample:b0()}),validate:i=>y0(i)&&this._translate(y0(i)),value:e[1]}),U(1,"p","dms-hint",U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onSetEndDateTodayClick}),2)],4)],0)}}class ABe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=cf(r.businessObject.text);this.state={date:i?i.date:""};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onClick(){const{element:e}=this.props.context,n=b0();this.setState({date:n}),this.editCell(e.businessObject,`date and time("${n}")`)}onInput({value:e}){const{element:n}=this.props.context;this.setState({date:e}),this.debouncedEditCell(n.businessObject,`date and time("${e}")`)}render(){const{date:e}=this.state;return U(1,"div","context-menu-container simple-date-edit",[U(1,"h3","dms-heading",this._translate("Edit date and time"),0),U(1,"h4","dms-heading",this._translate("Set date and time"),0),U(1,"div",null,[we(2,Li,{label:this._translate("Date and time value"),onInput:this.onInput,placeholder:this._translate("e.g. { sample }",{sample:b0()}),validate:n=>y0(n)&&this._translate(y0(n)),value:e,className:"dms-block"}),U(1,"p","dms-hint",U(1,"button","use-today",this._translate("Use today"),0,{type:"button",onClick:this.onClick}),2)],4)],4)}}let Zte=class{constructor(e,n){n.registerProvider(r=>{const i=yz(r);return(St(r.col)||Kn(r.col))&&bz(i)}),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;const i=yz(r.element);if(bz(i)){if(St(r.element.col))return PBe;if(Kn(r.element.col))return ABe}}})}};Zte.$inject=["components","simpleMode"];function yz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function bz(t){return t==="dateTime"}const TBe={__depends__:[Js,ul],__init__:["simpleDateTimeEdit"],simpleDateTimeEdit:["type",Zte]},bE={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function IBe(t){return js(bE).filter(e=>t===bE[e])[0]}function DBe(t){if(!t||MBe(t.trim()))return{type:"comparison",values:[]};const e=jBe(t);if(e)return e;const n=BBe(t);if(n)return n}function MBe(t){return t===""}function ax(t,e){return t==="equals"?`duration("${e}")`:`${bE[t]} duration("${e}")`}function Gd(t,e,n,r){return`${n==="exclude"?"]":"["}duration("${t}")..duration("${e}")${r==="exclude"?"[":"]"}`}function $Be(t,e){if(t==="yearMonthDuration")return NBe(e);if(t==="dayTimeDuration")return LBe(e)}function NBe(t){return/^P(\d+Y\d+M|\d+Y|\d+M)$/.test(t)}function LBe(t){return/^P(\d+DT\d+H|\d+D|T\d+H)$/.test(t)}function Jte(t){const e=/^duration\("([^"]*)"\)$/.exec(t);return e&&e[1]}function jBe(t){const e=Jte(t);if(e)return{type:"comparison",operator:"equals",values:[e]};const{operator:n,value:r}=ene(/^(?<operator>=|(:?<|>)=?)\s*duration\("(?<value>[^"]*)"\)$/,t);if(n&&r)return{type:"comparison",values:[r],operator:IBe(n)}}function BBe(t){const{start:e,end:n,firstValue:r,secondValue:i}=ene(/^(?<start>[[\]])duration\("(?<firstValue>[^"]*)"\)\.\.duration\("(?<secondValue>[^"]*)"\)(?<end>[[\]])$/,t);if(e&&n)return{type:"range",values:[r,i],start:e==="]"?"exclude":"include",end:n==="["?"exclude":"include"}}function ene(t,e){const{groups:n}=t.exec(e)||{groups:{}};return n}const FBe={yearMonthDuration:"Must match PnYnM",dayTimeDuration:"Must match PnDTnH"};class dg extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._type=e.type,this.onInput=this.onInput.bind(this),this.validate=this.validate.bind(this),this.state={value:e.value}}onInput({value:e}){this.setState({value:e}),this.props.onInput(e)}validate(e){if(!$Be(this._type,e))return this._translate(FBe[this._type])}_getPlaceholder(){if(this._type==="yearMonthDuration")return this._translate("e.g. { sample }",{sample:"P1Y2M"});this._type==="dayTimeDuration"&&this._translate("e.g. { sample }",{sample:"P1DT2H"})}render(){return we(2,Li,{label:this.props.label,type:"text",onInput:this.onInput,placeholder:this._getPlaceholder(),validate:this.validate,value:this.state.value,className:this.props.className})}}const i0="comparison",o0="range";class zBe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context;this._type=qBe(r);const i=DBe(r.businessObject.text,this._type);i?this.state={type:i.type,comparisonOperator:i.operator||"equals",startValue:i.values[0]||"",endValue:i.values[1]||"",rangeStartType:i.start||"include",rangeEndType:i.end||"include"}:this.state={type:i0,comparisonOperator:"equals",startValue:"",endValue:"",rangeStartType:"include",rangeEndType:"include"};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onTypeChange(e){const{element:n}=this.props.context,{comparisonOperator:r,startValue:i,endValue:o,rangeStartType:s,rangeEndType:a}=this.state;e===i0?this.editCell(n.businessObject,ax(r,i)):this.editCell(n.businessObject,Gd(i,o,s,a)),this.setState({type:e})}onComparisonOperatorChange(e){const{element:n}=this.props.context,{type:r,startValue:i}=this.state;r===i0&&(this.editCell(n.businessObject,ax(e,i)),this.setState({comparisonOperator:e}))}onComparisonValueChange(e){const{element:n}=this.props.context,{type:r,comparisonOperator:i}=this.state;r===i0&&(this.debouncedEditCell(n.businessObject,ax(i,e)),this.setState({startValue:e}))}onRangeStartTypeChange(e){const{element:n}=this.props.context,{type:r,startValue:i,endValue:o,rangeEndType:s}=this.state;r===o0&&(this.editCell(n.businessObject,Gd(i,o,e,s)),this.setState({rangeStartType:e}))}onRangeStartValueChange(e){const{element:n}=this.props.context,{type:r,endValue:i,rangeStartType:o,rangeEndType:s}=this.state;r===o0&&(this.editCell(n.businessObject,Gd(e,i,o,s)),this.setState({startValue:e}))}onRangeEndTypeChange(e){const{element:n}=this.props.context,{type:r,startValue:i,endValue:o,rangeStartType:s}=this.state;r===o0&&(this.editCell(n.businessObject,Gd(i,o,s,e)),this.setState({rangeEndType:e}))}onRangeEndValueChange(e){const{element:n}=this.props.context,{type:r,startValue:i,rangeStartType:o,rangeEndType:s}=this.state;r===o0&&(this.editCell(n.businessObject,Gd(i,e,o,s)),this.setState({endValue:e}))}renderComparison(e,n){const r=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return U(1,"div","comparison",[U(1,"h4","dms-heading",vt("Value"),2),U(1,"div","dms-fill-row dms-input-duration-edit-row",[we(2,an,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:r,value:e}),vt("¬†"),we(2,dg,{label:this._translate("Duration value"),type:this._type,className:"comparison-duration-input",onInput:this.onComparisonValueChange,value:n})],4)],4)}renderRange(e,n,r,i){const o=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return U(1,"div","range",[U(1,"h4","dms-heading",this._translate("Start value"),0),U(1,"div","dms-fill-row dms-input-duration-edit-row",[we(2,an,{label:this._translate("Range start operator"),noInput:!0,onChange:this.onRangeStartTypeChange,options:o,value:r}),vt("¬†"),we(2,dg,{label:this._translate("Range start value"),type:this._type,className:"range-start-duration-input",onInput:this.onRangeStartValueChange,value:e})],4),U(1,"h4","dms-heading",this._translate("End value"),0),U(1,"div","dms-fill-row dms-input-duration-edit-row",[we(2,an,{label:this._translate("Range end operator"),noInput:!0,onChange:this.onRangeEndTypeChange,options:o,value:i}),vt("¬†"),we(2,dg,{label:this._translate("Range end value"),type:this._type,className:"range-end-duration-input",onInput:this.onRangeEndValueChange,value:n})],4)],4)}render(){const{type:e,comparisonOperator:n,startValue:r,endValue:i,rangeStartType:o,rangeEndType:s}=this.state,a=[{label:this._translate("Comparison"),value:i0},{label:this._translate("Range"),value:o0}];return U(1,"div","context-menu-container simple-duration-edit",[U(1,"h3","dms-heading",this._translate("Edit duration"),0),U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:a,value:e}),2),e===i0&&this.renderComparison(n,r),e===o0&&this.renderRange(r,i,o,s)],0)}}function qBe(t){return t.col.businessObject.inputExpression.typeRef}class VBe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context;this._type=HBe(r);const i=n.injector.get("debounceInput");this.debouncedEditCell=i(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onInput(e){const{element:n}=this.props.context;this.debouncedEditCell(n.businessObject,`duration("${e}")`)}render(){const e=Jte(this.props.context.element.businessObject.text,this._type);return U(1,"div","context-menu-container simple-duration-edit",[U(1,"h3","dms-heading",this._translate("Edit duration"),0),U(1,"h4","dms-heading",this._translate("Set duration"),0),we(2,dg,{label:this._translate("Duration value"),onInput:this.onInput,value:e,type:this._type,className:"dms-block"})],4)}}function HBe(t){return t.col.businessObject.typeRef}class tne{constructor(e,n){n.registerProvider(r=>{const i=_z(r);return(St(r.col)||Kn(r.col))&&xz(i)}),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;const i=_z(r.element);if(xz(i)){if(St(r.element.col))return zBe;if(Kn(r.element.col))return VBe}}})}}tne.$inject=["components","simpleMode"];function _z(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const UBe=["yearMonthDuration","dayTimeDuration"];function xz(t){return UBe.includes(t)}const WBe={__depends__:[Js,ul],__init__:["simpleDurationEdit"],simpleDurationEdit:["type",tne]},GBe=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,KBe=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,_E={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};function XBe(t){return js(_E).filter(e=>t===_E[e])[0]}function nne(t){if(!t||YBe(t.trim()))return{type:"comparison"};const e=t.match(GBe),n=t.match(KBe);if(e){if(QBe(e))return{type:"comparison",value:parseFloat(e[1]),operator:"equals"};if(ZBe(e))return{type:"comparison",value:parseFloat(e[3]),operator:XBe(e[2])}}else if(n)return{type:"range",values:[n[2],n[3]].map(r=>parseFloat(r)),start:n[1]==="]"?"exclude":"include",end:n[4]==="["?"exclude":"include"}}function YBe(t){return t===""}function QBe(t){return t[0]&&t[1]&&!t[2]&&!t[3]}function ZBe(t){return t[0]&&!t[1]&&t[2]&&t[3]}function lx(t,e){return t==="equals"?`${e}`:`${_E[t]} ${e}`}function Kd(t,e,n,r){return`${n==="exclude"?"]":"["}${t}..${e}${r==="exclude"?"[":"]"}`}const s0="comparison",a0="range";class JBe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=nne(r.businessObject.text);i?this.state={type:i.type,comparisonOperator:i.operator||"equals",comparisonValue:i.value||0,rangeStartValue:i.values?i.values[0]:0,rangeEndValue:i.values?i.values[1]:0,rangeStartType:i.start||"include",rangeEndType:i.end||"include"}:this.state={type:s0,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onComparisonOperatorChange=this.onComparisonOperatorChange.bind(this),this.onComparisonValueChange=this.onComparisonValueChange.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onRangeStartTypeChange=this.onRangeStartTypeChange.bind(this),this.onRangeStartValueChange=this.onRangeStartValueChange.bind(this),this.onRangeEndTypeChange=this.onRangeEndTypeChange.bind(this),this.onRangeEndValueChange=this.onRangeEndValueChange.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onTypeChange(e){const{element:n}=this.props.context,{comparisonOperator:r,comparisonValue:i,rangeStartValue:o,rangeEndValue:s,rangeStartType:a,rangeEndType:l}=this.state;e===s0?this.editCell(n.businessObject,lx(r,i)):this.editCell(n.businessObject,Kd(o,s,a,l)),this.setState({type:e})}onComparisonOperatorChange(e){const{element:n}=this.props.context,{type:r,comparisonValue:i}=this.state;r===s0&&(this.editCell(n.businessObject,lx(e,i)),this.setState({comparisonOperator:e}))}onComparisonValueChange(e){const{element:n}=this.props.context,{type:r,comparisonOperator:i}=this.state;r===s0&&(this.debouncedEditCell(n.businessObject,lx(i,e)),this.setState({comparisonValue:e}))}onRangeStartTypeChange(e){const{element:n}=this.props.context,{type:r,rangeStartValue:i,rangeEndValue:o,rangeEndType:s}=this.state;r===a0&&(this.editCell(n.businessObject,Kd(i,o,e,s)),this.setState({rangeStartType:e}))}onRangeStartValueChange(e){const{element:n}=this.props.context,{type:r,rangeEndValue:i,rangeStartType:o,rangeEndType:s}=this.state;r===a0&&(this.editCell(n.businessObject,Kd(e,i,o,s)),this.setState({rangeStartValue:e}))}onRangeEndTypeChange(e){const{element:n}=this.props.context,{type:r,rangeStartValue:i,rangeEndValue:o,rangeStartType:s}=this.state;r===a0&&(this.editCell(n.businessObject,Kd(i,o,s,e)),this.setState({rangeEndType:e}))}onRangeEndValueChange(e){const{element:n}=this.props.context,{type:r,rangeStartValue:i,rangeStartType:o,rangeEndType:s}=this.state;r===a0&&(this.editCell(n.businessObject,Kd(i,e,o,s)),this.setState({rangeEndValue:e}))}renderComparison(e,n){const r=[{label:this._translate("Equals"),value:"equals"},{label:this._translate("Less"),value:"less"},{label:this._translate("Less or equals"),value:"lessEquals"},{label:this._translate("Greater"),value:"greater"},{label:this._translate("Greater or equals"),value:"greaterEquals"}];return U(1,"div","comparison",[U(1,"h4","dms-heading",this._translate("Value"),0),U(1,"div","dms-fill-row",[we(2,an,{label:this._translate("Comparison operator"),noInput:!0,onChange:this.onComparisonOperatorChange,options:r,value:e}),vt("¬†"),we(2,Ms,{label:this._translate("Value"),className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:n})],4)],4)}renderRange(e,n,r,i){const o=[{label:this._translate("Include"),value:"include"},{label:this._translate("Exclude"),value:"exclude"}];return U(1,"div","range",[U(1,"h4","dms-heading",this._translate("Start value"),0),U(1,"div","dms-fill-row",[we(2,an,{label:this._translate("Start value"),noInput:!0,onChange:this.onRangeStartTypeChange,options:o,value:r}),vt("¬†"),we(2,Ms,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:e})],4),U(1,"h4","dms-heading",this._translate("End value"),0),U(1,"div","dms-fill-row",[we(2,an,{label:this._translate("End value"),noInput:!0,onChange:this.onRangeEndTypeChange,options:o,value:i}),vt("¬†"),we(2,Ms,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:n})],4)],4)}render(){const{type:e,comparisonOperator:n,comparisonValue:r,rangeStartValue:i,rangeEndValue:o,rangeStartType:s,rangeEndType:a}=this.state,l=[{label:this._translate("Comparison"),value:s0},{label:this._translate("Range"),value:a0}];return U(1,"div","context-menu-container simple-number-edit",[U(1,"h3","dms-heading",this._translate("Edit number"),0),U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Test type"),noInput:!0,onChange:this.onTypeChange,options:l,value:e}),2),e===s0&&this.renderComparison(n,r),e===a0&&this.renderRange(i,o,s,a)],0)}}class eFe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=nne(r.businessObject.text);i?this.state={value:i.value}:this.state={value:""};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onInput=this.onInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onInput(e){const{element:n}=this.props.context;this.debouncedEditCell(n.businessObject,e),this.setState({value:e})}render(){const{value:e}=this.state;return U(1,"div","context-menu-container simple-number-edit",[U(1,"h3","dms-heading",this._translate("Edit number"),0),U(1,"h4","dms-heading",this._translate("Set value"),0),we(2,Ms,{onInput:this.onInput,type:"number",value:e})],4)}}class rne{constructor(e,n){n.registerProvider(r=>{const i=wz(r);return(St(r.col)||Kn(r.col))&&Ez(i)}),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;const i=wz(r.element);if(Ez(i)){if(St(r.element.col))return JBe;if(Kn(r.element.col))return eFe}}})}}rne.$inject=["components","simpleMode"];function wz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const tFe=["number","integer","long","double"];function Ez(t){return tFe.includes(t)}const nFe={__depends__:[Js,ul],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",rne]};function ym(t){if(!t||ine(t.trim()))return{type:"disjunction",values:[]};let e=t.split(",");const n={type:"disjunction",values:[]};let r="";if(e.forEach(o=>{r+=o,/^"[^"]*"$/.test(r.trim())?(n.values.push(r.trim()),r=""):r+=","}),!r)return n;n.type="negation",n.values=[],r="";const i=t.match(/^\s*not\((.*)\)\s*$/);if(i&&(e=i[1].split(","),e.forEach(o=>{r+=o,/^"[^"]*"$/.test(r.trim())?(n.values.push(r.trim()),r=""):r+=","}),!r))return n}function rFe(t){const e=St(t)?t.inputValues:t.outputValues;return!e||ine(e.text)?[]:e.text.split(",").map(n=>n.trim())}function ine(t){return t===""}const Sl="disjunction",bm="negation",iFe="Predefined values",oFe="Predefined values",sFe="Custom values";class aFe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");let r=ym(e.context.element.businessObject.text);r||(r={values:[],type:Sl});const i=rFe(e.context.element.col.businessObject),o=r.values.filter(u=>!ux(i,u)),s=St(e.context.element.col);let a=i.map(u=>({value:u,isChecked:ux(r.values,u),isRemovable:!1,group:s?this._translate(iFe):this._translate(oFe)}));s&&(a=a.concat(o.map(u=>({value:u,isChecked:!0,isRemovable:!0,group:this._translate(sFe)}))));let l="";!s&&r.values.length&&!ux(i,r.values[0])&&(l=r.values[0]),this.state={items:a,unaryTestsType:r.type,inputValue:l,isOutputValueInputChecked:l!==""};const c=n.injector.get("debounceInput");this.debouncedEditCell=c(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.addUnaryTestsListItem=this.addUnaryTestsListItem.bind(this),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onOutputValueInputClick=this.onOutputValueInputClick.bind(this),this.onUnaryTestsListChanged=this.onUnaryTestsListChanged.bind(this),this.onUnaryTestsTypeChange=this.onUnaryTestsTypeChange.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onUnaryTestsTypeChange(e){const{items:n}=this.state,r=cx(n),{element:i}=this.props.context;e===Sl?(this.editCell(i.businessObject,r.join(",")),this.setState({unaryTestsType:Sl})):(this.editCell(i.businessObject,`not(${r.join(",")})`),this.setState({unaryTestsType:bm}))}onUnaryTestsListChanged(e){const n=cx(e),{element:r}=this.props.context,{unaryTestsType:i}=this.state;i===Sl?this.editCell(r.businessObject,n.join(",")):this.editCell(r.businessObject,`not(${n.join(",")})`),this.setState({items:e,isOutputValueInputChecked:!1})}onOutputValueInputClick(){const{element:e}=this.props.context,{inputValue:n,items:r}=this.state,i=ym(n);!i||i.values.length>1||(this.editCell(e.businessObject,`${i.values.join("")}`),this.setState({items:r.map(o=>(o.isChecked=!1,o)),isOutputValueInputChecked:!0}))}onInput({isValid:e,value:n}){const{isOutputValueInputChecked:r}=this.state;this.setState({inputValue:n});const{element:i}=this.props.context;!St(i)&&e&&r&&this.debouncedEditCell(i.businessObject,n)}onKeyDown({isValid:e,event:n}){if(!lFe(n.keyCode))return;const{element:r}=this.props.context,i=St(r.col);(i||!e)&&(n.stopPropagation(),n.preventDefault()),e&&(i?this.addUnaryTestsListItem():this.onOutputValueInputClick())}addUnaryTestsListItem(){const{inputValue:e,items:n,unaryTestsType:r}=this.state,i=ym(e);if(!i)return;const{element:o}=this.props.context,s=cx(n),a=[].concat(s,i.values);r===Sl?this.editCell(o.businessObject,a.join(",")):this.editCell(o.businessObject,`not(${a.join(",")})`);const l=n.concat(i.values.map(c=>({value:c,isChecked:!0,isRemovable:!0,group:this._translate("Custom values")})));this.setState({items:l,inputValue:""})}render(){const{element:e}=this.props.context,{inputValue:n,isOutputValueInputChecked:r,items:i,unaryTestsType:o}=this.state,s=[{label:this._translate("Match one"),value:Sl},{label:this._translate("Match none"),value:bm}],a=St(e.col),l=o===bm,c=!a&&i.length>0;return U(1,"div","simple-string-edit context-menu-container",[U(1,"h3","dms-heading",this._translate("Edit string"),0),a&&U(1,"p",null,we(2,an,{label:this._translate("String value"),noInput:!0,onChange:this.onUnaryTestsTypeChange,options:s,value:l?bm:Sl},null,u=>this.selectNode=u),2),we(2,yte,{onChange:this.onUnaryTestsListChanged,items:i,type:a?"checkbox":"radio"}),a?U(1,"h4","dms-heading",this._translate("Add values"),0):U(1,"h4","dms-heading",this._translate("Set value"),0),U(1,"div","dms-fill-row",[c&&U(64,"input","cursor-pointer",null,1,{checked:r,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),we(2,Li,{label:a?this._translate("Values"):this._translate("Value"),className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:a?this._translate('"value", "value", ...'):this._translate('"value"'),type:"text",validate:u=>{if(!ym(u))return this._translate("Strings must be in double quotes")},value:n})],0)],0)}}function lFe(t){return t===13}function cx(t){return t.filter(e=>e.isChecked).map(e=>e.value)}function ux(t,e){return t.indexOf(e)!==-1}class one{constructor(e,n){n.registerProvider(r=>(St(r.col)||Kn(r.col))&&Sz(r)==="string"),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;if(Sz(r.element)==="string")return aFe}})}}one.$inject=["components","simpleMode"];function Sz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}const cFe={__depends__:[Js,ul],__init__:["simpleStringEdit"],simpleStringEdit:["type",one]},uFe=/^(?:\d\d:){2}\d\d(?:Z|(?:[@+-][^")]+))?$/,dFe=/^\[time\("([^"]*)"\)..time\("([^"]*)"\)\]$/,fFe=/^(<|>)\s*time\("([^"]*)"\)$/,hFe=/^time\("([^"]*)"\)$/,pFe="exact",mFe="before",gFe="after",vFe="between";function _0(t){if(!uFe.test(t.trim()))return"Time must match pattern hh:mm:ss[time zone]"}function da(t,e){if(t===pFe)return`time("${e[0]}")`;if(t===mFe)return`< time("${e[0]}")`;if(t===gFe)return`> time("${e[0]}")`;if(t===vFe)return`[time("${e[0]}")..time("${e[1]}")]`}function xE(){return new Date().toISOString().slice(11,-5)+"Z"}function uf(t){if(!t||t.trim()==="")return{type:"exact",time:""};let e=t.match(dFe);if(e)return{type:"between",times:[e[1],e[2]]};if(e=t.match(fFe),e)return{type:e[1]==="<"?"before":"after",time:e[2]};if(e=t.match(hFe),e)return{type:"exact",time:e[1]}}const Cz="exact",yFe="before",bFe="after",_m="between";class _Fe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=uf(r.businessObject.text);if(i){let s;i.time?s=[i.time,""]:i.times?s=i.times:s=["",""],this.state={type:i.type,times:s}}else this.state={type:Cz,times:["",""]};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.onSetStartTimeNowClick=this.onSetStartTimeNowClick.bind(this),this.onSetEndTimeNowClick=this.onSetEndTimeNowClick.bind(this),this.onStartTimeInput=this.onStartTimeInput.bind(this),this.onEndTimeInput=this.onEndTimeInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onTypeChange(e){const{element:n}=this.props.context,{times:r}=this.state;this.setState({type:e}),uf(da(e,r))&&this.editCell(n.businessObject,da(e,r))}onSetStartTimeNowClick(){const{element:e}=this.props.context,{times:n,type:r}=this.state,i=xE();this.setState({times:[i,n[1]]}),uf(da(r,[i,n[1]]))&&this.editCell(e.businessObject,da(r,[i,n[1]]))}onSetEndTimeNowClick(){const{element:e}=this.props.context,{times:n,type:r}=this.state,i=xE();this.setState({times:[n[0],i]}),uf(da(r,[n[0],i]))&&this.editCell(e.businessObject,da(r,[n[0],i]))}onStartTimeInput({value:e}){const{element:n}=this.props.context,{times:r,type:i}=this.state;this.setState({times:[e,r[1]]}),this.debouncedEditCell(n.businessObject,da(i,[e,r[1]]))}onEndTimeInput({value:e}){const{element:n}=this.props.context,{times:r,type:i}=this.state;this.setState({times:[r[0],e]}),this.debouncedEditCell(n.businessObject,da(i,[r[0],e]))}render(){const{times:e,type:n}=this.state,r=[{label:this._translate("Exactly"),value:Cz},{label:this._translate("Before"),value:yFe},{label:this._translate("After"),value:bFe},{label:this._translate("Between"),value:_m}];return U(1,"div","context-menu-container simple-time-edit",[U(1,"h3","dms-heading",this._translate("Edit time"),0),U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Time"),noInput:!0,onChange:this.onTypeChange,options:r,value:n}),2),U(1,"h4","dms-heading",n===_m?this._translate("Edit start time"):this._translate("Set time"),0),U(1,"div",null,[we(2,Li,{label:this._translate("Start time"),className:"start-time-input dms-block",onInput:this.onStartTimeInput,placeholder:this._translate("e.g. { example } ",{example:ws()}),validate:i=>_0(i)&&this._translate(_0(i)),value:e[0]}),U(1,"p","dms-hint",[U(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetStartTimeNowClick}),vt(".")],4)],4),n===_m&&U(1,"h4","dms-heading",this._translate("Edit end time"),0),n===_m&&U(1,"div",null,[we(2,Li,{label:this._translate("End time"),className:"end-time-input dms-block",onInput:this.onEndTimeInput,placeholder:this._translate("e.g. { example } ",{example:ws()}),validate:i=>_0(i)&&this._translate(_0(i)),value:e[1]}),U(1,"p","dms-hint",[U(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onSetEndTimeNowClick}),vt(".")],4)],4)],0)}}class xFe extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._modeling=n.injector.get("modeling");const{element:r}=this.props.context,i=uf(r.businessObject.text);this.state={date:i?i.date:""};const o=n.injector.get("debounceInput");this.debouncedEditCell=o(this.editCell.bind(this)),this.editCell=this.editCell.bind(this),this.onClick=this.onClick.bind(this),this.onInput=this.onInput.bind(this)}editCell(e,n){this._modeling.editCell(e,n)}onClick(){const{element:e}=this.props.context,n=xE();this.setState({date:n}),this.editCell(e.businessObject,`time("${n}")`)}onInput({value:e}){const{element:n}=this.props.context;this.setState({date:e}),this.debouncedEditCell(n.businessObject,`time("${e}")`)}render(){const{date:e}=this.state;return U(1,"div","context-menu-container simple-time-edit",[U(1,"h3","dms-heading",this._translate("Edit time"),0),U(1,"h4","dms-heading",this._translate("Set time"),0),U(1,"div",null,[we(2,Li,{label:this._translate("Time value"),onInput:this.onInput,placeholder:this._translate("e.g. { example } ",{example:ws()}),validate:n=>_0(n)&&this._translate(_0(n)),value:e,className:"dms-block"}),U(1,"p","dms-hint",[U(1,"button","use-now",this._translate("Use now"),0,{type:"button",onClick:this.onClick}),vt(".")],4)],4)],4)}}class sne{constructor(e,n){n.registerProvider(r=>{const i=kz(r);return(St(r.col)||Kn(r.col))&&Oz(i)}),e.onGetComponent("context-menu",(r={})=>{if(r.contextMenuType&&r.contextMenuType==="simple-mode-edit"){if(!r.element)return;const i=kz(r.element);if(Oz(i)){if(St(r.element.col))return _Fe;if(Kn(r.element.col))return xFe}}})}}sne.$inject=["components","simpleMode"];function kz(t){return St(t.col)?t.col&&t.col.businessObject.inputExpression.typeRef:t.col&&t.col.businessObject.typeRef}function Oz(t){return t==="time"}const wFe={__depends__:[Js,ul],__init__:["simpleTimeEdit"],simpleTimeEdit:["type",sne]};class ane extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"handleMouseDown",n=>{const r=Mr(n.target,"th",!1);EFe({node:r,event:n,minWidth:this.props.minWidth||150,onEnd:this.saveWidth})});ye(this,"saveWidth",n=>{const{col:r}=this.props,i={};me(r,"dmn:DecisionTable")?i.annotationsWidth=n:i.width=n,this.modeling.updateProperties(r,i)});cr(this)}componentDidMount(){const n=this.getRoot();this.changeSupport.onElementsChanged(n,this.onElementsChanged)}componentWillUnmount(){const n=this.getRoot();this.changeSupport.offElementsChanged(n,this.onElementsChanged)}getRoot(){return this.sheet.getRoot()}isLastInputOrOutput(){const{col:n}=this.props,r=this.getRoot(),i=vr(r);if(me(n,"dmn:InputClause")){const o=i.get("input");return o.indexOf(n)===o.length-1}else if(me(n,"dmn:OutputClause")){const o=i.get("output");return o.indexOf(n)===o.length-1}}render(){const n=this.isLastInputOrOutput()?{right:"-7px",width:"27px"}:null;return U(1,"div","resize-column-handle",null,1,{onMouseDown:this.handleMouseDown,title:this.translate("Resize"),style:n})}}ane.$inject=["sheet","changeSupport","translate","modeling"];function EFe({node:t,event:e,minWidth:n,onEnd:r=SFe}){e.preventDefault();const i=t.getBoundingClientRect().width,o=e.clientX;let s;document.addEventListener("mousemove",a),document.addEventListener("mouseup",l);function a(u){u.preventDefault();const d=c(u.clientX);s&&cancelAnimationFrame(s),s=requestAnimationFrame(()=>{t.style.width=d+"px"})}function l(u){u.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l);const d=c(u.clientX);r(d)}function c(u){const d=u-o;return Math.max(i+d,n)}}function SFe(){}function lne(t){t.onGetComponent("cell-inner",(e={})=>{const{cellType:n}=e;if(n==="input-cell"||n==="output-cell"||n==="annotations")return ane})}lne.$inject=["components"];const CFe={__init__:["columnResizeProvider"],columnResizeProvider:["type",lne]};let kFe=class cne extends HF{getModules(){return[...HF._getModules(),...cne._getModules()]}static _getModules(){return[KNe,aLe,Hy,cl,Xee,CLe,OLe,Uy,DLe,od,cje,CFe,Sje,Aje,Tje,al,Js,Nje,Zee,jje,lO,Vje,Kje,Vy,ul,oBe,yBe,TBe,WBe,nFe,cFe,wFe,iO]}};class une{constructor(e){this._listeners={},e.on("elements.changed",({elements:n})=>{this.elementsChanged(n)}),e.on("element.updateId",({element:n,newId:r})=>{this.updateId(n.id,r)})}elementsChanged(e){const n={},r=e.length;for(let i=0;i<r;i++){const{id:o}=e[i];if(n[o])return;n[o]=!0;const s=this._listeners[o]&&this._listeners[o].length;if(s)for(let a=0;a<s;a++)this._listeners[o][a]&&this._listeners[o][a]()}}onElementsChanged(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=n}offElementsChanged(e,n){if(this._listeners[e])if(n){const r=this._listeners[e].indexOf(n);r!==-1&&this._listeners[e].splice(r,1)}else this._listeners[e].length=0}updateId(e,n){this._listeners[e]&&(this._listeners[n]=this._listeners[e],delete this._listeners[e])}}une.$inject=["eventBus"];const OFe=1e3;class RFe{constructor(){this._listeners={}}getComponent(e,n){const r=this._listeners[e];if(!r)return;let i;for(let o=0;o<r.length&&(i=r[o].callback(n),!i);o++);return i}getComponents(e,n){const r=this._listeners[e];if(!r)return;const i=[];for(let o=0;o<r.length;o++){const s=r[o].callback(n);s&&i.push(s)}if(i.length)return i}onGetComponent(e,n,r){if(Ct(n)&&(r=n,n=OFe),!He(n))throw new Error("priority must be a number");const i=this._getListeners(e);let o,s;const a={priority:n,callback:r};for(s=0;o=i[s];s++)if(o.priority<n){i.splice(s,0,a);return}i.push(a)}offGetComponent(e,n){const r=this._getListeners(e);let i,o,s;if(n)for(s=r.length-1;i=r[s];s--)o=i.callback,o===n&&r.splice(s,1);else r.length=0}_getListeners(e){let n=this._listeners[e];return n||(this._listeners[e]=n=[]),n}}class PFe extends Ne{constructor(e){super(e);const n=this._injector=e.injector;this._changeSupport=n.get("changeSupport"),this._components=n.get("components"),this._renderer=n.get("renderer")}getChildContext(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}render(){const e=this._components.getComponents("viewer");return U(1,"div","viewer-container",e&&e.map((n,r)=>we(2,n,null,r)),0)}}class dne{constructor(e,n,r,i,o){const{container:s}=r;this._container=s,i.on("renderer.mount",()=>{vv(we(2,PFe,{injector:o}),s)}),i.on("renderer.unmount",()=>{vv(null,s)})}getContainer(){return this._container}}dne.$inject=["changeSupport","components","config.renderer","eventBus","injector"];const AFe={__init__:["changeSupport","components","renderer"],changeSupport:["type",une],components:["type",RFe],eventBus:["type",ar],renderer:["type",dne]};let fne=class{constructor(e={}){let{injector:n}=e;if(!n){let{modules:r,config:i}=this._init(e);n=TFe(i,r)}this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("viewer.init")}_init(e){let{modules:n,...r}=e;return{modules:n,config:r}}destroy(){this.get("eventBus").fire("viewer.destroy")}clear(){this.get("eventBus").fire("viewer.clear")}};function TFe(t,e){const n=[{config:["value",t]},AFe].concat(e||[]),r=new Iv(n);return r.init(),r}let hne=class{constructor(e,n){this._eventBus=n,this._viewer=e}getDecision(){return this._viewer.getDecision()}updateId(e,n){var r=this.getDecision();if(e!==r)throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:e,newId:n}),e.id=n}};hne.$inject=["viewer","eventBus"];const IFe={__init__:["elementRegistry"],elementRegistry:["type",hne]};class DFe extends Ne{constructor(e,n){super(e,n),this._viewer=n.injector.get("viewer")}render(){const{name:e}=this._viewer.getDecision();return U(1,"div","decision-properties",U(1,"h3","decision-name",e,0),2)}}const MFe=1500;let pne=class{constructor(e){e.onGetComponent("viewer",MFe,()=>DFe)}};pne.$inject=["components"];const $Fe={__init__:["decisionProperties"],decisionProperties:["type",pne]};let NFe=class extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._viewer=n.injector.get("viewer")}render(){const{decisionLogic:e,variable:n}=this._viewer.getDecision();return U(1,"div","literal-expression-properties",U(1,"table",null,[U(1,"tr",null,[U(1,"td",null,this._translate("Variable name:"),0),U(1,"td",null,U(1,"span",null,n.name||"-",0),2)],4),U(1,"tr",null,[U(1,"td",null,this._translate("Variable type:"),0),U(1,"td",null,U(1,"span",null,this._translate(n.typeRef||"")||"-",0),2)],4),U(1,"tr",null,[U(1,"td",null,this._translate("Expression language:"),0),U(1,"td",null,U(1,"span",null,e.expressionLanguage||"-",0),2)],4)],4),2)}};const LFe=500;class mne{constructor(e){e.onGetComponent("viewer",LFe,()=>NFe)}}mne.$inject=["components"];const jFe={__depends__:[],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",mne]},BFe=2e3;let gne=class{constructor(e){e.onGetComponent("viewer",BFe,()=>Uk)}};gne.$inject=["components"];const FFe={__init__:["poweredBy"],poweredBy:["type",gne]};class zFe extends Ne{constructor(e,n){super(e,n),this._viewer=n.injector.get("viewer")}render(){const{text:e}=this._viewer.getDecision().decisionLogic;return U(1,"div","textarea",U(1,"div","content",e,0),2)}}let vne=class{constructor(e){e.onGetComponent("viewer",()=>zFe)}};vne.$inject=["components"];const qFe={__init__:["textarea"],textarea:["type",vne]};let yne=class extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:i}=r;this._translate=i.get("translate"),this._eventBus=i.get("eventBus")}render(){return U(1,"div","view-drd",U(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,n=>this.node=n)}};yne.$inject=["translate"];const VFe=2e3;let bne=class{constructor(e,n,r,i){this._injector=i,this._viewer=n,e.onGetComponent("viewer",VFe,()=>{if(this.canViewDrd())return yne}),r.on("showDrd",()=>{const o=i.get("_parent",!1),s=this.getDefinitions(),a=o.getView(s);o.open(a)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return;const n=this.getDefinitions();return!!e.getView(n)}getDefinitions(){return HFe(this._viewer.getDecision())}};bne.$inject=["components","viewer","eventBus","injector"];function HFe(t){return t.$parent}const UFe={__init__:["viewDrd"],viewDrd:["type",bne]};let Rz=class wE extends fne{constructor(e={}){const n=wE._createContainer();super(re(e,{renderer:{container:n}})),this._container=n}open(e){var n=this;return new Promise(function(r,i){var o;try{n._decision&&(n.clear(),n.get("eventBus").fire("renderer.unmount")),n._decision=e,n.get("eventBus").fire("import",e),n.get("eventBus").fire("renderer.mount")}catch(s){o=s}o?(o.warnings=o.warnings||[],i(o)):r({warnings:[]})})}_init(e){let{modules:n,additionalModules:r,...i}=e,o=n||this.getModules(),s=r||[],a=[{viewer:["value",this]}];return{modules:[...o,...s,...a],config:i}}on(e,n,r,i){return this.get("eventBus").on(e,n,r,i)}off(e,n){this.get("eventBus").off(e,n)}_emit(e,n){return this.get("eventBus").fire(e,n)}getDecision(){return this._decision}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),Gn(e))}destroy(){super.destroy(),this.detach()}getModules(){return wE._getModules()}static _getModules(){return[IFe,wr,$Fe,jFe,FFe,qFe,UFe]}static _createContainer(){return at('<div class="dmn-literal-expression-container"></div>')}};class WFe extends Ne{constructor(n,r){super(n,r);ye(this,"onElementsChanged",()=>{this.forceUpdate()});ye(this,"setDecisionName",n=>{this._modeling.editDecisionName(n)});this._viewer=r.injector.get("viewer"),this._modeling=r.injector.get("modeling"),this._translate=r.injector.get("translate"),this.setupChangeListeners({bind:this.getDecision().id})}componentWillUnmount(){this.setupChangeListeners({unbind:this.getDecision().id})}getDecision(){return this._viewer.getDecision()}setupChangeListeners({bind:n,unbind:r}){const{changeSupport:i}=this.context;typeof r=="string"&&i.offElementsChanged(r,this.onElementsChanged),typeof n=="string"&&i.onElementsChanged(n,this.onElementsChanged)}render(){const{name:n}=this.getDecision();return U(1,"header","decision-properties",we(2,GFe,{label:this._translate("Decision name"),className:"decision-name editor",value:n,onBlur:KFe,onChange:this.setDecisionName}),2)}}class GFe extends sd{render(){return U(1,"h3",this.getClassName(),this.getEditor(),0)}}function KFe(t){t.target.scroll(0,0)}const XFe=1500;class _ne{constructor(e){e.onGetComponent("viewer",XFe,()=>WFe)}}_ne.$inject=["components"];const YFe={__depends__:[ll,wr],__init__:["decisionProperties"],decisionProperties:["type",_ne]},Pz="is not a registered action",QFe="is already registered";let xne=class{constructor(e,n){this._actions={undo(){e.undo()},redo(){e.redo()}}}trigger(e,n){if(!this._actions[e])throw dx(e,Pz);return this._actions[e](n)}register(e,n){if(typeof e=="string")return this._registerAction(e,n);ee(e,(r,i)=>{this._registerAction(i,r)})}_registerAction(e,n){if(this.isRegistered(e))throw dx(e,QFe);this._actions[e]=n}unregister(e){if(!this.isRegistered(e))throw dx(e,Pz);this._actions[e]=void 0}isRegistered(e){return!!this._actions[e]}};xne.$inject=["commandStack","eventBus"];function dx(t,e){return new Error(t+" "+e)}const ZFe={__init__:["editorActions"],editorActions:["type",xne]};function Az(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function Tz(t){return t.shiftKey}var Iz="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/pull/662";class wne{constructor(e,n,r,i){ye(this,"_init",()=>{this._registerDefaultBindings(),this._fire("init")});ye(this,"_destroy",()=>{this._fire("destroy"),this.unbind(),this._listeners=null});ye(this,"_keyHandler",e=>{var n,r,i=this._listeners,o=e.keyCode||e.charCode||-1;for(n=0;r=i[n];n++)if(r(o,e)){e.preventDefault(),e.stopPropagation();return}});ye(this,"unbind",()=>{var e=this._node;e&&(this._fire("unbind"),Be.unbind(e,"keydown",this._keyHandler,!0)),this._node=null});this._config=e||{},this._eventBus=n,this._editorActions=r,this._listeners=[],n.on("viewer.destroy",this._destroy),n.on("viewer.init",this._init),n.on("attach",()=>{this._config.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(Iz)),this._target=i.getContainer();var o=this._config&&this._config.bind!==!1;o&&this.bind()}),n.on("detach",this.unbind)}bind(e){e&&console.error("unsupported argument <node>",new Error(Iz)),this.unbind(),e=this._node=this._target,Be.bind(e,"keydown",this._keyHandler,!0),this._fire("bind")}getBinding(){return this._node}_fire(e){this._eventBus.fire("keyboard."+e,{node:this._node,listeners:this._listeners})}_registerDefaultBindings(){var e=this._listeners,n=this._editorActions;function r(o,s){if(Az(s)&&!Tz(s)&&o===90)return n.trigger("undo"),!0}function i(o,s){if(Az(s)&&(o===89||o===90&&Tz(s)))return n.trigger("redo"),!0}e.push(r),e.push(i)}addListener(e){this._listeners.unshift(e)}removeListener(e){this._listeners=this._listeners.filter(n=>n!==e)}}wne.$inject=["config.keyboard","eventBus","editorActions","renderer"];const Ene={__depends__:[ZFe],__init__:["keyboard"],keyboard:["type",wne]};class JFe extends Ne{constructor(n,r){super(n,r);ye(this,"onChange",()=>{const n=this._viewer.getDecision();n.variable&&this.setState({name:n.variable.name})});this._translate=r.injector.get("translate"),this._viewer=r.injector.get("viewer"),this._modeling=r.injector.get("modeling"),this._dataTypes=r.injector.get("dataTypes"),this._eventBus=r.injector.get("eventBus");const i=this._viewer.getDecision();this.state={name:i.variable.name,typeRef:i.variable.typeRef},this.setVariableName=this.setVariableName.bind(this),this.setVariableType=this.setVariableType.bind(this)}setVariableName(n){this._modeling.editVariableName(n),this.setState({name:n})}componentWillMount(){this._eventBus.on("elements.changed",this.onChange)}componentWillUnmount(){this._eventBus.off("elements.changed",this.onChange)}setVariableType(n){n===""?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(n),this.setState({typeRef:n}))}render(){const{name:n,typeRef:r}=this.state,i=this._dataTypes.getAll().map(o=>({label:this._translate(o),value:o}));return U(1,"div","literal-expression-properties",U(1,"table","variables-table",[U(1,"tr",null,[U(1,"td",null,this._translate("Variable name:"),0),U(1,"td",null,we(2,Ms,{label:this._translate("Variable name"),className:"variable-name-input",onInput:this.setVariableName,placeholder:this._translate("name"),value:n||""}),2)],4),U(1,"tr",null,[U(1,"td",null,this._translate("Variable type:"),0),U(1,"td",null,U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Variable type"),onChange:this.setVariableType,options:i,value:r,className:"variable-type-select dms-block"}),2),2)],4),we(2,eze)],4),2)}}class eze extends Ne{constructor(e,n){super(e,n),this._translate=n.injector.get("translate"),this._viewer=n.injector.get("viewer"),this._modeling=n.injector.get("modeling"),this._expressionLanguages=n.injector.get("expressionLanguages"),this.setExpressionLanguage=this.setExpressionLanguage.bind(this)}setExpressionLanguage(e){e===""?this._modeling.editExpressionLanguage(void 0):this._modeling.editExpressionLanguage(e)}_getExpressionLanguage(){const n=this._viewer.getDecision().decisionLogic;return n&&n.expressionLanguage?n.expressionLanguage.toLowerCase():this._getDefaultExpressionLanguage()}_getDefaultExpressionLanguage(){return this._expressionLanguages.getDefault().value}_shouldRender(){return this._expressionLanguages.getAll().length>1?!0:this._getExpressionLanguage()!==this._getDefaultExpressionLanguage()}render(){if(!this._shouldRender())return null;const e=this._getExpressionLanguage(),n=this._expressionLanguages.getAll();return U(1,"tr",null,[U(1,"td",null,this._translate("Expression language:"),0),U(1,"td",null,U(1,"div","dms-fill-row",we(2,an,{label:this._translate("Expression language"),onChange:this.setExpressionLanguage,options:n,value:e,className:"expression-language-select dms-block"}),2),2)],4)}}const tze=500;class Sne{constructor(e){e.onGetComponent("viewer",tze,()=>JFe)}}Sne.$inject=["components"];const nze={__depends__:[ll,Ene,al,dO],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",Sne]};let Cne=class kne{constructor(e,n,r){this._commandStack=e,this._viewer=n,this._eventBus=r,r.on("viewer.init",()=>{rze(this.getHandlers(),e)})}getHandlers(){return kne._getHandlers()}static _getHandlers(){return{"element.updateProperties":Gy}}getDecision(){return this._viewer.getDecision()}editDecisionName(e){const r={element:this.getDecision(),properties:{name:e}};this._commandStack.execute("element.updateProperties",r)}editDecisionId(e){const r={element:this.getDecision(),properties:{id:e}};this._commandStack.execute("element.updateProperties",r)}editLiteralExpressionText(e){const i={element:this.getDecision().decisionLogic,properties:{text:e}};this._commandStack.execute("element.updateProperties",i)}editExpressionLanguage(e){const i={element:this.getDecision().decisionLogic,properties:{expressionLanguage:e}};this._commandStack.execute("element.updateProperties",i)}editVariableName(e){const i={element:this.getDecision().variable,properties:{name:e}};this._commandStack.execute("element.updateProperties",i)}editVariableType(e){const i={element:this.getDecision().variable,properties:{typeRef:e}};this._commandStack.execute("element.updateProperties",i)}updateProperties(e,n){const r={element:e,properties:n};this._commandStack.execute("element.updateProperties",r)}};Cne.$inject=["commandStack","viewer","eventBus"];function rze(t,e){ee(t,function(n,r){e.registerHandler(r,n)})}const ize={__init__:["idChangeBehavior","nameChangeBehavior","modeling"],commandStack:["type",jt],idChangeBehavior:["type",kp],nameChangeBehavior:["type",tO],modeling:["type",Cne]};let oze=class extends Ne{constructor(e,n){super(e,n),this._modeling=n.injector.get("modeling"),this._viewer=n.injector.get("viewer"),this._expressionLanguages=n.injector.get("expressionLanguages"),this._variableResolver=n.injector.get("variableResolver",!1),this._translate=n.injector.get("translate"),this.editLiteralExpressionText=this.editLiteralExpressionText.bind(this),this.onElementsChanged=this.onElementsChanged.bind(this);const{id:r}=this.getLiteralExpression();n.changeSupport.onElementsChanged(r,this.onElementsChanged)}getLiteralExpression(){return this._viewer.getDecision().decisionLogic}onElementsChanged(){this.forceUpdate()}editLiteralExpressionText(e){this._modeling.editLiteralExpressionText(e)}getEditor(){return this.isFeel()?sze:aze}isFeel(){return this.getExpressionLanguage()==="feel"}getExpressionLanguage(){return this.getLiteralExpression().expressionLanguage||this._expressionLanguages.getDefault().value}_getVariables(){const e=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(e)}render(){const{text:e}=this.getLiteralExpression(),n=this.getEditor(),r=this._getVariables();return we(2,n,{label:this._translate("Literal expression editor"),className:"textarea editor",value:e,onChange:this.editLiteralExpressionText,variables:r})}},sze=class extends Ne{render(){return we(2,Wy,{label:this.props.label,className:this.props.className,value:this.props.value,onInput:this.props.onChange,variables:this.props.variables})}},aze=class extends sd{render(){return U(1,"div",this.getClassName(),this.getEditor(),0)}};class One{constructor(e){e.onGetComponent("viewer",()=>oze)}}One.$inject=["components"];const lze={__depends__:[ll,wr],__init__:["textarea"],textarea:["type",One]};let cze=class Rne extends Rz{getModules(){return[...Rz._getModules(),...Rne._getModules()]}static _getModules(){return[YFe,Ene,nze,ize,al,Uy,lze,iO]}};class Pne{constructor(e){e.onGetComponent("viewer",()=>uze),e.onGetComponent("viewer",()=>dze),e.onGetComponent("viewer",()=>fze)}}ye(Pne,"$inject",["components"]);function uze(t,{injector:e}){const r=e.get("components").getComponents("header");return U(1,"div","dmn-boxed-expression-section dmn-boxed-expression-header",r&&r.map((i,o)=>we(2,i,null,o)),0)}function dze(t,{injector:e}){const r=e.get("components").getComponents("body");return U(1,"div","dmn-boxed-expression-section dmn-boxed-expression-body",r&&r.map((i,o)=>we(2,i,null,o)),0)}function fze(t,{injector:e}){const r=e.get("components").getComponents("footer");return U(1,"div","dmn-boxed-expression-section dmn-boxed-expression-footer",r&&r.map((i,o)=>we(2,i,null,o)),0)}class Ane{constructor(e){e.onGetComponent("viewer",()=>{const n=e.getComponents("table.before")||[];return()=>U(1,"div",null,n.map((r,i)=>we(2,r,null,i)),0)})}}ye(Ane,"$inject",["components"]);const hze={__init__:["viewRenderer","tableJsSupport"],viewRenderer:["type",Pne],tableJsSupport:["type",Ane]},pze=2e3;class Tne{constructor(e){e.onGetComponent("viewer",pze,()=>Uk)}}Tne.$inject=["components"];const mze={__init__:["poweredBy"],poweredBy:["type",Tne]};class Ine{constructor(e){e.onGetComponent("expression",({expression:n})=>{if(me(n,"dmn:LiteralExpression"))return gze})}}ye(Ine,"$inject",["components"]);function gze({expression:t},e){const r=e.injector.get("literalExpression").getText(t);return U(1,"div","textarea",U(1,"div","content",r,0),2)}class Dne{getText(e){return e.get("text")}}const vze={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",Ine],literalExpression:["type",Dne]};class Mne{getParameters(e){return e.get("formalParameter")}getBody(e){return e.get("body")}getKind(e){return e.get("kind")||"FEEL"}}var px;let yze=(px=class{constructor(e){e.onGetComponent("expression",({expression:n})=>{if(me(n,"dmn:FunctionDefinition"))return bze})}},ye(px,"$inject",["components"]),px);function bze({expression:t},e){const n=e.injector.get("functionDefinition"),r=n.getKind(t),i=n.getParameters(t),o=n.getBody(t);return U(1,"div","function-definition",[we(2,xze,{kind:r}),we(2,wze,{parameters:i}),we(2,Sze,{expression:o})],4)}const _ze={FEEL:"F",Java:"J",PMML:"P"};function xze({kind:t},e){const n=e.injector.get("translate");return U(1,"div","function-definition-kind",_ze[t],0,{title:n("Function kind: {kind}",{kind:t})})}function wze({parameters:t}){return U(1,"div","function-definition-parameters",U(1,"div",null,[vt("("),t.reduce((e,n)=>e.concat(we(2,Eze,{parameter:n}),", "),[]).slice(0,-1),vt(")")],0),2)}function Eze({parameter:t}){const{name:e,typeRef:n}=t,r=e||"<unnamed>";return U(1,"span",null,n?`${r}: ${n}`:r,0)}function Sze({expression:t},e){const n=e.components.getComponent("expression",{expression:t});return U(1,"div","function-definition-body",we(2,n,{expression:t}),2)}const Cze={__init__:["functionDefinitionComponent"],functionDefinition:["type",Mne],functionDefinitionComponent:["type",yze]};class $ne extends Ne{constructor(n,r){super(n,r);ye(this,"onClick",()=>{this._eventBus.fire("showDrd")});const{injector:i}=r;this._translate=i.get("translate"),this._eventBus=i.get("eventBus")}render(){return U(1,"div","view-drd",U(1,"button","view-drd-button",this._translate("View DRD"),0,{type:"button",onClick:this.onClick}),2,null,null,n=>this.node=n)}}$ne.$inject=["translate"];const kze=2e3;class Nne{constructor(e,n,r){this._injector=r,e.onGetComponent("viewer",kze,()=>{if(this.canViewDrd())return $ne}),n.on("showDrd",()=>{const i=r.get("_parent",!1),o=i.getDefinitions(),s=i.getView(o);i.open(s)})}canViewDrd(){const e=this._injector.get("_parent",!1);if(!e)return;const n=e.getDefinitions();return!!e.getView(n)}}Nne.$inject=["components","eventBus","injector"];const Oze={__init__:["viewDrd"],viewDrd:["type",Nne]};function Rze(t,e){const n=e.injector.get("viewer"),{name:r}=n.getRootElement();return U(1,"div","element-properties",U(1,"h2","element-name",r,0),2)}class Lne{constructor(e){e.onGetComponent("header",()=>Rze)}}Lne.$inject=["components"];const Pze={__init__:["elementProperties"],elementProperties:["type",Lne]},Aze=100;class jne{constructor(e){e.onGetComponent("body",()=>Tze),e.onGetComponent("expression",Aze,()=>Dze)}}ye(jne,"$inject",["components"]);function Tze(t,{injector:e}){const n=e.get("components"),i=e.get("viewer").getRootElement(),o=Ize(i),s=n.getComponent("expression",{expression:o});return we(2,s,{expression:o})}function Ize(t){if(me(t,"dmn:Decision"))return t.get("decisionLogic");if(me(t,"dmn:BusinessKnowledgeModel"))return t.get("encapsulatedLogic")}function Dze({expression:t}){return U(1,"div",null,U(1,"span",null,[vt("Expression of type "),t.$type,vt(" is not supported.")],0,{style:"color:red;"}),2)}const Mze={__init__:["elementLogic"],elementLogic:["type",jne]};class pO{constructor(e){this._viewer=e}getName(){const e=this.getVariable(),n=this._getElement();return(e?e.get("name"):null)||n.get("name")}getType(){const e=this.getVariable();return e?e.get("typeRef"):"Any"}_getElement(){return this._viewer.getRootElement()}getVariable(){return this._getElement().get("variable")}}ye(pO,"$inject",["viewer"]);var mx;let $ze=(mx=class{constructor(e){e.onGetComponent("footer",()=>Nze)}},ye(mx,"$inject",["components"]),mx);function Nze(t,e){const n=e.injector.get("elementVariable"),r=e.injector.get("translate"),i=n.getName(),o=n.getType();return U(1,"div","element-variable",[U(1,"h2",null,vt("Result"),2),U(1,"div","element-variable-name",[U(1,"span","element-variable-name-label",r("Variable name"),0),U(1,"span",null,i,0)],4),U(1,"div","element-variable-type",[U(1,"span","element-variable-type-label",r("Variable type"),0),U(1,"span",null,o,0)],4)],4)}const Lze={__init__:["elementVariableComponent"],elementVariable:["type",pO],elementVariableComponent:["type",$ze]};class mO extends fne{constructor(e={}){const n=mO._createContainer();super(re(e,{renderer:{container:n}})),this._container=n}open(e){const n=this.get("eventBus");return new Promise((r,i)=>{let o;try{this.getRootElement()&&(this.clear(),n.fire("renderer.unmount")),this._setRootElement(e),n.fire("import",e),n.fire("renderer.mount")}catch(s){o=s}o?(o.warnings=o.warnings||[],i(o)):r({warnings:[]})})}_init(e){let{modules:n,additionalModules:r,...i}=e,o=n||this.getModules(),s=r||[],a=[{viewer:["value",this]}];return{modules:[...o,...s,...a],config:i}}on(e,n,r,i){return this.get("eventBus").on(e,n,r,i)}off(e,n){this.get("eventBus").off(e,n)}_emit(e,n){return this.get("eventBus").fire(e,n)}getRootElement(){return this._root}_setRootElement(e){this._root=e}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}detach(){const e=this._container;e.parentNode&&(this._emit("detach",{}),Gn(e))}destroy(){super.destroy(),this.detach()}getModules(){return[hze,wr,mze,Oze,Pze,Mze,Cze,vze,Lze]}static _createContainer(){return at('<div class="dmn-boxed-expression-container"></div>')}}class Bne{constructor(e,n){this.registerBindings(n,e)}registerBindings(e,n){function r(i,o){n.isRegistered(i)&&e.addListener(o)}r("undo",function(i){const o=i.keyEvent;if(uS(o))return n.trigger("undo"),!0}),r("redo",function(i){const o=i.keyEvent;if(dS(o))return n.trigger("redo"),!0})}}ye(Bne,"$inject",["editorActions","keyboard"]);const jze={__depends__:[kh],__init__:["keyboardBindings"],keyboardBindings:["type",Bne]};class Fne extends xe{constructor(n,r){super(n);ye(this,"updateName",({context:n})=>{const{element:r,properties:i}=n;this.isNameChanged(i)&&(this.isVariable(r)?this.handleVariableNameChange(r):this.isVariableContainer(r)&&this.handleVariableContainerNameChange(r))});this._modeling=r,this.postExecuted("element.updateProperties",this.updateName)}isNameChanged(n){return"name"in n}isVariable(n){const r=Dz(n);return me(n,"dmn:InformationItem")&&r&&r.get("variable")===n}isVariableContainer(n){const r=n.get("variable");return r&&me(r,"dmn:InformationItem")}handleVariableNameChange(n){const r=Dz(n),i=n.get("name");i!==r.get("name")&&this._modeling.updateProperties(r,{name:i})}handleVariableContainerNameChange(n){const r=n.get("variable"),i=n.get("name");r&&i!==r.get("name")&&this._modeling.updateProperties(r,{name:i})}}ye(Fne,"$inject",["eventBus","modeling"]);function Dz(t){return t.$parent}class zne{constructor(e,n,r){this._commandStack=e,this._viewer=n,this._eventBus=r,Bze(this._getHandlers(),e)}_getHandlers(){return{"element.updateProperties":Gy}}updateProperties(e,n){const r={element:e,properties:n};this._commandStack.execute("element.updateProperties",r)}}zne.$inject=["commandStack","viewer","eventBus"];function Bze(t,e){ee(t,function(n,r){e.registerHandler(r,n)})}const Fze={__init__:["idChangeBehavior","modeling","nameChangeBehavior"],commandStack:["type",jt],idChangeBehavior:["type",kp],modeling:["type",zne],nameChangeBehavior:["type",Fne]};function dl(t,e){return function(n){return Ba(we(2,zze,{...n,_component:t,_selectDependencies:e}))}}class zze extends Ne{constructor(n,r){super(n,r);ye(this,"onChange",({elements:n})=>{this.props._selectDependencies(this.props).some(i=>n.includes(i))&&this.forceUpdate()});this._eventBus=r.injector.get("eventBus")}componentDidMount(){this._subscribe()}componentWillUnmount(){this._unsubscribe()}_subscribe(){this._eventBus.on("elements.changed",this.onChange)}_unsubscribe(){this._eventBus.off("elements.changed",this.onChange)}render(){const n=this.props._component;return Ba(we(2,n,{...this.props}))}}class qze extends Ne{constructor(n,r){super(n,r);ye(this,"editLiteralExpressionText",n=>{const r=this.getLiteralExpression();this._literalExpression.setText(r,n)});this._literalExpression=r.injector.get("literalExpression"),this._translate=r.injector.get("translate"),this._expressionLanguages=r.injector.get("expressionLanguages"),this._variableResolver=r.injector.get("variableResolver",!1)}getLiteralExpression(){return this.props.expression}getEditor(){return this.isFeel()?Vze:Hze}isFeel(){const n=this.getLiteralExpression();return UIe(n)}_getVariables(){const n=this.getLiteralExpression();return this._variableResolver&&this._variableResolver.getVariables(n)}render(){const{text:n}=this.getLiteralExpression(),r=this.getEditor(),i=this._getVariables(),o=this._translate("Literal expression");return we(2,r,{label:o,className:"textarea editor",value:n,onChange:this.editLiteralExpressionText,variables:i})}}function Vze(t){return Ba(we(2,Wy,{...t,onChange:t.onChange}))}class Hze extends sd{render(){return U(1,"div",this.getClassName(),this.getEditor(),0)}}const Uze=dl(qze,t=>[t.expression]);class qne{constructor(e){e.onGetComponent("expression",({expression:n})=>{if(me(n,"dmn:LiteralExpression"))return Uze})}}ye(qne,"$inject",["components"]);class Vne extends Dne{constructor(e){super(),this._modeling=e}setText(e,n){this._modeling.updateProperties(e,{text:n})}}Vne.$inject=["modeling"];const Wze={__init__:["literalExpressionComponent"],literalExpressionComponent:["type",qne],literalExpression:["type",Vne]};class Hne extends Mne{constructor(e,n){super(),this._modeling=e,this._dmnFactory=n}addParameter(e){this._modeling.updateProperties(e,{formalParameter:[...this.getParameters(e),this._dmnFactory.create("dmn:InformationItem",{name:"",typeRef:""})]})}removeParameter(e,n){this._modeling.updateProperties(e,{formalParameter:this.getParameters(e).filter(r=>r!==n)})}updateParameter(e,n){this._modeling.updateProperties(e,n)}setKind(e,n){this._modeling.updateProperties(e,{kind:n})}}ye(Hne,"$inject",["modeling","dmnFactory"]);function Une({label:t,onClick:e}){return U(1,"button","edit-button dmn-icon-edit",null,1,{"aria-label":t,type:"button",onClick:e})}class Wne{constructor(e){e.onGetComponent("expression",({expression:n})=>{if(me(n,"dmn:FunctionDefinition"))return Gze})}}ye(Wne,"$inject",["components"]);const Gze=dl(Kze,t=>[t.expression]);function Kze({expression:t},e){const n=e.injector.get("functionDefinition"),r=e.injector.get("contextMenu"),i=n.getKind(t),o=n.getParameters(t),s=n.getBody(t),a=c=>{const u=Mz(c);r.open(u,{contextMenuType:"kind-editor",expression:t})},l=c=>{const u=Mz(c);r.open(u,{contextMenuType:"formal-parameters-editor",expression:t})};return U(1,"div","function-definition",[we(2,Yze,{kind:i,openEditor:a}),we(2,Qze,{parameters:o,openEditor:l}),we(2,eqe,{expression:s,parameters:o})],4)}const Xze={FEEL:"F",Java:"J",PMML:"P"};function Yze({kind:t,openEditor:e},n){const r=n.injector.get("translate");return U(1,"div","function-definition-kind",[Xze[t],we(2,Une,{label:r("Edit function kind"),onClick:e})],0)}function Qze({openEditor:t,parameters:e},n){const r=n.injector.get("translate");return U(1,"div","function-definition-parameters",[U(1,"div",null,[vt("("),e.reduce((i,o)=>i.concat(we(2,Zze,{parameter:o}),", "),[]).slice(0,-1),vt(")")],0),we(2,Une,{label:r("Edit formal parameters"),onClick:t})],4)}const Zze=dl(Jze,t=>[t.parameter]);function Jze({parameter:t}){const{name:e,typeRef:n}=t,r=e||"<unnamed>";return U(1,"span",null,n?`${r}: ${n}`:r,0)}const eqe=dl(tqe,t=>t.parameters);function tqe({expression:t,parameters:e},n){const r=n.components.getComponent("expression",{expression:t});return U(1,"div","function-definition-body",we(2,r,{expression:t,parameters:e}),2)}function Mz(t){const e=t.target.parentElement,n=e.getBoundingClientRect();return{x:n.x,y:n.y}}const nqe=[{value:"FEEL",label:"FEEL"},{value:"Java",label:"Java"},{value:"PMML",label:"PMML"}];class Gne{constructor(e){e.onGetComponent("context-menu",(n={})=>{if(n.contextMenuType&&n.contextMenuType==="kind-editor")return rqe})}}ye(Gne,"$inject",["components"]);function rqe({context:{expression:t}},e){const n=e.injector.get("functionDefinition"),r=e.injector.get("translate"),i=n.getKind(t),o=s=>{n.setKind(t,s)};return U(1,"div","context-menu-container",[U(1,"h3",null,r("Edit function kind"),0),we(2,an,{label:r("Kind"),options:nqe,value:i,onChange:o,noInput:!0})],4)}class Kne{constructor(e){e.onGetComponent("context-menu",(n={})=>{if(n.contextMenuType&&n.contextMenuType==="formal-parameters-editor")return iqe})}}ye(Kne,"$inject",["components"]);const iqe=dl(oqe,t=>[t.context.expression]);function oqe({context:{expression:t}},e){const n=e.injector.get("functionDefinition"),r=e.injector.get("translate"),i=n.getParameters(t),o=a=>{n.removeParameter(t,a)},s=()=>{n.addParameter(t)};return U(1,"div","context-menu-container formal-parameters",[U(1,"h3",null,r("Edit formal parameters"),0),i.length?U(1,"table",null,[U(1,"thead",null,U(1,"tr",null,[U(1,"th",null,vt("Name"),2),U(1,"th",null,vt("Type"),2)],4),2),U(1,"tbody",null,i.map((a,l)=>we(2,sqe,{parameter:a,remove:()=>o(a)},l)),0)],4):null,U(1,"button","add-parameter",r("Add parameter"),0,{type:"button",onClick:s})],0)}const sqe=dl(function({parameter:t,remove:e},n){const r=n.injector.get("dataTypes"),i=n.injector.get("translate"),o=n.injector.get("functionDefinition"),{name:s,typeRef:a}=t,l=d=>{o.updateParameter(t,{name:d})},c=d=>{o.updateParameter(t,{typeRef:d})},u=r.getAll().map(d=>({label:i(d),value:d}));return U(1,"tr","function-definition-parameter",[U(1,"td",null,we(2,Ms,{onChange:l,value:s}),2),U(1,"td",null,we(2,an,{onChange:c,value:a,options:u}),2),U(1,"td",null,U(1,"button","dmn-icon-trash",null,1,{type:"button",onClick:e,"aria-label":i("Remove parameter")}),2)],4)},t=>[t.parameter]),aqe={__init__:["formalParametersEditorComponent","functionDefinitionComponent","kindEditorComponent"],__depends__:[cl],formalParametersEditorComponent:["type",Kne],functionDefinition:["type",Hne],functionDefinitionComponent:["type",Wne],kindEditorComponent:["type",Gne]},lqe=dl(function(t,e){const{element:n}=t,r=e.injector.get("modeling"),i=e.injector.get("translate"),o=n.get("name"),s=a=>{r.updateProperties(n,{name:a})};return we(2,Ms,{label:i("Element name"),className:"element-name editor",value:o,onChange:s})},t=>[t.element]);function cqe(t,e){const r=e.injector.get("viewer").getRootElement();return U(1,"div","element-properties",we(2,lqe,{element:r}),2)}class Xne{constructor(e){e.onGetComponent("header",()=>cqe)}}Xne.$inject=["components"];const uqe={__depends__:[ll],__init__:["elementProperties"],elementProperties:["type",Xne]};class Yne{constructor(e,n){this._eventBus=n,this._viewer=e}updateId(e,n){const r=this._viewer.getRootElement();if(e!==r)throw new Error("element !== rootElement");this._eventBus.fire("element.updateId",{element:e,newId:n}),e.id=n}}Yne.$inject=["viewer","eventBus"];class Qne{constructor(e){this._moddle=e}create(e,n={}){return this._moddle.create(e,n)}}ye(Qne,"$inject",["moddle"]);const dqe={__init__:["elementRegistry"],elementRegistry:["type",Yne],dmnFactory:["type",Qne]};class Zne extends pO{constructor(e,n,r){super(e),this._modeling=n,this._dmnFactory=r}setType(e){const n=this.getVariable();if(!n){const r=this._getElement();this._modeling.updateProperties(r,{variable:this._dmnFactory.create("dmn:InformationItem",{name:r.get("name"),typeRef:e})});return}this._modeling.updateProperties(n,{typeRef:e})}}ye(Zne,"$inject",["viewer","modeling","dmnFactory"]);const Jne="dmn-boxed-expression-variable-type";class ere{constructor(e,n){const r=dl(fqe,()=>[n.getVariable()]);e.onGetComponent("footer",()=>r)}}ye(ere,"$inject",["components","elementVariable"]);function fqe(t,e){const n=e.injector.get("elementVariable"),r=e.injector.get("translate"),i=n.getName();return U(1,"div","element-variable",[U(1,"h2",null,vt("Result"),2),U(1,"div","element-variable-name",[U(1,"span","element-variable-name-label",r("Variable name"),0),U(1,"span",null,i,0)],4),U(1,"div","element-variable-type",[U(1,"label","element-variable-type-label",vt("Result type"),2,{for:Jne}),we(2,hqe)],4)],4)}function hqe(t,e){const n=e.injector.get("elementVariable"),r=e.injector.get("dataTypes"),i=e.injector.get("translate"),o=n.getType(),s=l=>n.setType(l),a=r.getAll().map(l=>({label:i(l),value:l}));return we(2,an,{value:o,onChange:s,options:a,id:Jne})}const pqe={__init__:["elementVariableComponent"],elementVariable:["type",Zne],elementVariableComponent:["type",ere]},$z="is not a registered action",mqe="is already registered";class tre{constructor(e,n){this._actions={undo(){e.undo()},redo(){e.redo()}}}trigger(e,n){if(!this._actions[e])throw fx(e,$z);return this._actions[e](n)}register(e,n){if(typeof e=="string")return this._registerAction(e,n);ee(e,(r,i)=>{this._registerAction(i,r)})}_registerAction(e,n){if(this.isRegistered(e))throw fx(e,mqe);this._actions[e]=n}unregister(e){if(!this.isRegistered(e))throw fx(e,$z);this._actions[e]=void 0}isRegistered(e){return!!this._actions[e]}}tre.$inject=["commandStack","eventBus"];function fx(t,e){return new Error(t+" "+e)}const gqe={__init__:["editorActions"],editorActions:["type",tre]};class vqe extends mO{getModules(){return[...super.getModules(),dqe,Fze,gqe,uqe,aqe,al,Wze,jze,Uy,pqe,iO]}}class yqe extends WIe{_getViewProviders(){return[{id:"drd",constructor:R0,opens:"dmn:Definitions"},{id:"decisionTable",constructor:kFe,opens(e){return me(e,"dmn:Decision")&&me(e.decisionLogic,"dmn:DecisionTable")}},{id:"literalExpression",constructor:cze,opens(e){return me(e,"dmn:Decision")&&me(e.decisionLogic,"dmn:LiteralExpression")}},{id:"boxedExpression",constructor:vqe,opens(e){return me(e,"dmn:BusinessKnowledgeModel")&&pv(e)}}]}_getInitialView(e,...n){let r=super._getInitialView(e,...n);if(!r)return;const i=r.element;return me(i,"dmn:Definitions")&&!GJ(i)&&(r=Ge(e,o=>!me(o.element,"dmn:Definitions"))||r),r}}const bqe=Bt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,_qe=Bt.div`
  background-color: white;
  border-radius: 4px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  width: 90%;  /* Aumentado de 80% para 90% */
  max-width: 1200px; /* Aumentado de 900px para 1200px */
  height: 90vh; /* Definido altura fixa para ocupar quase toda a tela */
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,xqe=Bt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid #e0e0e0;
`,wqe=Bt.h3`
  margin: 0;
  font-size: 18px;
  font-weight: 500;
`,Eqe=Bt.div`
  padding: 16px;
  overflow-y: auto;
  flex: 1;
`,Sqe=Bt.div`
  display: flex;
  justify-content: flex-end;
  padding: 16px;
  border-top: 1px solid #e0e0e0;
  gap: 8px;
`,Nz=Bt.button`
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  border: 1px solid ${t=>t.primary?"#2196f3":"#ddd"};
  background-color: ${t=>t.primary?"#2196f3":"white"};
  color: ${t=>t.primary?"white":"#333"};
  
  &:hover {
    background-color: ${t=>t.primary?"#1976d2":"#f5f5f5"};
  }
`,Cqe=Bt.button`
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: #666;
  
  &:hover {
    color: #333;
  }
`,kqe=Bt.div`
  display: flex;
  border-bottom: 1px solid #e0e0e0;
  margin-bottom: 16px;
`,Lz=Bt.button`
  padding: 8px 16px;
  background: none;
  border: none;
  border-bottom: 2px solid ${t=>t.active?"#2196f3":"transparent"};
  color: ${t=>t.active?"#2196f3":"#333"};
  font-weight: ${t=>t.active?"500":"normal"};
  cursor: pointer;
  
  &:hover {
    background-color: #f5f5f5;
  }
`,Oqe=Bt.div`
  width: 100%;
  height: 600px; /* Aumentado para dar mais espa√ßo ao editor */
  border: 1px solid #ddd;
  border-radius: 4px;
  overflow: hidden;
`,Rqe=({decisionTable:t,onSave:e,onClose:n})=>{const[r,i]=Ee(null),[o,s]=Ee(!0),[a,l]=Ee("visual"),c=on(null),u=on(null),d=on(null);bt(()=>{(async()=>{s(!0);try{const p=await hv.loadDecision(t);i(p)}catch(p){console.error("Erro ao carregar tabela de decis√£o:",p),i(null)}finally{s(!1)}})()},[t]),bt(()=>{if(c.current&&r&&!o&&a==="visual")try{u.current&&u.current.destroy();const h=new yqe({container:c.current,keyboard:{bindTo:document},drd:{additionalModules:[]},decisionTable:{additionalModules:[],debounceInput:!1,tableName:"Tabela de Decis√£o"},literalExpression:{additionalModules:[]},height:580,width:"100%",position:"relative"});return h.importXML(r,p=>{if(p){console.error("Erro ao importar XML DMN:",p);return}const m=h.getActiveViewer();m&&m.get("canvas").zoom("fit-viewport")}),u.current=h,()=>{h.destroy()}}catch(h){console.error("Erro ao inicializar DMN editor:",h)}},[r,o,a]),bt(()=>{d.current&&r&&a==="xml"&&(d.current.value=r)},[r,a]);const f=async()=>{try{let h=r;if(a==="visual"&&u.current)try{const{xml:p}=await new Promise((m,g)=>{u.current.saveXML({format:!0},(v,y)=>{v?g(v):m({xml:y})})});h=p}catch(p){console.error("Erro ao exportar XML DMN:",p),alert("Erro ao exportar XML DMN. Verifique o console para mais detalhes.");return}if(a==="xml"&&d.current&&(h=d.current.value),h){const p=await hv.saveDecision(t,h);e(p),n()}}catch(h){console.error("Erro ao salvar tabela de decis√£o:",h),alert("Erro ao salvar tabela de decis√£o. Verifique o console para mais detalhes.")}};return P.jsx(bqe,{children:P.jsxs(_qe,{children:[P.jsxs(xqe,{children:[P.jsxs(wqe,{children:["Editor de Tabela de Decis√£o - ",t]}),P.jsx(Cqe,{onClick:n,children:"√ó"})]}),P.jsx(Eqe,{children:o?P.jsx("div",{children:"Carregando tabela de decis√£o..."}):P.jsxs(P.Fragment,{children:[P.jsxs(kqe,{children:[P.jsx(Lz,{active:a==="visual",onClick:()=>l("visual"),children:"Editor Visual"}),P.jsx(Lz,{active:a==="xml",onClick:()=>l("xml"),children:"Editor XML"})]}),a==="visual"?P.jsx(Oqe,{ref:c}):P.jsx("div",{children:P.jsx("textarea",{ref:d,style:{width:"100%",height:"600px",fontFamily:"monospace",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"},defaultValue:r||""})})]})}),P.jsxs(Sqe,{children:[P.jsx(Nz,{onClick:n,children:"Cancelar"}),P.jsx(Nz,{primary:!0,onClick:f,children:"Salvar"})]})]})})},Pqe=t=>{const{decisionTable:e,onSave:n}=t,r=document.createElement("div");r.id="decision-editor-modal-root",document.body.appendChild(r);const i=()=>{Tf.unmountComponentAtNode(r)&&r.parentNode&&r.parentNode.removeChild(r)};Tf.render(P.jsx(Rqe,{decisionTable:e,onSave:n,onClose:i}),r)},Aqe=({selectedElement:t,modeler:e,isVisible:n=!0,readOnly:r=!1,style:i={},className:o="",onPropertiesUpdated:s,customPropertyFields:a={},toggleable:l=!0})=>{console.log("Selected Element:",t),console.log("Modeler:",e),console.log("Is Visible:",n),console.log("Read Only:",r),console.log("Style:",i),console.log("Class Name:",o),console.log("On Properties Updated:",s),console.log("Custom Property Fields:",a);const[c,u]=Ee(null),[d,f]=Ee(!0),[h,p]=Ee(""),m=on(!0),g=()=>`${Date.now()}-${Math.floor(Math.random()*1e3)}`,v=S=>{console.log("Opening form editor with key:",S);const k=S||g();nTe({formKey:k,onSave:I=>{if(t&&c){const M={...c,activiti_formKey:I};u(M),b(M)}}})},y=S=>{console.log("Opening decision editor with key:",S);const k=S||g();Pqe({decisionTable:k,onSave:I=>{if(t&&c){const M={...c,activiti_rules:I};u(M),b(M)}}})};bt(()=>()=>{m.current=!1},[]);const _=_n(S=>{if(!S)return null;const k=S.businessObject||{},I={id:k.id||"",name:k.name||""};k.documentation&&k.documentation.length>0?I.documentation=k.documentation[0].text||"":I.documentation="";const M=k.$attrs||{};switch(Object.keys(M).forEach(R=>{if(R.startsWith("activiti:")){const D=R.replace("activiti:","activiti_");I[D]=M[R]}}),S.type){case"bpmn:Process":I.versionTag=k.versionTag||"",I.isExecutable=k.isExecutable||!1,I.jobPriority=k.jobPriority||"",I.historyTimeToLive=k.historyTimeToLive||"",I.activiti_candidateStarterGroups=M["activiti:candidateStarterGroups"]||"",I.activiti_candidateStarterUsers=M["activiti:candidateStarterUsers"]||"",I.activiti_versionTag=M["activiti:versionTag"]||"",I.activiti_historyTimeToLive=M["activiti:historyTimeToLive"]||"",I.activiti_isStartableInTasklist=M["activiti:isStartableInTasklist"]==="true";break;case"bpmn:StartEvent":case"bpmn:EndEvent":case"bpmn:IntermediateCatchEvent":case"bpmn:IntermediateThrowEvent":case"bpmn:BoundaryEvent":if(I.isInterrupting=k.isInterrupting!==!1,k.eventDefinitions&&k.eventDefinitions.length>0){const R=k.eventDefinitions[0];R.$type==="bpmn:TimerEventDefinition"?(I.timeDate=R.timeDate?.body||"",I.timeDuration=R.timeDuration?.body||"",I.timeCycle=R.timeCycle?.body||""):R.$type==="bpmn:MessageEventDefinition"?I.messageRef=R.messageRef?.id||"":R.$type==="bpmn:ErrorEventDefinition"&&(I.errorRef=R.errorRef?.id||"")}S.type==="bpmn:BoundaryEvent"&&(I.attachedToRef=k.attachedToRef?.id||"",I.cancelActivity=k.cancelActivity!==!1),S.type==="bpmn:StartEvent"&&(I.activiti_formKey=M["activiti:formKey"]||"",I.activiti_initiator=M["activiti:initiator"]||"");break;case"bpmn:Task":case"bpmn:UserTask":case"bpmn:ServiceTask":case"bpmn:ScriptTask":case"bpmn:ReceiveTask":case"bpmn:ManualTask":case"bpmn:SendTask":case"bpmn:BusinessRuleTask":I.isAsync=k.isAsync||!1,I.isForCompensation=k.isForCompensation||!1,I.activiti_async=M["activiti:async"]==="true",I.activiti_exclusive=M["activiti:exclusive"]!=="false",I.activiti_jobPriority=M["activiti:jobPriority"]||"",S.type==="bpmn:UserTask"&&(I.activiti_assignee=M["activiti:assignee"]||"",I.activiti_candidateUsers=M["activiti:candidateUsers"]||"",I.activiti_candidateGroups=M["activiti:candidateGroups"]||"",I.activiti_dueDate=M["activiti:dueDate"]||"",I.activiti_priority=M["activiti:priority"]||"",I.activiti_formKey=M["activiti:formKey"]||""),S.type==="bpmn:ServiceTask"&&(I.activiti_class=M["activiti:class"]||"",I.activiti_expression=M["activiti:expression"]||"",I.activiti_delegateExpression=M["activiti:delegateExpression"]||"",I.activiti_type=M["activiti:type"]||"",I.activiti_resultVariable=M["activiti:resultVariable"]||""),S.type==="bpmn:ScriptTask"&&(I.scriptFormat=k.scriptFormat||"",I.script=k.script||"",I.activiti_autoStoreVariables=M["activiti:autoStoreVariables"]==="true",I.activiti_resultVariable=M["activiti:resultVariable"]||""),S.type==="bpmn:BusinessRuleTask"&&(I.activiti_ruleVariablesInput=M["activiti:ruleVariablesInput"]||"",I.activiti_resultVariable=M["activiti:resultVariable"]||"",I.activiti_rules=M["activiti:rules"]||"",I.activiti_exclude=M["activiti:exclude"]||""),S.type==="bpmn:SendTask"&&(I.messageRef=k.messageRef?.id||""),S.type==="bpmn:ReceiveTask"&&(I.messageRef=k.messageRef?.id||"");break;case"bpmn:ExclusiveGateway":case"bpmn:ParallelGateway":case"bpmn:InclusiveGateway":case"bpmn:EventBasedGateway":I.gatewayDirection=k.gatewayDirection||"Unspecified",I.default=k.default?.id||"",S.type==="bpmn:EventBasedGateway"&&(I.instantiate=k.instantiate||!1,I.eventGatewayType=k.eventGatewayType||"Exclusive");break;case"bpmn:SequenceFlow":I.sourceRef=k.sourceRef?.id||"",I.targetRef=k.targetRef?.id||"",I.isImmediate=k.isImmediate||!1,k.conditionExpression&&(I.conditionExpression=k.conditionExpression.body||""),I.skipExpression=M["activiti:skipExpression"]||"";break;case"bpmn:SubProcess":case"bpmn:Transaction":case"bpmn:AdHocSubProcess":I.isAsync=k.isAsync||!1,I.isForCompensation=k.isForCompensation||!1,I.triggeredByEvent=k.triggeredByEvent||!1,I.activiti_async=M["activiti:async"]==="true",I.activiti_exclusive=M["activiti:exclusive"]!=="false",I.activiti_jobPriority=M["activiti:jobPriority"]||"";break;case"bpmn:DataObject":I.isCollection=k.isCollection||!1,I.itemSubjectRef=k.itemSubjectRef?.id||"";break;case"bpmn:DataStore":I.capacity=k.capacity||"",I.isUnlimited=k.isUnlimited||!1;break;case"bpmn:TextAnnotation":I.text=k.text||"",I.textFormat=k.textFormat||"";break;case"bpmn:CallActivity":I.isAsync=k.isAsync||!1,I.isForCompensation=k.isForCompensation||!1,I.activiti_async=M["activiti:async"]==="true",I.activiti_exclusive=M["activiti:exclusive"]!=="false",I.activiti_calledElementBinding=M["activiti:calledElementBinding"]||"",I.activiti_calledElementVersion=M["activiti:calledElementVersion"]||"",I.activiti_calledElementVersionTag=M["activiti:calledElementVersionTag"]||"",I.activiti_calledElementTenantId=M["activiti:calledElementTenantId"]||"";break}return I},[]);bt(()=>{if(t){const S=_(t);u(S),p(t.type)}else u(null),p("")},[t,_]);const b=_n(S=>{if(!t||!e||!c||r)return;const k=e.get("modeling"),I=e.get("elementRegistry"),M=e.get("moddle"),R=e.get("canvas"),D=I.get(t.id);if(!D){console.error("Elemento n√£o encontrado no registro:",t.id);return}const C={};if(S.name!==c.name&&(C.name=S.name),S.documentation!==c.documentation){const j=M.create("bpmn:Documentation",{text:S.documentation});C.documentation=[j]}switch(h){case"bpmn:Process":S.versionTag!==c.versionTag&&(C.versionTag=S.versionTag),S.isExecutable!==c.isExecutable&&(C.isExecutable=S.isExecutable),S.jobPriority!==c.jobPriority&&(C.jobPriority=S.jobPriority),S.historyTimeToLive!==c.historyTimeToLive&&(C.historyTimeToLive=S.historyTimeToLive);break;case"bpmn:StartEvent":case"bpmn:EndEvent":case"bpmn:IntermediateCatchEvent":case"bpmn:IntermediateThrowEvent":case"bpmn:BoundaryEvent":S.isInterrupting!==c.isInterrupting&&(C.isInterrupting=S.isInterrupting),h==="bpmn:BoundaryEvent"&&S.cancelActivity!==c.cancelActivity&&(C.cancelActivity=S.cancelActivity);break;case"bpmn:Task":case"bpmn:UserTask":case"bpmn:ServiceTask":case"bpmn:ScriptTask":case"bpmn:ReceiveTask":case"bpmn:ManualTask":case"bpmn:SendTask":case"bpmn:BusinessRuleTask":case"bpmn:SubProcess":case"bpmn:Transaction":case"bpmn:AdHocSubProcess":case"bpmn:CallActivity":S.isAsync!==c.isAsync&&(C.isAsync=S.isAsync),S.isForCompensation!==c.isForCompensation&&(C.isForCompensation=S.isForCompensation);break;case"bpmn:ExclusiveGateway":case"bpmn:ParallelGateway":case"bpmn:InclusiveGateway":case"bpmn:EventBasedGateway":S.gatewayDirection!==c.gatewayDirection&&(C.gatewayDirection=S.gatewayDirection);break;case"bpmn:SequenceFlow":if(S.isImmediate!==c.isImmediate&&(C.isImmediate=S.isImmediate),S.conditionExpression!==c.conditionExpression)if(S.conditionExpression){const j=M.create("bpmn:FormalExpression",{body:S.conditionExpression});C.conditionExpression=j}else C.conditionExpression=null;break;case"bpmn:DataObject":S.isCollection!==c.isCollection&&(C.isCollection=S.isCollection);break;case"bpmn:DataStore":S.capacity!==c.capacity&&(C.capacity=S.capacity),S.isUnlimited!==c.isUnlimited&&(C.isUnlimited=S.isUnlimited);break;case"bpmn:TextAnnotation":S.text!==c.text&&(C.text=S.text),S.textFormat!==c.textFormat&&(C.textFormat=S.textFormat);break}const V={};Object.keys(S).forEach(j=>{if(j.startsWith("activiti_")&&S[j]!==c[j]){const B=j.replace("activiti_","activiti:");V[B]=S[j]}}),Object.keys(V).length>0&&Object.assign(C,V);let J=!1,Y=D.businessObject.extensionElements;if(!Y&&Object.keys(V).some(j=>j.includes("Listener"))&&(Y=M.create("bpmn:ExtensionElements",{values:[]}),J=!0),Y){const j=Object.keys(S).filter(G=>G.startsWith("activiti_executionListener_")),B=Object.keys(S).filter(G=>G.startsWith("activiti_taskListener_"));if(j.length>0){const G=new Set;j.forEach(N=>{const F=N.match(/activiti_executionListener_(\d+)_/);F&&G.add(F[1])});let z=Y.values?.filter(N=>N.$type==="activiti:ExecutionListener")||[];Array.from(G).forEach(N=>{const F=`activiti_executionListener_${N}_event`,W=`activiti_executionListener_${N}_class`,X=`activiti_executionListener_${N}_expression`,oe=`activiti_executionListener_${N}_delegateExpression`;let L=z[parseInt(N)];L||(L=M.create("activiti:ExecutionListener"),Y.values=Y.values||[],Y.values.push(L),z.push(L)),S[F]!==void 0&&(L.event=S[F]),S[W]!==void 0&&(L.class=S[W]),S[X]!==void 0&&(L.expression=S[X]),S[oe]!==void 0&&(L.delegateExpression=S[oe])}),J=!0}if(B.length>0){const G=new Set;B.forEach(N=>{const F=N.match(/activiti_taskListener_(\d+)_/);F&&G.add(F[1])});let z=Y.values?.filter(N=>N.$type==="activiti:TaskListener")||[];Array.from(G).forEach(N=>{const F=`activiti_taskListener_${N}_event`,W=`activiti_taskListener_${N}_class`,X=`activiti_taskListener_${N}_expression`,oe=`activiti_taskListener_${N}_delegateExpression`,L=`activiti_taskListener_${N}_dueDate`;let O=z[parseInt(N)];O||(O=M.create("activiti:TaskListener"),Y.values=Y.values||[],Y.values.push(O),z.push(O)),S[F]!==void 0&&(O.event=S[F]),S[W]!==void 0&&(O.class=S[W]),S[X]!==void 0&&(O.expression=S[X]),S[oe]!==void 0&&(O.delegateExpression=S[oe]),S[L]!==void 0&&(O.dueDate=S[L])}),J=!0}}if(J&&(D.businessObject.extensionElements=Y,C.extensionElements=Y),Object.keys(C).length>0){console.log("Updating properties:",JSON.stringify(C,null,2)),k.updateProperties(D,C);const j=R.zoom();R.zoom(j,"auto"),R.addMarker(D.id,"highlight"),setTimeout(()=>{R.removeMarker(D.id,"highlight")},50)}s&&s(D,S)},[t,e,r,s,c,h]),x=_n((S,k)=>{if(!c)return;const I={...c,[S]:k};u(I),b(I)},[c,b]),w=_n(()=>{if(!t)return[];const S=[{key:"id",label:"ID",type:"text",readOnly:!0},{key:"name",label:"Nome",type:"text",placeholder:"Digite o nome"},{key:"documentation",label:"Documenta√ß√£o",type:"textarea",placeholder:"Digite a documenta√ß√£o"}];let k=[];const I=a[h]||[];switch(h){case"bpmn:Process":k=[{key:"versionTag",label:"Tag de Vers√£o",type:"text",placeholder:"Digite a tag de vers√£o"},{key:"isExecutable",label:"Execut√°vel",type:"checkbox"},{key:"jobPriority",label:"Prioridade do Job",type:"text",placeholder:"Digite a prioridade do job"},{key:"historyTimeToLive",label:"Tempo de Vida do Hist√≥rico",type:"text",placeholder:"Digite o tempo de vida"},{key:"activiti_candidateStarterGroups",label:"Grupos Candidatos Iniciais",type:"text",placeholder:"Digite os grupos separados por v√≠rgula"},{key:"activiti_candidateStarterUsers",label:"Usu√°rios Candidatos Iniciais",type:"text",placeholder:"Digite os usu√°rios separados por v√≠rgula"},{key:"activiti_versionTag",label:"Tag de Vers√£o (Activiti)",type:"text",placeholder:"Digite a tag de vers√£o Activiti"},{key:"activiti_historyTimeToLive",label:"Tempo de Vida do Hist√≥rico (Activiti)",type:"text",placeholder:"Digite o tempo de vida"},{key:"activiti_isStartableInTasklist",label:"Inici√°vel na Lista de Tarefas",type:"checkbox"}];break;case"bpmn:StartEvent":k=[{key:"isInterrupting",label:"Interruptor",type:"checkbox"},{key:"activiti_initiator",label:"Iniciador",type:"text",placeholder:"Digite o iniciador"},{key:"activiti_formKey",label:"Formul√°rio",type:"link",placeholder:"Clique para editar o formul√°rio",linkAction:M=>v(M)}],t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:TimerEventDefinition")&&(k=[...k,{key:"timeDate",label:"Data/Hora",type:"text",placeholder:"Digite a data/hora (ISO 8601)"},{key:"timeDuration",label:"Dura√ß√£o",type:"text",placeholder:"Digite a dura√ß√£o (ISO 8601)"},{key:"timeCycle",label:"Ciclo",type:"text",placeholder:"Digite o ciclo (ISO 8601 ou cron)"}]),t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:MessageEventDefinition")&&(k=[...k,{key:"messageRef",label:"Refer√™ncia de Mensagem",type:"text",placeholder:"Digite a refer√™ncia de mensagem"}]);break;case"bpmn:EndEvent":k=[],t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:ErrorEventDefinition")&&(k=[...k,{key:"errorRef",label:"Refer√™ncia de Erro",type:"text",placeholder:"Digite a refer√™ncia de erro"}]);break;case"bpmn:IntermediateCatchEvent":case"bpmn:IntermediateThrowEvent":k=[],t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:TimerEventDefinition")&&(k=[...k,{key:"timeDate",label:"Data/Hora",type:"text",placeholder:"Digite a data/hora (ISO 8601)"},{key:"timeDuration",label:"Dura√ß√£o",type:"text",placeholder:"Digite a dura√ß√£o (ISO 8601)"},{key:"timeCycle",label:"Ciclo",type:"text",placeholder:"Digite o ciclo (ISO 8601 ou cron)"}]),t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:MessageEventDefinition")&&(k=[...k,{key:"messageRef",label:"Refer√™ncia de Mensagem",type:"text",placeholder:"Digite a refer√™ncia de mensagem"}]);break;case"bpmn:BoundaryEvent":k=[{key:"isInterrupting",label:"Interruptor",type:"checkbox"},{key:"attachedToRef",label:"Anexado a",type:"text",readOnly:!0},{key:"cancelActivity",label:"Cancelar Atividade",type:"checkbox"}],t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:TimerEventDefinition")&&(k=[...k,{key:"timeDate",label:"Data/Hora",type:"text",placeholder:"Digite a data/hora (ISO 8601)"},{key:"timeDuration",label:"Dura√ß√£o",type:"text",placeholder:"Digite a dura√ß√£o (ISO 8601)"},{key:"timeCycle",label:"Ciclo",type:"text",placeholder:"Digite o ciclo (ISO 8601 ou cron)"}]),t.businessObject.eventDefinitions&&t.businessObject.eventDefinitions.some(M=>M.$type==="bpmn:ErrorEventDefinition")&&(k=[...k,{key:"errorRef",label:"Refer√™ncia de Erro",type:"text",placeholder:"Digite a refer√™ncia de erro"}]);break;case"bpmn:Task":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"activiti_async",label:"Ass√≠ncrono (Activiti)",type:"checkbox"},{key:"activiti_exclusive",label:"Exclusivo (Activiti)",type:"checkbox"},{key:"activiti_jobPriority",label:"Prioridade do Job (Activiti)",type:"text",placeholder:"Digite a prioridade do job"}];break;case"bpmn:UserTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"activiti_async",label:"Ass√≠ncrono (Activiti)",type:"checkbox"},{key:"activiti_exclusive",label:"Exclusivo (Activiti)",type:"checkbox"},{key:"activiti_assignee",label:"Respons√°vel",type:"text",placeholder:"Digite o respons√°vel"},{key:"activiti_candidateUsers",label:"Usu√°rios Candidatos",type:"text",placeholder:"Digite os usu√°rios separados por v√≠rgula"},{key:"activiti_candidateGroups",label:"Grupos Candidatos",type:"text",placeholder:"Digite os grupos separados por v√≠rgula"},{key:"activiti_dueDate",label:"Data de Vencimento",type:"text",placeholder:"Digite a data de vencimento"},{key:"activiti_priority",label:"Prioridade",type:"text",placeholder:"Digite a prioridade"},{key:"activiti_formKey",label:"Formul√°rio",type:"link",placeholder:"Clique para editar o formul√°rio",linkAction:M=>v(M)}];break;case"bpmn:ServiceTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"activiti_async",label:"Ass√≠ncrono (Activiti)",type:"checkbox"},{key:"activiti_exclusive",label:"Exclusivo (Activiti)",type:"checkbox"},{key:"activiti_class",label:"Classe",type:"text",placeholder:"Digite o nome da classe"},{key:"activiti_expression",label:"Express√£o",type:"text",placeholder:"Digite a express√£o"},{key:"activiti_delegateExpression",label:"Express√£o de Delega√ß√£o",type:"text",placeholder:"Digite a express√£o de delega√ß√£o"},{key:"activiti_type",label:"Tipo",type:"select",options:[{value:"",label:"Selecione um tipo"},{value:"mail",label:"E-mail"},{value:"shell",label:"Shell"},{value:"webservice",label:"Web Service"}]},{key:"activiti_resultVariable",label:"Vari√°vel de Resultado",type:"text",placeholder:"Digite o nome da vari√°vel de resultado"}];break;case"bpmn:ScriptTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"scriptFormat",label:"Formato do Script",type:"text",placeholder:"Digite o formato do script (ex: javascript)"},{key:"script",label:"Script",type:"textarea",placeholder:"Digite o script"},{key:"activiti_autoStoreVariables",label:"Armazenar Vari√°veis Automaticamente",type:"checkbox"},{key:"activiti_resultVariable",label:"Vari√°vel de Resultado",type:"text",placeholder:"Digite o nome da vari√°vel de resultado"}];break;case"bpmn:BusinessRuleTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"activiti_ruleVariablesInput",label:"Vari√°veis de Entrada da Regra",type:"text",placeholder:"Digite as vari√°veis de entrada"},{key:"activiti_resultVariable",label:"Vari√°vel de Resultado",type:"text",placeholder:"Digite o nome da vari√°vel de resultado"},{key:"activiti_rules",label:"Regras de Neg√≥cio",type:"link",placeholder:"Clique para editar as regras",linkAction:M=>y(M)},{key:"activiti_exclude",label:"Excluir",type:"text",placeholder:"Digite as regras a excluir"}];break;case"bpmn:SendTask":case"bpmn:ReceiveTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"messageRef",label:"Refer√™ncia de Mensagem",type:"text",placeholder:"Digite a refer√™ncia de mensagem"}];break;case"bpmn:ManualTask":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"}];break;case"bpmn:ExclusiveGateway":case"bpmn:ParallelGateway":case"bpmn:InclusiveGateway":k=[{key:"gatewayDirection",label:"Dire√ß√£o do Gateway",type:"select",options:[{value:"Unspecified",label:"N√£o especificado"},{value:"Converging",label:"Convergente"},{value:"Diverging",label:"Divergente"},{value:"Mixed",label:"Misto"}]},{key:"default",label:"Fluxo Padr√£o",type:"text",placeholder:"ID do fluxo padr√£o"}];break;case"bpmn:EventBasedGateway":k=[{key:"gatewayDirection",label:"Dire√ß√£o do Gateway",type:"select",options:[{value:"Unspecified",label:"N√£o especificado"},{value:"Converging",label:"Convergente"},{value:"Diverging",label:"Divergente"},{value:"Mixed",label:"Misto"}]},{key:"instantiate",label:"Instanciar",type:"checkbox"},{key:"eventGatewayType",label:"Tipo de Gateway de Evento",type:"select",options:[{value:"Exclusive",label:"Exclusivo"},{value:"Parallel",label:"Paralelo"}]}];break;case"bpmn:SequenceFlow":k=[{key:"sourceRef",label:"Origem",type:"text",readOnly:!0},{key:"targetRef",label:"Destino",type:"text",readOnly:!0},{key:"conditionExpression",label:"Express√£o de Condi√ß√£o",type:"textarea",placeholder:"Digite a express√£o de condi√ß√£o"},{key:"isImmediate",label:"Imediato",type:"checkbox"},{key:"activiti_skipExpression",label:"Express√£o de Pulo",type:"text",placeholder:"Digite a express√£o de pulo"}];break;case"bpmn:SubProcess":case"bpmn:Transaction":case"bpmn:AdHocSubProcess":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"triggeredByEvent",label:"Acionado por Evento",type:"checkbox"},{key:"activiti_async",label:"Ass√≠ncrono (Activiti)",type:"checkbox"},{key:"activiti_exclusive",label:"Exclusivo (Activiti)",type:"checkbox"},{key:"activiti_jobPriority",label:"Prioridade do Job (Activiti)",type:"text",placeholder:"Digite a prioridade do job"}];break;case"bpmn:CallActivity":k=[{key:"isAsync",label:"Ass√≠ncrono",type:"checkbox"},{key:"isForCompensation",label:"Para Compensa√ß√£o",type:"checkbox"},{key:"activiti_async",label:"Ass√≠ncrono (Activiti)",type:"checkbox"},{key:"activiti_exclusive",label:"Exclusivo (Activiti)",type:"checkbox"},{key:"activiti_calledElementBinding",label:"Vincula√ß√£o do Elemento Chamado",type:"select",options:[{value:"latest",label:"Mais recente"},{value:"deployment",label:"Implanta√ß√£o"},{value:"version",label:"Vers√£o"},{value:"versionTag",label:"Tag de Vers√£o"}]},{key:"activiti_calledElementVersion",label:"Vers√£o do Elemento Chamado",type:"text",placeholder:"Digite a vers√£o"},{key:"activiti_calledElementVersionTag",label:"Tag de Vers√£o do Elemento Chamado",type:"text",placeholder:"Digite a tag de vers√£o"},{key:"activiti_calledElementTenantId",label:"ID do Tenant do Elemento Chamado",type:"text",placeholder:"Digite o ID do tenant"}];break;case"bpmn:DataObject":k=[{key:"isCollection",label:"√â Cole√ß√£o",type:"checkbox"},{key:"itemSubjectRef",label:"Refer√™ncia do Assunto do Item",type:"text",placeholder:"Digite a refer√™ncia do assunto do item"},{key:"dataState",label:"Estado dos Dados",type:"text",placeholder:"Digite o estado dos dados"}];break;case"bpmn:DataStore":k=[{key:"capacity",label:"Capacidade",type:"text",placeholder:"Digite a capacidade"},{key:"isUnlimited",label:"√â Ilimitado",type:"checkbox"}];break;case"bpmn:TextAnnotation":k=[{key:"text",label:"Texto",type:"textarea",placeholder:"Digite o texto"},{key:"textFormat",label:"Formato do Texto",type:"text",placeholder:"Digite o formato do texto"}];break;case"bpmn:Group":k=[{key:"categoryValueRef",label:"Refer√™ncia do Valor da Categoria",type:"text",placeholder:"Digite a refer√™ncia do valor da categoria"}];break;case"bpmn:Association":k=[{key:"associationDirection",label:"Dire√ß√£o da Associa√ß√£o",type:"select",options:[{value:"None",label:"Nenhuma"},{value:"One",label:"Uma"},{value:"Both",label:"Ambas"}]}];break}return[...S,...k,...I]},[t,h,a,v,y]),E=S=>{if(!c)return null;const k=c[S.key]!==void 0?c[S.key]:"",I=S.readOnly||r;switch(S.type){case"text":return P.jsx("input",{type:"text",id:`property-${S.key}`,value:k,onChange:M=>x(S.key,M.target.value),placeholder:S.placeholder||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I});case"textarea":return P.jsx("textarea",{id:`property-${S.key}`,value:k,onChange:M=>x(S.key,M.target.value),placeholder:S.placeholder||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,disabled:I});case"select":return P.jsx("select",{id:`property-${S.key}`,value:k,onChange:M=>x(S.key,M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:S.options?.map(M=>P.jsx("option",{value:M.value,children:M.label},M.value))});case"checkbox":return P.jsxs("div",{className:"flex items-center",children:[P.jsx("input",{type:"checkbox",id:`property-${S.key}`,checked:!!k,onChange:M=>x(S.key,M.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:I}),P.jsx("label",{htmlFor:`property-${S.key}`,className:"ml-2 block text-sm text-gray-900",children:S.label})]});case"number":return P.jsx("input",{type:"number",id:`property-${S.key}`,value:k,onChange:M=>x(S.key,parseFloat(M.target.value)),placeholder:S.placeholder||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I});case"link":return P.jsxs("div",{className:"flex items-center",children:[P.jsx("input",{type:"text",id:`property-${S.key}`,value:k,onChange:M=>x(S.key,M.target.value),placeholder:S.placeholder||"",className:"flex-grow px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I}),P.jsx("button",{onClick:()=>S.linkAction&&S.linkAction(k),className:"px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:"Editar"})]});default:return null}};return n?P.jsx(P.Fragment,{children:P.jsxs("div",{className:`bpmn-properties-panel ${o} ${d?"expanded":"collapsed"}`,style:{width:d?"300px":"30px",transition:"width 0.3s ease",backgroundColor:"#f8f8f8",borderLeft:"1px solid #ccc",height:"100%",overflow:"hidden",...i},children:[l&&P.jsx("button",{onClick:()=>f(!d),className:"toggle-button p-1 bg-gray-200 hover:bg-gray-300 rounded-md m-1",title:d?"Collapse panel":"Expand panel",children:d?"¬ª":"¬´"}),d&&P.jsx("div",{className:"flex flex-col h-full",children:P.jsxs("div",{className:"panel-content p-4 overflow-y-auto flex-grow",children:[P.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Propriedades"}),!t&&P.jsx("p",{className:"text-gray-500",children:"Selecione um elemento para ver suas propriedades"}),t&&!c&&P.jsx("p",{className:"text-gray-500",children:"N√£o h√° propriedades edit√°veis para este elemento"}),t&&c&&P.jsx("div",{className:"space-y-4",children:w().map(S=>P.jsxs("div",{className:"property-field",children:[S.type!=="checkbox"&&P.jsx("label",{htmlFor:`property-${S.key}`,className:"block text-sm font-medium text-gray-700 mb-1",children:S.label}),E(S),S.description&&P.jsx("p",{className:"mt-1 text-xs text-gray-500",children:S.description})]},S.key))})]})})]})}):null},Tqe=({xml:t,onChange:e,onLoad:n})=>{const r=on(null),i=on(null),[o,s]=Ee(!1),[a,l]=Ee(null),c=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:activiti="http://activiti.org/bpmn" id="sample-diagram" targetNamespace="http://activiti.org/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
  <bpmn2:process id="Process_1" isExecutable="false">
    <bpmn2:startEvent id="StartEvent_1"/>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>`;bt(()=>{if(!r.current)return;const d=new Wo({container:r.current,additionalModules:[L7e,xSe,{__init__:["customPropertiesProvider"],customPropertiesProvider:["type",W9]},{__init__:["activitiPropertiesProvider"],activitiPropertiesProvider:["type",G9]}],moddleExtensions:{custom:H9e,activiti:Q9e}});return i.current=d,n?.(d),t?d.importXML(t):u(d),d.on("commandStack.changed",async()=>{try{const{xml:f}=await d.saveXML({format:!0});f&&e?.(f)}catch(f){console.error("Failed to save BPMN XML:",f)}}),d.on("selection.changed",f=>{const{newSelection:h}=f;l(h[0]||null),h.length>0&&o&&s(!1)}),()=>{d.destroy()}},[t]);const u=async d=>{try{await d.importXML(c),d.get("canvas").zoom("fit-viewport")}catch(f){console.error("Failed to create new diagram:",f)}};return P.jsxs("div",{className:"flex h-full relative",children:[P.jsx("div",{ref:r,className:At("flex-1 h-full transition-all duration-300 ease-in-out",o?"mr-0":"mr-96")}),i.current&&P.jsx(L9e,{modeler:i.current}),P.jsx("div",{className:At("absolute right-0 h-full flex transition-all duration-300 ease-in-out",o?"translate-x-full":"translate-x-0"),children:P.jsx(Aqe,{modeler:i.current,selectedElement:a,isVisible:!o,className:At("w-96 h-full bg-gray-50 border-l border-gray-300 shadow-lg overflow-y-auto","transition-opacity duration-300",a?"opacity-100":"opacity-70")})})]})},Iqe=()=>{const{id:t}=Wz(),e=yu(),[n,r]=Ee(),[i,o]=Ee(null),[s,a]=Ee(!0),[l,c]=Ee(null),[u,d]=Ee(!1),f=on(null);bt(()=>{h()},[t]);const h=async()=>{if(t)try{a(!0);const y=new ln,_=await y.workspaces.listWorkspaces();for(const b of _){const x=await y.workspaces.loadProjectConfig(b.code);if(x)for(const w of x.areas){const E=w.processes.find(S=>S.code===t);if(E){const S=await y.processes.readProcessDefinition(b.code,w.code,E.code);o({title:E.title,description:E.description||"",status:E.status,bpmnXml:S?.bpmnXml,appCode:b.code,areaCode:w.code}),r(S?.bpmnXml);return}for(const S of w.subareas){const k=S.processes.find(I=>I.code===t);if(k){const I=await y.processes.readProcessDefinition(b.code,w.code,k.code,S.code);o({title:k.title,description:k.description||"",status:k.status,bpmnXml:I?.bpmnXml,appCode:b.code,areaCode:w.code,subareaCode:S.code}),r(I?.bpmnXml);return}}}}c("Process not found")}catch(y){c(y.message)}finally{a(!1)}},p=async()=>{if(!(!n||!i?.appCode||!i?.areaCode||!t))try{d(!0);const _=await new ln().processes.saveProcessDefinition(i.appCode,i.areaCode,t,n,i.subareaCode);_.success||c(_.message)}catch(y){c(y.message)}finally{d(!1)}},m=()=>{if(!n)return;const y=new Blob([n],{type:"text/xml"}),_=window.URL.createObjectURL(y),b=document.createElement("a");b.href=_,b.download=`process-${t}.bpmn`,document.body.appendChild(b),b.click(),b.remove(),window.URL.revokeObjectURL(_)},g=async()=>{if(!(!f.current||!t))try{const{svg:y}=await f.current.saveSVG(),_=new Blob([y],{type:"image/svg+xml"}),b=window.URL.createObjectURL(_),x=document.createElement("a");x.href=b,x.download=`process-${t}.svg`,document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(b)}catch(y){console.error("Failed to export SVG",y),c("Failed to export SVG: "+y.message)}},v=async()=>{if(!(!n||!t))try{console.log("Deploying process...")}catch(y){c(y.message)}};return s?P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l?P.jsx("div",{className:"p-4",children:P.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:P.jsx("p",{className:"text-sm text-red-600",children:l})})}):P.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[P.jsx("div",{className:"bg-white border-b border-gray-200",children:P.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"py-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("div",{className:"min-w-0 flex-1",children:P.jsxs("div",{className:"flex items-center",children:[P.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>e(-1),icon:P.jsx(Doe,{className:"h-4 w-4"}),className:"mr-4",children:"Back"}),P.jsxs("div",{children:[P.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:i?.title}),P.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?.description})]})]})}),P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx(Et,{variant:"secondary",size:"sm",onClick:m,icon:P.jsx($oe,{className:"h-4 w-4"}),children:"Export BPMN"}),P.jsx(Et,{variant:"secondary",size:"sm",onClick:g,icon:P.jsx(Loe,{className:"h-4 w-4"}),children:"Export SVG"}),P.jsx(Et,{variant:"secondary",onClick:p,icon:P.jsx(Foe,{className:"h-4 w-4"}),isLoading:u,children:"Save"}),P.jsx(Et,{variant:"primary",size:"sm",onClick:v,icon:P.jsx(joe,{className:"h-4 w-4"}),children:"Deploy"})]})]}),i?.status&&P.jsx("div",{className:"mt-2",children:P.jsx("span",{className:At("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":i.status==="active","bg-yellow-100 text-yellow-800":i.status==="draft","bg-gray-100 text-gray-800":i.status==="inactive"}),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})})]})})}),P.jsx("div",{className:"flex-1 bg-gray-50 min-h-0",children:P.jsx(Tqe,{xml:i?.bpmnXml,onChange:r,onLoad:y=>f.current=y})})]})};function Dqe(){return P.jsx(aie,{children:P.jsxs(Cl,{path:"/",element:P.jsx(nae,{}),children:[P.jsx(Cl,{index:!0,element:P.jsx(oae,{})}),P.jsx(Cl,{path:"workspaces",element:P.jsx(sae,{})}),P.jsx(Cl,{path:"workspaces/:code",element:P.jsx(cae,{})}),P.jsx(Cl,{path:"process/:id",element:P.jsx(Iqe,{})}),P.jsx(Cl,{path:"*",element:P.jsx(iie,{to:"/",replace:!0})})]})})}fre.createRoot(document.getElementById("root")).render(P.jsx(Tie,{children:P.jsx(Dqe,{})}));
