@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%; /* Zinc 950 */

    --muted: 220 14.3% 95.9%; /* Zinc 100 */
    --muted-foreground: 220 8.9% 46.1%; /* Zinc 500 */

    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;

    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;

    --border: 220 13% 91%; /* Zinc 200 */
    --input: 220 13% 91%; /* Zinc 200 */

    --primary: 220.9 39.3% 11%; /* Zinc 900 */
    --primary-foreground: 210 20% 98%; /* Zinc 50 */

    /* Usando Azul como primário - exemplo do ShadCN. Ajustar conforme a identidade visual do IGRP. */
    /* --primary: 222.2 47.4% 11.2%; */
    /* --primary-foreground: 210 40% 98%; */

    --secondary: 220 14.3% 95.9%; /* Zinc 100 */
    --secondary-foreground: 220.9 39.3% 11%; /* Zinc 900 */

    --accent: 220 14.3% 95.9%; /* Zinc 100 */
    --accent-foreground: 220.9 39.3% 11%; /* Zinc 900 */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%; /* Zinc 50 */

    --ring: 220 13% 91%; /* Zinc 200 */

    --radius: 0.5rem;
  }

  .dark {
    --background: 224 71.4% 4.1%; /* Zinc 950 */
    --foreground: 210 20% 98%; /* Zinc 50 */

    --muted: 215 27.9% 16.9%; /* Zinc 800 */
    --muted-foreground: 217.9 10.6% 64.9%; /* Zinc 400 */

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;

    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;

    --border: 215 27.9% 16.9%; /* Zinc 800 */
    --input: 215 27.9% 16.9%; /* Zinc 800 */

    --primary: 210 20% 98%; /* Zinc 50 */
    --primary-foreground: 220.9 39.3% 11%; /* Zinc 900 */

    /* --primary: 210 40% 98%; */
    /* --primary-foreground: 222.2 47.4% 11.2%; */

    --secondary: 215 27.9% 16.9%; /* Zinc 800 */
    --secondary-foreground: 210 20% 98%; /* Zinc 50 */

    --accent: 215 27.9% 16.9%; /* Zinc 800 */
    --accent-foreground: 210 20% 98%; /* Zinc 50 */

    --destructive: 0 62.8% 30.6%; /* Red 700 dark */
    --destructive-foreground: 0 0% 98%; /* Zinc 50 */

    --ring: 215 27.9% 16.9%; /* Zinc 800 */
  }
}

/* Removidas classes customizadas .btn, .input-field, .form-label, .card
   pois os componentes ShadCN devem ser usados em seu lugar. */

/* Estilos para BPMN editor e Diagram JS - tentar usar variáveis de tema */
.bpp-properties-panel {
  @apply bg-card text-card-foreground shadow-md rounded-md p-4 border border-border;
}

.bpp-properties-panel .bpp-field {
  @apply mb-4;
}

.bpp-properties-panel .bpp-field-wrapper {
  @apply relative;
}

.bpp-properties-panel label {
  @apply block text-sm font-medium text-muted-foreground mb-1; /* text-gray-700 -> text-muted-foreground */
}

.bpp-properties-panel input[type="text"],
.bpp-properties-panel input[type="number"],
.bpp-properties-panel textarea {
  @apply block w-full rounded-md border-input bg-transparent shadow-sm focus:border-primary focus:ring-primary sm:text-sm; /* Ajustado para usar var(--input) e var(--primary) */
}

.bpp-properties-panel select {
  @apply block w-full rounded-md border-input bg-transparent shadow-sm focus:border-primary focus:ring-primary sm:text-sm pr-10;
}

.bpp-properties-panel input[type="checkbox"] {
  @apply h-4 w-4 rounded border-input text-primary focus:ring-primary focus:ring-offset-0;
}

/* Para botões dentro do painel de propriedades BPMN, idealmente seriam componentes Button do ShadCN */
/* Se não, aplicar estilos base e primário */
.bpp-properties-panel button {
  @apply inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md
         text-primary-foreground bg-primary hover:bg-primary/90
         focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring;
}

.bpp-properties-panel button[data-action="clear"] {
  @apply text-foreground bg-background hover:bg-muted border-border; /* Ajustado para tema */
}

.bpp-properties-panel [data-entry] {
  @apply mb-4;
}

.bpp-properties-panel .bpp-divider {
  @apply border-t border-border my-4;
}

.bpp-properties-panel .bpp-error {
  @apply text-sm text-destructive mt-1;
}

.djs-palette {
  @apply bg-card text-card-foreground shadow-md rounded-md p-2 border border-border;
}

.djs-palette .entry {
  @apply cursor-pointer hover:bg-muted p-1 rounded;
}

.djs-context-pad {
  @apply bg-popover text-popover-foreground shadow-md rounded-md p-1 border border-border;
}

.djs-context-pad .entry {
  @apply cursor-pointer hover:bg-accent p-1 rounded;
}

/* .djs-overlay-context-pad é similar ao djs-context-pad */
.djs-overlay-context-pad {
  @apply bg-popover text-popover-foreground shadow-md rounded-md p-1 border border-border;
}

.djs-overlay-context-pad .entry {
  @apply cursor-pointer hover:bg-accent p-1 rounded;
}

.djs-container {
  @apply bg-muted/50; /* Um cinza bem claro ou levemente diferente do background principal */
}

.djs-shape {
  /* fill-white dark:fill-gray-800 stroke-gray-800 dark:stroke-gray-200; */
  /* Usar fill-card e stroke-card-foreground ou similar pode ser uma opção, mas requer teste */
  /* Por agora, manter cores que funcionem em ambos os modos ou usar SVG styling mais direto */
  fill: hsl(var(--card));
  stroke: hsl(var(--card-foreground));
  stroke-width: 1px;
}
.djs-shape .djs-visual > :nth-child(1) {
  fill: hsl(var(--card)) !important; /* Forçar fill para o elemento principal do shape */
}


.djs-connection {
  stroke: hsl(var(--foreground)); /* stroke-gray-800 dark:stroke-gray-200 */
}

.djs-connection.selected,
.djs-shape.selected .djs-outline { /* Para bpmn-js mais novo, o outline é separado */
  stroke: hsl(var(--primary)) !important;
}
.djs-shape.selected .djs-visual > :nth-child(1) {
   stroke: hsl(var(--primary)) !important;
}


::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-muted/50; /* bg-gray-100 dark:bg-gray-800 */
}

::-webkit-scrollbar-thumb {
  @apply bg-border rounded; /* bg-gray-300 dark:bg-gray-600 */
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-input; /* bg-gray-400 dark:bg-gray-500 */
}

@layer base {
  * {
    @apply border-border; /* Aplicar borda padrão usando a variável */
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1; /* Melhora a legibilidade da fonte Inter */
  }

  #__next { /* Se #__next for o container principal da app Next.js */
    @apply flex flex-col min-h-screen;
  }
}
